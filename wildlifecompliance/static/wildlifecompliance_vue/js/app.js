webpackJsonp([0],[,,,function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.cache_helper=t.helpers=t.api_endpoints=void 0;var i=a(137),s=n(i),o=a(43),r=n(o),l=a(489),c=n(l);t.api_endpoints=s.default,t.helpers=r.default,t.cache_helper=c.default},,,,,,,function(e,t,a){a(574);var n=a(2)(a(475),a(817),null,null);e.exports=n.exports},,,,,function(e,t){},,,function(e,t,a){a(558);var n=a(2)(a(474),a(796),"data-v-105a12c8",null);e.exports=n.exports},,function(e,t,a){a(599);var n=a(2)(a(364),a(851),"data-v-620e0e8d",null);e.exports=n.exports},,function(e,t,a){a(585);var n=a(2)(a(410),a(833),null,null);e.exports=n.exports},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(17),s=n(i),o=a(4),r=n(o),l=a(83),c=n(l),d=a(3);t.default={fetchApplication:function(e){return new s.default(function(t,a){r.default.http.get(d.helpers.add_endpoint_json(c.default.applications,e)).then(function(e){t(e.body)},function(e){a(e)})})},fetchOrganisations:function(e){return new s.default(function(e,t){r.default.http.get(c.default.organisations).then(function(t){e(t.body)},function(e){t(e)})})},fetchOrganisation:function(e){return new s.default(function(t,a){r.default.http.get(d.helpers.add_endpoint_json(c.default.organisations,e)).then(function(e){t(e.body)},function(e){a(e)})})},fetchOrganisationPermissions:function(e){return new s.default(function(t,a){r.default.http.get(d.helpers.add_endpoint_json(c.default.my_organisations,e)).then(function(e){t(e.body)},function(e){a(e)})})},fetchOrgRequestPending:function(e){return new s.default(function(t,a){r.default.http.get(d.helpers.add_endpoint_join(c.default.users,e+"/pending_org_requests")).then(function(e){t(e.body)},function(e){a(e)})})},fetchProfile:function(e){return new s.default(function(t,a){r.default.http.get(d.helpers.add_endpoint_json(c.default.profiles,e)).then(function(e){t(e.body)},function(e){a(e)})})},fetchUsers:function(e){return new s.default(function(e,t){r.default.http.get(c.default.users).then(function(t){e(t.body)},function(e){t(e)})})},fetchUser:function(e){return new s.default(function(t,a){r.default.http.get(d.helpers.add_endpoint_json(c.default.users,e)).then(function(e){t(e.body)},function(e){a(e)})})},fetchCurrentUser:function(){return new s.default(function(e,t){r.default.http.get(c.default.my_user_details).then(function(t){e(t.body)},function(e){t(e)})})},fetchCountries:function(){return new s.default(function(e,t){r.default.http.get(c.default.countries).then(function(t){e(t.body)},function(e){t(e)})})}}},,function(e,t,a){a(602);var n=a(2)(a(412),a(856),null,null);e.exports=n.exports},,,function(e,t,a){a(559);var n=a(2)(a(365),a(797),null,null);e.exports=n.exports},function(e,t){},function(e,t,a){a(562);var n=a(2)(a(473),a(800),null,null);e.exports=n.exports},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(17),s=n(i),o=a(4),r=n(o),l=a(138),c=n(l),d=a(3);t.default={fetchCurrentUser:function(){return new s.default(function(e,t){r.default.http.get(c.default.my_user_details).then(function(t){e(t.body)},function(e){t(e)})})},fetchApplication:function(e){return new s.default(function(t,a){r.default.http.get(d.helpers.add_endpoint_json(c.default.applications,e)).then(function(e){t(e.body)},function(e){a(e)})})},fetchCountries:function(){return new s.default(function(e,t){r.default.http.get(c.default.countries).then(function(t){e(t.body)},function(e){t(e)})})},fetchOrganisations:function(e){return new s.default(function(e,t){r.default.http.get(c.default.organisations).then(function(t){e(t.body)},function(e){t(e)})})},fetchOrganisationPermissions:function(e){return new s.default(function(t,a){r.default.http.get(d.helpers.add_endpoint_json(c.default.my_organisations,e)).then(function(e){t(e.body)},function(e){a(e)})})},fetchLicenceClasses:function(){return new s.default(function(e,t){r.default.http.get(c.default.licences_class).then(function(t){e(t.body)},function(e){t(e)})})},fetchLicenceAvailablePurposes:function(e){return new s.default(function(t,a){r.default.http.get(c.default.licence_available_purposes,{params:e}).then(function(e){t(e.body)},function(e){a(e)})})},fetchOrganisation:function(e){return new s.default(function(t,a){r.default.http.get(d.helpers.add_endpoint_json(c.default.organisations,e)).then(function(e){t(e.body)},function(e){a(e)})})},fetchCurrentActiveLicenceApplication:function(e){return new s.default(function(t,a){r.default.http.get(c.default.applications+"active_licence_application",{params:e}).then(function(e){t(e.body)},function(e){a(e)})})}}},,,function(e,t,a){var n=a(2)(a(400),a(898),null,null);e.exports=n.exports},,,,,function(e,t){},function(e,t){},,function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC"},function(e,t,a){"use strict";(function(t,n){function i(e){return e&&e.__esModule?e:{default:e}}var s=a(12),o=i(s),r=a(16),l=i(r),c=a(103),d=i(c);e.exports={apiError:function(e){var t="";if(400===e.status)try{obj=JSON.parse(e.responseText),t=obj.non_field_errors[0].replace(/[\[\]"]/g,"")}catch(a){t=e.responseText.replace(/[\[\]"]/g,"")}else t=404===e.status?"The resource you are looking for does not exist.":e.responseText.replace(/[\[\]"]/g,"");return t},apiVueResourceError:function(e){var t="",a=null;if(400===e.status)if(a=Array.isArray(e.body)?e.body[0]:((0,d.default)(e.body),e.body),"object"==(void 0===a?"undefined":(0,d.default)(a)))if(a.hasOwnProperty("non_field_errors"))t=a.non_field_errors[0].replace(/[\[\]"]/g,"");else for(var n in a){var i=a[n];if(Array.isArray(i)){var s=!0,o=!1,r=void 0;try{for(var c,u=(0,l.default)(i);!(s=(c=u.next()).done);s=!0){var p=c.value;t=p}}catch(e){o=!0,r=e}finally{try{!s&&u.return&&u.return()}finally{if(o)throw r}}}else t=i}else t=a.replace(/[\[\]"]/g,""),t=a.replace(/^['"](.*)['"]$/,"$1");else 404===e.status&&(t="The resource you are looking for does not exist.");return t},goBack:function(e){e.$router.go(window.history.back())},copyObject:function(e){return JSON.parse((0,o.default)(e))},getCookie:function(e){var t=null;if(document.cookie&&""!==document.cookie)for(var a=document.cookie.split(";"),n=0;n<a.length;n++){var i=a[n].trim();if(i.substring(0,e.length+1).trim()===e+"="){t=decodeURIComponent(i.substring(e.length+1));break}}return t},namePopover:function(e,t){t.on("mouseover",".name_popover",function(t){e(this).popover("show"),e(this).on("mouseout",function(){e(this).popover("hide")})})},add_endpoint_join:function(e,t){return e+t},add_endpoint_json:function(e,t){return e.split(".json")[0]+t+".json"},dtPopover:function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:30,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"hover",i=t.truncate(e,{length:a,omission:"...",separator:" "}),s="<span>"+i+"</span>",o=t.template('<a href="#" role="button" data-toggle="popover" data-trigger="'+n+'" data-placement="top auto"data-html="true" data-content="<%= text %>" >more</a>');return t.endsWith(i,"...")&&(s+=o({text:e})),s},dtPopoverCellFn:function(e){n(e).find('[data-toggle="popover"]').popover().on("click",function(e){return e.preventDefault(),!0})},strToBool:function(e){return"true"===(""+e).toLowerCase()},splitText:function(e){return e.split("\n")},datatableExactStringMatch:function(e){return"^"+e.replace(/\(/g,"\\(").replace(/\)/g,"\\)")+"$"},guid:function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}}}).call(t,a(90),a(1))},,,,function(e,t,a){a(566);var n=a(2)(a(417),a(804),null,null);e.exports=n.exports},,,,,,,function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFMAAABQCAYAAABlJkmuAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAB3RJTUUH4wMVCQcpfkEr1QAAHQZJREFUeNrlnNmTHcl13n8nM2u5ay/oBtDYBpiVHM5wSIoUJcoUg0OKMsMO0SFLDsuhCNvhF/8BfnWE/xW/WRFegrZsU5Ilk7QYpEVSGpHDbcDZMEBj6/2uVZWZxw9VvTd6uoEhB2NVxI0BBnXrZn158pzvfOdkyr/9n3eUD+jVTTzDyvHypVtkVrnQmZC7gAJ//OYl3trqYWT39RT4wsU36Cd3Wej0EARnDEaEoJEQlSzJ8aHEB09iLaOyIHUZWZIhGlCNO8+LqozLktc2z/Kt2xcwH0QQcxvIbOQjc6s8PTPgxYVNnpwZkrsAgAC/+9Q7zGXFvu8JMKgyLvVnyaxjVE4REVQVKwYjUIWCxLVwNiVxbeY6Z8ithVjtA1KMxdmUQvt8+84SQvxggjkNln/23Ov86tI6X7pyCx/3v0ZQpQzwB8+9SVThE4tr9NOAIvxgdYm74xYCzLU6tb2KAOCMxUjGeDogauDecIPN8WZj02BMgogFBI0RR8V//vkTWFFEBPkgLXMFqmj56Px9nCn57MV1TAPE3nvGZUFiLcOqzbBMOJOv0LYZN8ddrMD5zmTf8t+xNrGMyik+BlrOsToZ0Uq79NMEI4JqOHC/8s6gzV8un+feOPtggTmfF/zK4jIhRj40P22s5ADgqmwVEzppxlbRppdGjCkJ3pClkRBhUCbM5h5VKIPHGoMzDmtbVH7EpCyootLNUpxro2HSOIn9vyMiKJCYyJ+8fRH3QbLKpfaEp2ZGiDgmPtBODoMZVelm9TKeyRQxAVRJnEVVMQK9tEJMTlSl5ep7S19CLBCgnWZMqhJVGEyH9LOcGP2+3xn7kk6SIYCPhi9cvv3BADOoYEV5Z9hiq8yZyz2dJEX3mwplrCO59wERoeXAiMPYjKoC51JUwagSQ4mgRBJiKOtHREHEohpoJWnNGIxBxAH7wewkGVF1n5t5rAOQAC0X+eiZVc62plzpjchd3LHUfVgKCFK/oDFYqYFBhFtblu/fm0fjlBgLYkgJjf8LocDZDGsMIMgBHwyKCIiYQ/+2F0hVfTwtM6rwkfkNfrQ2y2JrwsuX7xIUNqcK6hF2rbLwHlCsMUx9Re4ShuWUlkuBiEjCnXGL5+fWidrYjlpAiUSMWEIsdwLQUQFElZoWCRhTW2yM1b4pDfoYUiNV+MiZDX7ryjJnW1NuDttcX+/jY2AuN7T2LG8fIyJgjKlBldpndtKcVtJmXBX4EPjE2TVyFxAgagQ7xkel9AFia09wEdDQWGH92bd4FWIsibGsqdDOPZCY9PECU4EXFjb54uXbBBW+8uQNBAGB1DrKEJr7lKC1Naa2RWIS2klGJ8kASK1lXI2AOruJWi//iNZWhidqJHUOzAjUYEyCqkdVUY07n3pU8YhJ33sPTPz08QIzNcpnzi8TG9PLXeDD81t8eH6MKiTW7qKONpYCaIKQYcSROYeiGDFEhBgCRROQplWFNYZBMaGdZo3PE4w1xFhRBL9vYnf/JO+elbnk8QLTq2CNodc/i7OWNGvxG5e2MEkL52yTqNT8zoip/ZTxoAZiXuPbfKJYLAZFSKxgpUWeJHWEzjoEFaoQAWlojzL1FZvTCVNf4UNgUE4JMbI8sOgBqEI8bK2PVQCKIfC9NxP+8qv/nl//zKfZWF+j02lRlp4sS7l4cYHnnmmjcdteKqrgMWaM1RTVHKRkXA5IkhZWLJYcjV0iU6xYBEE0AEpiOqABNAczIpc+aiYUvsSKoYoBb5S/vjfPF67cITW7ANbR/wD7eJwyICPw96/e5YlOhVplNCrAKO28hRNLWU1J3BQfAtYYrM3RWAIODX0ETzCbRI3k6RyhGqPaxhqlilOMFA1nVIJGZJv2aI5KgcQ51GwgmoBEVD2bxYTcGjr5HJUf79ChO+OMc7lgzHTHJTw2ljmfl3zlyRt4P6AIlmlR0c1yJr5AoqHSCalzdfpma9oTQoE1CVE9daqdYK3FxTlCYYFFxC4TETQm4CyoA1GsBMpQkpoOUKLRIGZAiBGnbTAjRLv0UouRQAgTwBI1YEQYlikXOgOWRy3OtyePD2mPKrxwZgNnChAIUWklGUYsXTePwZLIHGhWW4060AQfA0rESI5xFjEJlAtoCEiySdQJaI6qElVABcVDTNBoayClAlKM9iG2ScwMGxsbTMd9jLGEShlsBZxLcC6nDIBYnpnbwkjkT25c4Nu3F9HHxTKNKC8tjCiqjJksIRKovIGYYaSFxgRVQSSr5S8i4tbITKemJ9GijIgqCB1EUwgOUQdSL1tjAl4rEmNRJvWrxxbQRlXqiTIjRA1rawNi3CTJM4rhgCRLuPn2KlVVcenyOe4OB1x5so+o4+WLd7k2M8DH5P0HU4A/eO5tVFOcdohV7YGSho6o7uV228O1aHUO3UtbRDF2DfW9OvIGRcwE9QuI3YLoSNNAFQKJdCijx8UMMUW9QCUAlhAs164+h9hBHeklw8R51IyASJK0ORsyCt0A47jQHVAExeDfHzAVqILhUm/MFy7fYT4PaDAgsaY5p5qKbc4pqJ8D8aAOMRaNHVBF/RwGUJ82dGlEIm1UPBBqqxSPxgwR4c7dZebPnMHYiuFWhpiKVqsPZo3BcJ08twQikzign/cYlhWi09ODqWLQbTInhr3mkyUWHyMh1BTCWUOMSmIi59sFa9OEi/2SflLy7NwmS+2CoppBfUQ1PSWQB0CVxkrVYaSmWSIGaShMDB6htc1o0dBpcqltqzQ7gsXc3By3by0T1LOwsMhkMmZra5WimLJ04TzF2NPtRYI1xOBouQprZk8HpiI8O/wurf48vr2IrL1Jt9PGtTrcnTja6z/Dtxcx/fOoa8HoPj8Y9PnnL0R6iZLkq5SFgKkowpBJlYFPGrXGo3tz5NPP8s43f75luNqNmG0WLxERgzJF1SK0EWlsQO0hFSpNc564eq0ZypT+rCJ0UE0pqwlZmhBDD2PWQHOqOMRIdTIwVeHKnINQ4eQMGz5hdrBMr9+mlIytcUW2dYMpCW6ySUpBzoQLFxb57DO3cZxDZUwxzerBa44zE9B0FzhTQGg9HJAHXMiTvQPZidbpokhNjbQp+4gx6BGZDE0OX/8xJzLBmDHIiCzrocHWvlY8UUucLkA8oc+MCqMf/RlX5lPWVu7zzHMf5mc/eZX7PpD3ZikmE+YvPcMnPvQU98aw1AkstMaIJFRemyXXQQCVCCqYsNQszWbMofML8s6NxRpFRGtqpK4uO0BTnYwHJlEQM60DniaY2IdoqbhLnkZizBA7htjFaAqSoCE/WQakwGIvY7HrAOHuVsHZfsaz/REfmgONkWI6xlcVxlpijLU5mynO9vBVtesobIIG/8vnsjFijkgBjbXEEI54Y1C7guBQzRE1RBniZAHVEo2NHdp1RDM0tk9mmQKsDApWBsWOIPF0e4vLtmS0VTvtWlw1+wcWcwJh/5NieCRQ7k+Vcy3ZUZZObqP6QD1gu3a+3zIniJG6EkxEMaRJC18okIAoYoagOYWuk0q+mwFZ6/AqRLFEsfgI1iXERnnZXu79NPA7V7b49GKBsW7/ILYFU2MPkZe9/vdRroV8F8iBlxM/zxh7jLWYmlLtMAOP4mqqRaTUdZxzBC+7oUo8GltobJPqRVBbW2ZmI7/d/xk/WR4SfEXUwMzcAnH1LaS/xNvxHKtmkc8vDfmVMwVlFDCO4Kv9QO1YnezMth7FCYzdc+/RK2EShNzqA5klQM/FPQzg+KsKERFLYvSQT1UmzZgiyAAflcgYKwkudkksVLqKaHfPV91+DiCNSOej8OpGRv/K85x58kVi+ywj6RIvfZInnriK7cwxn3k+caag1LhTuDou/Gvj3I+CSt9lqSs0v7Orcz4I9pPG/u/ebzEJR8hmbotS7yIyxpiIiFLqJqm1WANRRlhdxMQOsjfjUtnPi1VqywwqvM5luF+r17gnwYMZRn7j8i0uDBaxAlUUwCLWEIM/nsY0gJqmUH/aa8btxuJxJcyk+lDPGVaG//RWl3EZmW8p/Zn9Plx9n1Q6RG/AeIy06LiMMq6S6PnGL9p9bENMWatQB9aK2/PYPf9W/7llI4nkvHxhgo/1/9/1PXJiSX/vUkAqhIDG/F0TBIAiCjNp5GFdbWKVzy3VEtlTvZJwlJU3xJ2Y1NUeiVThIokFYg9s2B/KYnrkbx0bzQeV4/bIsNQCMYI1CX6fnzwNwa4jI5qiUh3TcABW9teFHiVmZUa52q3wkaOBPHKkhlHp6LQCqkIMiljLvvaknRRq9/XeNRmebxWoBIzVA0CenN9tW7FLkjrSqztWbTcCbw6SX7L0spdERRbzqmYnxjRtNYYYw+4n+AN/D8dbZscFSp/Rbll8pY882KqqaooRH+wGRIVbY8sraxnXetV7BlddbtBDE313ZQPrEnw5pdvtcuv2MpcvXcYagw8VwVdMJlPOnz9LWVZk6eFJrnUF+2AwgwofnptwY9iinw1rovqIl7WW4P27ihUXWoHfvzbAR3nPwIwxYqwccinf+vb/ZWFhgSzPyLMc5wz/7b//KRcunGM4nNDptjHG0un2cCYeiYNqUmd7x+XjVjw3Rm1ePLtVO2JNf2mL7r0Esp5Ic8gyE2v4va98eUd623ZHH3/xeXxVNummwxhH8MWBLOlAuJRjhI62i3STyK+fHRD9bD2QRnh96KVmDNH7nU7dX+YVQsRZOWKJsqMibUeSbSABgq+QVI4BcleZemAAmgaDDymYDAiIhFNQ5AdLeQcfUffs/OLBPUrk8Ao3R5aRNwcGFmrVH8U6RygbcCUcs5qOATOzkdcGLaKvQIqmqGUf0W+FfYMWY7h37x7rG+tNh4QwmW7XoWWnKeo9cR0ih/JzJ3C5E3h9yx3I8W2T3TR0TvaI1lIhUu0HVgJynDgcVbg3FlZ8wmIyBswjaY7OOfyB4CPA+tp9ptMpvX6fTrfPyr3bdHp9QjQsnT+Hs4YkeThfvZ1viwgaYtN+Jbu8UAxRIx9b8HWRDkWjNlZcZ4NiLMQm29O6K06JjRbbTLvdgNg7Ws+cST0bpUMQZrPIHz6zhmr1rlnLUaLszly75JAwApAkadNNtiefVxh6Q8dUjUKkpwTRNH1H8YHJwN57d2paO2KxEmPk+6+8yuc/9/cYj0ckzoEIa+ubLC7MU5YlWZLyyqs/ptXp8tST+WHLVOC52VW+efsC/+Tpm/zxW0vcnrY5lxQnAu2ozEhEjgTSGMOPX/1bnrj2ND5UuyKIGIbDTWRmnjRJjvR3DwRS5MhShEZF7GGd4OC924GmLD3f+s53uf76m/zOP/wy3/rOd5npz/C1r30NHwL/6l/+C776X7/KCy9+hD//86/z2196Gfu5P/w3/+4gDHfGHRbyAiVho0hYmwgfXfCEIxXZ44OHsfaBkbCYTpmZm+f2rXcoK09ZFGxMIhurd+j3Z1m5f5der4e19iQoYozdZ40H3ZbXuhoZVAlRiYAPtYwXQqxbEKOiIvzk+pt86Ysv89aNW/zV977Ps88+SwyBdrfL7Owc/V6XzcGAp596usmCjmnc+vT5NW4MOnx4LvDaesrvPTmm9PFdLPKIGGfdEWWBwxaqqkSE2yODV4MzyqV2qDt93xXH7TLtg+8NEZw53mGobnNGqWlcjKRp7YZCqCVBMYKIEgI799Rx7Zh08ocrfT62uMKobPOPrhX7+xXkZG5MpO7cxbl9X9MYIe4qQTHGHeXqQrse9DQI0wCpeXQgj8rAH2DcO0ayPSYfwoFSjB66pyYi+mBqNPaOV1fneXbmOqPwzoE+FTlxNPXeE5tPaP5rjLBS2GNfOrNKiMdnQnWg0ZMB+ZD1khgC1rkTubVj532jyPjp1mU0eoKsYOz0xJHVuIRJ1ajlB7bWBR84cwJi0HKKM3qolmNM3ZivUTmpQHeaIPZQE3FcBlQrLcp3757Fk1KECaNw70RgiggxeDLTLOUjLNna02c9xtjG2e9t3j+NFPgIIomxhzMgiSe3zO1rs+wQoydxHYLZPEXu+C5i8Sn8mVchPEKZuBY6Hj4PVhRjDgTeA71RJ/qFljNkSZvMWQLDQzNyJFBH5LHbFMfa2sK2l97RvFwwtu5mM8aSiBLiw6sDITy8Ze7y0fzYaT8RmD9YmaNlPagnMQ4vq0d/VWrNUGy9r8Zai9nz2QYwNJuhoKYgwmEhSUxdtNNGyQ4K66VhEva0EZ5imYt5dDGl1pf1gWvpRHraq6szPNEveHpmBWsMRiIidYXOOtfs/Kp/IPiykbX0cB5eGuayeqtEDLobkQ9wraNaVozAYn6gO+QUYOopa39HWrf3GLfNm+XhLNMZ5Rtv94ne8fYNh8o8q5urBAt//YOf8NM3bnD33gr3VzcwxmEOZCxR4et32rSdHnKlumOl7HSEnDxYnAJQfW82lYgYxG3sihxySssEGFewOu1z4+aPuXcvJU0dP7t+n+HWFguc5ec/f4MnnrjCbL976KFG4LPnxgQVbk8cSy3fiA+KFalnu1GUTsIZjwpkYqZobCFS1I2ze+Qx1GLsdr07PTQVp7Hx4CusWyBISVTh9jDhYqfWHU61Dyi1yr9+6Q3QuHPEgsSzRO+w1rBR1E2tYgzBh32W+WfLbcoo/P7VIdNwQAixtt4hcVp9aF/b9vHf9kFx1gCxbn7VWhRuu8iwEnrJ6UrK1lmCD/sqvqfiC1WAiU8aXTIlRgi6TsWYynv6mWXi4Y1Ns8fxFxiBf3B5xLVexf2pPTJSWoHXtk4pPu+jJlr3TO5ojewLVLs1IKk7NJrSjBV4ZT3DyimglKqRCve7rVMVdIwIk3JIliWMSqWTOmKssHaLIkxo6Sy3RylL7f0dZZWsQrzA8zPl4RlOEn60AudbkWf727t2pdkhkdcZ+wnrThrazbI29f4eTXYsNsSAs+yq5417CAqfWZwe08900GdWIJEQAsu3lzGASxKGw8HpLFMRcluLpC1X7lT0jCipy8DcY6qRlvNgJqgMibJJytkd32nkAK3QunQwnwWmUVgvTa14hz5sd+8etbwfOMjtnb/JnpfXA6fFyCGf/kA3AlRxbxxL0JgSg9LpdEjzFj4E2t3+6SwzRMVrCyOeIkzrcoIGEIfRzWYH7RSTrDEuCow1ZOJ2ggB2vd4mgkNjBkRiDHSSQFQhM0q+3aBlqgNlEt2TDGy/fXxXT6XUHWBRDUZPVx3YdiOJOZpFzM2fwVdVUxSMp9y6IvD2oMVL+RBnbaPvJbWSHgRV4anZdYIqrTTdic5iCibhLqlanIlomKuLUESQAmf6qAbEGIxYyrhKCBW4MS4ukGZtqnAf9d3mRSKq2clcvsqpWMG73mVLbi8vM51E5ubnuXfnDmfPLVEWp9wHJMD3757h+fkVjCRNy6AjhHFTTVSsxH0NUj4qQUdMYocqjsnsGJGSlCW8rGFxvPXOBj/+2c+5+szz/NW3v8XHX3qB4WgTQWjlY95+6xb9uZzf/PSn6haahyDfR7XHHP+yYddl7CPNCbOzZwldRWPkwqUr9b6jhzlWYrM0vLHZA6nTwBjLnVkto+G19TmqPceJJdbScsJCXjLwM2TOkDqDmA2cdagEnrja4UtffJmOCXzp5c/x05++xtNPXSRvWz70/BK/+fLHWFiYIWqz9eTEhb09Lkqn++v+Ejl0XIQ0TEDi0UACqkKetel0OsR8hqzVodvp0u20H26/+bNzU7589SaTskDE4E6Q91qbE2LANEfaVKHChDZeNlBJ+Jt7F3hpfh0jU5BIpMSJJapSxYCqJeVS3e+jpzNNMQUx5nUPqhkxqjZQ8QiQuxyrZ3a2Tm/7TjGTmh080NLrJtzv3G/RcspH5v3JLFN1/wL54UqLtzcTXNJlVE33dGTsDsbYDGPS5oQVSwhTVCtCKAihwMQMlTFWLNNyyAtnVkndgEmI+FhhMI2br3/ZGnDG75DuEzsmiaiMiTpC3DJi12hnFmNnMHYOZ1tcH2S8sqFUchNxU0SmaEwQUyAPgOibd1q8Pkz51cUpP1jLuL5hTuYz52WD1MAwZsRqygUz4tW18yz17+FsF+vaoL7p2KgBjaFsgl5z0sth51PzNQ200xajKvD1O5f55OJ1jCSUwe/EVx8jvSxDYtzT/ny0KF2v5BLEEhkhVGwF5W9XetwZnWe9cAyrOnRt7wreVvN/sDLDl668xZUZg+qQaeUpKWmZM3XTmmY7fvfXFqc4U1cCPnNuzCur+cnA3Pj59zmbDOkHz1MvfIL7t94ibr7G5PyL3B68SdstkrgudY+ONMvQ75izlVrYrWJdxshcDmbapGC1sHFz2OXXzg8RPUNiC9ppzrgcINRHl9Ul2A2MzOzrxjPGgA0YKVEt6+KWneB9gtfAN5bnub4xv8dbRnJ7tCw9rAx/dP1pvnD5DtfXe5xrT/jc5SGRQAwb1FuzF2rCZZSJh+vDjJdmS15dP+EphZlUqEmxYQyuBaHg4mzCy5ff4eb6LZ6YW8SIYoxrmgg4tKNiWpVYY7HGMCymlPRZn7Z5ordKYiwr62O2thw/fPUmMXg++amP881vfour166CKuPRmKWLHV589kmM9EAKjNni5lbkR+uzXOuPsUYZVY5bwzbvDNtMvONhlDfVZpewQicJWBNpJ8o/fvodrDHEyqJhtsmyHNMQWSncwwUgBZ6aC3zm7I9ZHQ9YbHeYaffQUNVGqWBtSgi7XSBVNKQm4psSr0oPjSMKP6GTZNwvZ2nZgm5WkNq0dhkiTMoCTIKzDhtzqqrCxw02y8jPNpb4m5ULteU2KaJQZzvvdWOdKjw9N+YzSyvM5YFxMUSx5KYPobedHjyESBqFZ2Y3GZYTinJK78w5Yiixto1S7cpizYl/22dM7u4NUqbVKqihn7UIGplJKzJTIhF83M3hK+8p/aQJQoIPwq3JEn9x8yKJiSTN8TiH0tT3+BKBlXHCxDv6YUyWdAixoAjrWIk4WzwcmNYob286nuoqxgjTcky3NVd3ZXhfVyc14mxKiFqfJWRsc3pTxaCY0nKOtbJHlylGhLb1xKiEGOt+8hgIsdY7U+sQk/Ff3niaSWUoo90B8Zd5rRUpvaRoxleQ2ITEZozLTSzu4U6PUYU8yfGhIrEJ08oT/JQYpkQMZazP5r07aTdnBxliKAnRI8bSzVoUQTnXmhxI5XRf42vmHK0kJbWGV1aW2CgSymh5vy4jyn947Qp/9NpVgjqKaooSyJMceZgMqJtUtBP41NkbBI30sladDTVn8ibWkdn6SIdeMgXjqLynirU/q7cKQifN2U+YZE/aVx+mjCQghizJeOX+HML7ewkw8Za745RpyMmSVr3YYqh99Wkf+LvPLPNPn/kRr6/camQ3y0yrQ4wVLukg4ppGgYrcBmKosEbJkxRjUmL0TZ9kxIjgbE6pbcQ4aM4Qlm1otcIQ+NO3l36h/vA0V2LqmtV/vH6p3j+qESOg+hCnx0x9yRv332S+Pc+0Kukkjo3RJnPtDhrqHcH18Ylhx3Nb2yKGCRuTkv+9fI0yOKIKgyqhCoKPhszWGwfOtqYMyoQyGs63p6wXCZtl+r5b5V5WUnNS4Rs3z/P5Szd3KrOnPPAE7ozPsNB7hvH0TcAwKByCJ3WWdqI4l1OFisqXJNbgTILREsXzf25f49awe2RA82pBYXnc3jHCtwadXSt9zC4BlkcpzjpK79kqO6eX4L5xc56oC1zpdHlp8Q6TckSIjo2iovAw30nR6JstcsJmafmLG4u0XckbW713r7XoaRXG9+eKKqSN3Chi+B9vLZ1+mQtgJXJzfInO+pQzyS2c7bC8uQHAoJjh/MwCo2rK8rjN/3rnCmVznsWpilaP+WVEuTNp8b3lhPm2YbN0j3bkY1RDJyl4sneL3BY426KXTMnTLneGCa+uzTL1Cf+/Xx1XophHO77MSGTiE15dv1bv8gLinpTu78o18unpS70PXvq7ubDl7w6IB6//B+I+JsMRthxvAAAAAElFTkSuQmCC"},function(e,t){e.exports="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD//gAfQ29tcHJlc3NlZCBieSBqcGVnLXJlY29tcHJlc3P/2wCEAAQEBAQEBAQEBAQGBgUGBggHBwcHCAwJCQkJCQwTDA4MDA4MExEUEA8QFBEeFxUVFx4iHRsdIiolJSo0MjRERFwBBAQEBAQEBAQEBAYGBQYGCAcHBwcIDAkJCQkJDBMMDgwMDgwTERQQDxAUER4XFRUXHiIdGx0iKiUlKjQyNEREXP/CABEIAFEAUAMBIgACEQEDEQH/xAAdAAABBAMBAQAAAAAAAAAAAAAFAwQGCAACBwEJ/9oACAEBAAAAAKHa47ezSYF521qDnpDoFiXybQdT5ZQpauVtBRlvRzpvVuiP8YIpM6h3VFsJUCfJjFqt2tJxxyWCaZLqFW2krH1ygO06d85u290GbyCVx8eX+fkssiSQawOGHe50oP8AYYoNhbBRedcwckRemvmz5b//xAAbAQACAgMBAAAAAAAAAAAAAAACBQYHAAMEAf/aAAgBAhAAAADpNdDl1nxaui9nEHPSdpVmJ8V4whk7Wvy150f/xAAaAQABBQEAAAAAAAAAAAAAAAAEAAIDBQYH/9oACAEDEAAAAImyXpGa0W3khym9RAvKekGNJ4hfqqOp2vUX/8QALhAAAgEDAwQBAwMEAwAAAAAAAQIDAAQRBRIhEzFBUQYHImEQMoEUI0JxJMHh/9oACAEBAAE/AAM0f0iU4GKVVG3v+a+MfErrXGa5kUpZxfcSwYbwOeCBWr/S9xpb6hpDsXTcxSRxtdAedvorXxn4RfaFaxXl50mnu1wyxSo5QA5AOOKhtwOk0nDjP/narmIW0TskaSY5ORnft5PHuo1DcEUYvzQhJYeqEZjOGXB9GvhvxK41x1ugVaIloRHnDM54wc4A4NWtlc2aTwwTRqrQC0CogVTAgzgYGAo2irJHjQWqRFi+FwFLFiTwAKCiFba26YEhwGzlcHGeAxq9XozqqgYIA5PnxgVG0xDLdwnY3APjA8HPbNRR7eTQXJ4oIBVppGqahcLb2ljPNK2DhUJ7+SewFfCfiEegaWkXU3zt/cmJ7b2GML+BU0LQbQ44HYiizwusqICVYNk8jIobur2Ls3AwOT6zSQYtxOQ2/wDbheSMdyccikkgkB6g4GTvABJ81HJvGMc18Z+B6jqYle8tjHA4KLIHG5GQh3IUZLYUEH0a074T8RspklkshIy4jHXYyg5/zK8LmpILVE/smJQCAgRhjYvH/XAq3juZY2aziZyi9R9q5AUd8+hTXHVADqA47jPAqXC9JGbKE1JGkRds44BDMR59U97LFER1EdD3Vhmo5Q69RUBUEghcnb+D+DWh2Mt3qmmWcBQTT3UMSFxldzuAM/ioLEXRmNuI2baxCrwN/PJB4y2Mml/40rsFCToJEKtkAFgV4IIIIqJdpCE4btjwKi1jUY7NrGO6KQAbWRMLkE+8ZIOe1XMkkkwEQY4GCcV1YlhIw2RySPdSKZWLdYEgLznOOMAfxUygu6qxD8ZOxjkHmrS2mDFdrOPL98HzXxBLaTXbBbi6NuA4ZJAVX71O4AluBnGAfdaZqs1veSIWZ1dQ7A4zkA45HarmFLo3Es4Acg7CzZHYkDnHFGbqO6yA717OXJY44HJq1QiMSCbcw3ZiOQR/Nab8kv8AQYporKOFkkk35kVmO7GPBFTXMzFnbau92c4HBJOeM11ySCDtPhl4xSvKj54xjJwSMDPcCtIt01DY0UyAgMh4wM7fRq2cuVXODmvi+ux6noGmSbnkeBdtyH79ZAAzD8kACpruKVGkcjaVKqVPIbHk+vxQ34ZnALyLuAbucjvxQeJZEEQG4rsHcc+vGc1a2lvdTxWzXKQrKpLyTDZHGyg8Zycg44bjmrmGK2neHqq4SRlEqn7WCk4I9g+DTqxBIYcN4qUiILJG7bs818Ws4L2wtrkwBbja4eUKCftPvwKVipyK+luppE1/bzSZWQo4UtjBAIzS2djLazTLuVcMSkeAAUQ4259nvUzXBhjlkkLNbRvjqqNogLDaMnyCT3q1uE6tml0yx2/Vwzbt2EPDftBIPrioGSaSVLa1iEG4DrSKS5KcZUnGAfWK0LWbPSzdJdRu4YJs6UaFhjPckg4q7ggutXur+KYos87Sqsi9gWyM7TUtiqMwOyYnJ+w4FaHdT6ZKWSINDhupEeBz5oKTXxh5odRg6cmwsGGckDtnnbzitB1QvDaxOwLJFEOQFyDgggjuOBV1dqZJ99qGLwgLJIuCAQMA57Be5PkVJarBp1vcz6vb20mXZLZ1kO+FRkFGCsM8gY9c1qPznQtAgUTSCSfAIhjOX98r/jkHIzV59XMgPZablz4lOFU/weam+o3y6aRnXUxGCSQqRR4GfWQTWjfVPWLJIotShW7VST1A/SlwV2gZAIr498um1G0sdZsN3VIBEW1WcBDtPPOVz3BA3CiV45FaXdxQK68B34WTyoIII/mtN+SaXY2kBup4gyQqcQOHXIJwpHcnitZ+o88lwo0uMRQLGVw4HLE9wq4UYAApfqLq3Vgnm/pZnjYMOpAPByAduOM81f6pNfXVxeXDmSaVy7u3ck11yfNJLngmg3s18G15NH1Mf1E4is5Aeqec70B2Hj/ePX6Q9hR/Y3+qf91eaP6L3pOwqP8AdX//xAAoEQACAQMCBgICAwAAAAAAAAABAgMABBESIQUGMTJRcUFhEBMiQrH/2gAIAQIBAT8A0n4qNDneuJcZtrFWjR1a56BPH2al49fTwPA5BUtu2N8eKjlyVkOGUEErmp7q2tIjNPIEQefmrvnGCI6bW0d8jZmOkVdXd3dXUl1MxJkYmluXCaT0qJpVDMema51jl02TxsNKB9vuknMiacnaowryATSHSBgHrX6iMhW2zUkzRR7KCMVzDai84Y531xHUPR2IpbUAHSwGPg9a0hDl1yvn1TRoIllWXLE9mOlTOWjKDuqVMwyqF1EqRj3UfBri4mlxDoG+7bCoeWYXZWvsaV/qjd3uoOFcLg2js4/bDV/tcX5ftJ4XuLSBUuE/kNI7vrFJ3U3T8ChX/8QALBEAAgEDAwMCBAcAAAAAAAAAAQIDAAQRBRIhIjFBBlEQEzJxFSNCYYGx0f/aAAgBAwEBPwDNM1W9lcXTqAjLERkv/lHRoQ8eCfpztz5FPAI4/lBShYHDEVDb3F1KIoI2dz4FWvpaeTm5uFjGeyjcah0y0jgjtkQFUAH7/evwyHeGx1e59qutPguB8tjz7qeRXpCRd99Hj8wqpB8YqOFQ24AcjmnBRGNvENxPI7UO6sR1Yp4Yw2+SYhQ2e3FaPdmyvUb9D8GoNRR9uM4Pc08/OFyOM5+9QX+ZGR48Ko+o+avNtxb5gYBhzQPWhzjBoaikSJ15PsKf1BdBWWA8nyw7VLqGoS8vcv8Awcf1Wna1dW8ixzTM8JG3DeKbtS0KPw//2Q=="},,,function(e,t){},function(e,t){},,,,,function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.UPDATE_APPLICATION="UPDATE_APPLICATION",t.UPDATE_ORIGINAL_APPLICATION="UPDATE_ORIGINAL_APPLICATION",t.UPDATE_APPLICATION_ATTRIBUTE="UPDATE_APPLICATION_ATTRIBUTE",t.UPDATE_ORG_APPLICANT="UPDATE_ORG_APPLICANT",t.UPDATE_PROXY_APPLICANT="UPDATE_PROXY_APPLICANT",t.UPDATE_SELECTED_TAB_ID="UPDATE_SELECTED_TAB_ID",t.UPDATE_SELECTED_TAB_NAME="UPDATE_SELECTED_TAB_NAME",t.UPDATE_SELECTED_APPLY_ORG_ID="UPDATE_SELECTED_APPLY_ORG_ID",t.UPDATE_SELECTED_APPLY_PROXY_ID="UPDATE_SELECTED_APPLY_PROXY_ID",t.UPDATE_SELECTED_APPLY_LICENCE_SELECT="UPDATE_SELECTED_APPLY_LICENCE_SELECT",t.UPDATE_APPLICATION_WORKFLOW_STATE="UPDATE_APPLICATION_WORKFLOW_STATE",t.UPDATE_RENDERER_TABS="UPDATE_RENDERER_TABS",t.UPDATE_RENDERER_SECTIONS="UPDATE_RENDERER_SECTIONS",t.UPDATE_RETURNS="UPDATE_RETURNS",t.UPDATE_RETURNS_EXTERNAL="UPDATE_RETURNS_EXTERNAL",t.UPDATE_RETURNS_SELECTED_SPECIES="UPDATE_RETURNS_SELECTED_SPECIES",t.UPDATE_RETURNS_SPECIES="UPDATE_RETURNS_SPECIES",t.UPDATE_RETURNS_TABS="UPDATE_RETURNS_TABS",t.UPDATE_RETURNS_TRANSFER_SPECIES="UPDATE_RETURNS_TRANSFER_SPECIES",t.UPDATE_VISIBLE_COMPONENT="UPDATE_VISIBLE_COMPONENT",t.UPDATE_CURRENT_USER="UPDATE_CURRENT_USER",t.TOGGLE_FINALISED_TABS="TOGGLE_FINALISED_TABS",t.UPDATE_FORM_DATA="UPDATE_FORM_DATA",t.UPDATE_FORM_FIELD="UPDATE_FORM_FIELD",t.REMOVE_FORM_FIELD="REMOVE_FORM_FIELD"},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t,a){this.tableElement="string"==typeof e?(0,d.default)(e):e,this.api=this.tableElement.dataTable().api(),this.columnIndexes=[],this.columnsShownIndexes=[],this.columnsHiddenIndexes=[],this.currentBreakpoint="",this.lastBreakpoint="",this.lastColumnsHiddenIndexes=[];var n=window.location.pathname.split("/").pop(),i=this.api.settings().context[0];this.tableId=i.sTableId,this.saveState=i.oInit.bStateSave,this.cookieName="DataTablesResponsiveHelper_"+this.tableId+(n?"_"+n:""),this.lastStateExists=!1,this.expandColumn=void 0,this.origBreakpointsDefs=void 0,this.breakpoints={},this.options={hideEmptyColumnsInRowDetail:!1,clickOn:"icon",showDetail:null,hideDetail:null},this.expandIconTemplate='<span class="responsiveExpander"></span>',this.rowTemplate='<tr class="row-detail"><td><ul>\x3c!--column item--\x3e</ul></td></tr>',this.rowLiTemplate='<li><span class="columnTitle">\x3c!--column title--\x3e</span>: <span class="columnValue">\x3c!--column value--\x3e</span></li>',this.disabled=!0,this.skipNextWindowsWidthChange=!1,this.init(t,a)}var s=a(12),o=n(s),r=a(103),l=n(r),c=a(1),d=n(c);i.prototype.init=function(e,t){this.origBreakpointsDefs=e,this.initBreakpoints(),this.disable(!1),d.default.extend(this.options,t)},i.prototype.initBreakpoints=function(){if(this.saveState&&this.getState(),!this.lastStateExists){var e=[];for(var t in this.origBreakpointsDefs)e.push({name:t,upperLimit:this.origBreakpointsDefs[t],columnsToHide:[]});e.sort(function(e,t){return e.upperLimit-t.upperLimit});for(var a=0,n=0;n<e.length;n++)e[n].lowerLimit=a,a=e[n].upperLimit;e.push({name:"always",lowerLimit:a,upperLimit:1/0,columnsToHide:[]}),this.breakpoints={};var n,i;for(n=0,i=e.length;n<i;n++)this.breakpoints[e[n].name]=e[n];var s=this.api.columns().header(),o=[];for(n=0,i=s.length;n<i;n++)this.api.column(n).visible()&&(this.columnIndexes.push(n),o.push(s[n]));for(var r=0;r<o.length;r++){var l=(0,d.default)(o[r]);"expand"===l.attr("data-class")&&(this.expandColumn=this.columnIndexes[r]);var c=l.attr("data-hide");if(void 0!==c)for(var u=c.split(/,\s*/),n=0;n<u.length;n++){var p=u[n];if("always"===p)for(var t in this.breakpoints)"default"!==this.breakpoints[t].name&&this.breakpoints[t].columnsToHide.push(this.columnIndexes[r]);else void 0!==this.breakpoints[p]&&this.breakpoints[p].columnsToHide.push(this.columnIndexes[r])}}}},i.prototype.setWindowsResizeHandler=function(e){if(void 0===e&&(e=!0),e){var t=this;(0,d.default)(window).bind("resize",function(){t.respond()})}else(0,d.default)(window).unbind("resize")},i.prototype.respond=function(){if(!this.disabled){var e=this,t=(0,d.default)(window).width(),a=[];for(var n in this.breakpoints){var s=this.breakpoints[n];(!s.lowerLimit||t>s.lowerLimit)&&(!s.upperLimit||t<=s.upperLimit)&&(this.currentBreakpoint=s.name,a=s.columnsToHide)}var o=!1;if(!this.skipNextWindowsWidthChange)if(0===this.lastBreakpoint.length&&a.length)o=!0;else if(this.lastBreakpoint!=this.currentBreakpoint)o=!0;else if(this.columnsHiddenIndexes.length!==a.length)o=!0;else{var r=this.difference(this.columnsHiddenIndexes,a).length,l=this.difference(a,this.columnsHiddenIndexes).length;o=r+l>0}o&&(this.skipNextWindowsWidthChange=!0,this.columnsHiddenIndexes=a,this.columnsShownIndexes=this.difference(this.columnIndexes,this.columnsHiddenIndexes),this.showHideColumns(),this.lastBreakpoint=this.currentBreakpoint,this.setState(),this.skipNextWindowsWidthChange=!1),this.columnsHiddenIndexes.length?(this.tableElement.addClass("has-columns-hidden"),(0,d.default)("tr.detail-show",this.tableElement).each(function(t,a){var n=(0,d.default)(a);0===n.next(".row-detail").length&&i.prototype.showRowDetail(e,n)})):(this.tableElement.removeClass("has-columns-hidden"),(0,d.default)("tr.row-detail",this.tableElement).each(function(t){i.prototype.hideRowDetail(e,(0,d.default)(this).prev())}))}},i.prototype.showHideColumns=function(){for(var e=0,t=this.columnsShownIndexes.length;e<t;e++)this.api.column(this.columnsShownIndexes[e]).visible(!0);for(var e=0,t=this.columnsHiddenIndexes.length;e<t;e++)this.api.column(this.columnsHiddenIndexes[e]).visible(!1);var a=this;(0,d.default)("tr.row-detail",this.tableElement).each(function(){i.prototype.hideRowDetail(a,(0,d.default)(this).prev())}),this.tableElement.hasClass("has-columns-hidden")&&(0,d.default)("tr.detail-show",this.tableElement).each(function(e,t){i.prototype.showRowDetail(a,(0,d.default)(t))})},i.prototype.createExpandIcon=function(e){if(!this.disabled)for(var t=(0,d.default)("td",e),a=0,n=t.length;a<n;a++){var i=t[a],s=this.api.cell(i).index().column;if(i=(0,d.default)(i),s===this.expandColumn){if(0==(0,d.default)("span.responsiveExpander",i).length)switch(i.prepend(this.expandIconTemplate),this.options.clickOn){case"cell":i.on("click",{responsiveDatatablesHelperInstance:this},this.showRowDetailEventHandler);break;case"row":(0,d.default)(e).on("click",{responsiveDatatablesHelperInstance:this},this.showRowDetailEventHandler);break;default:i.on("click","span.responsiveExpander",{responsiveDatatablesHelperInstance:this},this.showRowDetailEventHandler)}break}}},i.prototype.showRowDetailEventHandler=function(e){var t=e.data.responsiveDatatablesHelperInstance;if(!t.disabled){var a=(0,d.default)(this);if(a.closest("table").hasClass("has-columns-hidden")){var n=a.closest("tr");n.hasClass("detail-show")?i.prototype.hideRowDetail(t,n):i.prototype.showRowDetail(t,n),n.toggleClass("detail-show"),e.stopPropagation()}}},i.prototype.showRowDetail=function(e,t){for(var a=e.api,n=a.columns().header(),i=(0,d.default)(e.rowTemplate),s=(0,d.default)("ul",i),o=0;o<e.columnsHiddenIndexes.length;o++){var r=e.columnsHiddenIndexes[o],l=a.row(t).index(),c=a.cell(l,r).node();if(!e.options.hideEmptyColumnsInRowDetail||c.innerHTML.trim().length){var u=(0,d.default)(e.rowLiTemplate),p=(0,d.default)(n[r]).attr("data-name");(0,d.default)(".columnTitle",u).html(void 0!==p?p:n[r].innerHTML);for(var _=(0,d.default)(c).contents(),m=_.clone(),f=0,v=_.length;f<v;f++){var h=_[f];h.nodeType===Node.ELEMENT_NODE&&"SELECT"===h.tagName&&(m[f].selectedIndex=h.selectedIndex)}(0,d.default)(".columnValue",u).append(m).data("originalTdSource",c),u.attr("data-column",r);var g=(0,d.default)(c).attr("class");"undefined"!==g&&!1!==g&&""!==g&&u.addClass(g),s.append(u)}}var b=e.columnIndexes.length-e.columnsHiddenIndexes.length;i.find("> td").attr("colspan",b),t.after(i),e.options.showDetail&&e.options.showDetail(i)},i.prototype.hideRowDetail=function(e,t){var a=t.next(".row-detail");e.options.hideDetail&&e.options.hideDetail(a),a.find("li").each(function(){var e=(0,d.default)(this).find("span.columnValue"),t=e.contents(),a=e.data("originalTdSource");(0,d.default)(a).empty().append(t)}),a.remove()},i.prototype.disable=function(e){this.disabled=void 0===e||e,this.disabled?(this.setWindowsResizeHandler(!1),(0,d.default)("tbody tr.row-detail",this.tableElement).remove(),(0,d.default)("tbody tr",this.tableElement).removeClass("detail-show"),(0,d.default)("tbody tr span.responsiveExpander",this.tableElement).remove(),this.columnsHiddenIndexes=[],this.columnsShownIndexes=this.columnIndexes,this.showHideColumns(),this.tableElement.removeClass("has-columns-hidden"),this.tableElement.off("click","span.responsiveExpander",this.showRowDetailEventHandler)):this.setWindowsResizeHandler()},i.prototype.getState=function(){if("undefined"==typeof Storage?"undefined":(0,l.default)(Storage)){var e=JSON.parse(localStorage.getItem(this.cookieName));e&&(this.columnIndexes=e.columnIndexes,this.breakpoints=e.breakpoints,this.expandColumn=e.expandColumn,this.lastBreakpoint=e.lastBreakpoint,this.lastStateExists=!0)}},i.prototype.setState=function(){if("undefined"==typeof Storage?"undefined":(0,l.default)(Storage)){if(this.difference(this.lastColumnsHiddenIndexes,this.columnsHiddenIndexes).length+this.difference(this.columnsHiddenIndexes,this.lastColumnsHiddenIndexes).length>0){var e={columnIndexes:this.columnIndexes,columnsHiddenIndexes:this.columnsHiddenIndexes,breakpoints:this.breakpoints,expandColumn:this.expandColumn,lastBreakpoint:this.lastBreakpoint};localStorage.setItem(this.cookieName,(0,o.default)(e)),this.lastColumnsHiddenIndexes=this.columnsHiddenIndexes.slice(0)}}},i.prototype.difference=function(e,t){var a,n=[],i={};for(a=t.length-1;a>=0;a--)i[t[a]]=!0;for(a=e.length-1;a>=0;a--)!0!==i[e[a]]&&n.push(e[a]);return n},e.exports=i},,,,,,,,,,,,,,,function(e,t,a){a(605);var n=a(2)(a(370),a(859),null,null);e.exports=n.exports},function(e,t,a){a(596);var n=a(2)(a(373),a(847),"data-v-5d3ab202",null);e.exports=n.exports},function(e,t,a){var n=a(547);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);a(100)("0afee115",n,!0)},function(e,t,a){"use strict";e.exports={organisations:"/api/organisations/",my_organisations:"/api/my_organisations/",users:"/api/users/",countries:"https://restcountries.eu/rest/v1/?fullText=true/",my_user_details:"/api/my_user_details/",profiles:"/api/profiles/",application_assessment:"/api/assessment/"}},,,,,,,,,,function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgoKPHN2ZwogICB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iCiAgIHhtbG5zOmNjPSJodHRwOi8vY3JlYXRpdmVjb21tb25zLm9yZy9ucyMiCiAgIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyIKICAgeG1sbnM6c3ZnPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIKICAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxuczpzb2RpcG9kaT0iaHR0cDovL3NvZGlwb2RpLnNvdXJjZWZvcmdlLm5ldC9EVEQvc29kaXBvZGktMC5kdGQiCiAgIHhtbG5zOmlua3NjYXBlPSJodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy9uYW1lc3BhY2VzL2lua3NjYXBlIgogICB3aWR0aD0iMzIiCiAgIGhlaWdodD0iMzIiCiAgIHZpZXdCb3g9IjAgMCAzMiAzMi4wMDAwMDEiCiAgIGlkPSJzdmc0NTEzIgogICB2ZXJzaW9uPSIxLjEiCiAgIGlua3NjYXBlOnZlcnNpb249IjAuOTIuMyAoMjQwNTU0NiwgMjAxOC0wMy0xMSkiCiAgIHNvZGlwb2RpOmRvY25hbWU9Im1hcmtlci1ncmF5LWxvY2tlZC5zdmciPgogIDxkZWZzCiAgICAgaWQ9ImRlZnM0NTE1IiAvPgogIDxzb2RpcG9kaTpuYW1lZHZpZXcKICAgICBpZD0iYmFzZSIKICAgICBwYWdlY29sb3I9IiNmZmZmZmYiCiAgICAgYm9yZGVyY29sb3I9IiM2NjY2NjYiCiAgICAgYm9yZGVyb3BhY2l0eT0iMS4wIgogICAgIGlua3NjYXBlOnBhZ2VvcGFjaXR5PSIwLjAiCiAgICAgaW5rc2NhcGU6cGFnZXNoYWRvdz0iMiIKICAgICBpbmtzY2FwZTp6b29tPSI0LjUyNDA4NzMiCiAgICAgaW5rc2NhcGU6Y3g9Ii02Ny44ODQyODQiCiAgICAgaW5rc2NhcGU6Y3k9Ii04LjQ5MTU1NzUiCiAgICAgaW5rc2NhcGU6ZG9jdW1lbnQtdW5pdHM9InB4IgogICAgIGlua3NjYXBlOmN1cnJlbnQtbGF5ZXI9ImxheWVyMSIKICAgICBzaG93Z3JpZD0idHJ1ZSIKICAgICB1bml0cz0icHgiCiAgICAgaW5rc2NhcGU6d2luZG93LXdpZHRoPSIxOTIwIgogICAgIGlua3NjYXBlOndpbmRvdy1oZWlnaHQ9IjExMzciCiAgICAgaW5rc2NhcGU6d2luZG93LXg9Ii04IgogICAgIGlua3NjYXBlOndpbmRvdy15PSItOCIKICAgICBpbmtzY2FwZTp3aW5kb3ctbWF4aW1pemVkPSIxIgogICAgIGlua3NjYXBlOnNuYXAtZ2xvYmFsPSJmYWxzZSIKICAgICBpbmtzY2FwZTpzbmFwLW90aGVycz0idHJ1ZSIKICAgICBpbmtzY2FwZTpvYmplY3Qtbm9kZXM9InRydWUiCiAgICAgaW5rc2NhcGU6c25hcC1ub2Rlcz0idHJ1ZSIKICAgICBpbmtzY2FwZTpzbmFwLXBhZ2U9InRydWUiCiAgICAgb2JqZWN0dG9sZXJhbmNlPSIxMCIKICAgICBzaG93Z3VpZGVzPSJ0cnVlIgogICAgIGlua3NjYXBlOnNuYXAtYmJveD0idHJ1ZSIKICAgICBpbmtzY2FwZTpiYm94LXBhdGhzPSJ0cnVlIgogICAgIGlua3NjYXBlOmJib3gtbm9kZXM9InRydWUiCiAgICAgaW5rc2NhcGU6c25hcC1iYm94LWVkZ2UtbWlkcG9pbnRzPSJ0cnVlIgogICAgIGlua3NjYXBlOnNuYXAtYmJveC1taWRwb2ludHM9InRydWUiCiAgICAgaW5rc2NhcGU6b2JqZWN0LXBhdGhzPSJ0cnVlIgogICAgIGlua3NjYXBlOnNuYXAtaW50ZXJzZWN0aW9uLXBhdGhzPSJ0cnVlIgogICAgIGlua3NjYXBlOnNuYXAtc21vb3RoLW5vZGVzPSJ0cnVlIgogICAgIGlua3NjYXBlOnNuYXAtbWlkcG9pbnRzPSJ0cnVlIgogICAgIGlua3NjYXBlOnNuYXAtb2JqZWN0LW1pZHBvaW50cz0idHJ1ZSIKICAgICBpbmtzY2FwZTpzbmFwLWNlbnRlcj0idHJ1ZSIKICAgICBpbmtzY2FwZTpzbmFwLXRleHQtYmFzZWxpbmU9InRydWUiPgogICAgPGlua3NjYXBlOmdyaWQKICAgICAgIHR5cGU9Inh5Z3JpZCIKICAgICAgIGlkPSJncmlkNTA2MSIKICAgICAgIHNwYWNpbmd4PSIxIgogICAgICAgc3BhY2luZ3k9IjEiIC8+CiAgPC9zb2RpcG9kaTpuYW1lZHZpZXc+CiAgPG1ldGFkYXRhCiAgICAgaWQ9Im1ldGFkYXRhNDUxOCI+CiAgICA8cmRmOlJERj4KICAgICAgPGNjOldvcmsKICAgICAgICAgcmRmOmFib3V0PSIiPgogICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2Uvc3ZnK3htbDwvZGM6Zm9ybWF0PgogICAgICAgIDxkYzp0eXBlCiAgICAgICAgICAgcmRmOnJlc291cmNlPSJodHRwOi8vcHVybC5vcmcvZGMvZGNtaXR5cGUvU3RpbGxJbWFnZSIgLz4KICAgICAgICA8ZGM6dGl0bGU+PC9kYzp0aXRsZT4KICAgICAgPC9jYzpXb3JrPgogICAgPC9yZGY6UkRGPgogIDwvbWV0YWRhdGE+CiAgPGcKICAgICBpbmtzY2FwZTpsYWJlbD0iTGF5ZXIgMSIKICAgICBpbmtzY2FwZTpncm91cG1vZGU9ImxheWVyIgogICAgIGlkPSJsYXllcjEiCiAgICAgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCwtMTAyMC4zNjIyKSIKICAgICBzdHlsZT0iZGlzcGxheTppbmxpbmUiPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOiM5ZjlmOWY7ZmlsbC1vcGFjaXR5OjE7c3Ryb2tlOiM1MDUwNTA7c3Ryb2tlLXdpZHRoOjEuMjYzMTU3NjE7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Im0gMTUuOTk5OTk4LDEwMjAuOTk4OSBjIC02LjE5MjczNTMsMCAtMTEuMTkyMzEzOSw1LjA3NTkgLTExLjE5MzQwNTksMTEuMzYzNiAwLjAwNDk4LDIuMzgxIDAuNzQ1Njc2LDQuNzAwOSAyLjEwODkzMTEsNi42MzE3IGwgOS4wODQ0NzQ4LDEyLjMxMjQgOS4wODY0NTgsLTEyLjMxMjQgYyAxLjM2MzU4OSwtMS45MzA4IDIuMTAzMTU4LC00LjI1MDIgMi4xMDY5NDcsLTYuNjI5NiAwLC02LjI4ODcgLTQuOTk5OTk0LC0xMS4zNjU3IC0xMS4xOTM0MDUsLTExLjM2NTcgeiBtIDAsNS4xNzcyIGEgNi4wOTQ2NzI0LDYuMTg4NDQyMiAwIDAgMSA2LjA5NDY3Miw2LjE4ODUgNi4wOTQ2NzI0LDYuMTg4NDQyMiAwIDAgMSAtNi4wOTQ2NzIsNi4xODgzIDYuMDk0NjcyNCw2LjE4ODQ0MjIgMCAwIDEgLTYuMDk0NjczLC02LjE4ODMgNi4wOTQ2NzI0LDYuMTg4NDQyMiAwIDAgMSA2LjA5NDY3MywtNi4xODg1IHoiCiAgICAgICBpZD0icGF0aDM2ODAtMyIKICAgICAgIGlua3NjYXBlOmNvbm5lY3Rvci1jdXJ2YXR1cmU9IjAiIC8+CiAgPC9nPgo8L3N2Zz4K"},function(e,t,a){a(611);var n=a(2)(a(361),a(867),null,null);e.exports=n.exports},function(e,t,a){a(600);var n=a(2)(a(362),a(852),"data-v-62516f7e",null);e.exports=n.exports},function(e,t,a){a(564);var n=a(2)(a(368),a(802),"data-v-17ccd146",null);e.exports=n.exports},function(e,t,a){a(569);var n=a(2)(a(376),a(812),null,null);e.exports=n.exports},function(e,t,a){a(608);var n=a(2)(a(452),a(864),"data-v-7592c40f",null);e.exports=n.exports},function(e,t,a){a(633);var n=a(2)(a(463),a(900),"data-v-f4a254ce",null);e.exports=n.exports},,function(e,t){},,,,,,,,,,,,,,,,,,function(e,t){},function(e,t){},function(e,t){},,,,,,,,,function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAABSCAMAAAAhFXfZAAAC91BMVEVMaXEzeak2f7I4g7g3g7cua5gzeKg8hJo3grY4g7c3grU0gLI2frE0daAubJc2gbQwd6QzeKk2gLMtd5sxdKIua5g1frA2f7IydaM0e6w2fq41fK01eqo3grgubJgta5cxdKI1f7AydaQydaMxc6EubJgvbJkwcZ4ubZkwcJwubZgubJcydqUydKIxapgubJctbJcubZcubJcvbJYubJcvbZkubJctbJctbZcubJg2f7AubJcrbZcubJcubJcua5g3grY0fq8ubJcubJdEkdEwhsw6i88vhswuhcsuhMtBjMgthMsrg8srgss6is8qgcs8i9A9iMYtg8spgcoogMo7hcMngMonf8olfso4gr8kfck5iM8jfMk4iM8he8k1fro7itAgesk2hs8eecgzfLcofssdeMg0hc4cd8g2hcsxeLQbdsgZdcgxeLImfcszhM0vda4xgckzhM4xg84wf8Yxgs4udKsvfcQucqhUndROmdM1fK0wcZ8vb5w0eqpQm9MzeKhXoNVcpdYydKNWn9VZotVKltJFjsIwcJ1Rms9OlslLmtH///8+kc9epdYzd6dbo9VHkMM2f7FHmNBClM8ydqVcpNY9hro3gLM9hLczealQmcw3fa46f7A8gLMxc6I3eagyc6FIldJMl9JSnNRSntNNl9JPnNJFi75UnM9ZodVKksg8kM45jc09e6ZHltFBk883gbRBh7pDk9EwcaBzn784g7dKkcY2i81Om9M7j85Llc81is09g7Q4grY/j9A0eqxKmdFFltBEjcXf6fFImdBCiLxJl9FGlNFBi78yiMxVndEvbpo6js74+vx+psPP3+o/ks5HkcpGmNCjwdZCkNDM3ehYoNJEls+lxNkxh8xHks0+jdC1zd5Lg6r+/v/H2ufz9/o3jM3t8/edvdM/k89Th61OiLBSjbZklbaTt9BfptdjmL1AicBHj8hGk9FAgK1dkLNTjLRekrdClc/k7fM0icy0y9tgp9c4jc2NtM9Dlc8zicxeXZn3AAAAQ3RSTlMAHDdTb4yPA+LtnEQmC4L2EmHqB7XA0d0sr478x4/Yd5i1zOfyPkf1sLVq4Nh3FvjxopQ2/STNuFzUwFIwxKaejILpIBEV9wAABhVJREFUeF6s1NdyFEcYBeBeoQIhRAkLlRDGrhIgY3BJL8CVeKzuyXFzzjkn5ZxzzuScg3PO8cKzu70JkO0LfxdTU//pM9vTu7Xgf6KqOVTb9X7toRrVEfBf1HTVjZccrT/2by1VV928Yty9ZbVuucdz90frG8DBjl9pVApbOstvmMuvVgaNXSfAAd6pGxpy6yxf5ph43pS/4f3uoaGm2rdu72S9xzOvMymkZFq/ptDrk90mhW7e4zl7HLzhxGWPR20xmSxJ/VqldG5m9XhaVOA1DadsNh3Pu5L2N6QtPO/32JpqQBVVk20oy/Pi2s23WEvyfHbe1thadVQttvm7Llf65gGmXK67XtupyoM7HQhmXdLS8oGWJNeOJ3C5fG5XCEJnkez3/oFdsvgJ4l2ANZwhrJKk/7OSXa+3Vw2WJMlKnGkobouYk6T0TyX30klOUnTD9HJ5qpckL3EW/w4XF3Xd0FGywXUrstrclVsqz5Pd/sXFYyDnPdrLcQODmGOK47IZb4CmibmMn+MYRzFZ5jg33ZL/EJrWcszHmANy3ARBK/IXtciJy8VsitPSdE3uuHxzougojcUdr8/32atnz/ev3f/K5wtpxUTpcaI45zusVDpYtZi+jg0oU9b3x74h7+n9ABvYEZeKaVq0sh0AtLKsFtqNBdeT0MrSzwwlq9+x6xAO4tgOtSzbCjrNQQiNvQUbUEubvzBUeGw26yDCsRHCoLkTHDa7IdOLIThs/gHvChszh2CimE8peRs47cxANI0lYNB5y1DljpOF0IhzBDPOZnDOqYYbeGKECbPzWnXludPphw5c2YBq5zlwXphIbO4VDCZ0gnPfUO1TwZoYwAs2ExPCedAu9DAjfQUjzITQb3jNj0KG2Sgt6BHaQUdYzWz+XmBktOHwanXjaSTcwwziBcuMOtwBmqPrTOxFQR/DRKKPqyur0aiW6cULYsx6tBm0jXpR/AUWR6HRq9WVW6MRhIq5jLyjbaCTDCijyYJNpCajdyobP/eTw0iexBAKkJ3gA5KcQb2zBXsIBckn+xVv8jkZSaEFHE+jFEleAEfayRU0MouNoBmB/L50Ai/HSLIHxcrpCvnhSQAuakKp2C/YbCylJjXRVy/z3+Kv/RrNcCo+WUzlVEhzKffnTQnxeN9fWF88fiNCUdSTsaufaChKWInHeysygfpIqagoakW+vV20J8uyl6TyNKEZWV4oRSPyCkWpgOLSbkCObT8o2r6tlG58HQquf6O0v50tB7JM7F4EORd2dx/K0w/KHsVkLPaoYrwgP/y7krr3SSMA4zj+OBgmjYkxcdIJQyQRKgg2viX9Hddi9UBb29LrKR7CVVEEEXWojUkXNyfTNDE14W9gbHJNuhjDettN3ZvbOvdOqCD3Jp/9l+/wJE+9PkYGjx/fqkys3S2rMozM/o2106rfMUINo6hVqz+eu/hd1c4xTg0TAfy5kV+4UG6+IthHTU9woWmxuKNbTfuCSfovBCxq7EtHqvYL4Sm6F8GVxsSXHMQ07TOi1DKtZxjWaaIyi4CXWjxPccUw8WVbMYY5wxC1mzEyXMJWkllpRloi+Kkoq69sxBTlElF6aAxYUbjXNlhlDZilDnM4U5SlN5biRsRHnbx3mbeWjEh4mEyiuJDl5XcWVmX5GvNkFgLWZM5qwsop4/AWfLhU1cR7k1VVvcYCWRkOI6Xy5gmnphCYIkvzuNYzHzosq2oNk2RtSs8khfUOfHIDgR6ysYBaMpl4uEgk2U/oJTs9AaTSwma7dT69geAE2ZpEjUsn2ieJNHeKfrI3EcAGJ2ZaNgVuC8EBctCLc57P5u5led6IOBkIYkuQMrmmjChs4VkfOerHqSBkPzZlhe06RslZ3zMjk2sscqKwY0RcjKK+LWbzd7KiHhkncs/siFJ+V5eXxD34B8nVuJEpGJNmxN2gH3vSvp7J70tF+D1Ej8qUJD1TkErAND2GZwTFg/LubvmgiBG3SOvdlsqFQrkEzJCL1rstlnVFROixZoDDSuXQFHESwVGlcuQcMb/b42NgjLowh5MTDFE3vNB5qStRIErdCQEh6pLPR92anSUb/wAIhldAaDMpGgAAAABJRU5ErkJggg=="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII="},function(e,t,a){var n=a(2)(a(396),a(788),null,null);e.exports=n.exports},function(e,t,a){a(624);var n=a(2)(a(438),a(888),null,null);e.exports=n.exports},function(e,t,a){var n=a(2)(a(468),a(806),null,null);e.exports=n.exports},,function(e,t,a){function n(e){return a(i(e))}function i(e){var t=s[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}var s={"./ans":347,"./ans.json":347,"./data":348,"./data.json":348,"./img/map_icon.png":54,"./img/satellite_icon.jpg":55,"./img/satellite_icon.png":703,"./img/shibaken.jpg":316,"./logo.png":704,"./marker-blue-locked.svg":705,"./marker-gray-locked.svg":93,"./marker-green-locked.svg":317,"./marker-green-unlocked.svg":706,"./marker-orange-locked.svg":707,"./marker-red-locked.svg":318,"./marker-yellow-locked.svg":319,"./marker_shadow.png":708};n.keys=function(){return Object.keys(s)},n.resolve=i,e.exports=n,n.id=136},function(e,t,a){"use strict";var n=location.origin;e.exports={organisations:"/api/organisations/",organisations_paginated:"/api/organisations_paginated/",organisation_requests:"/api/organisation_requests/",organisation_requests_paginated:"/api/organisation_requests_paginated/",organisation_contacts:"/api/organisation_contacts/",organisation_access_group_members:"/api/organisation_access_group_members/",users:"/api/users/",users_paginated:"/api/users_paginated/",my_user_details:"/api/my_user_details/",assessor_group:"/api/assessor_group/",emailidentities:"/api/emailidentities/",profiles:"/api/profiles/",my_profiles:"/api/my_profiles/",assessment:"/api/assessment/",assessment_paginated:"/api/assessment_paginated/",amendment:"/api/amendment/",is_new_user:"/api/is_new_user/",user_profile_completed:"/api/user_profile_completed/",countries:"https://restcountries.eu/rest/v1/?fullText=true/",application_type:"/api/application_type/",applications:"/api/application/",applications_paginated:"/api/application_paginated/",licences:"/api/licences/",licences_paginated:"/api/licences_paginated/",returns:"/api/returns/",returns_paginated:"/api/returns_paginated/",application_standard_conditions:"/api/application_standard_conditions/",return_types:"/api/return_types/",application_conditions:"/api/application_conditions/",discard_application:function(e){return"/api/application/"+e+"/"},site_url:n,system_name:"Wildlife Licensing System",call_email:"/api/call_email/",offence:"/api/offence/",sanction_outcome:"/api/sanction_outcome/",sanction_outcome_paginated:"/api/sanction_outcome_paginated/",classification:"/api/classification/",report_types:"/api/report_types/",referrers:"/api/referrers/",location:"/api/location/",compliancepermissiongroup:"/api/compliancepermissiongroup/",region_district:"/api/region_district/",case_priorities:"/api/case_priorities/",inspection_types:"/api/inspection_types/",call_email_paginated:"/api/call_email_paginated/",inspection:"/api/inspection/",temporary_document:"/api/temporary_document/",compliance_management_users:"/api/compliance_management_users/",legal_case:"/api/legal_case/",legal_case_priorities:"/api/legal_case_priorities/"}},function(e,t,a){"use strict";e.exports={applications:"/api/application/",my_user_details:"/api/my_user_details/",countries:"https://restcountries.eu/rest/v1/?fullText=true/",organisations:"/api/organisations/",my_organisations:"/api/my_organisations/",organisation_contacts:"/api/organisation_contacts/",licences_class:"/api/licences_class/",licence_available_purposes:"/api/licence_available_purposes/"}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.COMMENT_TYPE_OFFICER="officer_comment",t.COMMENT_TYPE_ASSESSOR="assessor_comment",t.COMMENT_TYPE_DEFICIENCY="deficiency_value"},,,,,,,,,,,,,,,,,,,,,function(e,t){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){e.exports=a.p+"wildlifecompliance_vue/img/shibaken.c4c9d81.jpg"},function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgoKPHN2ZwogICB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iCiAgIHhtbG5zOmNjPSJodHRwOi8vY3JlYXRpdmVjb21tb25zLm9yZy9ucyMiCiAgIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyIKICAgeG1sbnM6c3ZnPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIKICAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxuczpzb2RpcG9kaT0iaHR0cDovL3NvZGlwb2RpLnNvdXJjZWZvcmdlLm5ldC9EVEQvc29kaXBvZGktMC5kdGQiCiAgIHhtbG5zOmlua3NjYXBlPSJodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy9uYW1lc3BhY2VzL2lua3NjYXBlIgogICB3aWR0aD0iMzIiCiAgIGhlaWdodD0iMzIiCiAgIHZpZXdCb3g9IjAgMCAzMiAzMi4wMDAwMDEiCiAgIGlkPSJzdmc0NTEzIgogICB2ZXJzaW9uPSIxLjEiCiAgIGlua3NjYXBlOnZlcnNpb249IjAuOTIuMyAoMjQwNTU0NiwgMjAxOC0wMy0xMSkiCiAgIHNvZGlwb2RpOmRvY25hbWU9Im1hcmtlci1ncmVlbi1sb2NrZWQuc3ZnIj4KICA8ZGVmcwogICAgIGlkPSJkZWZzNDUxNSIgLz4KICA8c29kaXBvZGk6bmFtZWR2aWV3CiAgICAgaWQ9ImJhc2UiCiAgICAgcGFnZWNvbG9yPSIjZmZmZmZmIgogICAgIGJvcmRlcmNvbG9yPSIjNjY2NjY2IgogICAgIGJvcmRlcm9wYWNpdHk9IjEuMCIKICAgICBpbmtzY2FwZTpwYWdlb3BhY2l0eT0iMC4wIgogICAgIGlua3NjYXBlOnBhZ2VzaGFkb3c9IjIiCiAgICAgaW5rc2NhcGU6em9vbT0iNC41MjQwODczIgogICAgIGlua3NjYXBlOmN4PSItNjcuODg0Mjg0IgogICAgIGlua3NjYXBlOmN5PSItOC40OTE1NTc1IgogICAgIGlua3NjYXBlOmRvY3VtZW50LXVuaXRzPSJweCIKICAgICBpbmtzY2FwZTpjdXJyZW50LWxheWVyPSJsYXllcjEiCiAgICAgc2hvd2dyaWQ9InRydWUiCiAgICAgdW5pdHM9InB4IgogICAgIGlua3NjYXBlOndpbmRvdy13aWR0aD0iMTkyMCIKICAgICBpbmtzY2FwZTp3aW5kb3ctaGVpZ2h0PSIxMDAxIgogICAgIGlua3NjYXBlOndpbmRvdy14PSIxMjIxIgogICAgIGlua3NjYXBlOndpbmRvdy15PSIxNDkxIgogICAgIGlua3NjYXBlOndpbmRvdy1tYXhpbWl6ZWQ9IjEiCiAgICAgaW5rc2NhcGU6c25hcC1nbG9iYWw9ImZhbHNlIgogICAgIGlua3NjYXBlOnNuYXAtb3RoZXJzPSJ0cnVlIgogICAgIGlua3NjYXBlOm9iamVjdC1ub2Rlcz0idHJ1ZSIKICAgICBpbmtzY2FwZTpzbmFwLW5vZGVzPSJ0cnVlIgogICAgIGlua3NjYXBlOnNuYXAtcGFnZT0idHJ1ZSIKICAgICBvYmplY3R0b2xlcmFuY2U9IjEwIgogICAgIHNob3dndWlkZXM9InRydWUiCiAgICAgaW5rc2NhcGU6c25hcC1iYm94PSJ0cnVlIgogICAgIGlua3NjYXBlOmJib3gtcGF0aHM9InRydWUiCiAgICAgaW5rc2NhcGU6YmJveC1ub2Rlcz0idHJ1ZSIKICAgICBpbmtzY2FwZTpzbmFwLWJib3gtZWRnZS1taWRwb2ludHM9InRydWUiCiAgICAgaW5rc2NhcGU6c25hcC1iYm94LW1pZHBvaW50cz0idHJ1ZSIKICAgICBpbmtzY2FwZTpvYmplY3QtcGF0aHM9InRydWUiCiAgICAgaW5rc2NhcGU6c25hcC1pbnRlcnNlY3Rpb24tcGF0aHM9InRydWUiCiAgICAgaW5rc2NhcGU6c25hcC1zbW9vdGgtbm9kZXM9InRydWUiCiAgICAgaW5rc2NhcGU6c25hcC1taWRwb2ludHM9InRydWUiCiAgICAgaW5rc2NhcGU6c25hcC1vYmplY3QtbWlkcG9pbnRzPSJ0cnVlIgogICAgIGlua3NjYXBlOnNuYXAtY2VudGVyPSJ0cnVlIgogICAgIGlua3NjYXBlOnNuYXAtdGV4dC1iYXNlbGluZT0idHJ1ZSI+CiAgICA8aW5rc2NhcGU6Z3JpZAogICAgICAgdHlwZT0ieHlncmlkIgogICAgICAgaWQ9ImdyaWQ1MDYxIgogICAgICAgc3BhY2luZ3g9IjEiCiAgICAgICBzcGFjaW5neT0iMSIgLz4KICA8L3NvZGlwb2RpOm5hbWVkdmlldz4KICA8bWV0YWRhdGEKICAgICBpZD0ibWV0YWRhdGE0NTE4Ij4KICAgIDxyZGY6UkRGPgogICAgICA8Y2M6V29yawogICAgICAgICByZGY6YWJvdXQ9IiI+CiAgICAgICAgPGRjOmZvcm1hdD5pbWFnZS9zdmcreG1sPC9kYzpmb3JtYXQ+CiAgICAgICAgPGRjOnR5cGUKICAgICAgICAgICByZGY6cmVzb3VyY2U9Imh0dHA6Ly9wdXJsLm9yZy9kYy9kY21pdHlwZS9TdGlsbEltYWdlIiAvPgogICAgICAgIDxkYzp0aXRsZT48L2RjOnRpdGxlPgogICAgICA8L2NjOldvcms+CiAgICA8L3JkZjpSREY+CiAgPC9tZXRhZGF0YT4KICA8ZwogICAgIGlua3NjYXBlOmxhYmVsPSJMYXllciAxIgogICAgIGlua3NjYXBlOmdyb3VwbW9kZT0ibGF5ZXIiCiAgICAgaWQ9ImxheWVyMSIKICAgICB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwLC0xMDIwLjM2MjIpIgogICAgIHN0eWxlPSJkaXNwbGF5OmlubGluZSI+CiAgICA8ZwogICAgICAgaWQ9Imc0NjAzIgogICAgICAgdHJhbnNmb3JtPSJtYXRyaXgoMS4xMDE1Mzk0LDAsMCwxLjExNjkzODksLTEuNjI0NjMyMiwtMTIxLjA1MzA1KSIKICAgICAgIHN0eWxlPSJzdHJva2Utd2lkdGg6MC45MDE1NDA1MiI+CiAgICAgIDxwYXRoCiAgICAgICAgIGlua3NjYXBlOmNvbm5lY3Rvci1jdXJ2YXR1cmU9IjAiCiAgICAgICAgIGlkPSJwYXRoMzY4MC0zIgogICAgICAgICBkPSJtIDE2LDEwMjIuNDgzOCBjIC01LjYyMTg5MiwwIC0xMC4xNjA2MTE3LDQuNTQ0NSAtMTAuMTYxNjAzLDEwLjE3MzkgMC4wMDQ1MiwyLjEzMTcgMC42NzY5Mzk5LDQuMjA4NyAxLjkxNDUzMDgsNS45Mzc0IEwgMTYsMTA0OS42MTg0IGwgOC4yNDg4NzIsLTExLjAyMzMgYyAxLjIzNzg5NCwtMS43Mjg3IDEuOTA5MjksLTMuODA1MiAxLjkxMjczLC01LjkzNTUgMCwtNS42MzAzIC00LjUzOTA5NywtMTAuMTc1OCAtMTAuMTYxNjAyLC0xMC4xNzU4IHogbSAwLDQuNjM1MiBhIDUuNTMyODY4Myw1LjU0MDUzNzggMCAwIDEgNS41MzI4NjgsNS41NDA2IEEgNS41MzI4NjgzLDUuNTQwNTM3OCAwIDAgMSAxNiwxMDM4LjIgNS41MzI4NjgzLDUuNTQwNTM3OCAwIDAgMSAxMC40NjcxMzEsMTAzMi42NTk2IDUuNTMyODY4Myw1LjU0MDUzNzggMCAwIDEgMTYsMTAyNy4xMTkgWiIKICAgICAgICAgc3R5bGU9ImZpbGw6IzhiZTIzMztmaWxsLW9wYWNpdHk6MTtzdHJva2U6IzRlOWEwNjtzdHJva2Utd2lkdGg6MS4xMzg3ODc4NztzdHJva2Utb3BhY2l0eToxIiAvPgogICAgPC9nPgogIDwvZz4KPC9zdmc+Cg=="},function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgoKPHN2ZwogICB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iCiAgIHhtbG5zOmNjPSJodHRwOi8vY3JlYXRpdmVjb21tb25zLm9yZy9ucyMiCiAgIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyIKICAgeG1sbnM6c3ZnPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIKICAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxuczpzb2RpcG9kaT0iaHR0cDovL3NvZGlwb2RpLnNvdXJjZWZvcmdlLm5ldC9EVEQvc29kaXBvZGktMC5kdGQiCiAgIHhtbG5zOmlua3NjYXBlPSJodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy9uYW1lc3BhY2VzL2lua3NjYXBlIgogICB3aWR0aD0iMzIiCiAgIGhlaWdodD0iMzIiCiAgIHZpZXdCb3g9IjAgMCAzMiAzMi4wMDAwMDEiCiAgIGlkPSJzdmc0NTEzIgogICB2ZXJzaW9uPSIxLjEiCiAgIGlua3NjYXBlOnZlcnNpb249IjAuOTIuMyAoMjQwNTU0NiwgMjAxOC0wMy0xMSkiCiAgIHNvZGlwb2RpOmRvY25hbWU9Im1hcmtlci1yZWQtbG9ja2VkLnN2ZyI+CiAgPGRlZnMKICAgICBpZD0iZGVmczQ1MTUiIC8+CiAgPHNvZGlwb2RpOm5hbWVkdmlldwogICAgIGlkPSJiYXNlIgogICAgIHBhZ2Vjb2xvcj0iI2ZmZmZmZiIKICAgICBib3JkZXJjb2xvcj0iIzY2NjY2NiIKICAgICBib3JkZXJvcGFjaXR5PSIxLjAiCiAgICAgaW5rc2NhcGU6cGFnZW9wYWNpdHk9IjAuMCIKICAgICBpbmtzY2FwZTpwYWdlc2hhZG93PSIyIgogICAgIGlua3NjYXBlOnpvb209IjQuNTI0MDg3MyIKICAgICBpbmtzY2FwZTpjeD0iLTY3Ljg4NDI4NCIKICAgICBpbmtzY2FwZTpjeT0iLTguNDkxNTU3NSIKICAgICBpbmtzY2FwZTpkb2N1bWVudC11bml0cz0icHgiCiAgICAgaW5rc2NhcGU6Y3VycmVudC1sYXllcj0ibGF5ZXIxIgogICAgIHNob3dncmlkPSJ0cnVlIgogICAgIHVuaXRzPSJweCIKICAgICBpbmtzY2FwZTp3aW5kb3ctd2lkdGg9IjE5MjAiCiAgICAgaW5rc2NhcGU6d2luZG93LWhlaWdodD0iMTEzNyIKICAgICBpbmtzY2FwZTp3aW5kb3cteD0iLTgiCiAgICAgaW5rc2NhcGU6d2luZG93LXk9Ii04IgogICAgIGlua3NjYXBlOndpbmRvdy1tYXhpbWl6ZWQ9IjEiCiAgICAgaW5rc2NhcGU6c25hcC1nbG9iYWw9ImZhbHNlIgogICAgIGlua3NjYXBlOnNuYXAtb3RoZXJzPSJ0cnVlIgogICAgIGlua3NjYXBlOm9iamVjdC1ub2Rlcz0idHJ1ZSIKICAgICBpbmtzY2FwZTpzbmFwLW5vZGVzPSJ0cnVlIgogICAgIGlua3NjYXBlOnNuYXAtcGFnZT0idHJ1ZSIKICAgICBvYmplY3R0b2xlcmFuY2U9IjEwIgogICAgIHNob3dndWlkZXM9InRydWUiCiAgICAgaW5rc2NhcGU6c25hcC1iYm94PSJ0cnVlIgogICAgIGlua3NjYXBlOmJib3gtcGF0aHM9InRydWUiCiAgICAgaW5rc2NhcGU6YmJveC1ub2Rlcz0idHJ1ZSIKICAgICBpbmtzY2FwZTpzbmFwLWJib3gtZWRnZS1taWRwb2ludHM9InRydWUiCiAgICAgaW5rc2NhcGU6c25hcC1iYm94LW1pZHBvaW50cz0idHJ1ZSIKICAgICBpbmtzY2FwZTpvYmplY3QtcGF0aHM9InRydWUiCiAgICAgaW5rc2NhcGU6c25hcC1pbnRlcnNlY3Rpb24tcGF0aHM9InRydWUiCiAgICAgaW5rc2NhcGU6c25hcC1zbW9vdGgtbm9kZXM9InRydWUiCiAgICAgaW5rc2NhcGU6c25hcC1taWRwb2ludHM9InRydWUiCiAgICAgaW5rc2NhcGU6c25hcC1vYmplY3QtbWlkcG9pbnRzPSJ0cnVlIgogICAgIGlua3NjYXBlOnNuYXAtY2VudGVyPSJ0cnVlIgogICAgIGlua3NjYXBlOnNuYXAtdGV4dC1iYXNlbGluZT0idHJ1ZSI+CiAgICA8aW5rc2NhcGU6Z3JpZAogICAgICAgdHlwZT0ieHlncmlkIgogICAgICAgaWQ9ImdyaWQ1MDYxIgogICAgICAgc3BhY2luZ3g9IjEiCiAgICAgICBzcGFjaW5neT0iMSIgLz4KICA8L3NvZGlwb2RpOm5hbWVkdmlldz4KICA8bWV0YWRhdGEKICAgICBpZD0ibWV0YWRhdGE0NTE4Ij4KICAgIDxyZGY6UkRGPgogICAgICA8Y2M6V29yawogICAgICAgICByZGY6YWJvdXQ9IiI+CiAgICAgICAgPGRjOmZvcm1hdD5pbWFnZS9zdmcreG1sPC9kYzpmb3JtYXQ+CiAgICAgICAgPGRjOnR5cGUKICAgICAgICAgICByZGY6cmVzb3VyY2U9Imh0dHA6Ly9wdXJsLm9yZy9kYy9kY21pdHlwZS9TdGlsbEltYWdlIiAvPgogICAgICAgIDxkYzp0aXRsZSAvPgogICAgICA8L2NjOldvcms+CiAgICA8L3JkZjpSREY+CiAgPC9tZXRhZGF0YT4KICA8ZwogICAgIGlua3NjYXBlOmxhYmVsPSJMYXllciAxIgogICAgIGlua3NjYXBlOmdyb3VwbW9kZT0ibGF5ZXIiCiAgICAgaWQ9ImxheWVyMSIKICAgICB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwLC0xMDIwLjM2MjIpIgogICAgIHN0eWxlPSJkaXNwbGF5OmlubGluZSI+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6I2UyODMzMztmaWxsLW9wYWNpdHk6MTtzdHJva2U6IzlhMjEwNjtzdHJva2Utd2lkdGg6MS4yNjMxNTc2MTtzdHJva2Utb3BhY2l0eToxIgogICAgICAgZD0ibSAxNS45OTk5OTgsMTAyMC45OTg5IGMgLTYuMTkyNzM1MywwIC0xMS4xOTIzMTM5LDUuMDc1OSAtMTEuMTkzNDA1OSwxMS4zNjM2IDAuMDA0OTgsMi4zODEgMC43NDU2NzYsNC43MDA5IDIuMTA4OTMxMSw2LjYzMTcgbCA5LjA4NDQ3NDgsMTIuMzEyNCA5LjA4NjQ1OCwtMTIuMzEyNCBjIDEuMzYzNTg5LC0xLjkzMDggMi4xMDMxNTgsLTQuMjUwMiAyLjEwNjk0NywtNi42Mjk2IDAsLTYuMjg4NyAtNC45OTk5OTQsLTExLjM2NTcgLTExLjE5MzQwNSwtMTEuMzY1NyB6IG0gMCw1LjE3NzIgYSA2LjA5NDY3MjQsNi4xODg0NDIyIDAgMCAxIDYuMDk0NjcyLDYuMTg4NSA2LjA5NDY3MjQsNi4xODg0NDIyIDAgMCAxIC02LjA5NDY3Miw2LjE4ODMgNi4wOTQ2NzI0LDYuMTg4NDQyMiAwIDAgMSAtNi4wOTQ2NzMsLTYuMTg4MyA2LjA5NDY3MjQsNi4xODg0NDIyIDAgMCAxIDYuMDk0NjczLC02LjE4ODUgeiIKICAgICAgIGlkPSJwYXRoMzY4MC0zIgogICAgICAgaW5rc2NhcGU6Y29ubmVjdG9yLWN1cnZhdHVyZT0iMCIgLz4KICA8L2c+Cjwvc3ZnPgo="},function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgoKPHN2ZwogICB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iCiAgIHhtbG5zOmNjPSJodHRwOi8vY3JlYXRpdmVjb21tb25zLm9yZy9ucyMiCiAgIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyIKICAgeG1sbnM6c3ZnPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIKICAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxuczpzb2RpcG9kaT0iaHR0cDovL3NvZGlwb2RpLnNvdXJjZWZvcmdlLm5ldC9EVEQvc29kaXBvZGktMC5kdGQiCiAgIHhtbG5zOmlua3NjYXBlPSJodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy9uYW1lc3BhY2VzL2lua3NjYXBlIgogICB3aWR0aD0iMzIiCiAgIGhlaWdodD0iMzIiCiAgIHZpZXdCb3g9IjAgMCAzMiAzMi4wMDAwMDEiCiAgIGlkPSJzdmc0NTEzIgogICB2ZXJzaW9uPSIxLjEiCiAgIGlua3NjYXBlOnZlcnNpb249IjAuOTIuMyAoMjQwNTU0NiwgMjAxOC0wMy0xMSkiCiAgIHNvZGlwb2RpOmRvY25hbWU9Im1hcmtlci15ZWxsb3ctbG9ja2VkLnN2ZyI+CiAgPGRlZnMKICAgICBpZD0iZGVmczQ1MTUiIC8+CiAgPHNvZGlwb2RpOm5hbWVkdmlldwogICAgIGlkPSJiYXNlIgogICAgIHBhZ2Vjb2xvcj0iI2ZmZmZmZiIKICAgICBib3JkZXJjb2xvcj0iIzY2NjY2NiIKICAgICBib3JkZXJvcGFjaXR5PSIxLjAiCiAgICAgaW5rc2NhcGU6cGFnZW9wYWNpdHk9IjAuMCIKICAgICBpbmtzY2FwZTpwYWdlc2hhZG93PSIyIgogICAgIGlua3NjYXBlOnpvb209IjQuNTI0MDg3MyIKICAgICBpbmtzY2FwZTpjeD0iLTY3Ljg4NDI4NCIKICAgICBpbmtzY2FwZTpjeT0iLTguNDkxNTU3NSIKICAgICBpbmtzY2FwZTpkb2N1bWVudC11bml0cz0icHgiCiAgICAgaW5rc2NhcGU6Y3VycmVudC1sYXllcj0ibGF5ZXIxIgogICAgIHNob3dncmlkPSJ0cnVlIgogICAgIHVuaXRzPSJweCIKICAgICBpbmtzY2FwZTp3aW5kb3ctd2lkdGg9IjE5MjAiCiAgICAgaW5rc2NhcGU6d2luZG93LWhlaWdodD0iMTEzNyIKICAgICBpbmtzY2FwZTp3aW5kb3cteD0iLTgiCiAgICAgaW5rc2NhcGU6d2luZG93LXk9Ii04IgogICAgIGlua3NjYXBlOndpbmRvdy1tYXhpbWl6ZWQ9IjEiCiAgICAgaW5rc2NhcGU6c25hcC1nbG9iYWw9ImZhbHNlIgogICAgIGlua3NjYXBlOnNuYXAtb3RoZXJzPSJ0cnVlIgogICAgIGlua3NjYXBlOm9iamVjdC1ub2Rlcz0idHJ1ZSIKICAgICBpbmtzY2FwZTpzbmFwLW5vZGVzPSJ0cnVlIgogICAgIGlua3NjYXBlOnNuYXAtcGFnZT0idHJ1ZSIKICAgICBvYmplY3R0b2xlcmFuY2U9IjEwIgogICAgIHNob3dndWlkZXM9InRydWUiCiAgICAgaW5rc2NhcGU6c25hcC1iYm94PSJ0cnVlIgogICAgIGlua3NjYXBlOmJib3gtcGF0aHM9InRydWUiCiAgICAgaW5rc2NhcGU6YmJveC1ub2Rlcz0idHJ1ZSIKICAgICBpbmtzY2FwZTpzbmFwLWJib3gtZWRnZS1taWRwb2ludHM9InRydWUiCiAgICAgaW5rc2NhcGU6c25hcC1iYm94LW1pZHBvaW50cz0idHJ1ZSIKICAgICBpbmtzY2FwZTpvYmplY3QtcGF0aHM9InRydWUiCiAgICAgaW5rc2NhcGU6c25hcC1pbnRlcnNlY3Rpb24tcGF0aHM9InRydWUiCiAgICAgaW5rc2NhcGU6c25hcC1zbW9vdGgtbm9kZXM9InRydWUiCiAgICAgaW5rc2NhcGU6c25hcC1taWRwb2ludHM9InRydWUiCiAgICAgaW5rc2NhcGU6c25hcC1vYmplY3QtbWlkcG9pbnRzPSJ0cnVlIgogICAgIGlua3NjYXBlOnNuYXAtY2VudGVyPSJ0cnVlIgogICAgIGlua3NjYXBlOnNuYXAtdGV4dC1iYXNlbGluZT0idHJ1ZSI+CiAgICA8aW5rc2NhcGU6Z3JpZAogICAgICAgdHlwZT0ieHlncmlkIgogICAgICAgaWQ9ImdyaWQ1MDYxIgogICAgICAgc3BhY2luZ3g9IjEiCiAgICAgICBzcGFjaW5neT0iMSIgLz4KICA8L3NvZGlwb2RpOm5hbWVkdmlldz4KICA8bWV0YWRhdGEKICAgICBpZD0ibWV0YWRhdGE0NTE4Ij4KICAgIDxyZGY6UkRGPgogICAgICA8Y2M6V29yawogICAgICAgICByZGY6YWJvdXQ9IiI+CiAgICAgICAgPGRjOmZvcm1hdD5pbWFnZS9zdmcreG1sPC9kYzpmb3JtYXQ+CiAgICAgICAgPGRjOnR5cGUKICAgICAgICAgICByZGY6cmVzb3VyY2U9Imh0dHA6Ly9wdXJsLm9yZy9kYy9kY21pdHlwZS9TdGlsbEltYWdlIiAvPgogICAgICAgIDxkYzp0aXRsZT48L2RjOnRpdGxlPgogICAgICA8L2NjOldvcms+CiAgICA8L3JkZjpSREY+CiAgPC9tZXRhZGF0YT4KICA8ZwogICAgIGlua3NjYXBlOmxhYmVsPSJMYXllciAxIgogICAgIGlua3NjYXBlOmdyb3VwbW9kZT0ibGF5ZXIiCiAgICAgaWQ9ImxheWVyMSIKICAgICB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwLC0xMDIwLjM2MjIpIgogICAgIHN0eWxlPSJkaXNwbGF5OmlubGluZSI+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6I2RkZTIzMztmaWxsLW9wYWNpdHk6MTtzdHJva2U6IzlhOWEwNjtzdHJva2Utd2lkdGg6MS4yNjMxNTc2MTtzdHJva2Utb3BhY2l0eToxIgogICAgICAgZD0ibSAxNS45OTk5OTgsMTAyMC45OTg5IGMgLTYuMTkyNzM1MywwIC0xMS4xOTIzMTM5LDUuMDc1OSAtMTEuMTkzNDA1OSwxMS4zNjM2IDAuMDA0OTgsMi4zODEgMC43NDU2NzYsNC43MDA5IDIuMTA4OTMxMSw2LjYzMTcgbCA5LjA4NDQ3NDgsMTIuMzEyNCA5LjA4NjQ1OCwtMTIuMzEyNCBjIDEuMzYzNTg5LC0xLjkzMDggMi4xMDMxNTgsLTQuMjUwMiAyLjEwNjk0NywtNi42Mjk2IDAsLTYuMjg4NyAtNC45OTk5OTQsLTExLjM2NTcgLTExLjE5MzQwNSwtMTEuMzY1NyB6IG0gMCw1LjE3NzIgYSA2LjA5NDY3MjQsNi4xODg0NDIyIDAgMCAxIDYuMDk0NjcyLDYuMTg4NSA2LjA5NDY3MjQsNi4xODg0NDIyIDAgMCAxIC02LjA5NDY3Miw2LjE4ODMgNi4wOTQ2NzI0LDYuMTg4NDQyMiAwIDAgMSAtNi4wOTQ2NzMsLTYuMTg4MyA2LjA5NDY3MjQsNi4xODg0NDIyIDAgMCAxIDYuMDk0NjczLC02LjE4ODUgeiIKICAgICAgIGlkPSJwYXRoMzY4MC0zIgogICAgICAgaW5rc2NhcGU6Y29ubmVjdG9yLWN1cnZhdHVyZT0iMCIgLz4KICA8L2c+Cjwvc3ZnPgo="},,,,function(e,t,a){a(623);var n=a(2)(a(369),a(886),"data-v-be634c84",null);e.exports=n.exports},function(e,t,a){a(595);var n=a(2)(a(379),a(846),"data-v-5b86b2f2",null);e.exports=n.exports},function(e,t,a){a(606);var n=a(2)(a(381),a(861),null,null);e.exports=n.exports},function(e,t,a){var n=a(2)(a(390),a(879),null,null);e.exports=n.exports},function(e,t,a){var n=a(2)(a(391),a(863),null,null);e.exports=n.exports},function(e,t,a){var n=a(2)(a(392),a(792),null,null);e.exports=n.exports},function(e,t,a){a(565);var n=a(2)(a(398),a(803),null,null);e.exports=n.exports},function(e,t,a){a(584);var n=a(2)(a(404),a(830),null,null);e.exports=n.exports},function(e,t,a){a(581);var n=a(2)(a(405),a(827),null,null);e.exports=n.exports},function(e,t,a){a(551);var n=a(2)(a(408),a(786),null,null);e.exports=n.exports},function(e,t,a){a(597);var n=a(2)(a(409),a(848),null,null);e.exports=n.exports},function(e,t,a){a(628);var n=a(2)(a(413),a(892),null,null);e.exports=n.exports},function(e,t,a){a(613);var n=a(2)(a(414),a(869),null,null);e.exports=n.exports},function(e,t,a){a(594);var n=a(2)(a(415),a(845),null,null);e.exports=n.exports},function(e,t,a){a(554);var n=a(2)(a(416),a(790),null,null);e.exports=n.exports},function(e,t,a){a(560);var n=a(2)(a(418),a(798),null,null);e.exports=n.exports},function(e,t,a){a(582);var n=a(2)(a(419),a(828),"data-v-41f9a7d0",null);e.exports=n.exports},function(e,t,a){a(615);var n=a(2)(a(420),a(874),null,null);e.exports=n.exports},function(e,t,a){a(618);var n=a(2)(a(421),a(878),null,null);e.exports=n.exports},function(e,t,a){a(578);var n=a(2)(a(443),a(823),null,null);e.exports=n.exports},function(e,t,a){var n=a(544);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);a(100)("2d6ca567",n,!0)},function(e,t,a){var n=a(546);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);a(100)("f4a08632",n,!0)},,,function(e,t){e.exports=[{activity:"yes"},{project_details:[{project_application:"",project_title:"rtgrt",project_duration:"rftgstvrg",background_summary:"long text",conservation_outcomes:"",main_objectives:"objecti ve text"}]},{licences_and_permits:[{requires_permits:"yes",permits_acknowledgement:"on",permits:"",aec_licence_number:"",aec_name:"",aec_application_and_licence:""}]},{financial_basis:[{financial_details_other:"",grant_details:"",financial_basis:"grant",contract_details:""}]},{personnel_details:[{qualification_attachment:"",ap_change_acknowledgement:"",authorised_persons:"",authorised_persons_acknowledgement:"",qualifications:"faddsad",ap_unavailable_explanation:""}]},{project_description:[{research_fauna_release_quarantine:"",project_description:"research",research_fauna_hold_length:"",monitoring_survey_details:"",monitoring_plan:"",research_animal_husbandry:"",monitoring_conditional_condition:"",research_fauna_activities:"",research_fauna_release_risk_assessment:"",monitoring_plan_acknowledgement:"",monitoring_licence_type:"",research_fauna_release_site:"",survey_survey_details:"",research_lab_details:"",research_details:"",research_fauna_disposal:"",research_lab_other_details:"",research_fauna_final_fate:"",research_fauna_post_release_monitoring:"",survey_num_survey_locations:"",survey_locations_calm_land:"",monitoring_monitoring_plan:"",research_type:"",research_num_research_locations:"",research_fauna_release_site_transportation:"",monitoring_locations_calm_land:"",research_fauna_stored:"",monitoring_num_monitoring_locations:"",research_fauna_retained_specimen:""}]}]},function(e,t){e.exports=[{children:[{type:"text",name:"project_title",label:"Project title"},{type:"text",name:"project_duration",label:"Total duration of the project"},{type:"file",name:"project_application",label:"Project Application"},{type:"text_area",name:"background_summary",label:"Background summary"},{type:"text_area",name:"main_objectives",label:"Main Objectives"},{type:"text_area",name:"conservation_outcomes",label:"Conservation outcomes"}],type:"section",name:"project_details",label:"Project Details"},{children:[{conditions:{yes:[{type:"file",name:"permits",label:"Please provide detail and attach any applications made or permissions granted."},{type:"declaration",name:"permits_acknowledgement",label:"I acknowledge that should other permissions/licences be required it may affect the processing time for this Regulation 17 licence"}]},options:[{value:"yes",label:"Yes"},{value:"no",label:"No"},{value:"unsure",label:"Unsure"}],type:"select",name:"requires_permits",label:"Does this project require any other licences, permits, licences, etc under any other state or federal legislation?"},{type:"text",name:"aec_name",label:"If activity has been (or is being) assessed by an Animal Ethics Committee (AEC) provide committee name."},{type:"text",name:"aec_licence_number",label:"Provide AEC licence number."},{type:"file",name:"aec_application_and_licence",label:"Attach a copy of the AEC project application and licence."}],type:"section",name:"licences_and_permits",label:"Licences and Permits"},{children:[{conditions:{other:[{type:"text_area",name:"financial_details_other",label:"Provide details of who is funding the project or how the project is being funded"}],contract:[{type:"text_area",name:"contract_details",label:"Provide details of the Client, including name, address and contact details"}],grant:[{type:"text_area",name:"grant_details",label:"Provide details of the grant or sponsorship, including name, address and contact details of the organisation funding the project"}]},options:[{value:"grant",label:"Grant / Sponsored"},{value:"contract",label:"Contract / Consulting"},{value:"other",label:"Other - Please provide details"}],type:"radiobuttons",name:"financial_basis",label:"How is your project funded?"}],type:"section",name:"financial_basis",label:"Financial Basis"},{children:[{type:"text",name:"qualifications",label:"Provide relevant qualifications and/or experience details specific to this project"},{type:"file",name:"qualification_attachment",label:"Qualification Attachment(s)"},{type:"declaration",name:"authorised_persons_acknowledgement",label:"I acknowledge that I am legally responsible for the actions of anyone involved in the take of fauna activities under this licence."},{name:"authorised_persons",isLicenceField:!0,isRepeatable:!0,label:"Authorised Person",type:"group",children:[{isLicenceField:!0,type:"text",name:"ap_surname",label:"Surname"},{isLicenceField:!0,type:"text",name:"ap_given_names",label:"Given name(s)"},{type:"date",name:"ap_dob",label:"Date of birth"},{name:"ap_association",type:"select",label:"Association to applicant",conditions:{other:[{type:"text",name:"ap_association_other_details",label:"Details"}]},options:[{value:"volunteer",label:"Volunteer"},{value:"contractor",label:"Contractor"},{value:"staff",label:"Staff / Employee"},{value:"student",label:"Student"},{value:"other",label:"Other - Please provide details"}],defaultBlank:!0},{name:"ap_role",type:"select",label:"Role",conditions:{handler:[{type:"label",name:"ap_handler_type",label:"Handler Type"},{type:"checkbox",name:"ap_biopsy",label:"Biopsy"},{type:"checkbox",name:"ap_chipping",label:"Chipping"},{type:"checkbox",name:"ap_collaring",label:"Collaring"},{type:"checkbox",name:"ap_anasthaesia",label:"Anasthaesia"},{conditions:{on:[{type:"text",name:"ap_handler_other_details",label:"Please provide details"}]},type:"checkbox",name:"ap_handler_other",label:"Other"}]},options:[{value:"handler",label:"Handler"},{value:"scribe",label:"Scribe"},{value:"assistant",label:"Assistant"}],defaultBlank:!0},{type:"file",name:"ap_qualification",label:"Provide relevant qualification / experience (relative to activity)"}]},{type:"text_area",name:"ap_unavailable_explanation",label:"If a list of authorised persons is not currently available, please explain:"},{type:"declaration",name:"ap_change_acknowledgement",label:"I acknowledge that I will make changes in this system to authorised persons throughout licence duration if changes are required"}],type:"section",name:"personnel_details",label:"Personnel Details"},{children:[{name:"project_description",type:"select",label:"Which of the following describes your project?",conditions:{monitoring:[{conditions:{yes:[{type:"text",name:"monitoring_licence_type",label:"Provide licence type and number."}]},options:[{value:"yes",label:"Yes"},{value:"no",label:"No"}],type:"radiobuttons",name:"monitoring_conditional_condition",label:"Is the monitoring being done as a conditional condition of an licence?"},{conditions:{yes:[{type:"file",name:"monitoring_plan",label:"Please attach monitoring plan.",isRepeatable:!0},{type:"declaration",name:"monitoring_plan_acknowledgement",label:"I acknowledge that should additional monitoring plans be required it may affect the processing time for this Regulation 17 licence."}]},options:[{value:"yes",label:"Yes"},{value:"no",label:"No"}],type:"radiobuttons",name:"monitoring_monitoring_plan",label:"Is there a monitoring plan?"},{type:"number",name:"monitoring_num_monitoring_locations",label:"How many locations will be monitored?"},{options:[{value:"yes",label:"Yes"},{value:"no",label:"No"},{value:"unsure",label:"Unsure"}],type:"radiobuttons",name:"monitoring_locations_calm_land",label:"Are any locations on CALM Act land?"},{name:"monitoring_survey_details",isRepeatable:!0,help_text:"If multiple monitoring locations; provide details separately for each location and add an additional location after the methods section for the first location.",label:"Monitoring Details",type:"group",children:[{type:"text_area",name:"monitoring_address",label:"Location / Address"},{type:"text",name:"monitoring_coordinates",label:"Coordinate / GPS",help_text:"If multiple monitoring locations; provide details separately for each location and add an additional location after the methods section for the first location."},{children:[{type:"date",name:"monitoring_field_session_start_date",label:"Start Date"},{type:"date",name:"monitoring_field_session_end_date",label:"End Date"}],isRepeatable:!0,type:"group",name:"monitoring_field_session",label:"Field session"},{type:"text",name:"monitoring_field_dates_unknown",label:"If field dates are unknown, use anticipated field dates in the start and end date above and explain below."},{name:"monitoring_interval_regularity",type:"select",label:"Interval Regularity",conditions:{other:[{type:"text",name:"monitoring_regular_intervals_other",label:"Please Specify"}]},options:[{value:"not_regular_intervals",label:"Not regular intervals"},{value:"weekly",label:"Weekly"},{value:"fortnightly",label:"Fortnightly"},{value:"monthly",label:"Monthly"},{value:"quarterly",label:"Quarterly/Seasonally"},{value:"biannually",label:"Biannually/Six-monthly"},{value:"annually",label:"Annually"},{value:"biennually",label:"Biennially/Every two years"},{value:"other",label:"Other"}],defaultBlank:!1},{conditions:{yes:[{children:[{type:"text",name:"monitoring_tft_group_name",label:"Group name"},{speciesType:"fauna",type:"species",name:"monitoring_tft_scientific_name",label:"Scientific or common name"}],isRepeatable:!0,type:"group",name:"monitoring_targeted_fauna",label:"Targeted Fauna Type"}]},options:[{value:"yes",label:"Yes"},{value:"no",label:"No"}],type:"radiobuttons",name:"monitoring_targeting_species_or_fauna",label:"Is the monitoring targeting a species or fauna group?"},{conditions:{yes:[{children:[{type:"text",name:"monitoring_threatened_group_name",label:"Group name"},{speciesType:"fauna",type:"species",name:"monitoring_threatened_scientific_name",label:"Scientific or common name"}],isRepeatable:!0,type:"group",name:"monitoring_threatened_fauna",label:"Threatened Fauna"}]},options:[{value:"yes",label:"Yes"},{value:"no",label:"No"},{value:"unknown",label:"Unknown"}],type:"radiobuttons",name:"monitoring_threatened_priority_fauna",label:"Will your activity possibly interact with any threatened or priority fauna (including non-target species)?"},{options:[{value:"yes",label:"Yes"},{value:"no",label:"No"}],type:"radiobuttons",name:"monitoring_standard_operating_procedures",label:"Will your activities be in accordance with Parks and Wildlife standard operating procedures?"},{conditions:{yes:[{type:"text",name:"monitoring_sops_details",label:"Provide details"},{type:"file",name:"monitoring_sops_documents",label:"Attach a copy of the relevent document(s)"}]},options:[{value:"yes",label:"Yes"},{value:"no",label:"No"}],type:"radiobuttons",name:"monitoring_sops",label:"Will your activities be in accordance with any other SOPs, protocols, guidelines or manuals?"},{conditions:{capture:[{conditions:{net:[{type:"number",name:"monitoring_num_net_sites",label:"What is the number of sites where nets will be used?"},{type:"number",name:"monitoring_num_net_days",label:"How many days/nights will nets be used?"},{type:"number",name:"monitoring_num_net_sessions",label:"How many sessions will nets be used?"},{type:"number",name:"monitoring_num_nets_per_session",label:"Total number of nets per session?"},{type:"number",name:"monitoring_max_num_nets_per_session_per_site",label:"Maximum total number of nets per site per session?"},{type:"text_area",name:"monitoring_different_num_nets_per_session_or_site_explanation",label:"If the number of nets differs between sessions or sites then explain"},{type:"label",name:"monitoring_nets",label:"Nets"},{conditions:{on:[{type:"text",name:"monitoring_dip_make",label:"Make"},{type:"text",name:"monitoring_dip_size",label:"Size"},{type:"number",name:"monitoring_num_dips",label:"Number of nets"},{type:"text",name:"monitoring_dip_placement",label:"Net Placement"},{type:"text",name:"monitoring_dip_setting_times",label:"Setting times"},{type:"text",name:"monitoring_dip_other_details",label:"Other details"}]},type:"checkbox",name:"monitoring_dip",label:"Dip"},{conditions:{on:[{type:"text",name:"monitoring_sweep_make",label:"Make"},{type:"text",name:"monitoring_sweep_size",label:"Size"},{type:"number",name:"monitoring_num_sweeps",label:"Number of nets"},{type:"text",name:"monitoring_sweep_placement",label:"Net Placement"},{type:"text",name:"monitoring_sweep_setting_times",label:"Setting times"},{type:"text",name:"monitoring_sweep_other_details",label:"Other details"}]},type:"checkbox",name:"monitoring_sweep",label:"Sweep"},{conditions:{on:[{type:"text",name:"monitoring_gill_make",label:"Make"},{type:"text",name:"monitoring_gill_size",label:"Size"},{type:"number",name:"monitoring_num_gills",label:"Number of nets"},{type:"text",name:"monitoring_gill_placement",label:"Net Placement"},{type:"text",name:"monitoring_gill_setting_times",label:"Setting times"},{type:"text",name:"monitoring_gill_other_details",label:"Other details"}]},type:"checkbox",name:"monitoring_gill",label:"Gill"},{conditions:{on:[{type:"text",name:"monitoring_seine_make",label:"Make"},{type:"text",name:"monitoring_seine_size",label:"Size"},{type:"number",name:"monitoring_num_seines",label:"Number of nets"},{type:"text",name:"monitoring_seine_placement",label:"Net Placement"},{type:"text",name:"monitoring_seine_setting_times",label:"Setting times"},{type:"text",name:"monitoring_seine_other_details",label:"Other details"}]},type:"checkbox",name:"monitoring_seine",label:"Seine"},{conditions:{on:[{type:"text",name:"monitoring_cast_make",label:"Make"},{type:"text",name:"monitoring_cast_size",label:"Size"},{type:"number",name:"monitoring_num_casts",label:"Number of nets"},{type:"text",name:"monitoring_cast_placement",label:"Net Placement"},{type:"text",name:"monitoring_cast_setting_times",label:"Setting times"},{type:"text",name:"monitoring_cast_other_details",label:"Other details"}]},type:"checkbox",name:"monitoring_cast",label:"Cast"},{conditions:{on:[{type:"text",name:"monitoring_plankton_make",label:"Make"},{type:"text",name:"monitoring_plankton_size",label:"Size"},{type:"number",name:"monitoring_num_planktons",label:"Number of nets"},{type:"text",name:"monitoring_plankton_placement",label:"Net Placement"},{type:"text",name:"monitoring_plankton_setting_times",label:"Setting times"},{type:"text",name:"monitoring_plankton_other_details",label:"Other details"}]},type:"checkbox",name:"monitoring_plankton",label:"Plankton"},{conditions:{on:[{type:"text",name:"monitoring_mist_make",label:"Make"},{type:"text",name:"monitoring_mist_size",label:"Size"},{type:"number",name:"monitoring_num_mists",label:"Number of nets"},{type:"text",name:"monitoring_mist_placement",label:"Net Placement"},{type:"text",name:"monitoring_mist_setting_times",label:"Setting times"},{type:"text",name:"monitoring_mist_other_details",label:"Other details"}]},type:"checkbox",name:"monitoring_mist",label:"Mist"},{conditions:{on:[{type:"text",name:"monitoring_harp_make",label:"Make"},{type:"text",name:"monitoring_harp_size",label:"Size"},{type:"number",name:"monitoring_num_harps",label:"Number of nets"},{type:"text",name:"monitoring_harp_placement",label:"Net Placement"},{type:"text",name:"monitoring_harp_setting_times",label:"Setting times"},{type:"text",name:"monitoring_harp_other_details",label:"Other details"}]},type:"checkbox",name:"monitoring_harp",label:"Harp"},{conditions:{on:[{type:"text",name:"monitoring_cannon_make",label:"Make"},{type:"text",name:"monitoring_cannon_size",label:"Size"},{type:"number",name:"monitoring_num_cannons",label:"Number of nets"},{type:"text",name:"monitoring_cannon_placement",label:"Net Placement"},{type:"text",name:"monitoring_cannon_setting_times",label:"Setting times"},{type:"text",name:"monitoring_cannon_other_details",label:"Other details"}]},type:"checkbox",name:"monitoring_cannon",label:"Cannon"},{conditions:{on:[{type:"text",name:"monitoring_net_type_other",label:"Enter details"},{type:"text",name:"monitoring_net_other_make",label:"Make"},{type:"text",name:"monitoring_net_other_size",label:"Size"},{type:"number",name:"monitoring_net_other_num_nets",label:"Number of nets"},{type:"text",name:"monitoring_net_other_placement",label:"Net Placement"},{type:"text",name:"monitoring_net_other_setting_times",label:"Setting times"},{type:"text",name:"monitoring_net_other_other_details",label:"Other details"}]},type:"checkbox",name:"monitoring_net_other",label:"Other"}],other:[{type:"text_area",name:"monitoring_other_capture_methodology",label:"Provide details of your fauna capture methodology if it doesnt fit within previous questions for trap, net or hand capture techniques."}],trap:[{type:"number",name:"monitoring_num_trap_sites",label:"What is the number of trap sites?"},{type:"number",name:"monitoring_num_traps_open_days",label:"How many days/nights will traps be open?"},{type:"number",name:"monitoring_num_trap_sessions",label:"How many trapping sessions?"},{type:"number",name:"monitoring_num_traps_per_session",label:"Total number of traps per session?"},{type:"number",name:"monitoring_max_num_traps_per_session_per_site",label:"Maximum total number of traps per site per session?"},{type:"text_area",name:"monitoring_different_num_traps_per_session_or_site_explanation",label:"If the number of traps differs between sessions or sites, enter the highest number in the questions above, and explain differences below."},{type:"label",name:"monitoring_traps",label:"Traps"},{conditions:{on:[{type:"text",name:"monitoring_cage_make",label:"Make"},{type:"text",name:"monitoring_cage_size",label:"Size"},{type:"number",name:"monitoring_num_cages",label:"Number of traps"},{type:"text",name:"monitoring_cage_placement",label:"Cage Placement"},{type:"text",name:"monitoring_cage_setting_times",label:"Setting times"},{type:"text",name:"monitoring_cage_other_details",label:"Other details"}]},type:"checkbox",name:"monitoring_cage",label:"Cage"},{conditions:{on:[{type:"text",name:"monitoring_box_make",label:"Make"},{type:"text",name:"monitoring_box_size",label:"Size"},{type:"number",name:"monitoring_num_boxs",label:"Number of traps"},{type:"text",name:"monitoring_box_placement",label:"Box Placement"},{type:"text",name:"monitoring_box_setting_times",label:"Setting times"},{type:"text",name:"monitoring_box_other_details",label:"Other details"}]},type:"checkbox",name:"monitoring_box",label:"Box"},{conditions:{on:[{type:"text",name:"monitoring_dry_pit_make",label:"Make"},{type:"text",name:"monitoring_dry_pit_size",label:"Size"},{type:"number",name:"monitoring_num_dry_pits",label:"Number of traps"},{type:"text",name:"monitoring_dry_pit_placement",label:"Dry Pit Placement"},{type:"text",name:"monitoring_dry_pit_setting_times",label:"Setting times"},{type:"text",name:"monitoring_dry_pit_other_details",label:"Other details"}]},type:"checkbox",name:"monitoring_dry_pit",label:"Dry Pit"},{conditions:{on:[{type:"text",name:"monitoring_wet_pit_make",label:"Make"},{type:"text",name:"monitoring_wet_pit_size",label:"Size"},{type:"number",name:"monitoring_num_wet_pits",label:"Number of traps"},{type:"text",name:"monitoring_wet_pit_placement",label:"Wet Pit Placement"},{type:"text",name:"monitoring_wet_pit_setting_times",label:"Setting times"},{type:"text",name:"monitoring_wet_pit_other_details",label:"Other details"}]},type:"checkbox",name:"monitoring_wet_pit",label:"Wet Pit"},{conditions:{on:[{type:"text",name:"monitoring_funnel_make",label:"Make"},{type:"text",name:"monitoring_funnel_size",label:"Size"},{type:"number",name:"monitoring_num_funnels",label:"Number of traps"},{type:"text",name:"monitoring_funnel_placement",label:"Funnel Placement"},{type:"text",name:"monitoring_funnel_setting_times",label:"Setting times"},{type:"text",name:"monitoring_funnel_other_details",label:"Other details"}]},type:"checkbox",name:"monitoring_funnel",label:"Funnel"},{conditions:{on:[{type:"text",name:"monitoring_litter_make",label:"Make"},{type:"text",name:"monitoring_litter_size",label:"Size"},{type:"number",name:"monitoring_num_litters",label:"Number of traps"},{type:"text",name:"monitoring_litter_placement",label:"Litter Placement"},{type:"text",name:"monitoring_litter_setting_times",label:"Setting times"},{type:"text",name:"monitoring_litter_other_details",label:"Other details"}]},type:"checkbox",name:"monitoring_litter",label:"Litter"},{conditions:{on:[{type:"text",name:"monitoring_trap_type_other",label:"Enter details"},{type:"text",name:"monitoring_trap_other_make",label:"Make"},{type:"text",name:"monitoring_trap_other_size",label:"Size"},{type:"number",name:"monitoring_trap_other_num_traps",label:"Number of traps"},{type:"text",name:"monitoring_trap_other_placement",label:"Trap Placement"},{type:"text",name:"monitoring_trap_other_setting_times",label:"Setting times"},{type:"text",name:"monitoring_trap_other_other_details",label:"Other details"}]},type:"checkbox",name:"monitoring_trap_other",label:"Other"}]},options:[{value:"trap",label:"Trap"},{value:"net",label:"Net"},{value:"other",label:"Other"}],type:"radiobuttons",name:"monitoring_capture_method",label:"Capture Method"},{type:"label",name:"monitoring_fate",label:"What will be the fate(s) of the fauna captured?"},{conditions:{on:[{options:[{value:"immediately",label:"Immediately after species idenfication"},{value:"after_transmitter_attachment",label:"After attachment of transmitter"},{value:"after_morphometrics",label:"After morphometrics and physical condition taken"},{value:"after_samples",label:"After samples taken"},{value:"after_marking",label:"After marking"},{value:"after_temp_holding",label:"After temporary holding (< 24 hours)"}],type:"select",name:"monitoring_release_schedule",label:"Release Schedule"},{type:"label",name:"monitoring_pre_release_occurences",label:"Which of the following will occur before release?"},{conditions:{on:[{type:"text_area",name:"monitoring_prerelease_transmitter_type",label:"Transmitter type, make and model, and construction material"},{type:"text_area",name:"monitoring_prerelease_method_attachment",label:"Method of attachment to animal"},{type:"text",name:"monitoring_prerelease_transmitter_max_weight",label:"Maximum weight of transmitter and attachment materials"},{type:"text",name:"monitoring_prerelease_mim_body_weight",label:"Minimum body weight of animal to which transmitter will be attached"},{type:"text",name:"monitoring_prerelease_transmitter_attachment_length",label:"How long will the transmitter remain attached to the animal?"},{conditions:{yes:[{type:"declaration",name:"monitoring_prerelease_acknowledge",label:"I acknowledge that every attempt will be made to recapture the animal to remove the transmitter, and will notify Wildlife Licensing if this cannot be done."}],no:[{type:"text_area",name:"monitoring_prerelease_detach_details",label:"Provide details of how the transmitter will detach from the animal"}]},options:[{value:"yes",label:"Yes"},{value:"no",label:"No"}],type:"radiobuttons",name:"monitoring_prerelease_recapture_remove",label:"Does the animal need to be recaptured to remove the transmitter?"}]},type:"checkbox",name:"monitoring_release_transmitter",label:"Attachment of transmitter"},{conditions:{on:[{type:"label",name:"monitoring_mophometrics_recorded",label:"What morphometrics and condition details will be recorded?"},{type:"checkbox",name:"monitoring_mophometric_length",label:"Length"},{type:"checkbox",name:"monitoring_mophometric_sex",label:"Sex"},{type:"checkbox",name:"monitoring_mophometric_age",label:"Age"},{type:"checkbox",name:"monitoring_mophometric_body_condition",label:"Body condition"},{type:"checkbox",name:"monitoring_mophometric_reproductive_condition",label:"Reproductive condition"},{conditions:{on:[{type:"text_area",name:"monitoring_mophometric_other_details",label:"Please provide details"}]},type:"checkbox",name:"monitoring_mophometric_other",label:"Other"},{type:"text_area",name:"monitoring_mophometric_other_details",label:"Provide any other details relating to measurements and condition"}]},type:"checkbox",name:"monitoring_mophometrics",label:"Mophometrics and physical condition analysis"},{conditions:{on:[{type:"label",name:"monitoring_samples",label:"What samples will be taken?"},{conditions:{on:[{type:"text_area",name:"monitoring_tissue_details",label:"Please provide details"}]},type:"checkbox",name:"monitoring_tissue",label:"Tissue"},{conditions:{on:[{type:"text_area",name:"monitoring_scale_details",label:"Please provide details"}]},type:"checkbox",name:"monitoring_scale",label:"Scale"},{conditions:{on:[{type:"text_area",name:"monitoring_hair_feather_details",label:"Please provide details"}]},type:"checkbox",name:"monitoring_hair_feather",label:"Hair / feather"},{conditions:{on:[{type:"text_area",name:"monitoring_blood_details",label:"Please provide details"}]},type:"checkbox",name:"monitoring_blood",label:"Blood"},{conditions:{on:[{type:"text_area",name:"monitoring_swabs_details",label:"Please provide details"}]},type:"checkbox",name:"monitoring_swabs",label:"Swabs"},{conditions:{on:[{type:"text_area",name:"monitoring_samples_other_details",label:"Please provide details"}]},type:"checkbox",name:"monitoring_samples_other",label:"Other"}]},type:"checkbox",name:"monitoring_sampling",label:"Sampling"},{conditions:{on:[{conditions:{permanent:[{conditions:{on:[{type:"text_area",name:"monitoring_tags_details",label:"Please provide details"}]},type:"checkbox",name:"monitoring_tags",label:"Tags"},{conditions:{on:[{type:"text_area",name:"monitoring_microchips_details",label:"Please provide details"}]},type:"checkbox",name:"monitoring_microchips",label:"Microchips / implants"},{conditions:{on:[{type:"text_area",name:"monitoring_bands_details",label:"Please provide details"}]},type:"checkbox",name:"monitoring_bands",label:"Bands"},{conditions:{on:[{type:"text_area",name:"monitoring_ear_punching_details",label:"Please provide details"}]},type:"checkbox",name:"monitoring_ear_punching",label:"Ear punching"},{conditions:{on:[{type:"text_area",name:"monitoring_marking_other_details",label:"Please provide details"}]},type:"checkbox",name:"monitoring_marking_other",label:"Other"}]},options:[{value:"temporary",label:"Temporary"},{value:"permanent",label:"Permanent"}],type:"select",name:"monitoring_marking",label:"What marking will be done and why?"}]},type:"checkbox",name:"monitoring_marking",label:"Marking"},{conditions:{on:[{type:"text_area",name:"monitoring_why_temporarily_held",label:"Why will/may the fauna be temporarily held?"},{type:"text_area",name:"monitoring_how_temporarily_held",label:"How will the fauna be held?"},{type:"text_area",name:"monitoring_where_temporarily_held",label:"Where will the fauna be held?"},{type:"text_area",name:"monitoring_transported_details",label:"If fauna will be transported, provide details?"},{conditions:{other:[{type:"text_area",name:"monitoring_fauna_release_other_details",label:"Please provide details"}]},options:[{value:"at_capture_site",label:"At capture site"},{value:"near_capture_site",label:"Near capture site into suitable habitat"},{value:"other",label:"Other"}],type:"select",name:"monitoring_where_fauna_released",label:"Where will the fauna be released?"}]},type:"checkbox",name:"monitoring_temporary_holding",label:"Temporary Holding"}]},type:"checkbox",name:"monitoring_release",label:"Release"},{conditions:{on:[{type:"text_area",name:"monitoring_why_fauna_retained",label:"Why does the fauna need to be retained?"},{type:"text_area",name:"monitoring_what_fauna_retained",label:"What fauna could be retained?"},{type:"number",name:"monitoring_num_fauna_retained",label:"If fauna is to be retained, how many animals?"},{conditions:{yes:[{type:"text_area",name:"monitoring_euthanise_method",label:"Method"}]},options:[{value:"yes",label:"Yes"},{value:"no",label:"No"}],type:"radiobuttons",name:"monitoring_fauna_euthanised",label:"Will fauna be euthanised?"},{type:"text",name:"monitoring_where_specimen_stored",label:"Where will the specimen(s) be held/lodged/stored?"},{type:"text_area",name:"monitoring_mesuem_storage_details",label:"If specimen is to be deposited at the WA Museum, will the Museum be contacted prior to the fauna being retained or did the Museum request the specimen?"}]},type:"checkbox",name:"monitoring_retain",label:"Retain"},{type:"text_area",name:"monitoring_unforseen_injury_dealings",label:"Describe how unforeseen injuries or other related issues will be dealt with."},{type:"text_area",name:"monitoring_hygiene_disease_considerations",label:"Provide details of field hygiene and wildlife disease considerations."},{type:"text_area",name:"monitoring_fauna_capture_other_details",label:"Provide other details relating to fauna capture."}],other:[{type:"label",name:"monitoring_non_capture_method",label:"Please select any non-capture survey method you will be using"},{conditions:{on:[{conditions:{on:[{type:"text_area",name:"monitoring_transmitter_type",label:"Transmitter type, make and model, and construction material"},{type:"text",name:"monitoring_transmitter_max_weight",label:"Maximum weight of transmitter and attachment materials"},{type:"text",name:"monitoring_transmitter_attachment_method",label:"Method of attachment to animal"},{type:"text",name:"monitoring_transmitter_min_distance",label:"What will be the minimum distance from the animal??"},{type:"number",name:"monitoring_transmitter_num_attachment_attempts",label:"How many attempts to attach will be made per individual animal?"},{type:"text",name:"monitoring_transmitter_attachment_length",label:"How long will the transmitter remain attached to the animal?"}]},type:"checkbox",name:"monitoring_transmitter",label:"Transmitter"},{conditions:{on:[{type:"text_area",name:"monitoring_what_samples",label:"What samples will be collected?"},{type:"text_area",name:"monitoring_sample_how_collected",label:"How will samples be collected?"},{type:"text",name:"monitoring_samples_min_distance",label:"What will be the minimum distance from the animal?"},{type:"number",name:"monitoring_samples_num_attachment_attempts",label:"How many attempts to attach will be made per individual animal?"}]},type:"checkbox",name:"monitoring_samples",label:"Samples"}]},type:"checkbox",name:"monitoring_transmitters_samples",label:"Attachment of transmitters and collection of samples from a distance"},{conditions:{on:[{type:"text_area",name:"monitoring_visual_observation_details",label:"Please provide Details"}]},type:"checkbox",name:"monitoring_visual_observation",label:"Visual observation"},{conditions:{on:[{type:"text_area",name:"monitoring_aural_details",label:"Please provide Details"},{conditions:{yes:[{type:"text_area",name:"monitoring_call_playback_details",label:"Please provide Details"}]},options:[{value:"yes",label:"Yes"},{value:"no",label:"No"}],type:"radiobuttons",name:"monitoring_call_playback",label:"Will call play-back be used?"}]},type:"checkbox",name:"monitoring_aural",label:"Aural"},{conditions:{on:[{type:"text_area",name:"monitoring_bird_census_details",label:"Please provide Details"}]},type:"checkbox",name:"monitoring_bird_census",label:"Bird Census"},{conditions:{on:[{type:"text_area",name:"monitoring_spotlighting_details",label:"Please provide Details"}]},type:"checkbox",name:"monitoring_spotlighting",label:"Spotlighting / head torching"},{conditions:{on:[{type:"text_area",name:"monitoring_hair_tubes_details",label:"Please provide Details"}]},type:"checkbox",name:"monitoring_hair_tubes",label:"Hair tubes / sticky wicket"},{conditions:{on:[{type:"text_area",name:"monitoring_secondary_signs_details",label:"Please provide Details"}]},type:"checkbox",name:"monitoring_secondary_signs",label:"Secondary signs / evidence"},{conditions:{on:[{type:"text_area",name:"monitoring_habitat_assessment_details",label:"Please provide Details"}]},type:"checkbox",name:"monitoring_habitat_assessment",label:"Habitat Assessment"},{conditions:{on:[{type:"text_area",name:"monitoring_non_capture_other_details",label:"Please provide Details"}]},type:"checkbox",name:"monitoring_non_capture_other",label:"Other"}],remote_sensing:[{type:"label",name:"monitoring_remote_sensing_apparatus",label:"What remote sensing apparatus will you be using?"},{conditions:{on:[{conditions:{yes:[{type:"text",name:"monitoring_what_bait",label:"What bait will be used?"},{options:[{value:"yes",label:"Yes"},{value:"no",label:"No"}],type:"radiobuttons",name:"monitoring_bait_consumable",label:"Will the bait be consumable?"},{options:[{value:"yes",label:"Yes"},{value:"no",label:"No"}],type:"radiobuttons",name:"monitoring_bait_replenished",label:"Will the bait be replenished?"}]},options:[{value:"yes",label:"Yes"},{value:"no",label:"No"}],type:"radiobuttons",name:"monitoring_camera_baited",label:"Will cameras be baited with an attractant/lure?"},{children:[{type:"text",name:"monitoring_camera_make",label:"Make"},{type:"number",name:"monitoring_num_cameras",label:"Number of devices"},{type:"text_area",name:"monitoring_camera_placement",label:"Camera Placement"},{type:"text",name:"monitoring_camera_situ",label:"How long in situ"},{type:"text",name:"monitoring_camera_other_details",label:"Other details"}],isRepeatable:!0,type:"group",name:"monitoring_camera_information",label:"Camera Information"}]},type:"checkbox",name:"monitoring_camera",label:"Camera"},{conditions:{on:[{children:[{type:"text",name:"monitoring_ubd_make",label:"Make"},{type:"number",name:"monitoring_num_ubds",label:"Number of devices"},{type:"text",name:"monitoring_ubd_placement",label:"Ultrasonic bat detector Placement"},{type:"text",name:"monitoring_ubd_situ",label:"How long in situ"},{type:"text",name:"monitoring_ubd_other_details",label:"Other details"}],isRepeatable:!0,type:"group",name:"monitoring_ultrasonic_bat_detector_information",label:"Ultrasonic Bat Detector Information"}]},type:"checkbox",name:"monitoring_ultrasonic_bat_detector",label:"Ultrasonic bat detector"},{conditions:{on:[{children:[{type:"text",name:"monitoring_ac_make",label:"Make"},{type:"number",name:"monitoring_num_acs",label:"Number of devices"},{type:"text",name:"monitoring_ac_placement",label:"Acoustic recorder Placement"},{type:"text",name:"monitoring_ac_situ",label:"How long in situ"},{type:"text",name:"monitoring_ac_other_details",label:"Other details"}],isRepeatable:!0,type:"group",name:"monitoring_acoustic_call_recorder_information",label:"Acoustic recorder Information"}]},type:"checkbox",name:"monitoring_acoustic_call_recorder",label:"Acoustic recorder"},{conditions:{on:[{children:[{type:"text",name:"monitoring_aerial_make",label:"Make"},{type:"number",name:"monitoring_num_aerials",label:"Number of devices"},{type:"text",name:"monitoring_aerial_placement",label:"Aerial Placement"},{type:"text",name:"monitoring_aerial_situ",label:"How long in situ"},{type:"text",name:"monitoring_aerial_other_details",label:"Other details"}],type:"group",name:"monitoring_aerial_information",label:"Aerial Information"}]},type:"checkbox",name:"monitoring_aerial",label:"Aerial"},{type:"text_area",name:"monitoring_remote_sensing_other_details",label:"Provide any other details relating to remote sensing."}]},options:[{value:"capture",label:"Capture"},{value:"remote_sensing",label:"Remote Sensing"},{value:"other",label:"Other non-capture"}],type:"radiobuttons",name:"monitoring_method",label:"What monitoring method will you be using?"}]}],survey:[{type:"number",name:"survey_num_survey_locations",label:"How many locations will be surveyed?"},{options:[{value:"yes",label:"Yes"},{value:"no",label:"No"},{value:"unsure",label:"Unsure"}],type:"radiobuttons",name:"survey_locations_calm_land",label:"Are any locations on CALM Act land?"},{name:"survey_survey_details",isRepeatable:!0,help_text:"If multiple survey locations; provide details separately for each location and add an additional location after the methods section for the first location.",label:"Survey Details",type:"group",children:[{type:"text_area",name:"survey_address",label:"Location / Address"},{type:"text",name:"survey_coordinates",label:"Coordinate / GPS"},{children:[{type:"date",name:"survey_field_session_start_date",label:"Start Date"},{type:"date",name:"survey_field_session_end_date",label:"End Date"}],isRepeatable:!0,type:"group",name:"survey_field_session",label:"Field session"},{type:"text",name:"survey_field_dates_unknown",label:"If field dates are unknown, use anticipated field dates in the start and end date above and explain below."},{name:"survey_interval_regularity",type:"select",label:"Interval Regularity",conditions:{other:[{type:"text",name:"survey_regular_intervals_other",label:"Please Specify"}]},options:[{value:"not_regular_intervals",label:"Not regular intervals"},{value:"weekly",label:"Weekly"},{value:"fortnightly",label:"Fortnightly"},{value:"monthly",label:"Monthly"},{value:"quarterly",label:"Quarterly/Seasonally"},{value:"biannually",label:"Biannually/Six-monthly"},{value:"annually",label:"Annually"},{value:"biennually",label:"Biennially/Every two years"},{value:"other",label:"Other"}],defaultBlank:!1},{conditions:{yes:[{children:[{type:"text",name:"survey_tf_group_name",label:"Group name"},{speciesType:"fauna",type:"species",name:"survey_tf_scientific_name",label:"Scientific or common name"}],isRepeatable:!0,type:"group",name:"survey_threatened_fauna",label:"Threatened Fauna"}]},options:[{value:"yes",label:"Yes"},{value:"no",label:"No"},{value:"unknown",label:"Unknown"}],type:"radiobuttons",name:"survey_threatened_priority_fauna",label:"Will your activity possibly interact with any threatened or priority fauna (including non-target species)?"},{options:[{value:"yes",label:"Yes"},{value:"no",label:"No"}],type:"radiobuttons",name:"survey_standard_operating_procedures",label:"Will your activities be in accordance with Parks and Wildlife standard operating procedures?"},{options:[{value:"yes",label:"Yes"},{value:"no",label:"No"}],type:"radiobuttons",name:"survey_epa_statements",label:"Will your activities be in accordance with EPA Guidance Statements, Position Statements or Technical Reports?"},{conditions:{yes:[{type:"text",name:"survey_sops_details",label:"Provide details"},{type:"file",name:"survey_sops_documents",label:"Attach a copy of the relevent document(s)"}]},options:[{value:"yes",label:"Yes"},{value:"no",label:"No"}],type:"radiobuttons",name:"survey_sops",label:"Will your activities be in accordance with any other SOPs, protocols, guidelines or manuals?"},{type:"label",name:"survey_survey_type",label:"What survey type will you be conducting?"},{conditions:{on:[{conditions:{capture:[{conditions:{net:[{type:"number",name:"survey_level_1_num_net_sites",label:"What is the number of sites where nets will be used?"},{type:"number",name:"survey_level_1_num_net_days",label:"How many days/nights will nets be used?"},{type:"number",name:"survey_level_1_num_net_sessions",label:"How many sessions will nets be used?"},{type:"number",name:"survey_level_1_num_nets_per_session",label:"Total number of nets per session?"},{type:"number",name:"survey_level_1_max_num_nets_per_session_per_site",label:"Maximum total number of nets per site per session?"},{type:"text_area",name:"survey_level_1_different_num_nets_per_session_or_site_explanation",label:"If the number of nets differs between sessions or sites then explain"},{type:"label",name:"survey_level_1_nets",label:"Nets"},{conditions:{on:[{type:"text",name:"survey_level_1_sweep_make",label:"Make"},{type:"text",name:"survey_level_1_sweep_size",label:"Size"},{type:"number",name:"survey_level_1_num_sweeps",label:"Number of nets"},{type:"text",name:"survey_level_1_sweep_placement",label:"Net Placement"},{type:"text",name:"survey_level_1_sweep_setting_times",label:"Setting times"},{type:"text",name:"survey_level_1_sweep_other_details",label:"Other details"}]},type:"checkbox",name:"survey_level_1_sweep",label:"Sweep"},{conditions:{on:[{type:"text",name:"survey_level_1_mist_make",label:"Make"},{type:"text",name:"survey_level_1_mist_size",label:"Size"},{type:"number",name:"survey_level_1_num_mists",label:"Number of nets"},{type:"text",name:"survey_level_1_mist_placement",label:"Net Placement"},{type:"text",name:"survey_level_1_mist_setting_times",label:"Setting times"},{type:"text",name:"survey_level_1_mist_other_details",label:"Other details"}]},type:"checkbox",name:"survey_level_1_mist",label:"Mist"},{conditions:{on:[{type:"text",name:"survey_level_1_harp_make",label:"Make"},{type:"text",name:"survey_level_1_harp_size",label:"Size"},{type:"number",name:"survey_level_1_num_harps",label:"Number of nets"},{type:"text",name:"survey_level_1_harp_placement",label:"Net Placement"},{type:"text",name:"survey_level_1_harp_setting_times",label:"Setting times"},{type:"text",name:"survey_level_1_harp_other_details",label:"Other details"}]},type:"checkbox",name:"survey_level_1_harp",label:"Harp"},{conditions:{on:[{type:"text",name:"survey_level_1_net_type_other",label:"Enter details"},{type:"text",name:"survey_level_1_net_other_make",label:"Make"},{type:"text",name:"survey_level_1_net_other_size",label:"Size"},{type:"number",name:"survey_level_1_net_other_num_nets",label:"Number of nets"},{type:"text",name:"survey_level_1_net_other_placement",label:"Net Placement"},{type:"text",name:"survey_level_1_net_other_setting_times",label:"Setting times"},{type:"text",name:"survey_level_1_net_other_other_details",label:"Other details"}]},type:"checkbox",name:"survey_level_1_net_other",label:"Other"}],other:[{type:"text_area",name:"survey_level_1_other_capture_methodology",label:"Provide details of your fauna capture methodology if it doesnt fit within previous questions for trap, net or hand capture techniques."}],trap:[{type:"number",name:"survey_level_1_num_trap_sites",label:"What is the number of trap sites?"},{type:"number",name:"survey_level_1_num_traps_open_days",label:"How many days/nights will traps be open?"},{type:"number",name:"survey_level_1_num_trap_sessions",label:"How many trapping sessions?"},{type:"number",name:"survey_level_1_num_traps_per_session",label:"Total number of traps per session?"},{type:"number",name:"survey_level_1_max_num_traps_per_session_per_site",label:"Maximum total number of traps per site per session?"},{type:"text_area",name:"survey_level_1_different_num_traps_per_session_or_site_explanation",label:"If the number of traps differs between sessions or sites, enter the highest number in the questions above, and explain differences below."},{type:"label",name:"survey_level_1_traps",label:"Traps"},{conditions:{on:[{type:"text",name:"survey_level_1_cage_make",label:"Make"},{type:"text",name:"survey_level_1_cage_size",label:"Size"},{type:"number",name:"survey_level_1_num_cages",label:"Number of traps"},{type:"text",name:"survey_level_1_cage_placement",label:"Cage Placement"},{type:"text",name:"survey_level_1_cage_setting_times",label:"Setting times"},{type:"text",name:"survey_level_1_cage_other_details",label:"Other details"}]},type:"checkbox",name:"survey_level_1_cage",label:"Cage"},{conditions:{on:[{type:"text",name:"survey_level_1_box_make",label:"Make"},{type:"text",name:"survey_level_1_box_size",label:"Size"},{type:"number",name:"survey_level_1_num_boxs",label:"Number of traps"},{type:"text",name:"survey_level_1_box_placement",label:"Box Placement"},{type:"text",name:"survey_level_1_box_setting_times",label:"Setting times"},{type:"text",name:"survey_level_1_box_other_details",label:"Other details"}]},type:"checkbox",name:"survey_level_1_box",label:"Box"},{conditions:{on:[{type:"text",name:"survey_level_1_dry_pit_make",label:"Make"},{type:"text",name:"survey_level_1_dry_pit_size",label:"Size"},{type:"number",name:"survey_level_1_num_dry_pits",label:"Number of traps"},{type:"text",name:"survey_level_1_dry_pit_placement",label:"Dry Pit Placement"},{type:"text",name:"survey_level_1_dry_pit_setting_times",label:"Setting times"},{type:"text",name:"survey_level_1_dry_pit_other_details",label:"Other details"}]},type:"checkbox",name:"survey_level_1_dry_pit",label:"Dry Pit"},{conditions:{on:[{type:"text",name:"survey_level_1_funnel_make",label:"Make"},{type:"text",name:"survey_level_1_funnel_size",label:"Size"},{type:"number",name:"survey_level_1_num_funnels",label:"Number of traps"},{type:"text",name:"survey_level_1_funnel_placement",label:"Funnel Placement"},{type:"text",name:"survey_level_1_funnel_setting_times",label:"Setting times"},{type:"text",name:"survey_level_1_funnel_other_details",label:"Other details"}]},type:"checkbox",name:"survey_level_1_funnel",label:"Funnel"},{conditions:{on:[{type:"text",name:"survey_level_1_trap_type_other",label:"Enter details"},{type:"text",name:"survey_level_1_trap_other_make",label:"Make"},{type:"text",name:"survey_level_1_trap_other_size",label:"Size"},{type:"number",name:"survey_level_1_trap_other_num_traps",label:"Number of traps"},{type:"text",name:"survey_level_1_trap_other_placement",label:"Trap Placement"},{type:"text",name:"survey_level_1_trap_other_setting_times",label:"Setting times"},{type:"text",name:"survey_level_1_trap_other_other_details",label:"Other details"}]},type:"checkbox",name:"survey_level_1_trap_other",label:"Other"}],hand:[{type:"label",name:"survey_level_1_hand_capture_techniques",label:"What hand capture techniques will you be using?"},{conditions:{on:[{type:"text_area",name:"survey_level_1_hook_and_bag_details",label:"Please Provide Details"}]},type:"checkbox",name:"survey_level_1_hook_and_bag",label:"Hook and Bag"},{conditions:{on:[{type:"text_area",name:"survey_level_1_Noose_details",label:"Please Provide Details"}]},type:"checkbox",name:"survey_level_1_noose",label:"Noose"},{conditions:{on:[{type:"text_area",name:"survey_level_1_foraging_details",label:"Please Provide Details"}]},type:"checkbox",name:"survey_level_1_foraging",label:"Foraging"},{conditions:{on:[{type:"text_area",name:"survey_level_1_raking_details",label:"Please Provide Details"}]},type:"checkbox",name:"survey_level_1_raking",label:"Raking"},{conditions:{on:[{type:"text_area",name:"survey_level_1_sieving_details",label:"Please Provide Details"}]},type:"checkbox",name:"survey_level_1_sieving",label:"Sieving"},{conditions:{on:[{type:"text_area",name:"survey_level_1_excavation_details",label:"Please Provide Details"}]},type:"checkbox",name:"survey_level_1_excavation",label:"Excavation"},{conditions:{on:[{type:"text_area",name:"survey_level_1_excavation_details",label:"Please Provide Details"}]},type:"checkbox",name:"survey_level_1_other_hand_capture_techniques",label:"Other"}]},options:[{value:"trap",label:"Trap"},{value:"net",label:"Net"},{value:"hand",label:"Hand"},{value:"other",label:"Other"}],type:"radiobuttons",name:"survey_level_1_capture_method",label:"Capture Method"},{type:"label",name:"survey_level_1_fate",label:"What will be the fate(s) of the fauna captured?"},{conditions:{on:[{options:[{value:"immediately",label:"Immediately after species idenfication"},{value:"after_morphometrics",label:"After morphometrics and physical condition taken"},{value:"after_samples",label:"After samples taken"},{value:"after_marking",label:"After marking"},{value:"after_temp_holding",label:"After temporary holding (< 24 hours)"}],type:"select",name:"survey_level_1_release_schedule",label:"Release Schedule"},{type:"label",name:"survey_level_1_pre_release_occurences",label:"Which of the following will occur before release?"},{conditions:{on:[{type:"label",name:"survey_level_1_mophometrics_recorded",label:"What morphometrics and condition details will be recorded?"},{type:"checkbox",name:"survey_level_1_mophometric_length",label:"Length"},{type:"checkbox",name:"survey_level_1_mophometric_sex",label:"Sex"},{type:"checkbox",name:"survey_level_1_mophometric_age",label:"Age"},{type:"checkbox",name:"survey_level_1_mophometric_body_condition",label:"Body condition"},{type:"checkbox",name:"survey_level_1_mophometric_reproductive_condition",label:"Reproductive condition"},{conditions:{on:[{type:"text_area",name:"survey_level_1_mophometric_other_details",label:"Please provide details"}]},type:"checkbox",name:"survey_level_1_mophometric_other",label:"Other"},{type:"text_area",name:"survey_level_1_mophometric_other_details",label:"Provide any other details relating to measurements and condition"}]},type:"checkbox",name:"survey_level_1_mophometrics",label:"Mophometrics and physical condition analysis"},{conditions:{on:[{type:"label",name:"survey_level_1_samples",label:"What samples will be taken?"},{conditions:{on:[{type:"text_area",name:"survey_level_1_tissue_details",label:"Please provide details"}]},type:"checkbox",name:"survey_level_1_tissue",label:"Tissue"},{conditions:{on:[{type:"text_area",name:"survey_level_1_scale_details",label:"Please provide details"}]},type:"checkbox",name:"survey_level_1_scale",label:"Scale"},{conditions:{on:[{type:"text_area",name:"survey_level_1_hair_feather_details",label:"Please provide details"}]},type:"checkbox",name:"survey_level_1_hair_feather",label:"Hair / feather"},{conditions:{on:[{type:"text_area",name:"survey_level_1_blood_details",label:"Please provide details"}]},type:"checkbox",name:"survey_level_1_blood",label:"Blood"},{conditions:{on:[{type:"text_area",name:"survey_level_1_swabs_details",label:"Please provide details"}]},type:"checkbox",name:"survey_level_1_swabs",label:"Swabs"},{conditions:{on:[{type:"text_area",name:"survey_level_1_samples_other_details",label:"Please provide details"}]},type:"checkbox",name:"survey_level_1_samples_other",label:"Other"}]},type:"checkbox",name:"survey_level_1_sampling",label:"Sampling"},{conditions:{on:[{conditions:{permanent:[{conditions:{on:[{type:"text_area",name:"survey_level_1_tags_details",label:"Please provide details"}]},type:"checkbox",name:"survey_level_1_tags",label:"Tags"},{conditions:{on:[{type:"text_area",name:"survey_level_1_microchips_details",label:"Please provide details"}]},type:"checkbox",name:"survey_level_1_microchips",label:"Microchips / implants"},{conditions:{on:[{type:"text_area",name:"survey_level_1_bands_details",label:"Please provide details"}]},type:"checkbox",name:"survey_level_1_bands",label:"Bands"},{conditions:{on:[{type:"text_area",name:"survey_level_1_ear_punching_details",label:"Please provide details"}]},type:"checkbox",name:"survey_level_1_ear_punching",label:"Ear punching"},{conditions:{on:[{type:"text_area",name:"survey_level_1_marking_other_details",label:"Please provide details"}]},type:"checkbox",name:"survey_level_1_marking_other",label:"Other"}]},options:[{value:"temporary",label:"Temporary"},{value:"permanent",label:"Permanent"}],type:"select",name:"survey_level_1_marking",label:"What marking will be done and why?"}]},type:"checkbox",name:"survey_level_1_marking",label:"Marking"},{conditions:{on:[{type:"text_area",name:"survey_level_1_why_temporarily_held",label:"Why will/may the fauna be temporarily held?"},{type:"text_area",name:"survey_level_1_how_temporarily_held",label:"How will the fauna be held?"},{type:"text_area",name:"survey_level_1_where_temporarily_held",label:"Where will the fauna be held?"},{type:"text_area",name:"survey_level_1_transported_details",label:"If fauna will be transported, provide details?"},{conditions:{other:[{type:"text_area",name:"survey_level_1_fauna_release_other_details",label:"Please provide details"}]},options:[{value:"at_capture_site",label:"At capture site"},{value:"near_capture_site",label:"Near capture site into suitable habitat"},{value:"other",label:"Other"}],type:"select",name:"survey_level_1_where_fauna_released",label:"Where will the fauna be released?"}]},type:"checkbox",name:"survey_level_1_temporary_holding",label:"Temporary Holding"}]},type:"checkbox",name:"survey_level_1_release",label:"Release"},{conditions:{on:[{type:"text_area",name:"survey_level_1_why_fauna_retained",label:"Why does the fauna need to be retained?"},{type:"text_area",name:"survey_level_1_what_fauna_retained",label:"What fauna could be retained?"},{type:"number",name:"survey_level_1_num_fauna_retained",label:"If fauna is to be retained, how many animals?"},{conditions:{yes:[{type:"text_area",name:"survey_level_1_euthanise_method",label:"Method"}]},options:[{value:"yes",label:"Yes"},{value:"no",label:"No"}],type:"radiobuttons",name:"survey_level_1_fauna_euthanised",label:"Will fauna be euthanised?"},{type:"text",name:"survey_level_1_where_specimen_stored",label:"Where will the specimen(s) be held/lodged/stored?"},{type:"text_area",name:"survey_level_1_mesuem_storage_details",label:"If specimen is to be deposited at the WA Museum, will the Museum be contacted prior to the fauna being retained or did the Museum request the specimen?"}]},type:"checkbox",name:"survey_level_1_retain",label:"Retain"},{type:"text_area",name:"survey_level_1_unforseen_injury_dealings",label:"Describe how unforeseen injuries or other related issues will be dealt with."},{type:"text_area",name:"survey_level_1_hygiene_disease_considerations",label:"Provide details of field hygiene and wildlife disease considerations."},{type:"text_area",name:"survey_level_1_fauna_capture_other_details",label:"Provide other details relating to fauna capture."}],other:[{type:"label",name:"survey_level_1_non_capture_method",label:"Please select any non-capture survey method you will be using"},{conditions:{on:[{type:"text_area",name:"survey_level_1_aural_survey_details",label:"Please provide Details"},{conditions:{yes:[{type:"text_area",name:"survey_level_1_call_playback_details",label:"Please provide Details"}]},options:[{value:"yes",label:"Yes"},{value:"no",label:"No"}],type:"radiobuttons",name:"survey_level_1_call_playback",label:"Will call play-back be used?"}]},type:"checkbox",name:"survey_level_1_aural_survey",label:"Aural survey"},{conditions:{on:[{type:"text_area",name:"survey_level_1_bird_census_details",label:"Please provide Details"}]},type:"checkbox",name:"survey_level_1_bird_census",label:"Bird Census"},{conditions:{on:[{type:"text_area",name:"survey_level_1_spotlighting_details",label:"Please provide Details"}]},type:"checkbox",name:"survey_level_1_spotlighting",label:"Spotlighting / head torching"},{conditions:{on:[{type:"text_area",name:"survey_level_1_hair_tubes_details",label:"Please provide Details"}]},type:"checkbox",name:"survey_level_1_hair_tubes",label:"Hair tubes / sticky wicket"},{conditions:{on:[{type:"text_area",name:"survey_level_1_secondary_signs_details",label:"Please provide Details"}]},type:"checkbox",name:"survey_level_1_secondary_signs",label:"Secondary signs / evidence"},{conditions:{on:[{type:"text_area",name:"survey_level_1_habitat_assessment_details",label:"Please provide Details"}]},type:"checkbox",name:"survey_level_1_habitat_assessment",label:"Habitat Assessment"},{conditions:{on:[{type:"text_area",name:"survey_level_1_non_capture_other_details",label:"Please provide Details"}]},type:"checkbox",name:"survey_level_1_non_capture_other",label:"Other"}],remote_sensing:[{type:"label",name:"survey_level_1_remote_sensing_apparatus",label:"What remote sensing apparatus will you be using?"},{conditions:{on:[{conditions:{yes:[{type:"text",name:"survey_level_1_what_bait",label:"What bait will be used?"},{options:[{value:"yes",label:"Yes"},{value:"no",label:"No"}],type:"radiobuttons",name:"survey_level_1_bait_consumable",label:"Will the bait be consumable?"},{options:[{value:"yes",label:"Yes"},{value:"no",label:"No"}],type:"radiobuttons",name:"survey_level_1_bait_replenished",label:"Will the bait be replenished?"}]},options:[{value:"yes",label:"Yes"},{value:"no",label:"No"}],type:"radiobuttons",name:"survey_level_1_camera_baited",label:"Will cameras be baited with an attractant/lure?"},{children:[{type:"text",name:"survey_level_1_camera_make",label:"Make"},{type:"number",name:"survey_level_1_num_cameras",label:"Number of devices"},{type:"text_area",name:"survey_level_1_camera_placement",label:"Camera Placement"},{type:"text",name:"survey_level_1_camera_situ",label:"How long in situ"},{type:"text",name:"survey_level_1_camera_other_details",label:"Other details"}],isRepeatable:!0,type:"group",name:"survey_level_1_camera_information",label:"Camera Information"}]},type:"checkbox",name:"survey_level_1_camera",label:"Camera"},{conditions:{on:[{children:[{type:"text",name:"survey_level_1_ubd_make",label:"Make"},{type:"number",name:"survey_level_1_num_ubds",label:"Number of devices"},{type:"text",name:"survey_level_1_ubd_placement",label:"Ultrasonic bat detector Placement"},{type:"text",name:"survey_level_1_ubd_situ",label:"How long in situ"},{type:"text",name:"survey_level_1_ubd_other_details",label:"Other details"}],isRepeatable:!0,type:"group",name:"survey_level_1_ultrasonic_bat_detector_information",label:"Ultrasonic Bat Detector Information"}]},type:"checkbox",name:"survey_level_1_ultrasonic_bat_detector",label:"Ultrasonic bat detector"},{conditions:{on:[{children:[{type:"text",name:"survey_level_1_acr_make",label:"Make"},{type:"number",name:"survey_level_1_num_acrs",label:"Number of devices"},{type:"text",name:"survey_level_1_acr_placement",label:"Acoustic call recorder Placement"},{type:"text",name:"survey_level_1_acr_situ",label:"How long in situ"},{type:"text",name:"survey_level_1_acr_other_details",label:"Other details"}],isRepeatable:!0,type:"group",name:"survey_level_1_acoustic_call_recorder_information",label:"Acoustic call recorder Information"}]},type:"checkbox",name:"survey_level_1_acoustic_call_recorder",label:"Acoustic call recorder"},{conditions:{on:[{children:[{type:"text",name:"survey_level_1_aerial_make",label:"Make"},{type:"number",name:"survey_level_1_num_aerials",label:"Number of devices"},{type:"text",name:"survey_level_1_aerial_placement",label:"Aerial Placement"},{type:"text",name:"survey_level_1_aerial_situ",label:"How long in situ"},{type:"text",name:"survey_level_1_aerial_other_details",label:"Other details"}],type:"group",name:"survey_level_1_aerial_information",label:"Aerial Information"}]},type:"checkbox",name:"survey_level_1_aerial",label:"Aerial"},{type:"text_area",name:"survey_level_1_remote_sensing_other_details",label:"Provide any other details relating to remote sensing."}]},options:[{value:"capture",label:"Capture"},{value:"remote_sensing",label:"Remote Sensing"},{value:"other",label:"Other non-capture"}],type:"radiobuttons",name:"survey_level_1_survey_method",label:"What survey method will you be using?"}]},type:"checkbox",name:"survey_level_1_reconnaissance",label:"Level 1 / reconnaissance"},{conditions:{on:[{conditions:{capture:[{conditions:{net:[{type:"number",name:"survey_level_2_num_net_sites",label:"What is the number of sites where nets will be used?"},{type:"number",name:"survey_level_2_num_net_days",label:"How many days/nights will nets be used?"},{type:"number",name:"survey_level_2_num_net_sessions",label:"How many sessions will nets be used?"},{type:"number",name:"survey_level_2_num_nets_per_session",label:"Total number of nets per session?"},{type:"number",name:"survey_level_2_max_num_nets_per_session_per_site",label:"Maximum total number of nets per site per session?"},{type:"text_area",name:"survey_level_2_different_num_nets_per_session_or_site_explanation",label:"If the number of nets differs between sessions or sites then explain"},{type:"label",name:"survey_level_2_nets",label:"Nets"},{conditions:{on:[{type:"text",name:"survey_level_2_sweep_make",label:"Make"},{type:"text",name:"survey_level_2_sweep_size",label:"Size"},{type:"number",name:"survey_level_2_num_sweeps",label:"Number of nets"},{type:"text",name:"survey_level_2_sweep_placement",label:"Net Placement"},{type:"text",name:"survey_level_2_sweep_setting_times",label:"Setting times"},{type:"text",name:"survey_level_2_sweep_other_details",label:"Other details"}]},type:"checkbox",name:"survey_level_2_sweep",label:"Sweep"},{conditions:{on:[{type:"text",name:"survey_level_2_mist_make",label:"Make"},{type:"text",name:"survey_level_2_mist_size",label:"Size"},{type:"number",name:"survey_level_2_num_mists",label:"Number of nets"},{type:"text",name:"survey_level_2_mist_placement",label:"Net Placement"},{type:"text",name:"survey_level_2_mist_setting_times",label:"Setting times"},{type:"text",name:"survey_level_2_mist_other_details",label:"Other details"}]},type:"checkbox",name:"survey_level_2_mist",label:"Mist"},{conditions:{on:[{type:"text",name:"survey_level_2_harp_make",label:"Make"},{type:"text",name:"survey_level_2_harp_size",label:"Size"},{type:"number",name:"survey_level_2_num_harps",label:"Number of nets"},{type:"text",name:"survey_level_2_harp_placement",label:"Net Placement"},{type:"text",name:"survey_level_2_harp_setting_times",label:"Setting times"},{type:"text",name:"survey_level_2_harp_other_details",label:"Other details"}]},type:"checkbox",name:"survey_level_2_harp",label:"Harp"},{conditions:{on:[{type:"text",name:"survey_level_2_net_type_other",label:"Enter details"},{type:"text",name:"survey_level_2_net_other_make",label:"Make"},{type:"text",name:"survey_level_2_net_other_size",label:"Size"},{type:"number",name:"survey_level_2_net_other_num_nets",label:"Number of nets"},{type:"text",name:"survey_level_2_net_other_placement",label:"Net Placement"},{type:"text",name:"survey_level_2_net_other_setting_times",label:"Setting times"},{type:"text",name:"survey_level_2_net_other_other_details",label:"Other details"}]},type:"checkbox",name:"survey_level_2_net_other",label:"Other"}],other:[{type:"text_area",name:"survey_level_2_other_capture_methodology",label:"Provide details of your fauna capture methodology if it doesnt fit within previous questions for trap, net or hand capture techniques."}],trap:[{type:"number",name:"survey_level_2_num_trap_sites",label:"What is the number of trap sites?"},{type:"number",name:"survey_level_2_num_traps_open_days",label:"How many days/nights will traps be open?"},{type:"number",name:"survey_level_2_num_trap_sessions",label:"How many trapping sessions?"},{type:"number",name:"survey_level_2_num_traps_per_session",label:"Total number of traps per session?"},{type:"number",name:"survey_level_2_max_num_traps_per_session_per_site",label:"Maximum total number of traps per site per session?"},{type:"text_area",name:"survey_level_2_different_num_traps_per_session_or_site_explanation",label:"If the number of traps differs between sessions or sites, enter the highest number in the questions above, and explain differences below."},{type:"label",name:"survey_level_2_traps",label:"Traps"},{conditions:{on:[{type:"text",name:"survey_level_2_cage_make",label:"Make"},{type:"text",name:"survey_level_2_cage_size",label:"Size"},{type:"number",name:"survey_level_2_num_cages",label:"Number of traps"},{type:"text",name:"survey_level_2_cage_placement",label:"Cage Placement"},{type:"text",name:"survey_level_2_cage_setting_times",label:"Setting times"},{type:"text",name:"survey_level_2_cage_other_details",label:"Other details"}]},type:"checkbox",name:"survey_level_2_cage",label:"Cage"},{conditions:{on:[{type:"text",name:"survey_level_2_box_make",label:"Make"},{type:"text",name:"survey_level_2_box_size",label:"Size"},{type:"number",name:"survey_level_2_num_boxs",label:"Number of traps"},{type:"text",name:"survey_level_2_box_placement",label:"Box Placement"},{type:"text",name:"survey_level_2_box_setting_times",label:"Setting times"},{type:"text",name:"survey_level_2_box_other_details",label:"Other details"}]},type:"checkbox",name:"survey_level_2_box",label:"Box"},{conditions:{on:[{type:"text",name:"survey_level_2_dry_pit_make",label:"Make"},{type:"text",name:"survey_level_2_dry_pit_size",label:"Size"},{type:"number",name:"survey_level_2_num_dry_pits",label:"Number of traps"},{type:"text",name:"survey_level_2_dry_pit_placement",label:"Dry Pit Placement"},{type:"text",name:"survey_level_2_dry_pit_setting_times",label:"Setting times"},{type:"text",name:"survey_level_2_dry_pit_other_details",label:"Other details"}]},type:"checkbox",name:"survey_level_2_dry_pit",label:"Dry Pit"},{conditions:{on:[{type:"text",name:"survey_level_2_funnel_make",label:"Make"},{type:"text",name:"survey_level_2_funnel_size",label:"Size"},{type:"number",name:"survey_level_2_num_funnels",label:"Number of traps"},{type:"text",name:"survey_level_2_funnel_placement",label:"Funnel Placement"},{type:"text",name:"survey_level_2_funnel_setting_times",label:"Setting times"},{type:"text",name:"survey_level_2_funnel_other_details",label:"Other details"}]},type:"checkbox",name:"survey_level_2_funnel",label:"Funnel"},{conditions:{on:[{type:"text",name:"survey_level_2_trap_type_other",label:"Enter details"},{type:"text",name:"survey_level_2_trap_other_make",label:"Make"},{type:"text",name:"survey_level_2_trap_other_size",label:"Size"},{type:"number",name:"survey_level_2_trap_other_num_traps",label:"Number of traps"},{type:"text",name:"survey_level_2_trap_other_placement",label:"Trap Placement"},{type:"text",name:"survey_level_2_trap_other_setting_times",label:"Setting times"},{type:"text",name:"survey_level_2_trap_other_other_details",label:"Other details"}]},type:"checkbox",name:"survey_level_2_trap_other",label:"Other"}],hand:[{type:"label",name:"survey_level_2_hand_capture_techniques",label:"What hand capture techniques will you be using?"},{conditions:{on:[{type:"text_area",name:"survey_level_2_hook_and_bag_details",label:"Please Provide Details"}]},type:"checkbox",name:"survey_level_2_hook_and_bag",label:"Hook and Bag"},{conditions:{on:[{type:"text_area",name:"survey_level_2_Noose_details",label:"Please Provide Details"}]},type:"checkbox",name:"survey_level_2_noose",label:"Noose"},{conditions:{on:[{type:"text_area",name:"survey_level_2_foraging_details",label:"Please Provide Details"}]},type:"checkbox",name:"survey_level_2_foraging",label:"Foraging"},{conditions:{on:[{type:"text_area",name:"survey_level_2_raking_details",label:"Please Provide Details"}]},type:"checkbox",name:"survey_level_2_raking",label:"Raking"},{conditions:{on:[{type:"text_area",name:"survey_level_2_sieving_details",label:"Please Provide Details"}]},type:"checkbox",name:"survey_level_2_sieving",label:"Sieving"},{conditions:{on:[{type:"text_area",name:"survey_level_2_excavation_details",label:"Please Provide Details"}]},type:"checkbox",name:"survey_level_2_excavation",label:"Excavation"},{conditions:{on:[{type:"text_area",name:"survey_level_2_excavation_details",label:"Please Provide Details"}]},type:"checkbox",name:"survey_level_2_other_hand_capture_techniques",label:"Other"}]},options:[{value:"trap",label:"Trap"},{value:"net",label:"Net"},{value:"hand",label:"Hand"},{value:"other",label:"Other"}],type:"radiobuttons",name:"survey_level_2_capture_method",label:"Capture Method"},{type:"label",name:"survey_level_2_fate",label:"What will be the fate(s) of the fauna captured?"},{conditions:{on:[{options:[{value:"immediately",label:"Immediately after species idenfication"},{value:"after_morphometrics",label:"After morphometrics and physical condition taken"},{value:"after_samples",label:"After samples taken"},{value:"after_marking",label:"After marking"},{value:"after_temp_holding",label:"After temporary holding (< 24 hours)"}],type:"select",name:"survey_level_2_release_schedule",label:"Release Schedule"},{type:"label",name:"survey_level_2_pre_release_occurences",label:"Which of the following will occur before release?"},{conditions:{on:[{type:"label",name:"survey_level_2_mophometrics_recorded",label:"What morphometrics and condition details will be recorded?"},{type:"checkbox",name:"survey_level_2_mophometric_length",label:"Length"},{type:"checkbox",name:"survey_level_2_mophometric_sex",label:"Sex"},{type:"checkbox",name:"survey_level_2_mophometric_age",label:"Age"},{type:"checkbox",name:"survey_level_2_mophometric_body_condition",label:"Body condition"},{type:"checkbox",name:"survey_level_2_mophometric_reproductive_condition",label:"Reproductive condition"},{conditions:{on:[{type:"text_area",name:"survey_level_2_mophometric_other_details",label:"Please provide details"}]},type:"checkbox",name:"survey_level_2_mophometric_other",label:"Other"},{type:"text_area",name:"survey_level_2_mophometric_other_details",label:"Provide any other details relating to measurements and condition"}]},type:"checkbox",name:"survey_level_2_mophometrics",label:"Mophometrics and physical condition analysis"},{conditions:{on:[{type:"label",name:"survey_level_2_samples",label:"What samples will be taken?"},{conditions:{on:[{type:"text_area",name:"survey_level_2_tissue_details",label:"Please provide details"}]},type:"checkbox",name:"survey_level_2_tissue",label:"Tissue"},{conditions:{on:[{type:"text_area",name:"survey_level_2_scale_details",label:"Please provide details"}]},type:"checkbox",name:"survey_level_2_scale",label:"Scale"},{conditions:{on:[{type:"text_area",name:"survey_level_2_hair_feather_details",label:"Please provide details"}]},type:"checkbox",name:"survey_level_2_hair_feather",label:"Hair / feather"},{conditions:{on:[{type:"text_area",name:"survey_level_2_blood_details",label:"Please provide details"}]},type:"checkbox",name:"survey_level_2_blood",label:"Blood"},{conditions:{on:[{type:"text_area",name:"survey_level_2_swabs_details",label:"Please provide details"}]},type:"checkbox",name:"survey_level_2_swabs",label:"Swabs"},{conditions:{on:[{type:"text_area",name:"survey_level_2_samples_other_details",label:"Please provide details"}]},type:"checkbox",name:"survey_level_2_samples_other",label:"Other"}]},type:"checkbox",name:"survey_level_2_sampling",label:"Sampling"},{conditions:{on:[{conditions:{permanent:[{conditions:{on:[{type:"text_area",name:"survey_level_2_tags_details",label:"Please provide details"}]},type:"checkbox",name:"survey_level_2_tags",label:"Tags"},{conditions:{on:[{type:"text_area",name:"survey_level_2_microchips_details",label:"Please provide details"}]},type:"checkbox",name:"survey_level_2_microchips",label:"Microchips / implants"},{conditions:{on:[{type:"text_area",name:"survey_level_2_bands_details",label:"Please provide details"}]},type:"checkbox",name:"survey_level_2_bands",label:"Bands"},{conditions:{on:[{type:"text_area",name:"survey_level_2_ear_punching_details",label:"Please provide details"}]},type:"checkbox",name:"survey_level_2_ear_punching",label:"Ear punching"},{conditions:{on:[{type:"text_area",name:"survey_level_2_marking_other_details",label:"Please provide details"}]},type:"checkbox",name:"survey_level_2_marking_other",label:"Other"}]},options:[{value:"temporary",label:"Temporary"},{value:"permanent",label:"Permanent"}],type:"select",name:"survey_level_2_marking",label:"What marking will be done and why?"}]},type:"checkbox",name:"survey_level_2_marking",label:"Marking"},{conditions:{on:[{type:"text_area",name:"survey_level_2_why_temporarily_held",label:"Why will/may the fauna be temporarily held?"},{type:"text_area",name:"survey_level_2_how_temporarily_held",label:"How will the fauna be held?"},{type:"text_area",name:"survey_level_2_where_temporarily_held",label:"Where will the fauna be held?"},{type:"text_area",name:"survey_level_2_transported_details",label:"If fauna will be transported, provide details?"},{conditions:{other:[{type:"text_area",name:"survey_level_2_fauna_release_other_details",label:"Please provide details"}]},options:[{value:"at_capture_site",label:"At capture site"},{value:"near_capture_site",label:"Near capture site into suitable habitat"},{value:"other",label:"Other"}],type:"select",name:"survey_level_2_where_fauna_released",label:"Where will the fauna be released?"}]},type:"checkbox",name:"survey_level_2_temporary_holding",label:"Temporary Holding"}]},type:"checkbox",name:"survey_level_2_release",label:"Release"},{conditions:{on:[{type:"text_area",name:"survey_level_2_why_fauna_retained",label:"Why does the fauna need to be retained?"},{type:"text_area",name:"survey_level_2_what_fauna_retained",label:"What fauna could be retained?"},{type:"number",name:"survey_level_2_num_fauna_retained",label:"If fauna is to be retained, how many animals?"},{conditions:{yes:[{type:"text_area",name:"survey_level_2_euthanise_method",label:"Method"}]},options:[{value:"yes",label:"Yes"},{value:"no",label:"No"}],type:"radiobuttons",name:"survey_level_2_fauna_euthanised",label:"Will fauna be euthanised?"},{type:"text",name:"survey_level_2_where_specimen_stored",label:"Where will the specimen(s) be held/lodged/stored?"},{type:"text_area",name:"survey_level_2_mesuem_storage_details",label:"If specimen is to be deposited at the WA Museum, will the Museum be contacted prior to the fauna being retained or did the Museum request the specimen?"}]},type:"checkbox",name:"survey_level_2_retain",label:"Retain"},{type:"text_area",name:"survey_level_2_unforseen_injury_dealings",label:"Describe how unforeseen injuries or other related issues will be dealt with."},{type:"text_area",name:"survey_level_2_hygiene_disease_considerations",label:"Provide details of field hygiene and wildlife disease considerations."},{type:"text_area",name:"survey_level_2_fauna_capture_other_details",label:"Provide other details relating to fauna capture."}],other:[{type:"label",name:"survey_level_2_non_capture_method",label:"Please select any non-capture survey method you will be using"},{conditions:{on:[{type:"text_area",name:"survey_level_2_aural_survey_details",label:"Please provide Details"},{conditions:{yes:[{type:"text_area",name:"survey_level_2_call_playback_details",label:"Please provide Details"}]},options:[{value:"yes",label:"Yes"},{value:"no",label:"No"}],type:"radiobuttons",name:"survey_level_2_call_playback",label:"Will call play-back be used?"}]},type:"checkbox",name:"survey_level_2_aural_survey",label:"Aural survey"},{conditions:{on:[{type:"text_area",name:"survey_level_2_bird_census_details",label:"Please provide Details"}]},type:"checkbox",name:"survey_level_2_bird_census",label:"Bird Census"},{conditions:{on:[{type:"text_area",name:"survey_level_2_spotlighting_details",label:"Please provide Details"}]},type:"checkbox",name:"survey_level_2_spotlighting",label:"Spotlighting / head torching"},{conditions:{on:[{type:"text_area",name:"survey_level_2_hair_tubes_details",label:"Please provide Details"}]},type:"checkbox",name:"survey_level_2_hair_tubes",label:"Hair tubes / sticky wicket"},{conditions:{on:[{type:"text_area",name:"survey_level_2_secondary_signs_details",label:"Please provide Details"}]},type:"checkbox",name:"survey_level_2_secondary_signs",label:"Secondary signs / evidence"},{conditions:{on:[{type:"text_area",name:"survey_level_2_habitat_assessment_details",label:"Please provide Details"}]},type:"checkbox",name:"survey_level_2_habitat_assessment",label:"Habitat Assessment"},{conditions:{on:[{type:"text_area",name:"survey_level_2_non_capture_other_details",label:"Please provide Details"}]},type:"checkbox",name:"survey_level_2_non_capture_other",label:"Other"}],remote_sensing:[{type:"label",name:"survey_level_2_remote_sensing_apparatus",label:"What remote sensing apparatus will you be using?"},{conditions:{on:[{conditions:{yes:[{type:"text",name:"survey_level_2_what_bait",label:"What bait will be used?"},{options:[{value:"yes",label:"Yes"},{value:"no",label:"No"}],type:"radiobuttons",name:"survey_level_2_bait_consumable",label:"Will the bait be consumable?"},{options:[{value:"yes",label:"Yes"},{value:"no",label:"No"}],type:"radiobuttons",name:"survey_level_2_bait_replenished",label:"Will the bait be replenished?"}]},options:[{value:"yes",label:"Yes"},{value:"no",label:"No"}],type:"radiobuttons",name:"survey_level_2_camera_baited",label:"Will cameras be baited with an attractant/lure?"},{children:[{type:"text",name:"survey_level_2_camera_make",label:"Make"},{type:"number",name:"survey_level_2_num_cameras",label:"Number of devices"},{type:"text_area",name:"survey_level_2_camera_placement",label:"Camera Placement"},{type:"text",name:"survey_level_2_camera_situ",label:"How long in situ"},{type:"text",name:"survey_level_2_camera_other_details",label:"Other details"}],isRepeatable:!0,type:"group",name:"survey_level_2_camera_information",label:"Camera Information"}]},type:"checkbox",name:"survey_level_2_camera",label:"Camera"},{conditions:{on:[{children:[{type:"text",name:"survey_level_2_ubd_make",label:"Make"},{type:"number",name:"survey_level_2_num_ubds",label:"Number of devices"},{type:"text",name:"survey_level_2_ubd_placement",label:"Ultrasonic bat detector Placement"},{type:"text",name:"survey_level_2_ubd_situ",label:"How long in situ"},{type:"text",name:"survey_level_2_ubd_other_details",label:"Other details"}],isRepeatable:!0,type:"group",name:"survey_level_2_ultrasonic_bat_detector_information",label:"Ultrasonic Bat Detector Information"}]},type:"checkbox",name:"survey_level_2_ultrasonic_bat_detector",label:"Ultrasonic bat detector"},{conditions:{on:[{children:[{type:"text",name:"survey_level_2_acr_make",label:"Make"},{type:"number",name:"survey_level_2_num_acrs",label:"Number of devices"},{type:"text",name:"survey_level_2_acr_placement",label:"Acoustic call recorder Placement"},{type:"text",name:"survey_level_2_acr_situ",label:"How long in situ"},{type:"text",name:"survey_level_2_acr_other_details",label:"Other details"}],isRepeatable:!0,type:"group",name:"survey_level_2_acoustic_call_recorder_information",label:"Acoustic call recorder Information"}]},type:"checkbox",name:"survey_level_2_acoustic_call_recorder",label:"Acoustic call recorder"},{conditions:{on:[{children:[{type:"text",name:"survey_level_2_aerial_make",label:"Make"},{type:"number",name:"survey_level_2_num_aerials",label:"Number of devices"},{type:"text",name:"survey_level_2_aerial_placement",label:"Aerial Placement"},{type:"text",name:"survey_level_2_aerial_situ",label:"How long in situ"},{type:"text",name:"survey_level_2_aerial_other_details",label:"Other details"}],type:"group",name:"survey_level_2_aerial_information",label:"Aerial Information"}]},type:"checkbox",name:"survey_level_2_aerial",label:"Aerial"},{type:"text_area",name:"survey_level_2_remote_sensing_other_details",label:"Provide any other details relating to remote sensing."}]},options:[{value:"capture",label:"Capture"},{value:"remote_sensing",label:"Remote Sensing"},{value:"other",label:"Other non-capture"}],type:"radiobuttons",name:"survey_level_2_survey_method",label:"What survey method will you be using?"}]},type:"checkbox",name:"survey_comprehensive",label:"Level 2 / detailed or comprehensive"},{conditions:{on:[{conditions:{capture:[{conditions:{other:[{type:"text_area",name:"survey_sre_other_capture_methodology",label:"Provide details of your fauna capture methodology if it doesnt fit within previous questions for trap, net or hand capture techniques."}],trap:[{type:"number",name:"survey_sre_num_trap_sites",label:"What is the number of trap sites?"},{type:"number",name:"survey_sre_num_traps_open_days",label:"How many days/nights will traps be open?"},{type:"number",name:"survey_sre_num_trap_sessions",label:"How many trapping sessions?"},{type:"number",name:"survey_sre_num_traps_per_session",label:"Total number of traps per session?"},{type:"number",name:"survey_sre_max_num_traps_per_session_per_site",label:"Maximum total number of traps per site per session?"},{type:"text_area",name:"survey_sre_different_num_traps_per_session_or_site_explanation",label:"If the number of traps differs between sessions or sites, enter the highest number in the questions above, and explain differences below."},{type:"label",name:"survey_sre_traps",label:"Traps"},{conditions:{on:[{type:"text",name:"survey_sre_dry_pit_make",label:"Make"},{type:"text",name:"survey_sre_dry_pit_size",label:"Size"},{type:"number",name:"survey_sre_num_dry_pits",label:"Number of traps"},{type:"text",name:"survey_sre_dry_pit_placement",label:"Dry Pit Placement"},{type:"text",name:"survey_sre_dry_pit_setting_times",label:"Setting times"},{type:"text",name:"survey_sre_dry_pit_other_details",label:"Other details"}]},type:"checkbox",name:"survey_sre_dry_pit",label:"Dry Pit"},{conditions:{on:[{type:"text",name:"survey_sre_wet_pit_make",label:"Make"},{type:"text",name:"survey_sre_wet_pit_size",label:"Size"},{type:"number",name:"survey_sre_num_wet_pits",label:"Number of traps"},{type:"text",name:"survey_sre_wet_pit_placement",label:"Wet Pit Placement"},{type:"text",name:"survey_sre_wet_pit_setting_times",label:"Setting times"},{type:"text",name:"survey_sre_wet_pit_other_details",label:"Other details"}]},type:"checkbox",name:"survey_sre_wet_pit",label:"Wet pit"}],hand:[{type:"label",name:"survey_sre_hand_capture_techniques",label:"What hand capture techniques will you be using?"},{conditions:{on:[{type:"text_area",name:"survey_sre_hook_and_bag_details",label:"Please Provide Details"}]},type:"checkbox",name:"survey_sre_hook_and_bag",label:"Hook and Bag"},{conditions:{on:[{type:"text_area",name:"survey_sre_Noose_details",label:"Please Provide Details"}]},type:"checkbox",name:"survey_sre_noose",label:"Noose"}]},options:[{value:"trap",label:"Trap"},{value:"hand",label:"Hand"},{value:"other",label:"Other"}],type:"radiobuttons",name:"survey_sre_capture_method",label:"Capture Method"},{type:"label",name:"survey_sre_fate",label:"What will be the fate(s) of the fauna captured?"},{conditions:{on:[{options:[{value:"immediately",label:"Immediately after species idenfication"},{value:"after_morphometrics",label:"After morphometrics and physical condition taken"},{value:"after_samples",label:"After samples taken"},{value:"after_marking",label:"After marking"},{value:"after_temp_holding",label:"After temporary holding (< 24 hours)"}],type:"select",name:"survey_sre_release_schedule",label:"Release Schedule"},{type:"label",name:"survey_sre_pre_release_occurences",label:"Which of the following will occur before release?"},{conditions:{on:[{type:"label",name:"survey_sre_mophometrics_recorded",label:"What morphometrics and condition details will be recorded?"},{type:"checkbox",name:"survey_sre_mophometric_length",label:"Length"},{type:"checkbox",name:"survey_sre_mophometric_sex",label:"Sex"},{type:"checkbox",name:"survey_sre_mophometric_age",label:"Age"},{type:"checkbox",name:"survey_sre_mophometric_body_condition",label:"Body condition"},{type:"checkbox",name:"survey_sre_mophometric_reproductive_condition",label:"Reproductive condition"},{conditions:{on:[{type:"text_area",name:"survey_sre_mophometric_other_details",label:"Please provide details"}]},type:"checkbox",name:"survey_sre_mophometric_other",label:"Other"},{type:"text_area",name:"survey_sre_mophometric_other_details",label:"Provide any other details relating to measurements and condition"}]},type:"checkbox",name:"survey_sre_mophometrics",label:"Mophometrics and physical condition analysis"},{conditions:{on:[{type:"label",name:"survey_sre_samples",label:"What samples will be taken?"},{conditions:{on:[{type:"text_area",name:"survey_sre_tissue_details",label:"Please provide details"}]},type:"checkbox",name:"survey_sre_tissue",label:"Tissue"},{conditions:{on:[{type:"text_area",name:"survey_sre_scale_details",label:"Please provide details"}]},type:"checkbox",name:"survey_sre_scale",label:"Scale"},{conditions:{on:[{type:"text_area",name:"survey_sre_hair_feather_details",label:"Please provide details"}]},type:"checkbox",name:"survey_sre_hair_feather",label:"Hair / feather"},{conditions:{on:[{type:"text_area",name:"survey_sre_blood_details",label:"Please provide details"}]},type:"checkbox",name:"survey_sre_blood",label:"Blood"},{conditions:{on:[{type:"text_area",name:"survey_sre_swabs_details",label:"Please provide details"}]},type:"checkbox",name:"survey_sre_swabs",label:"Swabs"},{conditions:{on:[{type:"text_area",name:"survey_sre_samples_other_details",label:"Please provide details"}]},type:"checkbox",name:"survey_sre_samples_other",label:"Other"}]},type:"checkbox",name:"survey_sre_sampling",label:"Sampling"},{conditions:{on:[{conditions:{permanent:[{conditions:{on:[{type:"text_area",name:"survey_sre_tags_details",label:"Please provide details"}]},type:"checkbox",name:"survey_sre_tags",label:"Tags"},{conditions:{on:[{type:"text_area",name:"survey_sre_microchips_details",label:"Please provide details"}]},type:"checkbox",name:"survey_sre_microchips",label:"Microchips / implants"},{conditions:{on:[{type:"text_area",name:"survey_sre_bands_details",label:"Please provide details"}]},type:"checkbox",name:"survey_sre_bands",label:"Bands"},{conditions:{on:[{type:"text_area",name:"survey_sre_ear_punching_details",label:"Please provide details"}]},type:"checkbox",name:"survey_sre_ear_punching",label:"Ear punching"},{conditions:{on:[{type:"text_area",name:"survey_sre_marking_other_details",label:"Please provide details"}]},type:"checkbox",name:"survey_sre_marking_other",label:"Other"}]},options:[{value:"temporary",label:"Temporary"},{value:"permanent",label:"Permanent"}],type:"select",name:"survey_sre_marking",label:"What marking will be done and why?"}]},type:"checkbox",name:"survey_sre_marking",label:"Marking"},{conditions:{on:[{type:"text_area",name:"survey_sre_why_temporarily_held",label:"Why will/may the fauna be temporarily held?"},{type:"text_area",name:"survey_sre_how_temporarily_held",label:"How will the fauna be held?"},{type:"text_area",name:"survey_sre_where_temporarily_held",label:"Where will the fauna be held?"},{type:"text_area",name:"survey_sre_transported_details",label:"If fauna will be transported, provide details?"},{conditions:{other:[{type:"text_area",name:"survey_sre_fauna_release_other_details",label:"Please provide details"}]},options:[{value:"at_capture_site",label:"At capture site"},{value:"near_capture_site",label:"Near capture site into suitable habitat"},{value:"other",label:"Other"}],type:"select",name:"survey_sre_where_fauna_released",label:"Where will the fauna be released?"}]},type:"checkbox",name:"survey_sre_temporary_holding",label:"Temporary Holding"}]},type:"checkbox",name:"survey_sre_release",label:"Release"},{conditions:{on:[{type:"text_area",name:"survey_sre_why_fauna_retained",label:"Why does the fauna need to be retained?"},{type:"text_area",name:"survey_sre_what_fauna_retained",label:"What fauna could be retained?"},{type:"number",name:"survey_sre_num_fauna_retained",label:"If fauna is to be retained, how many animals?"},{conditions:{yes:[{type:"text_area",name:"survey_sre_euthanise_method",label:"Method"}]},options:[{value:"yes",label:"Yes"},{value:"no",label:"No"}],type:"radiobuttons",name:"survey_sre_fauna_euthanised",label:"Will fauna be euthanised?"},{type:"text",name:"survey_sre_where_specimen_stored",label:"Where will the specimen(s) be held/lodged/stored?"},{type:"text_area",name:"survey_sre_mesuem_storage_details",label:"If specimen is to be deposited at the WA Museum, will the Museum be contacted prior to the fauna being retained or did the Museum request the specimen?"}]},type:"checkbox",name:"survey_sre_retain",label:"Retain"},{type:"text_area",name:"survey_sre_prevent_vertebre_by_catch",label:"Describe measures that will be used to prevent/minimise vertebrate by-catch"},{type:"text_area",name:"survey_sre_hygiene_disease_considerations",label:"Provide details of field hygiene and wildlife disease considerations."},{type:"text_area",name:"survey_sre_fauna_capture_other_details",label:"Provide other details relating to fauna capture."}],other:[{type:"label",name:"survey_sre_non_capture_method",label:"Please select any non-capture survey method you will be using"},{conditions:{on:[{type:"text_area",name:"survey_sre_secondary_signs_details",label:"Please provide Details"}]},type:"checkbox",name:"survey_sre_secondary_signs",label:"Secondary signs / evidence"},{conditions:{on:[{type:"text_area",name:"survey_sre_habitat_assessment_details",label:"Please provide Details"}]},type:"checkbox",name:"survey_sre_habitat_assessment",label:"Habitat Assessment"}]},options:[{value:"capture",label:"Capture"},{value:"other",label:"Other non-capture"}],type:"radiobuttons",name:"survey_sre_survey_method",label:"What survey method will you be using?"}]},type:"checkbox",name:"survey_sre",label:"Short range endemic (SRE)"},{conditions:{on:[{conditions:{litter_trap:[{type:"number",name:"survey_subterranean_num_trap_sites",label:"What is the number of trap sites?"},{type:"number",name:"survey_subterranean_num_trap_bores",label:"What is the number of bores?"},{options:[{value:"yes",label:"Yes"},{value:"no",label:"No"}],type:"radiobuttons",name:"survey_subterranean_trap_bores_existing",label:"Are the bores existing? (yes/no)?"},{type:"number",name:"survey_subterranean_num_traps_per_bore",label:"How many traps per bore hole?"},{type:"number",name:"survey_subterranean_max_num_traps_survey",label:"Maximum total number of traps for the survey?"},{type:"text",name:"survey_subterranean_length_traps_situ",label:"How long will be traps be left in situ (days or weeks)?"},{type:"text",name:"survey_subterranean_trap_dimensions",label:"Dimensions of trap"},{type:"text",name:"survey_subterranean_trap_design",label:"Trap construction materials and design"},{type:"text",name:"survey_subterranean_trap_other_details",label:"Other details"}],other:[{type:"text_area",name:"survey_subterranean_other_capture_methodology",label:"Provide details of your fauna capture methodology if it doesnt fit within previous questions for trap or net."}],plankton_net:[{type:"number",name:"survey_subterranean_num_net_sites",label:"What is the number of net sites?"},{type:"number",name:"survey_subterranean_num_net_bores",label:"What is the number of bores?"},{options:[{value:"yes",label:"Yes"},{value:"no",label:"No"}],type:"radiobuttons",name:"survey_subterranean_net_bores_existing",label:"Are the bores existing? (yes/no)?"},{type:"number",name:"survey_subterranean_num_nets_per_bore",label:"How many net hauls per bore hole?"},{type:"number",name:"survey_subterranean_max_num_nets_survey",label:"Maximum total number of net hauls for the survey?"},{type:"text",name:"survey_subterranean_net_dimensions",label:"Dimensions of net"},{type:"text",name:"survey_subterranean_net_design",label:"Net construction materials and design"},{type:"text",name:"survey_subterranean_net_other_details",label:"Other details"}]},options:[{value:"litter_trap",label:"Trap (litter)"},{value:"plankton_net",label:"Net (plankton)"}],type:"radiobuttons",name:"survey_subterranean_capture_method",label:"Capture Method"},{type:"label",name:"survey_subterranean_fate",label:"What will be the fate(s) of the fauna captured?"},{conditions:{on:[{options:[{value:"immediately",label:"Immediately after species idenfication"},{value:"after_morphometrics",label:"After morphometrics and physical condition taken"},{value:"after_samples",label:"After samples taken"},{value:"after_marking",label:"After marking"},{value:"after_temp_holding",label:"After temporary holding (< 24 hours)"}],type:"select",name:"survey_subterranean_release_schedule",label:"Release Schedule"},{type:"label",name:"survey_subterranean_pre_release_occurences",label:"Which of the following will occur before release?"},{conditions:{on:[{type:"label",name:"survey_subterranean_mophometrics_recorded",label:"What morphometrics and condition details will be recorded?"},{type:"checkbox",name:"survey_subterranean_mophometric_length",label:"Length"},{type:"checkbox",name:"survey_subterranean_mophometric_sex",label:"Sex"},{type:"checkbox",name:"survey_subterranean_mophometric_age",label:"Age"},{type:"checkbox",name:"survey_subterranean_mophometric_body_condition",label:"Body condition"},{type:"checkbox",name:"survey_subterranean_mophometric_reproductive_condition",label:"Reproductive condition"},{conditions:{on:[{type:"text_area",name:"survey_subterranean_mophometric_other_details",label:"Please provide details"}]},type:"checkbox",name:"survey_subterranean_mophometric_other",label:"Other"},{type:"text_area",name:"survey_subterranean_mophometric_other_details",label:"Provide any other details relating to measurements and condition"}]},type:"checkbox",name:"survey_subterranean_mophometrics",label:"Mophometrics and physical condition analysis"},{conditions:{on:[{type:"label",name:"survey_subterranean_samples",label:"What samples will be taken?"},{conditions:{on:[{type:"text_area",name:"survey_subterranean_tissue_details",label:"Please provide details"}]},type:"checkbox",name:"survey_subterranean_tissue",label:"Tissue"},{conditions:{on:[{type:"text_area",name:"survey_subterranean_scale_details",label:"Please provide details"}]},type:"checkbox",name:"survey_subterranean_scale",label:"Scale"},{conditions:{on:[{type:"text_area",name:"survey_subterranean_hair_feather_details",label:"Please provide details"}]},type:"checkbox",name:"survey_subterranean_hair_feather",label:"Hair / feather"},{conditions:{on:[{type:"text_area",name:"survey_subterranean_blood_details",label:"Please provide details"}]},type:"checkbox",name:"survey_subterranean_blood",label:"Blood"},{conditions:{on:[{type:"text_area",name:"survey_subterranean_swabs_details",label:"Please provide details"}]},type:"checkbox",name:"survey_subterranean_swabs",label:"Swabs"},{conditions:{on:[{type:"text_area",name:"survey_subterranean_samples_other_details",label:"Please provide details"}]},type:"checkbox",name:"survey_subterranean_samples_other",label:"Other"}]},type:"checkbox",name:"survey_subterranean_sampling",label:"Sampling"},{conditions:{on:[{conditions:{permanent:[{conditions:{on:[{type:"text_area",name:"survey_subterranean_tags_details",label:"Please provide details"}]},type:"checkbox",name:"survey_subterranean_tags",label:"Tags"},{conditions:{on:[{type:"text_area",name:"survey_subterranean_microchips_details",label:"Please provide details"}]},type:"checkbox",name:"survey_subterranean_microchips",label:"Microchips / implants"},{conditions:{on:[{type:"text_area",name:"survey_subterranean_bands_details",label:"Please provide details"}]},type:"checkbox",name:"survey_subterranean_bands",label:"Bands"},{conditions:{on:[{type:"text_area",name:"survey_subterranean_ear_punching_details",label:"Please provide details"}]},type:"checkbox",name:"survey_subterranean_ear_punching",label:"Ear punching"},{conditions:{on:[{type:"text_area",name:"survey_subterranean_marking_other_details",label:"Please provide details"}]},type:"checkbox",name:"survey_subterranean_marking_other",label:"Other"}]},options:[{value:"temporary",label:"Temporary"},{value:"permanent",label:"Permanent"}],type:"select",name:"survey_subterranean_marking",label:"What marking will be done and why?"}]},type:"checkbox",name:"survey_subterranean_marking",label:"Marking"},{conditions:{on:[{type:"text_area",name:"survey_subterranean_why_temporarily_held",label:"Why will/may the fauna be temporarily held?"},{type:"text_area",name:"survey_subterranean_how_temporarily_held",label:"How will the fauna be held?"},{type:"text_area",name:"survey_subterranean_where_temporarily_held",label:"Where will the fauna be held?"},{type:"text_area",name:"survey_subterranean_transported_details",label:"If fauna will be transported, provide details?"},{conditions:{other:[{type:"text_area",name:"survey_subterranean_fauna_release_other_details",label:"Please provide details"}]},options:[{value:"at_capture_site",label:"At capture site"},{value:"near_capture_site",label:"Near capture site into suitable habitat"},{value:"other",label:"Other"}],type:"select",name:"survey_subterranean_where_fauna_released",label:"Where will the fauna be released?"}]},type:"checkbox",name:"survey_subterranean_temporary_holding",label:"Temporary Holding"}]},type:"checkbox",name:"survey_subterranean_release",label:"Release"},{conditions:{on:[{type:"text_area",name:"survey_subterranean_why_fauna_retained",label:"Why does the fauna need to be retained?"},{type:"text_area",name:"survey_subterranean_what_fauna_retained",label:"What fauna could be retained?"},{type:"number",name:"survey_subterranean_num_fauna_retained",label:"If fauna is to be retained, how many animals?"},{conditions:{yes:[{type:"text_area",name:"survey_subterranean_euthanise_method",label:"Method"}]},options:[{value:"yes",label:"Yes"},{value:"no",label:"No"}],type:"radiobuttons",name:"survey_subterranean_fauna_euthanised",label:"Will fauna be euthanised?"},{type:"text",name:"survey_subterranean_where_specimen_stored",label:"Where will the specimen(s) be held/lodged/stored?"},{type:"text_area",name:"survey_subterranean_mesuem_storage_details",label:"If specimen is to be deposited at the WA Museum, will the Museum be contacted prior to the fauna being retained or did the Museum request the specimen?"}]},type:"checkbox",name:"survey_subterranean_retain",label:"Retain"},{type:"text_area",name:"survey_subterranean_prevent_vertebre_by_catch",label:"Describe measures that will be used to prevent/minimise vertebrate by-catch"},{type:"text_area",name:"survey_subterranean_hygiene_disease_considerations",label:"Provide details of field hygiene and wildlife disease considerations."},{type:"text_area",name:"survey_subterranean_fauna_capture_other_details",label:"Provide other details relating to fauna capture."}]},type:"checkbox",name:"survey_subterranean",label:"Subterranean"},{conditions:{on:[{conditions:{capture:[{conditions:{net:[{type:"number",name:"survey_aquatic_num_net_sites",label:"What is the number of sites where nets will be used?"},{type:"number",name:"survey_aquatic_num_net_days",label:"How many days/nights will nets be used?"},{type:"number",name:"survey_aquatic_num_net_sessions",label:"How many sessions will nets be used?"},{type:"number",name:"survey_aquatic_num_nets_per_session",label:"Total number of nets per session?"},{type:"number",name:"survey_aquatic_max_num_nets_per_session_per_site",label:"Maximum total number of nets per site per session?"},{type:"text_area",name:"survey_aquatic_different_num_nets_per_session_or_site_explanation",label:"If the number of nets differs between sessions or sites then explain"},{type:"label",name:"survey_aquatic_nets",label:"Nets"},{conditions:{on:[{type:"text",name:"survey_aquatic_dip_make",label:"Make"},{type:"text",name:"survey_aquatic_dip_size",label:"Size"},{type:"number",name:"survey_aquatic_num_dips",label:"Number of nets"},{type:"text",name:"survey_aquatic_dip_placement",label:"Net Placement"},{type:"text",name:"survey_aquatic_dip_setting_times",label:"Setting times"},{type:"text",name:"survey_aquatic_dip_other_details",label:"Other details"}]},type:"checkbox",name:"survey_aquatic_dip",label:"Dip"},{conditions:{on:[{type:"text",name:"survey_aquatic_sweep_make",label:"Make"},{type:"text",name:"survey_aquatic_sweep_size",label:"Size"},{type:"number",name:"survey_aquatic_num_sweeps",label:"Number of nets"},{type:"text",name:"survey_aquatic_sweep_placement",label:"Net Placement"},{type:"text",name:"survey_aquatic_sweep_setting_times",label:"Setting times"},{type:"text",name:"survey_aquatic_sweep_other_details",label:"Other details"}]},type:"checkbox",name:"survey_aquatic_sweep",label:"Sweep"},{conditions:{on:[{type:"text",name:"survey_aquatic_gill_make",label:"Make"},{type:"text",name:"survey_aquatic_gill_size",label:"Size"},{type:"number",name:"survey_aquatic_num_gills",label:"Number of nets"},{type:"text",name:"survey_aquatic_gill_placement",label:"Net Placement"},{type:"text",name:"survey_aquatic_gill_setting_times",label:"Setting times"},{type:"text",name:"survey_aquatic_gill_other_details",label:"Other details"}]},type:"checkbox",name:"survey_aquatic_gill",label:"Gill"},{conditions:{on:[{type:"text",name:"survey_aquatic_seine_make",label:"Make"},{type:"text",name:"survey_aquatic_seine_size",label:"Size"},{type:"number",name:"survey_aquatic_num_seines",label:"Number of nets"},{type:"text",name:"survey_aquatic_seine_placement",label:"Net Placement"},{type:"text",name:"survey_aquatic_seine_setting_times",label:"Setting times"},{type:"text",name:"survey_aquatic_seine_other_details",label:"Other details"}]},type:"checkbox",name:"survey_aquatic_seine",label:"Seine"},{conditions:{on:[{type:"text",name:"survey_aquatic_cast_make",label:"Make"},{type:"text",name:"survey_aquatic_cast_size",label:"Size"},{type:"number",name:"survey_aquatic_num_casts",label:"Number of nets"},{type:"text",name:"survey_aquatic_cast_placement",label:"Net Placement"},{type:"text",name:"survey_aquatic_cast_setting_times",label:"Setting times"},{type:"text",name:"survey_aquatic_cast_other_details",label:"Other details"}]},type:"checkbox",name:"survey_aquatic_cast",label:"Cast"},{conditions:{on:[{type:"text",name:"survey_aquatic_plankton_make",label:"Make"},{type:"text",name:"survey_aquatic_plankton_size",label:"Size"},{type:"number",name:"survey_aquatic_num_planktons",label:"Number of nets"},{type:"text",name:"survey_aquatic_plankton_placement",label:"Net Placement"},{type:"text",name:"survey_aquatic_plankton_setting_times",label:"Setting times"},{type:"text",name:"survey_aquatic_plankton_other_details",label:"Other details"}]},type:"checkbox",name:"survey_aquatic_plankton",label:"Plankton"},{conditions:{on:[{type:"text",name:"survey_aquatic_net_type_other",label:"Enter details"},{type:"text",name:"survey_aquatic_net_other_make",label:"Make"},{type:"text",name:"survey_aquatic_net_other_size",label:"Size"},{type:"number",name:"survey_aquatic_net_other_num_nets",label:"Number of nets"},{type:"text",name:"survey_aquatic_net_other_placement",label:"Net Placement"},{type:"text",name:"survey_aquatic_net_other_setting_times",label:"Setting times"},{type:"text",name:"survey_aquatic_net_other_other_details",label:"Other details"}]},type:"checkbox",name:"survey_aquatic_net_other",label:"Other"}],other:[{type:"text_area",name:"survey_aquatic_other_capture_methodology",label:"Provide details of your fauna capture methodology if it doesnt fit within previous questions for trap, net or hand capture techniques."}],trap:[{type:"number",name:"survey_aquatic_num_trap_sites",label:"What is the number of trap sites?"},{type:"number",name:"survey_aquatic_num_traps_open_days",label:"How many days/nights will traps be open?"},{type:"number",name:"survey_aquatic_num_trap_sessions",label:"How many trapping sessions?"},{type:"number",name:"survey_aquatic_num_traps_per_session",label:"Total number of traps per session?"},{type:"number",name:"survey_aquatic_max_num_traps_per_session_per_site",label:"Maximum total number of traps per site per session?"},{type:"text_area",name:"survey_aquatic_different_num_traps_per_session_or_site_explanation",label:"If the number of traps differs between sessions or sites, enter the highest number in the questions above, and explain differences below."},{type:"label",name:"survey_aquatic_traps",label:"Traps"},{conditions:{on:[{type:"text",name:"survey_aquatic_cage_make",label:"Make"},{type:"text",name:"survey_aquatic_cage_size",label:"Size"},{type:"number",name:"survey_aquatic_num_cages",label:"Number of traps"},{type:"text",name:"survey_aquatic_cage_placement",label:"Cage Placement"},{type:"text",name:"survey_aquatic_cage_setting_times",label:"Setting times"},{type:"text",name:"survey_aquatic_cage_other_details",label:"Other details"}]},type:"checkbox",name:"survey_aquatic_cage",label:"Cage"},{conditions:{on:[{type:"text",name:"survey_aquatic_box_make",label:"Make"},{type:"text",name:"survey_aquatic_box_size",label:"Size"},{type:"number",name:"survey_aquatic_num_boxs",label:"Number of traps"},{type:"text",name:"survey_aquatic_box_placement",label:"Box Placement"},{type:"text",name:"survey_aquatic_box_setting_times",label:"Setting times"},{type:"text",name:"survey_aquatic_box_other_details",label:"Other details"}]},type:"checkbox",name:"survey_aquatic_box",label:"Box"},{conditions:{on:[{type:"text",name:"survey_aquatic_trap_type_other",label:"Enter details"},{type:"text",name:"survey_aquatic_trap_other_make",label:"Make"},{type:"text",name:"survey_aquatic_trap_other_size",label:"Size"},{type:"number",name:"survey_aquatic_trap_other_num_traps",label:"Number of traps"},{type:"text",name:"survey_aquatic_trap_other_placement",label:"Trap Placement"},{type:"text",name:"survey_aquatic_trap_other_setting_times",label:"Setting times"},{type:"text",name:"survey_aquatic_trap_other_other_details",label:"Other details"}]},type:"checkbox",name:"survey_aquatic_trap_other",label:"Other"}],hand:[{type:"label",name:"survey_aquatic_hand_capture_techniques",label:"What hand capture techniques will you be using?"},{conditions:{on:[{type:"text_area",name:"survey_aquatic_foraging_details",label:"Please Provide Details"}]},type:"checkbox",name:"survey_aquatic_foraging",label:"Foraging"},{conditions:{on:[{type:"text_area",name:"survey_aquatic_excavation_details",label:"Please Provide Details"}]},type:"checkbox",name:"survey_aquatic_excavation",label:"Excavation"},{conditions:{on:[{type:"text_area",name:"survey_aquatic_excavation_details",label:"Please Provide Details"}]},type:"checkbox",name:"survey_aquatic_other_hand_capture_techniques",label:"Other"}]},options:[{value:"trap",label:"Trap"},{value:"net",label:"Net"},{value:"hand",label:"Hand"},{value:"other",label:"Other"}],type:"radiobuttons",name:"survey_aquatic_capture_method",label:"Capture Method"},{type:"label",name:"survey_aquatic_fate",label:"What will be the fate(s) of the fauna captured?"},{conditions:{on:[{options:[{value:"immediately",label:"Immediately after species idenfication"},{value:"after_morphometrics",label:"After morphometrics and physical condition taken"},{value:"after_samples",label:"After samples taken"},{value:"after_marking",label:"After marking"},{value:"after_temp_holding",label:"After temporary holding (< 24 hours)"}],type:"select",name:"survey_aquatic_release_schedule",label:"Release Schedule"},{type:"label",name:"survey_aquatic_pre_release_occurences",label:"Which of the following will occur before release?"},{conditions:{on:[{type:"label",name:"survey_aquatic_mophometrics_recorded",label:"What morphometrics and condition details will be recorded?"},{type:"checkbox",name:"survey_aquatic_mophometric_length",label:"Length"},{type:"checkbox",name:"survey_aquatic_mophometric_sex",label:"Sex"},{type:"checkbox",name:"survey_aquatic_mophometric_age",label:"Age"},{type:"checkbox",name:"survey_aquatic_mophometric_body_condition",label:"Body condition"},{type:"checkbox",name:"survey_aquatic_mophometric_reproductive_condition",label:"Reproductive condition"},{conditions:{on:[{type:"text_area",name:"survey_aquatic_mophometric_other_details",label:"Please provide details"}]},type:"checkbox",name:"survey_aquatic_mophometric_other",label:"Other"},{type:"text_area",name:"survey_aquatic_mophometric_other_details",label:"Provide any other details relating to measurements and condition"}]},type:"checkbox",name:"survey_aquatic_mophometrics",label:"Mophometrics and physical condition analysis"},{conditions:{on:[{type:"label",name:"survey_aquatic_samples",label:"What samples will be taken?"},{conditions:{on:[{type:"text_area",name:"survey_aquatic_tissue_details",label:"Please provide details"}]},type:"checkbox",name:"survey_aquatic_tissue",label:"Tissue"},{conditions:{on:[{type:"text_area",name:"survey_aquatic_scale_details",label:"Please provide details"}]},type:"checkbox",name:"survey_aquatic_scale",label:"Scale"},{conditions:{on:[{type:"text_area",name:"survey_aquatic_hair_feather_details",label:"Please provide details"}]},type:"checkbox",name:"survey_aquatic_hair_feather",label:"Hair / feather"},{conditions:{on:[{type:"text_area",name:"survey_aquatic_blood_details",label:"Please provide details"}]},type:"checkbox",name:"survey_aquatic_blood",label:"Blood"},{conditions:{on:[{type:"text_area",name:"survey_aquatic_swabs_details",label:"Please provide details"}]},type:"checkbox",name:"survey_aquatic_swabs",label:"Swabs"},{conditions:{on:[{type:"text_area",name:"survey_aquatic_samples_other_details",label:"Please provide details"}]},type:"checkbox",name:"survey_aquatic_samples_other",label:"Other"}]},type:"checkbox",name:"survey_aquatic_sampling",label:"Sampling"},{conditions:{on:[{conditions:{permanent:[{conditions:{on:[{type:"text_area",name:"survey_aquatic_tags_details",label:"Please provide details"}]},type:"checkbox",name:"survey_aquatic_tags",label:"Tags"},{conditions:{on:[{type:"text_area",name:"survey_aquatic_microchips_details",label:"Please provide details"}]},type:"checkbox",name:"survey_aquatic_microchips",label:"Microchips / implants"},{conditions:{on:[{type:"text_area",name:"survey_aquatic_bands_details",label:"Please provide details"}]},type:"checkbox",name:"survey_aquatic_bands",label:"Bands"},{conditions:{on:[{type:"text_area",name:"survey_aquatic_ear_punching_details",label:"Please provide details"}]},type:"checkbox",name:"survey_aquatic_ear_punching",label:"Ear punching"},{conditions:{on:[{type:"text_area",name:"survey_aquatic_marking_other_details",label:"Please provide details"}]},type:"checkbox",name:"survey_aquatic_marking_other",label:"Other"}]},options:[{value:"temporary",label:"Temporary"},{value:"permanent",label:"Permanent"}],type:"select",name:"survey_aquatic_marking",label:"What marking will be done and why?"}]},type:"checkbox",name:"survey_aquatic_marking",label:"Marking"},{conditions:{on:[{type:"text_area",name:"survey_aquatic_why_temporarily_held",label:"Why will/may the fauna be temporarily held?"},{type:"text_area",name:"survey_aquatic_how_temporarily_held",label:"How will the fauna be held?"},{type:"text_area",name:"survey_aquatic_where_temporarily_held",label:"Where will the fauna be held?"},{type:"text_area",name:"survey_aquatic_transported_details",label:"If fauna will be transported, provide details?"},{conditions:{other:[{type:"text_area",name:"survey_aquatic_fauna_release_other_details",label:"Please provide details"}]},options:[{value:"at_capture_site",label:"At capture site"},{value:"near_capture_site",label:"Near capture site into suitable habitat"},{value:"other",label:"Other"}],type:"select",name:"survey_aquatic_where_fauna_released",label:"Where will the fauna be released?"}]},type:"checkbox",name:"survey_aquatic_temporary_holding",label:"Temporary Holding"}]},type:"checkbox",name:"survey_aquatic_release",label:"Release"},{conditions:{on:[{type:"text_area",name:"survey_aquatic_why_fauna_retained",label:"Why does the fauna need to be retained?"},{type:"text_area",name:"survey_aquatic_what_fauna_retained",label:"What fauna could be retained?"},{type:"number",name:"survey_aquatic_num_fauna_retained",label:"If fauna is to be retained, how many animals?"},{conditions:{yes:[{type:"text_area",name:"survey_aquatic_euthanise_method",label:"Method"}]},options:[{value:"yes",label:"Yes"},{value:"no",label:"No"}],type:"radiobuttons",name:"survey_aquatic_fauna_euthanised",label:"Will fauna be euthanised?"},{type:"text",name:"survey_aquatic_where_specimen_stored",label:"Where will the specimen(s) be held/lodged/stored?"},{type:"text_area",name:"survey_aquatic_mesuem_storage_details",label:"If specimen is to be deposited at the WA Museum, will the Museum be contacted prior to the fauna being retained or did the Museum request the specimen?"}]},type:"checkbox",name:"survey_aquatic_retain",label:"Retain"},{type:"text_area",name:"survey_aquatic_unforseen_injury_dealings",label:"Describe how unforeseen injuries or other related issues will be dealt with."},{type:"text_area",name:"survey_aquatic_hygiene_disease_considerations",label:"Provide details of field hygiene and wildlife disease considerations."},{type:"text_area",name:"survey_aquatic_fauna_capture_other_details",label:"Provide other details relating to fauna capture."}],other:[{type:"label",name:"survey_aquatic_non_capture_method",label:"Please select any non-capture survey method you will be using"},{conditions:{on:[{type:"text_area",name:"survey_aquatic_secondary_signs_details",label:"Please provide Details"}]},type:"checkbox",name:"survey_aquatic_secondary_signs",label:"Secondary signs / evidence"},{conditions:{on:[{type:"text_area",name:"survey_aquatic_habitat_assessment_details",label:"Please provide Details"}]},type:"checkbox",name:"survey_aquatic_habitat_assessment",label:"Habitat Assessment"},{conditions:{on:[{type:"text_area",name:"survey_aquatic_non_capture_other_details",label:"Please provide Details"}]},type:"checkbox",name:"survey_aquatic_non_capture_other",label:"Other"}],remote_sensing:[{type:"label",name:"survey_aquatic_remote_sensing_apparatus",label:"What remote sensing apparatus will you be using?"},{conditions:{on:[{conditions:{yes:[{type:"text",name:"survey_aquatic_what_bait",label:"What bait will be used?"},{options:[{value:"yes",label:"Yes"},{value:"no",label:"No"}],type:"radiobuttons",name:"survey_aquatic_bait_consumable",label:"Will the bait be consumable?"},{options:[{value:"yes",label:"Yes"},{value:"no",label:"No"}],type:"radiobuttons",name:"survey_aquatic_bait_replenished",label:"Will the bait be replenished?"}]},options:[{value:"yes",label:"Yes"},{value:"no",label:"No"}],type:"radiobuttons",name:"survey_aquatic_camera_baited",label:"Will cameras be baited with an attractant/lure?"},{children:[{type:"text",name:"survey_aquatic_camera_make",label:"Make"},{type:"number",name:"survey_aquatic_num_cameras",label:"Number of devices"},{type:"text_area",name:"survey_aquatic_camera_placement",label:"Camera Placement"},{type:"text",name:"survey_aquatic_camera_situ",label:"How long in situ"},{type:"text",name:"survey_aquatic_camera_other_details",label:"Other details"}],isRepeatable:!0,type:"group",name:"survey_aquatic_camera_information",label:"Camera Information"}]},type:"checkbox",name:"survey_aquatic_camera",label:"Camera"},{conditions:{on:[{children:[{type:"text",name:"survey_aquatic_acr_make",label:"Make"},{type:"number",name:"survey_aquatic_num_acrs",label:"Number of devices"},{type:"text",name:"survey_aquatic_acr_placement",label:"Acoustic recorder Placement"},{type:"text",name:"survey_aquatic_acr_situ",label:"How long in situ"},{type:"text",name:"survey_aquatic_acr_other_details",label:"Other details"}],isRepeatable:!0,type:"group",name:"survey_aquatic_acoustic_call_recorder_information",label:"Acoustic recorder Information"}]},type:"checkbox",name:"survey_aquatic_acoustic_recorder",label:"Acoustic recorder"},{type:"text_area",name:"survey_aquatic_remote_sensing_other_details",label:"Provide any other details relating to remote sensing."}]},options:[{value:"capture",label:"Capture"},{value:"remote_sensing",label:"Remote Sensing"},{value:"other",label:"Other non-capture"}],type:"radiobuttons",name:"survey_aquatic_survey_method",label:"What survey method will you be using?"}]},type:"checkbox",name:"survey_aquatic",label:"Aquatic (non-marine)"},{conditions:{on:[{conditions:{capture:[{conditions:{net:[{type:"number",name:"survey_marine_num_net_sites",label:"What is the number of sites where nets will be used?"},{type:"number",name:"survey_marine_num_net_days",label:"How many days/nights will nets be used?"},{type:"number",name:"survey_marine_num_net_sessions",label:"How many sessions will nets be used?"},{type:"number",name:"survey_marine_num_nets_per_session",label:"Total number of nets per session?"},{type:"number",name:"survey_marine_max_num_nets_per_session_per_site",label:"Maximum total number of nets per site per session?"},{type:"text_area",name:"survey_marine_different_num_nets_per_session_or_site_explanation",label:"If the number of nets differs between sessions or sites then explain"},{type:"label",name:"survey_marine_nets",label:"Nets"},{conditions:{on:[{type:"text",name:"survey_marine_dip_make",label:"Make"},{type:"text",name:"survey_marine_dip_size",label:"Size"},{type:"number",name:"survey_marine_num_dips",label:"Number of nets"},{type:"text",name:"survey_marine_dip_placement",label:"Net Placement"},{type:"text",name:"survey_marine_dip_setting_times",label:"Setting times"},{type:"text",name:"survey_marine_dip_other_details",label:"Other details"}]},type:"checkbox",name:"survey_marine_dip",label:"Dip"},{conditions:{on:[{type:"text",name:"survey_marine_sweep_make",label:"Make"},{type:"text",name:"survey_marine_sweep_size",label:"Size"},{type:"number",name:"survey_marine_num_sweeps",label:"Number of nets"},{type:"text",name:"survey_marine_sweep_placement",label:"Net Placement"},{type:"text",name:"survey_marine_sweep_setting_times",label:"Setting times"},{type:"text",name:"survey_marine_sweep_other_details",label:"Other details"}]},type:"checkbox",name:"survey_marine_sweep",label:"Sweep"},{conditions:{on:[{type:"text",name:"survey_marine_gill_make",label:"Make"},{type:"text",name:"survey_marine_gill_size",label:"Size"},{type:"number",name:"survey_marine_num_gills",label:"Number of nets"},{type:"text",name:"survey_marine_gill_placement",label:"Net Placement"},{type:"text",name:"survey_marine_gill_setting_times",label:"Setting times"},{type:"text",name:"survey_marine_gill_other_details",label:"Other details"}]},type:"checkbox",name:"survey_marine_gill",label:"Gill"},{conditions:{on:[{type:"text",name:"survey_marine_seine_make",label:"Make"},{type:"text",name:"survey_marine_seine_size",label:"Size"},{type:"number",name:"survey_marine_num_seines",label:"Number of nets"},{type:"text",name:"survey_marine_seine_placement",label:"Net Placement"},{type:"text",name:"survey_marine_seine_setting_times",label:"Setting times"},{type:"text",name:"survey_marine_seine_other_details",label:"Other details"}]},type:"checkbox",name:"survey_marine_seine",label:"Seine"},{conditions:{on:[{type:"text",name:"survey_marine_cast_make",label:"Make"},{type:"text",name:"survey_marine_cast_size",label:"Size"},{type:"number",name:"survey_marine_num_casts",label:"Number of nets"},{type:"text",name:"survey_marine_cast_placement",label:"Net Placement"},{type:"text",name:"survey_marine_cast_setting_times",label:"Setting times"},{type:"text",name:"survey_marine_cast_other_details",label:"Other details"}]},type:"checkbox",name:"survey_marine_cast",label:"Cast"},{conditions:{on:[{type:"text",name:"survey_marine_plankton_make",label:"Make"},{type:"text",name:"survey_marine_plankton_size",label:"Size"},{type:"number",name:"survey_marine_num_planktons",label:"Number of nets"},{type:"text",name:"survey_marine_plankton_placement",label:"Net Placement"},{type:"text",name:"survey_marine_plankton_setting_times",label:"Setting times"},{type:"text",name:"survey_marine_plankton_other_details",label:"Other details"}]},type:"checkbox",name:"survey_marine_plankton",label:"Plankton"},{conditions:{on:[{type:"text",name:"survey_marine_net_type_other",label:"Enter details"},{type:"text",name:"survey_marine_net_other_make",label:"Make"},{type:"text",name:"survey_marine_net_other_size",label:"Size"},{type:"number",name:"survey_marine_net_other_num_nets",label:"Number of nets"},{type:"text",name:"survey_marine_net_other_placement",label:"Net Placement"},{type:"text",name:"survey_marine_net_other_setting_times",label:"Setting times"},{type:"text",name:"survey_marine_net_other_other_details",label:"Other details"}]},type:"checkbox",name:"survey_marine_net_other",label:"Other"}],other:[{type:"text_area",name:"survey_marine_other_capture_methodology",label:"Provide details of your fauna capture methodology if it doesnt fit within previous questions for trap, net or hand capture techniques."}],trap:[{type:"number",name:"survey_marine_num_trap_sites",label:"What is the number of trap sites?"},{type:"number",name:"survey_marine_num_traps_open_days",label:"How many days/nights will traps be open?"},{type:"number",name:"survey_marine_num_trap_sessions",label:"How many trapping sessions?"},{type:"number",name:"survey_marine_num_traps_per_session",label:"Total number of traps per session?"},{type:"number",name:"survey_marine_max_num_traps_per_session_per_site",label:"Maximum total number of traps per site per session?"},{type:"text_area",name:"survey_marine_different_num_traps_per_session_or_site_explanation",label:"If the number of traps differs between sessions or sites, enter the highest number in the questions above, and explain differences below."},{type:"label",name:"survey_marine_traps",label:"Traps"},{conditions:{on:[{type:"text",name:"survey_marine_cage_make",label:"Make"},{type:"text",name:"survey_marine_cage_size",label:"Size"},{type:"number",name:"survey_marine_num_cages",label:"Number of traps"},{type:"text",name:"survey_marine_cage_placement",label:"Cage Placement"},{type:"text",name:"survey_marine_cage_setting_times",label:"Setting times"},{type:"text",name:"survey_marine_cage_other_details",label:"Other details"}]},type:"checkbox",name:"survey_marine_cage",label:"Cage"},{conditions:{on:[{type:"text",name:"survey_marine_box_make",label:"Make"},{type:"text",name:"survey_marine_box_size",label:"Size"},{type:"number",name:"survey_marine_num_boxs",label:"Number of traps"},{type:"text",name:"survey_marine_box_placement",label:"Box Placement"},{type:"text",name:"survey_marine_box_setting_times",label:"Setting times"},{type:"text",name:"survey_marine_box_other_details",label:"Other details"}]},type:"checkbox",name:"survey_marine_box",label:"Box"},{conditions:{on:[{type:"text",name:"survey_marine_trap_type_other",label:"Enter details"},{type:"text",name:"survey_marine_trap_other_make",label:"Make"},{type:"text",name:"survey_marine_trap_other_size",label:"Size"},{type:"number",name:"survey_marine_trap_other_num_traps",label:"Number of traps"},{type:"text",name:"survey_marine_trap_other_placement",label:"Trap Placement"},{type:"text",name:"survey_marine_trap_other_setting_times",label:"Setting times"},{type:"text",name:"survey_marine_trap_other_other_details",label:"Other details"}]},type:"checkbox",name:"survey_marine_trap_other",label:"Other"}],hand:[{type:"label",name:"survey_marine_hand_capture_techniques",label:"What hand capture techniques will you be using?"},{conditions:{on:[{type:"text_area",name:"survey_marine_foraging_details",label:"Please Provide Details"}]},type:"checkbox",name:"survey_marine_foraging",label:"Foraging"},{conditions:{on:[{type:"text_area",name:"survey_marine_excavation_details",label:"Please Provide Details"}]},type:"checkbox",name:"survey_marine_excavation",label:"Excavation"},{conditions:{on:[{type:"text_area",name:"survey_marine_excavation_details",label:"Please Provide Details"}]},type:"checkbox",name:"survey_marine_other_hand_capture_techniques",label:"Other"}]},options:[{value:"trap",label:"Trap"},{value:"net",label:"Net"},{value:"hand",label:"Hand"},{value:"other",label:"Other"}],type:"radiobuttons",name:"survey_marine_capture_method",label:"Capture Method"},{type:"label",name:"survey_marine_fate",label:"What will be the fate(s) of the fauna captured?"},{conditions:{on:[{options:[{value:"immediately",label:"Immediately after species idenfication"},{value:"after_morphometrics",label:"After morphometrics and physical condition taken"},{value:"after_samples",label:"After samples taken"},{value:"after_marking",label:"After marking"},{value:"after_temp_holding",label:"After temporary holding (< 24 hours)"}],type:"select",name:"survey_marine_release_schedule",label:"Release Schedule"},{type:"label",name:"survey_marine_pre_release_occurences",label:"Which of the following will occur before release?"},{conditions:{on:[{type:"label",name:"survey_marine_mophometrics_recorded",label:"What morphometrics and condition details will be recorded?"},{type:"checkbox",name:"survey_marine_mophometric_length",label:"Length"},{type:"checkbox",name:"survey_marine_mophometric_sex",label:"Sex"},{type:"checkbox",name:"survey_marine_mophometric_age",label:"Age"},{type:"checkbox",name:"survey_marine_mophometric_body_condition",label:"Body condition"},{type:"checkbox",name:"survey_marine_mophometric_reproductive_condition",label:"Reproductive condition"},{conditions:{on:[{type:"text_area",name:"survey_marine_mophometric_other_details",label:"Please provide details"}]},type:"checkbox",name:"survey_marine_mophometric_other",label:"Other"},{type:"text_area",name:"survey_marine_mophometric_other_details",label:"Provide any other details relating to measurements and condition"}]},type:"checkbox",name:"survey_marine_mophometrics",label:"Mophometrics and physical condition analysis"},{conditions:{on:[{type:"label",name:"survey_marine_samples",label:"What samples will be taken?"},{conditions:{on:[{type:"text_area",name:"survey_marine_tissue_details",label:"Please provide details"}]},type:"checkbox",name:"survey_marine_tissue",label:"Tissue"},{conditions:{on:[{type:"text_area",name:"survey_marine_scale_details",label:"Please provide details"}]},type:"checkbox",name:"survey_marine_scale",label:"Scale"},{conditions:{on:[{type:"text_area",name:"survey_marine_hair_feather_details",label:"Please provide details"}]},type:"checkbox",name:"survey_marine_hair_feather",label:"Hair / feather"},{conditions:{on:[{type:"text_area",name:"survey_marine_blood_details",label:"Please provide details"}]},type:"checkbox",name:"survey_marine_blood",label:"Blood"},{conditions:{on:[{type:"text_area",name:"survey_marine_swabs_details",label:"Please provide details"}]},type:"checkbox",name:"survey_marine_swabs",label:"Swabs"},{conditions:{on:[{type:"text_area",name:"survey_marine_samples_other_details",label:"Please provide details"}]},type:"checkbox",name:"survey_marine_samples_other",label:"Other"}]},type:"checkbox",name:"survey_marine_sampling",label:"Sampling"},{conditions:{on:[{conditions:{permanent:[{conditions:{on:[{type:"text_area",name:"survey_marine_tags_details",label:"Please provide details"}]},type:"checkbox",name:"survey_marine_tags",label:"Tags"},{conditions:{on:[{type:"text_area",name:"survey_marine_microchips_details",label:"Please provide details"}]},type:"checkbox",name:"survey_marine_microchips",label:"Microchips / implants"},{conditions:{on:[{type:"text_area",name:"survey_marine_bands_details",label:"Please provide details"}]},type:"checkbox",name:"survey_marine_bands",label:"Bands"},{conditions:{on:[{type:"text_area",name:"survey_marine_ear_punching_details",label:"Please provide details"}]},type:"checkbox",name:"survey_marine_ear_punching",label:"Ear punching"},{conditions:{on:[{type:"text_area",name:"survey_marine_marking_other_details",label:"Please provide details"}]},type:"checkbox",name:"survey_marine_marking_other",label:"Other"}]},options:[{value:"temporary",label:"Temporary"},{value:"permanent",label:"Permanent"}],type:"select",name:"survey_marine_marking",label:"What marking will be done and why?"}]},type:"checkbox",name:"survey_marine_marking",label:"Marking"},{conditions:{on:[{type:"text_area",name:"survey_marine_why_temporarily_held",label:"Why will/may the fauna be temporarily held?"},{type:"text_area",name:"survey_marine_how_temporarily_held",label:"How will the fauna be held?"},{type:"text_area",name:"survey_marine_where_temporarily_held",label:"Where will the fauna be held?"},{type:"text_area",name:"survey_marine_transported_details",label:"If fauna will be transported, provide details?"},{conditions:{other:[{type:"text_area",name:"survey_marine_fauna_release_other_details",label:"Please provide details"}]},options:[{value:"at_capture_site",label:"At capture site"},{value:"near_capture_site",label:"Near capture site into suitable habitat"},{value:"other",label:"Other"}],type:"select",name:"survey_marine_where_fauna_released",label:"Where will the fauna be released?"}]},type:"checkbox",name:"survey_marine_temporary_holding",label:"Temporary Holding"}]},type:"checkbox",name:"survey_marine_release",label:"Release"},{conditions:{on:[{type:"text_area",name:"survey_marine_why_fauna_retained",label:"Why does the fauna need to be retained?"},{type:"text_area",name:"survey_marine_what_fauna_retained",label:"What fauna could be retained?"},{type:"number",name:"survey_marine_num_fauna_retained",label:"If fauna is to be retained, how many animals?"},{conditions:{yes:[{type:"text_area",name:"survey_marine_euthanise_method",label:"Method"}]},options:[{value:"yes",label:"Yes"},{value:"no",label:"No"}],type:"radiobuttons",name:"survey_marine_fauna_euthanised",label:"Will fauna be euthanised?"},{type:"text",name:"survey_marine_where_specimen_stored",label:"Where will the specimen(s) be held/lodged/stored?"},{type:"text_area",name:"survey_marine_mesuem_storage_details",label:"If specimen is to be deposited at the WA Museum, will the Museum be contacted prior to the fauna being retained or did the Museum request the specimen?"}]},type:"checkbox",name:"survey_marine_retain",label:"Retain"},{type:"text_area",name:"survey_marine_unforseen_injury_dealings",label:"Describe how unforeseen injuries or other related issues will be dealt with."},{type:"text_area",name:"survey_marine_hygiene_disease_considerations",label:"Provide details of field hygiene and wildlife disease considerations."},{type:"text_area",name:"survey_marine_fauna_capture_other_details",label:"Provide other details relating to fauna capture."}],other:[{type:"label",name:"survey_marine_non_capture_method",label:"Please select any non-capture survey method you will be using"},{conditions:{on:[{type:"text_area",name:"survey_marine_secondary_signs_details",label:"Please provide Details"}]},type:"checkbox",name:"survey_marine_secondary_signs",label:"Secondary signs / evidence"},{conditions:{on:[{type:"text_area",name:"survey_marine_habitat_assessment_details",label:"Please provide Details"}]},type:"checkbox",name:"survey_marine_habitat_assessment",label:"Habitat Assessment"},{conditions:{on:[{type:"text_area",name:"survey_marine_non_capture_other_details",label:"Please provide Details"}]},type:"checkbox",name:"survey_marine_non_capture_other",label:"Other"}],remote_sensing:[{type:"label",name:"survey_marine_remote_sensing_apparatus",label:"What remote sensing apparatus will you be using?"},{conditions:{on:[{conditions:{yes:[{type:"text",name:"survey_marine_what_bait",label:"What bait will be used?"},{options:[{value:"yes",label:"Yes"},{value:"no",label:"No"}],type:"radiobuttons",name:"survey_marine_bait_consumable",label:"Will the bait be consumable?"},{options:[{value:"yes",label:"Yes"},{value:"no",label:"No"}],type:"radiobuttons",name:"survey_marine_bait_replenished",label:"Will the bait be replenished?"}]},options:[{value:"yes",label:"Yes"},{value:"no",label:"No"}],type:"radiobuttons",name:"survey_marine_camera_baited",label:"Will cameras be baited with an attractant/lure?"},{children:[{type:"text",name:"survey_marine_camera_make",label:"Make"},{type:"number",name:"survey_marine_num_cameras",label:"Number of devices"},{type:"text_area",name:"survey_marine_camera_placement",label:"Camera Placement"},{type:"text",name:"survey_marine_camera_situ",label:"How long in situ"},{type:"text",name:"survey_marine_camera_other_details",label:"Other details"}],isRepeatable:!0,type:"group",name:"survey_marine_camera_information",label:"Camera Information"}]},type:"checkbox",name:"survey_marine_camera",label:"Camera"},{conditions:{on:[{children:[{type:"text",name:"survey_marine_acr_make",label:"Make"},{type:"number",name:"survey_marine_num_acrs",label:"Number of devices"},{type:"text",name:"survey_marine_acr_placement",label:"Acoustic recorder Placement"},{type:"text",name:"survey_marine_acr_situ",label:"How long in situ"},{type:"text",name:"survey_marine_acr_other_details",label:"Other details"}],isRepeatable:!0,type:"group",name:"survey_marine_acoustic_call_recorder_information",label:"Acoustic recorder Information"}]},type:"checkbox",name:"survey_marine_acoustic_recorder",label:"Acoustic recorder"},{conditions:{on:[{children:[{type:"text",name:"survey_marine_aerial_make",label:"Make"},{type:"number",name:"survey_marine_num_aerials",label:"Number of devices"},{type:"text",name:"survey_marine_aerial_placement",label:"Aerial Placement"},{type:"text",name:"survey_marine_aerial_situ",label:"How long in situ"},{type:"text",name:"survey_marine_aerial_other_details",label:"Other details"}],type:"group",name:"survey_marine_aerial_information",label:"Aerial Information"}]},type:"checkbox",name:"survey_marine_aerial",label:"Aerial"},{type:"text_area",name:"survey_marine_remote_sensing_other_details",label:"Provide any other details relating to remote sensing."}]},options:[{value:"capture",label:"Capture"},{value:"remote_sensing",label:"Remote Sensing"},{value:"other",label:"Other non-capture"}],type:"radiobuttons",name:"survey_marine_survey_method",label:"What survey method will you be using?"}]},type:"checkbox",name:"survey_marine",label:"Marine"},{conditions:{on:[{children:[{type:"text",name:"survey_tft_group_name",label:"Group name"},{speciesType:"fauna",type:"species",name:"survey_tft_scientific_name",label:"Scientific or common name"},{type:"text",name:"survey_tft_quantity",label:"Quantity"},{type:"text",name:"survey_tft_fate",label:"Fate"}],isRepeatable:!0,type:"group",name:"survey_targeted_fauna",label:"Targeted Fauna Type"},{conditions:{capture:[{conditions:{net:[{type:"number",name:"survey_targeted_num_net_sites",label:"What is the number of sites where nets will be used?"},{type:"number",name:"survey_targeted_num_net_days",label:"How many days/nights will nets be used?"},{type:"number",name:"survey_targeted_num_net_sessions",label:"How many sessions will nets be used?"},{type:"number",name:"survey_targeted_num_nets_per_session",label:"Total number of nets per session?"},{type:"number",name:"survey_targeted_max_num_nets_per_session_per_site",label:"Maximum total number of nets per site per session?"},{type:"text_area",name:"survey_targeted_different_num_nets_per_session_or_site_explanation",label:"If the number of nets differs between sessions or sites then explain"},{type:"label",name:"survey_targeted_nets",label:"Nets"},{conditions:{on:[{type:"text",name:"survey_targeted_sweep_make",label:"Make"},{type:"text",name:"survey_targeted_sweep_size",label:"Size"},{type:"number",name:"survey_targeted_num_sweeps",label:"Number of nets"},{type:"text",name:"survey_targeted_sweep_placement",label:"Net Placement"},{type:"text",name:"survey_targeted_sweep_setting_times",label:"Setting times"},{type:"text",name:"survey_targeted_sweep_other_details",label:"Other details"}]},type:"checkbox",name:"survey_targeted_sweep",label:"Sweep"},{conditions:{on:[{type:"text",name:"survey_targeted_mist_make",label:"Make"},{type:"text",name:"survey_targeted_mist_size",label:"Size"},{type:"number",name:"survey_targeted_num_mists",label:"Number of nets"},{type:"text",name:"survey_targeted_mist_placement",label:"Net Placement"},{type:"text",name:"survey_targeted_mist_setting_times",label:"Setting times"},{type:"text",name:"survey_targeted_mist_other_details",label:"Other details"}]},type:"checkbox",name:"survey_targeted_mist",label:"Mist"},{conditions:{on:[{type:"text",name:"survey_targeted_harp_make",label:"Make"},{type:"text",name:"survey_targeted_harp_size",label:"Size"},{type:"number",name:"survey_targeted_num_harps",label:"Number of nets"},{type:"text",name:"survey_targeted_harp_placement",label:"Net Placement"},{type:"text",name:"survey_targeted_harp_setting_times",label:"Setting times"},{type:"text",name:"survey_targeted_harp_other_details",label:"Other details"}]},type:"checkbox",name:"survey_targeted_harp",label:"Harp"},{conditions:{on:[{type:"text",name:"survey_targeted_net_type_other",label:"Enter details"},{type:"text",name:"survey_targeted_net_other_make",label:"Make"},{type:"text",name:"survey_targeted_net_other_size",label:"Size"},{type:"number",name:"survey_targeted_net_other_num_nets",label:"Number of nets"},{type:"text",name:"survey_targeted_net_other_placement",label:"Net Placement"},{type:"text",name:"survey_targeted_net_other_setting_times",label:"Setting times"},{type:"text",name:"survey_targeted_net_other_other_details",label:"Other details"}]},type:"checkbox",name:"survey_targeted_net_other",label:"Other"}],other:[{type:"text_area",name:"survey_targeted_other_capture_methodology",label:"Provide details of your fauna capture methodology if it doesnt fit within previous questions for trap, net or hand capture techniques."}],trap:[{type:"number",name:"survey_targeted_num_trap_sites",label:"What is the number of trap sites?"},{type:"number",name:"survey_targeted_num_traps_open_days",label:"How many days/nights will traps be open?"},{type:"number",name:"survey_targeted_num_trap_sessions",label:"How many trapping sessions?"},{type:"number",name:"survey_targeted_num_traps_per_session",label:"Total number of traps per session?"},{type:"number",name:"survey_targeted_max_num_traps_per_session_per_site",label:"Maximum total number of traps per site per session?"},{type:"text_area",name:"survey_targeted_different_num_traps_per_session_or_site_explanation",label:"If the number of traps differs between sessions or sites, enter the highest number in the questions above, and explain differences below."},{type:"label",name:"survey_targeted_traps",label:"Traps"},{conditions:{on:[{type:"text",name:"survey_targeted_cage_make",label:"Make"},{type:"text",name:"survey_targeted_cage_size",label:"Size"},{type:"number",name:"survey_targeted_num_cages",label:"Number of traps"},{type:"text",name:"survey_targeted_cage_placement",label:"Cage Placement"},{type:"text",name:"survey_targeted_cage_setting_times",label:"Setting times"},{type:"text",name:"survey_targeted_cage_other_details",label:"Other details"}]},type:"checkbox",name:"survey_targeted_cage",label:"Cage"},{conditions:{on:[{type:"text",name:"survey_targeted_box_make",label:"Make"},{type:"text",name:"survey_targeted_box_size",label:"Size"},{type:"number",name:"survey_targeted_num_boxs",label:"Number of traps"},{type:"text",name:"survey_targeted_box_placement",label:"Box Placement"},{type:"text",name:"survey_targeted_box_setting_times",label:"Setting times"},{type:"text",name:"survey_targeted_box_other_details",label:"Other details"}]},type:"checkbox",name:"survey_targeted_box",label:"Box"},{conditions:{on:[{type:"text",name:"survey_targeted_dry_pit_make",label:"Make"},{type:"text",name:"survey_targeted_dry_pit_size",label:"Size"},{type:"number",name:"survey_targeted_num_dry_pits",label:"Number of traps"},{type:"text",name:"survey_targeted_dry_pit_placement",label:"Dry Pit Placement"},{type:"text",name:"survey_targeted_dry_pit_setting_times",label:"Setting times"},{type:"text",name:"survey_targeted_dry_pit_other_details",label:"Other details"}]},type:"checkbox",name:"survey_targeted_dry_pit",label:"Dry Pit"},{conditions:{on:[{type:"text",name:"survey_targeted_funnel_make",label:"Make"},{type:"text",name:"survey_targeted_funnel_size",label:"Size"},{type:"number",name:"survey_targeted_num_funnels",label:"Number of traps"},{type:"text",name:"survey_targeted_funnel_placement",label:"Funnel Placement"},{type:"text",name:"survey_targeted_funnel_setting_times",label:"Setting times"},{type:"text",name:"survey_targeted_funnel_other_details",label:"Other details"}]},type:"checkbox",name:"survey_targeted_funnel",label:"Funnel"},{conditions:{on:[{type:"text",name:"survey_targeted_trap_type_other",label:"Enter details"},{type:"text",name:"survey_targeted_trap_other_make",label:"Make"},{type:"text",name:"survey_targeted_trap_other_size",label:"Size"},{type:"number",name:"survey_targeted_trap_other_num_traps",label:"Number of traps"},{type:"text",name:"survey_targeted_trap_other_placement",label:"Trap Placement"},{type:"text",name:"survey_targeted_trap_other_setting_times",label:"Setting times"},{type:"text",name:"survey_targeted_trap_other_other_details",label:"Other details"}]},type:"checkbox",name:"survey_targeted_trap_other",label:"Other"}],hand:[{type:"label",name:"survey_targeted_hand_capture_techniques",label:"What hand capture techniques will you be using?"},{conditions:{on:[{type:"text_area",name:"survey_targeted_hook_and_bag_details",label:"Please Provide Details"}]},type:"checkbox",name:"survey_targeted_hook_and_bag",label:"Hook and Bag"},{conditions:{on:[{type:"text_area",name:"survey_targeted_Noose_details",label:"Please Provide Details"}]},type:"checkbox",name:"survey_targeted_noose",label:"Noose"},{conditions:{on:[{type:"text_area",name:"survey_targeted_foraging_details",label:"Please Provide Details"}]},type:"checkbox",name:"survey_targeted_foraging",label:"Foraging"},{conditions:{on:[{type:"text_area",name:"survey_targeted_raking_details",label:"Please Provide Details"}]},type:"checkbox",name:"survey_targeted_raking",label:"Raking"},{conditions:{on:[{type:"text_area",name:"survey_targeted_sieving_details",label:"Please Provide Details"}]},type:"checkbox",name:"survey_targeted_sieving",label:"Sieving"},{conditions:{on:[{type:"text_area",name:"survey_targeted_excavation_details",label:"Please Provide Details"}]},type:"checkbox",name:"survey_targeted_excavation",label:"Excavation"},{conditions:{on:[{type:"text_area",name:"survey_targeted_excavation_details",label:"Please Provide Details"}]},type:"checkbox",name:"survey_targeted_other_hand_capture_techniques",label:"Other"}]},options:[{value:"trap",label:"Trap"},{value:"net",label:"Net"},{value:"hand",label:"Hand"},{value:"other",label:"Other"}],type:"radiobuttons",name:"survey_targeted_capture_method",label:"Capture Method"},{type:"label",name:"survey_targeted_fate",label:"What will be the fate(s) of the fauna captured?"},{conditions:{on:[{options:[{value:"immediately",label:"Immediately after species idenfication"},{value:"after_morphometrics",label:"After morphometrics and physical condition taken"},{value:"after_samples",label:"After samples taken"},{value:"after_marking",label:"After marking"},{value:"after_temp_holding",label:"After temporary holding (< 24 hours)"}],type:"select",name:"survey_targeted_release_schedule",label:"Release Schedule"},{type:"label",name:"survey_targeted_pre_release_occurences",label:"Which of the following will occur before release?"},{conditions:{on:[{type:"label",name:"survey_targeted_mophometrics_recorded",label:"What morphometrics and condition details will be recorded?"},{type:"checkbox",name:"survey_targeted_mophometric_length",label:"Length"},{type:"checkbox",name:"survey_targeted_mophometric_sex",label:"Sex"},{type:"checkbox",name:"survey_targeted_mophometric_age",label:"Age"},{type:"checkbox",name:"survey_targeted_mophometric_body_condition",label:"Body condition"},{type:"checkbox",name:"survey_targeted_mophometric_reproductive_condition",label:"Reproductive condition"},{conditions:{on:[{type:"text_area",name:"survey_targeted_mophometric_other_details",label:"Please provide details"}]},type:"checkbox",name:"survey_targeted_mophometric_other",label:"Other"},{type:"text_area",name:"survey_targeted_mophometric_other_details",label:"Provide any other details relating to measurements and condition"}]},type:"checkbox",name:"survey_targeted_mophometrics",label:"Mophometrics and physical condition analysis"},{conditions:{on:[{type:"label",name:"survey_targeted_samples",label:"What samples will be taken?"},{conditions:{on:[{type:"text_area",name:"survey_targeted_tissue_details",label:"Please provide details"}]},type:"checkbox",name:"survey_targeted_tissue",label:"Tissue"},{conditions:{on:[{type:"text_area",name:"survey_targeted_scale_details",label:"Please provide details"}]},type:"checkbox",name:"survey_targeted_scale",label:"Scale"},{conditions:{on:[{type:"text_area",name:"survey_targeted_hair_feather_details",label:"Please provide details"}]},type:"checkbox",name:"survey_targeted_hair_feather",label:"Hair / feather"},{conditions:{on:[{type:"text_area",name:"survey_targeted_blood_details",label:"Please provide details"}]},type:"checkbox",name:"survey_targeted_blood",label:"Blood"},{conditions:{on:[{type:"text_area",name:"survey_targeted_swabs_details",label:"Please provide details"}]},type:"checkbox",name:"survey_targeted_swabs",label:"Swabs"},{conditions:{on:[{type:"text_area",name:"survey_targeted_samples_other_details",label:"Please provide details"}]},type:"checkbox",name:"survey_targeted_samples_other",label:"Other"}]},type:"checkbox",name:"survey_targeted_sampling",label:"Sampling"},{conditions:{on:[{conditions:{permanent:[{conditions:{on:[{type:"text_area",name:"survey_targeted_tags_details",label:"Please provide details"}]},type:"checkbox",name:"survey_targeted_tags",label:"Tags"},{conditions:{on:[{type:"text_area",name:"survey_targeted_microchips_details",label:"Please provide details"}]},type:"checkbox",name:"survey_targeted_microchips",label:"Microchips / implants"},{conditions:{on:[{type:"text_area",name:"survey_targeted_bands_details",label:"Please provide details"}]},type:"checkbox",name:"survey_targeted_bands",label:"Bands"},{conditions:{on:[{type:"text_area",name:"survey_targeted_ear_punching_details",label:"Please provide details"}]},type:"checkbox",name:"survey_targeted_ear_punching",label:"Ear punching"},{conditions:{on:[{type:"text_area",name:"survey_targeted_marking_other_details",label:"Please provide details"}]},type:"checkbox",name:"survey_targeted_marking_other",label:"Other"}]},options:[{value:"temporary",label:"Temporary"},{value:"permanent",label:"Permanent"}],type:"select",name:"survey_targeted_marking",label:"What marking will be done and why?"}]},type:"checkbox",name:"survey_targeted_marking",label:"Marking"},{conditions:{on:[{type:"text_area",name:"survey_targeted_why_temporarily_held",label:"Why will/may the fauna be temporarily held?"},{type:"text_area",name:"survey_targeted_how_temporarily_held",label:"How will the fauna be held?"},{type:"text_area",name:"survey_targeted_where_temporarily_held",label:"Where will the fauna be held?"},{type:"text_area",name:"survey_targeted_transported_details",label:"If fauna will be transported, provide details?"},{conditions:{other:[{type:"text_area",name:"survey_targeted_fauna_release_other_details",label:"Please provide details"}]},options:[{value:"at_capture_site",label:"At capture site"},{value:"near_capture_site",label:"Near capture site into suitable habitat"},{value:"other",label:"Other"}],type:"select",name:"survey_targeted_where_fauna_released",label:"Where will the fauna be released?"}]},type:"checkbox",name:"survey_targeted_temporary_holding",label:"Temporary Holding"}]},type:"checkbox",name:"survey_targeted_release",label:"Release"},{conditions:{on:[{type:"text_area",name:"survey_targeted_why_fauna_retained",label:"Why does the fauna need to be retained?"},{type:"text_area",name:"survey_targeted_what_fauna_retained",label:"What fauna could be retained?"},{type:"number",name:"survey_targeted_num_fauna_retained",label:"If fauna is to be retained, how many animals?"},{conditions:{yes:[{type:"text_area",name:"survey_targeted_euthanise_method",label:"Method"}]},options:[{value:"yes",label:"Yes"},{value:"no",label:"No"}],type:"radiobuttons",name:"survey_targeted_fauna_euthanised",label:"Will fauna be euthanised?"},{type:"text",name:"survey_targeted_where_specimen_stored",label:"Where will the specimen(s) be held/lodged/stored?"},{type:"text_area",name:"survey_targeted_mesuem_storage_details",label:"If specimen is to be deposited at the WA Museum, will the Museum be contacted prior to the fauna being retained or did the Museum request the specimen?"}]},type:"checkbox",name:"survey_targeted_retain",label:"Retain"},{type:"text_area",name:"survey_targeted_prevent_vertebre_by_catch",label:"Describe measures that will be used to prevent/minimise vertebrate by-catch"},{type:"text_area",name:"survey_targeted_hygiene_disease_considerations",label:"Provide details of field hygiene and wildlife disease considerations."},{type:"text_area",name:"survey_targeted_fauna_capture_other_details",label:"Provide other details relating to fauna capture."}],other:[{type:"label",name:"survey_targeted_non_capture_method",label:"Please select any non-capture survey method you will be using"},{conditions:{on:[{type:"text_area",name:"survey_targeted_aural_survey_details",label:"Please provide Details"},{conditions:{yes:[{type:"text_area",name:"survey_targeted_call_playback_details",label:"Please provide Details"}]},options:[{value:"yes",label:"Yes"},{value:"no",label:"No"}],type:"radiobuttons",name:"survey_targeted_call_playback",label:"Will call play-back be used?"}]},type:"checkbox",name:"survey_targeted_aural_survey",label:"Aural survey"},{conditions:{on:[{type:"text_area",name:"survey_targeted_bird_census_details",label:"Please provide Details"}]},type:"checkbox",name:"survey_targeted_bird_census",label:"Bird Census"},{conditions:{on:[{type:"text_area",name:"survey_targeted_spotlighting_details",label:"Please provide Details"}]},type:"checkbox",name:"survey_targeted_spotlighting",label:"Spotlighting / head torching"},{conditions:{on:[{type:"text_area",name:"survey_targeted_hair_tubes_details",label:"Please provide Details"}]},type:"checkbox",name:"survey_targeted_hair_tubes",label:"Hair tubes / sticky wicket"},{conditions:{on:[{type:"text_area",name:"survey_targeted_secondary_signs_details",label:"Please provide Details"}]},type:"checkbox",name:"survey_targeted_secondary_signs",label:"Secondary signs / evidence"},{conditions:{on:[{type:"text_area",name:"survey_targeted_habitat_assessment_details",label:"Please provide Details"}]},type:"checkbox",name:"survey_targeted_habitat_assessment",label:"Habitat Assessment"},{conditions:{on:[{type:"text_area",name:"survey_targeted_non_capture_other_details",label:"Please provide Details"}]},type:"checkbox",name:"survey_targeted_non_capture_other",label:"Other"}],remote_sensing:[{type:"label",name:"survey_targeted_remote_sensing_apparatus",label:"What remote sensing apparatus will you be using?"},{conditions:{on:[{conditions:{yes:[{type:"text",name:"survey_targeted_what_bait",label:"What bait will be used?"},{options:[{value:"yes",label:"Yes"},{value:"no",label:"No"}],type:"radiobuttons",name:"survey_targeted_bait_consumable",label:"Will the bait be consumable?"},{options:[{value:"yes",label:"Yes"},{value:"no",label:"No"}],type:"radiobuttons",name:"survey_targeted_bait_replenished",label:"Will the bait be replenished?"}]},options:[{value:"yes",label:"Yes"},{value:"no",label:"No"}],type:"radiobuttons",name:"survey_targeted_camera_baited",label:"Will cameras be baited with an attractant/lure?"},{children:[{type:"text",name:"survey_targeted_camera_make",label:"Make"},{type:"number",name:"survey_targeted_num_cameras",label:"Number of devices"},{type:"text_area",name:"survey_targeted_camera_placement",label:"Camera Placement"},{type:"text",name:"survey_targeted_camera_situ",label:"How long in situ"},{type:"text",name:"survey_targeted_camera_other_details",label:"Other details"}],isRepeatable:!0,type:"group",name:"survey_targeted_camera_information",label:"Camera Information"}]},type:"checkbox",name:"survey_targeted_camera",label:"Camera"},{conditions:{on:[{children:[{type:"text",name:"survey_targeted_ubd_make",label:"Make"},{type:"number",name:"survey_targeted_num_ubds",label:"Number of devices"},{type:"text",name:"survey_targeted_ubd_placement",label:"Ultrasonic bat detector Placement"},{type:"text",name:"survey_targeted_ubd_situ",label:"How long in situ"},{type:"text",name:"survey_targeted_ubd_other_details",label:"Other details"}],isRepeatable:!0,type:"group",name:"survey_targeted_ultrasonic_bat_detector_information",label:"Ultrasonic Bat Detector Information"}]},type:"checkbox",name:"survey_targeted_ultrasonic_bat_detector",label:"Ultrasonic bat detector"},{conditions:{on:[{children:[{type:"text",name:"survey_targeted_acr_make",label:"Make"},{type:"number",name:"survey_targeted_num_acrs",label:"Number of devices"},{type:"text",name:"survey_targeted_acr_placement",label:"Acoustic call recorder Placement"},{type:"text",name:"survey_targeted_acr_situ",label:"How long in situ"},{type:"text",name:"survey_targeted_acr_other_details",label:"Other details"}],isRepeatable:!0,type:"group",name:"survey_targeted_acoustic_call_recorder_information",label:"Acoustic call recorder Information"}]},type:"checkbox",name:"survey_targeted_acoustic_call_recorder",label:"Acoustic call recorder"},{conditions:{on:[{children:[{type:"text",name:"survey_targeted_aerial_make",label:"Make"},{type:"number",name:"survey_targeted_num_aerials",label:"Number of devices"},{type:"text",name:"survey_targeted_aerial_placement",label:"Aerial Placement"},{type:"text",name:"survey_targeted_aerial_situ",label:"How long in situ"},{type:"text",name:"survey_targeted_aerial_other_details",label:"Other details"}],type:"group",name:"survey_targeted_aerial_information",label:"Aerial Information"}]},type:"checkbox",name:"survey_targeted_aerial",label:"Aerial"},{type:"text_area",name:"survey_targeted_remote_sensing_other_details",label:"Provide any other details relating to remote sensing."}]},options:[{value:"capture",label:"Capture"},{value:"remote_sensing",label:"Remote Sensing"},{value:"other",label:"Other non-capture"}],type:"radiobuttons",name:"survey_targeted_survey_method",label:"What survey method will you be using?"}]},type:"checkbox",name:"survey_targeted",label:"Targeted"},{conditions:{on:[{type:"text",name:"survey_other_survey_type_details",label:"Provide details"}]},type:"checkbox",name:"survey_other_survey_type",label:"Other"}]}],research:[{type:"label",name:"research_note_1",label:"Note: Research as a licence project type should only be select if the proposed activity does not fit within the methodology for research or survey."},{type:"label",name:"research_note_2",label:"Monitoring should be selected if your study includes capture-mark-recapture or fauna tracking. Usually with field sessions at regular or irregular intervals, and total project duration greater than 12 months."},{type:"label",name:"research_note_2",label:"Survey should be selected if your study includes capture and release, for one or a few field sessions, and total project duration up to but not greater than 12 months."},{conditions:{field_and_laboratory:[{type:"text_area",name:"research_lab_details",label:"Provide details of laboratory/facility"},{type:"text_area",name:"research_animal_husbandry",label:"Provide specific details of animal husbandry"},{type:"text_area",name:"research_fauna_activities",label:"Provide specific details of fauna related activities that are proposed to occur within the laboratory/facility"},{type:"text_area",name:"research_fauna_hold_length",label:"How long will the fauna be held?"},{conditions:{research_release_wild:[{type:"label",name:"research_fauna_release_details",label:"Provide details for the following"},{type:"text_area",name:"research_fauna_release_risk_assessment",label:"Risk assessment (release of fauna back to the wild after being held and studied in a laboratory/facility poses a risk of disease/parasite introduction to the wild fauna)"},{type:"text_area",name:"research_fauna_release_quarantine",label:"Quarantine and health check conditions prior to release"},{type:"text_area",name:"research_fauna_release_site",label:"Proposed release site"},{type:"text_area",name:"research_fauna_release_site_transportation",label:"Transportation to release site"},{type:"text_area",name:"research_fauna_post_release_monitoring",label:"Post release monitoring"}],research_euthanase:[{type:"label",name:"research_fauna_euthanasia_details",label:"Method of euthanasia"},{conditions:{yes:[{type:"text_area",name:"research_fauna_stored",label:"Where will the specimen(s) be held/lodged/stored?"}],no:[{type:"text_area",name:"research_fauna_disposal",label:"Provide details of disposal"}]},options:[{value:"yes",label:"Yes"},{value:"no",label:"No"}],type:"radiobuttons",name:"research_fauna_retained_specimen",label:"Will the fauna be retained as a specimen?"}]},options:[{value:"research_transfer_alive",label:"Transfer alive to another project"},{value:"research_release_wild",label:"Release to the wild"},{value:"research_euthanase",label:"Euthanase"}],type:"radiobuttons",name:"research_fauna_final_fate",label:"What is the final fate of fauna that has been in the laboratory/specialised facility?"},{type:"text_area",name:"research_lab_other_details",label:"Provide any other details relating to the Laboratory/specialised facility component"}]},options:[{value:"field_component_only",label:"Field component only"},{value:"field_and_laboratory",label:"Field and laboratory/specialised facility components"}],type:"radiobuttons",name:"research_type",label:"Which of the following describes your research?"},{type:"number",name:"research_num_research_locations",label:"At how many locations will your research occur?"},{name:"research_details",isRepeatable:!0,help_text:"If multiple research locations; provide details separately for each location and add an additional location after activity questions.",label:"Monitoring Details",type:"group",children:[{type:"text_area",name:"research_address",label:"Location / Address"},{type:"text",name:"research_coordinates",label:"Coordinate / GPS"},{children:[{type:"date",name:"research_field_session_start_date",label:"Start Date"},{type:"date",name:"research_field_session_end_date",label:"End Date"}],isRepeatable:!0,type:"group",name:"research_field_session",label:"Field session"},{type:"text",name:"research_field_dates_unknown",label:"If field dates are unknown, use anticipated field dates in the start and end date above and explain below."},{conditions:{on:[{children:[{type:"text",name:"research_tft_group_name",label:"Group name"},{speciesType:"fauna",type:"species",name:"research_tft_scientific_name",label:"Scientific or common name"}],isRepeatable:!0,type:"group",name:"research_targeted_fauna",label:"Targeted Fauna Type"}]},type:"checkbox",name:"research_targeting_species_or_fauna",label:"Is the research targeting species or fauna group?"},{conditions:{yes:[{children:[{type:"text",name:"research_threatened_group_name",label:"Group name"},{speciesType:"fauna",type:"species",name:"research_threatened_scientific_name",label:"Scientific or common name"}],isRepeatable:!0,type:"group",name:"research_threatened_fauna",label:"Threatened Fauna"}]},options:[{value:"yes",label:"Yes"},{value:"no",label:"No"},{value:"unknown",label:"Unknown"}],type:"radiobuttons",name:"research_threatened_priority_fauna",label:"Will your activity possibly interact with any threatened or priority fauna (including non-target species)?"},{options:[{value:"yes",label:"Yes"},{value:"no",label:"No"}],type:"radiobuttons",name:"research_standard_operating_procedures",label:"Will your activities be in accordance with Parks and Wildlife standard operating procedures?"},{conditions:{yes:[{type:"text",name:"research_sops_details",label:"Provide details"},{type:"file",name:"research_sops_documents",label:"Attach a copy of the relevent document(s)"}]},options:[{value:"yes",label:"Yes"},{value:"no",label:"No"}],type:"radiobuttons",name:"research_sops",label:"Will your activities be in accordance with any other SOPs, protocols, guidelines or manuals?"},{type:"label",name:"research_field_component",label:"Field component"},{conditions:{on:[{type:"text",name:"research_non_capture_details",label:"Provide specific details of non-capture methodology"}]},type:"checkbox",name:"research_non_capture",label:"Non-capture"},{conditions:{on:[{type:"text",name:"research_capture_details",label:"Provide specific details of capture methodology"}]},type:"checkbox",name:"research_capture",label:"Capture"},{type:"label",name:"research_fate",label:"What will be the fate(s) of the fauna captured?"},{conditions:{on:[{options:[{value:"immediately",label:"Immediately after species idenfication"},{value:"after_transmitter_attachment",label:"After attachment of transmitter"},{value:"after_morphometrics",label:"After morphometrics and physical condition taken"},{value:"after_samples",label:"After samples taken"},{value:"after_marking",label:"After marking"},{value:"after_temp_holding",label:"After temporary holding (< 24 hours)"}],type:"select",name:"research_release_schedule",label:"Release Schedule"},{type:"label",name:"research_pre_release_occurences",label:"Which of the following will occur before release?"},{conditions:{on:[{type:"text_area",name:"research_prerelease_transmitter_type",label:"Transmitter type, make and model, and construction material"},{type:"text_area",name:"research_prerelease_method_attachment",label:"Method of attachment to animal"},{type:"text",name:"research_prerelease_transmitter_max_weight",label:"Maximum weight of transmitter and attachment materials"},{type:"text",name:"research_prerelease_mim_body_weight",label:"Minimum body weight of animal to which transmitter will be attached"},{type:"text",name:"research_prerelease_transmitter_attachment_length",label:"How long will the transmitter remain attached to the animal?"},{conditions:{yes:[{type:"declaration",name:"research_prerelease_acknowledge",label:"I acknowledge that every attempt will be made to recapture the animal to remove the transmitter, and will notify Wildlife Licensing if this cannot be done."}],no:[{type:"text_area",name:"research_prerelease_detach_details",label:"Provide details of how the transmitter will detach from the animal"}]},options:[{value:"yes",label:"Yes"},{value:"no",label:"No"}],type:"radiobuttons",name:"research_prerelease_recapture_remove",label:"Does the animal need to be recaptured to remove the transmitter?"}]},type:"checkbox",name:"research_release_transmitter",label:"Attachment of transmitter"},{conditions:{on:[{type:"label",name:"research_mophometrics_recorded",label:"What morphometrics and condition details will be recorded?"},{type:"checkbox",name:"research_mophometric_length",label:"Length"},{type:"checkbox",name:"research_mophometric_sex",label:"Sex"},{type:"checkbox",name:"research_mophometric_age",label:"Age"},{type:"checkbox",name:"research_mophometric_body_condition",label:"Body condition"},{type:"checkbox",name:"research_mophometric_reproductive_condition",label:"Reproductive condition"},{conditions:{on:[{type:"text_area",name:"research_mophometric_other_details",label:"Please provide details"}]},type:"checkbox",name:"research_mophometric_other",label:"Other"},{type:"text_area",name:"research_mophometric_other_details",label:"Provide any other details relating to measurements and condition"}]},type:"checkbox",name:"research_mophometrics",label:"Mophometrics and physical condition analysis"},{conditions:{on:[{type:"label",name:"research_samples",label:"What samples will be taken?"},{conditions:{on:[{type:"text_area",name:"research_tissue_details",label:"Please provide details"}]},type:"checkbox",name:"research_tissue",label:"Tissue"},{conditions:{on:[{type:"text_area",name:"research_scale_details",label:"Please provide details"}]},type:"checkbox",name:"research_scale",label:"Scale"},{conditions:{on:[{type:"text_area",name:"research_hair_feather_details",label:"Please provide details"}]},type:"checkbox",name:"research_hair_feather",label:"Hair / feather"},{conditions:{on:[{type:"text_area",name:"research_blood_details",label:"Please provide details"}]},type:"checkbox",name:"research_blood",label:"Blood"},{conditions:{on:[{type:"text_area",name:"research_swabs_details",label:"Please provide details"}]},type:"checkbox",name:"research_swabs",label:"Swabs"},{conditions:{on:[{type:"text_area",name:"research_samples_other_details",label:"Please provide details"}]},type:"checkbox",name:"research_samples_other",label:"Other"}]},type:"checkbox",name:"research_sampling",label:"Sampling"},{conditions:{on:[{conditions:{permanent:[{conditions:{on:[{type:"text_area",name:"research_tags_details",label:"Please provide details"}]},type:"checkbox",name:"research_tags",label:"Tags"},{conditions:{on:[{type:"text_area",name:"research_microchips_details",label:"Please provide details"}]},type:"checkbox",name:"research_microchips",label:"Microchips / implants"},{conditions:{on:[{type:"text_area",name:"research_bands_details",label:"Please provide details"}]},type:"checkbox",name:"research_bands",label:"Bands"},{conditions:{on:[{type:"text_area",name:"research_ear_punching_details",label:"Please provide details"}]},type:"checkbox",name:"research_ear_punching",label:"Ear punching"},{conditions:{on:[{type:"text_area",name:"research_marking_other_details",label:"Please provide details"}]},type:"checkbox",name:"research_marking_other",label:"Other"}]},options:[{value:"temporary",label:"Temporary"},{value:"permanent",label:"Permanent"}],type:"select",name:"research_marking",label:"What marking will be done and why?"}]},type:"checkbox",name:"research_marking",label:"Marking"},{conditions:{on:[{type:"text_area",name:"research_why_temporarily_held",label:"Why will/may the fauna be temporarily held?"},{type:"text_area",name:"research_how_temporarily_held",label:"How will the fauna be held?"},{type:"text_area",name:"research_where_temporarily_held",label:"Where will the fauna be held?"},{type:"text_area",name:"research_transported_details",label:"If fauna will be transported, provide details?"},{conditions:{other:[{type:"text_area",name:"research_fauna_release_other_details",label:"Please provide details"},{conditions:{yes:[{type:"text_area",name:"research_transportation_details",label:"Provide details of transportation"}],no:[{type:"text_area",name:"research_euthanasia_details",label:"Provide details on euthanasia"}]},options:[{value:"yes",label:"Yes"},{value:"no",label:"No"}],type:"radiobuttons",name:"research_retained_alived",label:"Will fauna will be retained alive for study in laboratory/specialised facility?"},{type:"text",name:"research_where_specimen_stored",label:"Where will the specimen(s) be held/lodged/stored?"},{type:"text_area",name:"research_unforseen_injury_dealings",label:"Describe how unforeseen injuries or other related issues will be dealt with."},{type:"text_area",name:"research_hygiene_disease_considerations",label:"Provide details of field hygiene and wildlife disease considerations."},{type:"text_area",name:"research_fauna_capture_other_details",label:"Provide other details relating to fauna capture."}]},options:[{value:"at_capture_site",label:"At capture site"},{value:"near_capture_site",label:"Near capture site into suitable habitat"},{value:"other",label:"Other"}],type:"select",name:"research_where_fauna_released",label:"Where will the fauna be released?"}]},type:"checkbox",name:"research_temporary_holding",label:"Temporary Holding"}]},type:"checkbox",name:"research_release",label:"Release"},{conditions:{on:[{type:"text_area",name:"research_species_retained",label:"Provide details on what species and how many individuals (per species) are to be retained"}]},type:"checkbox",name:"research_retain",label:"Retain"}]}]},options:[{value:"survey",label:"Survey"},{value:"monitoring",label:"Monitoring"},{value:"research",label:"Research"}],defaultBlank:!0}],type:"section",name:"project_description",label:"Project Description"}]},function(e,t,a){"use strict";(function(e,t){var n=a(680),i=a(667),s=function(e){return e&&e.__esModule?e:{default:e}}(i);a(76)(),a(161)(),a(639)(window,e),a(162)(window,e),a(638)(window,e,s.default),a(641),a(642),a(550),a(663),(0,n.extendMoment)(t)}).call(t,a(1),a(0))},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(4),s=n(i),o=a(903),r=n(o),l=a(782),c=n(l),d=a(784),u=n(d),p=a(783),_=n(p),m=a(785),f=n(m),v=a(476),h=n(v),g=a(477),b=n(g);s.default.use(r.default),t.default=new r.default({mode:"history",routes:[{path:"/firsttime",name:"first-time",component:c.default},{path:"/account",name:"account",component:c.default},{path:"/profiles",component:{render:function(e){return e("router-view")}},children:[{path:"/",component:u.default,name:"profiles-dash"},{path:"create",component:_.default,name:"profile-create"},{path:":profile_id",component:f.default,name:"profile-detail"}]},h.default,b.default]})},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),a(548);var i=a(4),s=n(i),o=a(6),r=n(o),l=a(479),c=a(488),d=a(484),u=a(485),p=a(486),_=a(480),m=a(483),f=a(481),v=a(487),h=a(482);s.default.use(r.default),t.default=new r.default.Store({state:{},mutations:{},getters:{},modules:{appStore:l.applicationStore,userStore:c.userStore,rendererStore:d.rendererStore,returnsStore:u.returnsStore,returnsRendererStore:p.returnsRendererStore,callemailStore:_.callemailStore,offenceStore:m.offenceStore,inspectionStore:f.inspectionStore,sanctionOutcomeStore:v.sanctionOutcomeStore,legalCaseStore:h.legalCaseStore}})},,function(e,t,a){a(557);var n=a(2)(a(359),a(795),null,null);e.exports=n.exports},function(e,t,a){var n=a(2)(a(366),a(820),null,null);e.exports=n.exports},function(e,t,a){var n=a(2)(a(372),a(896),null,null);e.exports=n.exports},,,,function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"app"}},function(e,t,a){"use strict";(function(e){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(18),s=n(i),o=a(30),r=n(o),l=a(3);t.default={name:"Add-Comms",components:{modal:s.default,alert:r.default},props:{url:{type:String,required:!0}},data:function(){return{isModalOpen:!1,form:null,comms:{},state:"proposed_licence",addingComms:!1,validation_form:null,errors:!1,errorString:"",successString:"",success:!1,datepickerOptions:{format:"DD/MM/YYYY",showClear:!0,useCurrent:!1,keepInvalid:!0,allowInputToggle:!0},files:[{file:null,name:""}]}},computed:{showError:function(){return this.errors},title:function(){return"with_approver"==this.processing_status.id?"Issue Comms":"Propose to issue licence"}},methods:{ok:function(){var t=this;e(t.form).valid()&&t.sendData()},uploadFile:function(t,a){var n=this,i=null,s=e("."+t)[0];if(s.files&&s.files[0]){var o=new FileReader;o.readAsDataURL(s.files[0]),o.onload=function(e){i=e.target.result},i=s.files[0]}a.file=i,a.name=i.name,n.sendData()},removeFile:function(t){var a=this,n=this.files.length;e(".file-row-"+t).remove(),this.files.splice(t,1),this.$nextTick(function(){1==n&&a.attachAnother()})},attachAnother:function(){this.files.push({file:null,name:""})},cancel:function(){this.close()},close:function(){var t=this;this.isModalOpen=!1,this.comms={},this.errors=!1,e(".has-error").removeClass("has-error"),this.validation_form.resetForm();var a=t.files.length;this.files=[];for(var n=0;n<a;n++)t.$nextTick(function(){e(".file-row-"+n).remove()});this.attachAnother()},sendData:function(){var e=this;e.errors=!1;var t=new FormData(e.form);e.addingComms=!0,e.$http.post(e.url,t,{}).then(function(t){e.addingComms=!1,e.close()},function(t){e.errors=!0,e.addingComms=!1,e.errorString=l.helpers.apiVueResourceError(t)})},addFormValidations:function(){var t=this;t.validation_form=e(t.form).validate({rules:{to:"required",fromm:"required",type:"required",subject:"required",text:"required"},messages:{},showErrors:function(t,a){e.each(this.validElements(),function(t,a){e(a).attr("data-original-title","").parents(".form-group").removeClass("has-error")}),e("."+this.settings.validClass).tooltip("destroy");for(var n=0;n<a.length;n++){var i=a[n];e(i.element).tooltip({trigger:"focus"}).attr("data-original-title",i.message).parents(".form-group").addClass("has-error")}}})}},mounted:function(){var e=this;e.form=document.forms.commsForm,e.addFormValidations()}}}).call(t,a(1))},function(e,t,a){"use strict";(function(e){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(12),s=n(i),o=a(18),r=n(o),l=a(30),c=n(l),d=a(3);t.default={name:"Add-Organisation-Contact",components:{modal:r.default,alert:c.default},props:{org_id:{type:Number}},data:function(){return{isModalOpen:!1,form:null,contact:{},errors:!1,errorString:"",successString:"",success:!1}},computed:{showError:function(){return this.errors}},methods:{ok:function(){var t=this;e(t.form).valid()&&t.sendData()},cancel:function(){},close:function(){this.isModalOpen=!1,this.contact={},this.errors=!1,this.form.reset()},fetchContact:function(e){var t=this;t.$http.get(d.api_endpoints.contact(e)).then(function(e){t.contact=e.body,t.isModalOpen=!0},function(e){console.log(e)})},sendData:function(){var e=this;if(e.errors=!1,e.contact.id){var t=e.contact;e.$http.put(d.api_endpoints.organisation_contacts(t.id),(0,s.default)(t),{emulateJSON:!0}).then(function(t){e.close()},function(t){console.log(t),e.errors=!0,e.errorString=d.helpers.apiVueResourceError(t)})}else{var a=JSON.parse((0,s.default)(e.contact));a.organisation=e.org_id,a.user_status.id="draft",a.user_role.id="organisation_user",e.$http.post(d.api_endpoints.organisation_contacts,(0,s.default)(a),{emulateJSON:!0}).then(function(t){e.close(),e.$parent.addedContact()},function(t){console.log(t),e.errors=!0,e.errorString=d.helpers.apiVueResourceError(t)})}},addFormValidations:function(){var t=this;e(t.form).validate({rules:{arrival:"required",departure:"required",campground:"required",campsite:{required:{depends:function(e){return t.campsites.length>0}}}},messages:{arrival:"field is required",departure:"field is required",campground:"field is required",campsite:"field is required"},showErrors:function(t,a){e.each(this.validElements(),function(t,a){e(a).attr("data-original-title","").parents(".form-group").removeClass("has-error")}),e("."+this.settings.validClass).tooltip("destroy");for(var n=0;n<a.length;n++){var i=a[n];e(i.element).tooltip({trigger:"focus"}).attr("data-original-title",i.message).parents(".form-group").addClass("has-error")}}})},eventListerners:function(){}},mounted:function(){var e=this;e.form=document.forms.addContactForm,e.addFormValidations()}}}).call(t,a(1))},function(e,t,a){"use strict";(function(e,n,i){Object.defineProperty(t,"__esModule",{value:!0});var s=a(10),o=function(e){return e&&e.__esModule?e:{default:e}}(s),r=a(3);a(343),a(40),a(39),t.default={name:"ApplicationTableDash",props:{level:{type:String,required:!0,validator:function(e){return-1!=["internal","external"].indexOf(e)}},url:{type:String,required:!0}},data:function(){var t=this,a=["Number","Category","Activity","Type","Submitter","Applicant","Status","Payment Status","Lodged on","Assigned Officer","Action"],i=[{data:"lodgement_number",width:"10%"},{data:"category_name",width:"10%",className:"normal-white-space",orderable:!1,searchable:!1},{data:"purpose_string",width:"30%",mRender:function(e,t,a){return e.replace(/(?:\r\n|\r|\n|,)/g,"<br>")},orderable:!1,searchable:!1},{data:"application_type",width:"10%",mRender:function(e,t,a){return e.name}},{data:"submitter",visible:!1,className:"normal-white-space",name:"submitter__first_name, submitter__last_name, submitter__email",mRender:function(e,t,a){return e?e.first_name+" "+e.last_name:""}},{data:"applicant",width:"10%",className:"normal-white-space",orderable:!1,searchable:!1},{data:"processing_status",width:"10%",className:"normal-white-space",mRender:function(e,t,a){return e.name},orderable:!1,searchable:!1},{data:"payment_status",visible:!1,orderable:!1,searchable:!1},{data:"lodgement_date",width:"10%",mRender:function(a,n,i){return""!=a&&null!=a?e(a).format(t.dateFormat):""},searchable:!1},{data:"assigned_officer",visible:!1,name:"assigned_officer__first_name, assigned_officer__last_name, assigned_officer__email"},{width:"10%",mRender:function(e,a,n){var i="";if(!t.is_external){var s=["approved","declined"].includes(n.processing_status.id);i+=n.can_be_processed&&n.user_in_officers_and_assessors?"<a href='/internal/application/"+n.id+"'>Process</a><br/>":"<a href='/"+(s?"internal":"external")+"/application/"+n.id+"'>View</a><br/>"}return t.is_external&&(n.can_current_user_edit&&(i+="<a href='/external/application/"+n.id+"'>Continue</a><br/>"),t.canDiscardApplication(n)&&(i+="<a href='#"+n.id+"' data-discard-application='"+n.id+"'>Discard</a><br/>")),i},orderable:!1,searchable:!1}],s=[{data:"lodgement_number",width:"10%"},{data:"category_name",width:"10%",orderable:!1,searchable:!1},{data:"purpose_string",width:"30%",mRender:function(e,t,a){return e.replace(/(?:\r\n|\r|\n|,)/g,"<br>")},orderable:!1,searchable:!1},{data:"application_type",width:"10%",mRender:function(e,t,a){return e.name}},{data:"submitter",visible:!1,name:"submitter__first_name, submitter__last_name, submitter__email",mRender:function(e,t,a){return e?e.first_name+" "+e.last_name:""}},{data:"applicant",width:"10%",orderable:!1,searchable:!1},{data:"customer_status",width:"10%",mRender:function(e,t,a){return e.name},orderable:!1,searchable:!1},{data:"lodgement_date",width:"10%",mRender:function(a,n,i){return""!=a&&null!=a?e(a).format(t.dateFormat):""},searchable:!1},{width:"10%",mRender:function(e,a,n){var i="";return t.is_external?(n.can_current_user_edit?(i+="<a href='/external/application/"+n.id+"'>Continue</a><br/>",t.canDiscardApplication(n)&&(i+="<a href='#"+n.id+"' data-discard-application='"+n.id+"'>Discard</a><br/>")):n.can_user_view&&(i+="<a href='/external/application/"+n.id+"'>View</a><br/>"),"unpaid"==n.payment_status&&(i+="<a href='#"+n.id+"' data-pay-application-fee='"+n.id+"'>Pay Application Fee</a><br/>")):i+="<a href='/internal/application/"+n.id+"'>View</a><br/>",i},orderable:!1,searchable:!1}];return{pBody:"pBody"+t._uid,datatable_id:"application-datatable-"+t._uid,filterApplicationLicenceType:"All",filterApplicationStatus:"All",filterApplicationLodgedFrom:"",filterApplicationLodgedTo:"",filterApplicationSubmitter:"All",dateFormat:"DD/MM/YYYY",datepickerOptions:{format:"DD/MM/YYYY",showClear:!0,useCurrent:!1,keepInvalid:!0,allowInputToggle:!0},application_licence_types:[],application_submitters:[],application_status:[],application_ex_headers:["Number","Category","Activity","Type","Submitter","Applicant","Status","Lodged on","Action"],application_ex_options:{serverSide:!0,searchDelay:1e3,lengthMenu:[[10,25,50,100,-1],[10,25,50,100,"All"]],order:[[0,"desc"]],autoWidth:!1,language:{processing:"<i class='fa fa-4x fa-spinner fa-spin'></i>"},rowCallback:function(e,t){n(e).addClass("appRecordRow")},responsive:!1,ajax:{url:t.url,dataSrc:"data",data:function(a){a.category_name=t.filterApplicationLicenceType,a.customer_status=t.filterApplicationStatus.id,a.submitter=t.filterApplicationSubmitter,a.date_from=""!=t.filterApplicationLodgedFrom&&null!=t.filterApplicationLodgedFrom?e(t.filterApplicationLodgedFrom,"DD/MM/YYYY").format("YYYY-MM-DD"):"",a.date_to=""!=t.filterApplicationLodgedTo&&null!=t.filterApplicationLodgedTo?e(t.filterApplicationLodgedTo,"DD/MM/YYYY").format("YYYY-MM-DD"):""}},columns:s,processing:!0,initComplete:function(){t.visibleDatatable.vmDataTable.columns(t.getColumnIndex("category")).data().unique().sort().each(function(e,a){var i=[];n.each(e,function(e,t){null!=t&&i.indexOf(t)<0&&i.push(t)}),t.application_licence_types=i}),t.visibleDatatable.vmDataTable.columns(t.getColumnIndex("submitter")).data().unique().sort().each(function(e,a){var i=[];n.each(e,function(e,t){i.find(function(e){return e.email==t.email})&&0!=i.length||i.push({email:t.email,search_term:t.first_name+" "+t.last_name+" ("+t.email+")"})}),t.application_submitters=i}),t.visibleDatatable.vmDataTable.columns(t.getColumnIndex("status")).data().unique().sort().each(function(e,a){var i=[];n.each(e,function(e,t){null==t||i.filter(function(e){return e.id==t.id}).length||i.push(t)}),t.application_status=i})}},application_headers:a,application_options:{serverSide:!0,searchDelay:1e3,lengthMenu:[[10,25,50,100,-1],[10,25,50,100,"All"]],order:[[0,"desc"]],autoWidth:!1,language:{processing:"<i class='fa fa-4x fa-spinner fa-spin'></i>"},rowCallback:function(e,t){n(e).addClass("appRecordRow")},responsive:!1,ajax:{url:t.url,dataSrc:"data",data:function(a){a.category_name=t.filterApplicationLicenceType,a.processing_status=t.filterApplicationStatus.id,a.submitter=t.filterApplicationSubmitter,a.date_from=""!=t.filterApplicationLodgedFrom&&null!=t.filterApplicationLodgedFrom?e(t.filterApplicationLodgedFrom,"DD/MM/YYYY").format("YYYY-MM-DD"):"",a.date_to=""!=t.filterApplicationLodgedTo&&null!=t.filterApplicationLodgedTo?e(t.filterApplicationLodgedTo,"DD/MM/YYYY").format("YYYY-MM-DD"):""}},columns:i,processing:!0,initComplete:function(){t.visibleDatatable.vmDataTable.columns(t.getColumnIndex("category")).data().unique().sort().each(function(e,a){var i=[];n.each(e,function(e,t){null!=t&&i.indexOf(t)<0&&t.length&&i.push(t)}),t.application_licence_types=i}),t.visibleDatatable.vmDataTable.columns(t.getColumnIndex("submitter")).data().unique().sort().each(function(e,a){var i=[];n.each(e,function(e,t){i.find(function(e){return e.email==t.email||0==i.length})||i.push({email:t.email,search_term:t.first_name+" "+t.last_name+" ("+t.email+")"})}),t.application_submitters=i}),t.visibleDatatable.vmDataTable.columns(t.getColumnIndex("status")).data().unique().sort().each(function(e,a){var i=[];n.each(e,function(e,t){null==t||i.filter(function(e){return e.id==t.id}).length||i.push(t)}),t.application_status=i}),t.visibleDatatable.vmDataTable.columns.adjust().responsive.recalc()}}}},components:{datatable:o.default},watch:{filterApplicationStatus:function(){this.visibleDatatable.vmDataTable.draw()},filterApplicationSubmitter:function(){this.visibleDatatable.vmDataTable.draw()},filterApplicationLodgedFrom:function(){this.visibleDatatable.vmDataTable.draw()},filterApplicationLodgedTo:function(){this.visibleDatatable.vmDataTable.draw()},filterApplicationLicenceType:function(){this.visibleDatatable.vmDataTable.draw()}},computed:{visibleHeaders:function(){return this.is_external?this.application_ex_headers:this.application_headers},visibleDatatable:function(){return this.is_external?this.$refs.external_application_datatable:this.$refs.application_datatable},is_external:function(){return"external"==this.level}},methods:{canDiscardApplication:function(e){return"draft"===e.processing_status.id},discardApplication:function(e){var t=this;i({title:"Discard Application",text:"Are you sure you want to discard this application?",type:"warning",showCancelButton:!0,confirmButtonText:"Discard Application",confirmButtonColor:"#d9534f"}).then(function(a){a.value&&t.$http.delete(r.api_endpoints.discard_application(e)).then(function(e){i("Discarded","Your application has been discarded","success"),t.visibleDatatable.vmDataTable.ajax.reload()},function(e){i("Discard Error",r.helpers.apiVueResourceError(e),"error")})},function(e){})},payLicenceFee:function(e,t){this.$http.post(r.helpers.add_endpoint_join(r.api_endpoints.applications,e+"/licence_fee_checkout/"),{application_id:e,activity_id:t}).then(function(e){window.location.href="/ledger/checkout/checkout/payment-details/"},function(e){i("Submit Error",r.helpers.apiVueResourceError(e),"error")})},payApplicationFee:function(e){this.$http.post(r.helpers.add_endpoint_join(r.api_endpoints.applications,e+"/application_fee_checkout/"),e).then(function(e){window.location.href="/ledger/checkout/checkout/payment-details/"},function(e){i("Submit Error",r.helpers.apiVueResourceError(e),"error")})},addEventListeners:function(){var e=this;n(e.$refs.applicationDateToPicker).datetimepicker(e.datepickerOptions),n(e.$refs.applicationDateToPicker).on("dp.change",function(t){n(e.$refs.applicationDateToPicker).data("DateTimePicker").date()?e.filterApplicationLodgedTo=t.date.format("DD/MM/YYYY"):""===n(e.$refs.applicationDateToPicker).data("date")&&(e.filterApplicationLodgedTo="")}),n(e.$refs.applicationDateFromPicker).datetimepicker(e.datepickerOptions),n(e.$refs.applicationDateFromPicker).on("dp.change",function(t){n(e.$refs.applicationDateFromPicker).data("DateTimePicker").date()?(e.filterApplicationLodgedFrom=t.date.format("DD/MM/YYYY"),n(e.$refs.applicationDateToPicker).data("DateTimePicker").minDate(t.date)):""===n(e.$refs.applicationDateFromPicker).data("date")&&(e.filterApplicationLodgedFrom="",n(e.$refs.applicationDateToPicker).data("DateTimePicker").minDate(!1))}),e.visibleDatatable.vmDataTable.on("click","a[data-discard-application]",function(t){t.preventDefault();var a=n(this).attr("data-discard-application");e.discardApplication(a)}),e.visibleDatatable.vmDataTable.on("click","a[data-pay-application-fee]",function(t){t.preventDefault();var a=n(this).attr("data-pay-application-fee");e.payApplicationFee(a)}),e.visibleDatatable.vmDataTable.on("click","tr.appRecordRow",function(t){if(!n(t.target).is("a")){var a=n(this),i=e.visibleDatatable.vmDataTable.row(a);if(i.child.isShown())i.child.hide(),a.removeClass("shown");else{var s="",o="";i.data().activities.forEach(function(t){o+="\n                            <tr>\n                                <td>"+t.activity_name_str+"</td>\n                                <td>"+t.activity_purpose_names.replace(/(?:\r\n|\r|\n|,)/g,"<br>")+"</td>\n                                "+(e.is_external?"":"<td>"+t.processing_status.name+"</td>")+"\n                                <td>\n                                    "+(t.can_pay_licence_fee?"<a pay-licence-fee-for='"+t.id+"' application-id='"+i.data().id+"'>Pay licence fee</a>":"")+"\n                                </td>\n                            </tr>"}),s+='\n                        <table class="table table-striped table-bordered child-row-table">\n                            <tr>\n                                <td class="width_20pc"><strong>Submitter:&nbsp;</strong></td>\n                                <td>'+i.data().submitter.first_name+"\n                                    "+i.data().submitter.last_name+"</td>\n                            </tr>",e.is_external||(s+="\n                            <tr>\n                                <td><strong>Payment Status:&nbsp;</strong></td>\n                                <td>"+i.data().payment_status+"</td>\n                            </tr>\n                            <tr>\n                                <td><strong>Assigned Officer:&nbsp;</strong></td>\n                                <td>"+(null===i.data().assigned_officer?"":i.data().assigned_officer)+"</td>\n                            </tr>"),s+="</table>",s+='\n                        <table class="table table-striped table-bordered child-row-table">\n                            <tr>\n                                <th>Activity</th>\n                                <th class="width_55pc">Purposes</th>\n                                '+(e.is_external?"":'<th class="width_20pc">Status</th>')+'\n                                <th class="width_10pc">Action</th>\n                            </tr>\n                            '+o+"\n                        </table>",i.child(s,"dark-row").show(),a.addClass("shown")}i.on("click","a[pay-licence-fee-for]",function(t){t.preventDefault();var a=n(this).attr("pay-licence-fee-for"),i=n(this).attr("application-id");e.payLicenceFee(i,a)})}}),n(e.$refs.submitter_select).select2({theme:"bootstrap",placeholder:"Select Submitter"}).on("select2:select",function(t){var a=n(t.currentTarget);e.filterApplicationSubmitter=a.val()}).on("select2:unselect",function(t){var a=n(t.currentTarget);e.filterApplicationSubmitter=a.val()})},initialiseSearch:function(){this.submitterSearch(),this.dateSearch()},submitterSearch:function(){var e=this;e.visibleDatatable.table.dataTableExt.afnFiltering.push(function(t,a,n,i){var s=e.filterApplicationSubmitter;return"All"==s||s==i.submitter.email})},dateSearch:function(){var t=this;t.visibleDatatable.table.dataTableExt.afnFiltering.push(function(a,n,i,s){var o=t.filterApplicationLodgedFrom,r=t.filterApplicationLodgedTo,l=s.lodgement_date;return""==o&&""==r||(""!=o&&""!=r?null!=l&&""!=l&&e().range(e(o,t.dateFormat),e(r,t.dateFormat)).contains(e(l)):""==o&&""!=r?null!=l&&""!=l&&e(r,t.dateFormat).diff(e(l))>=0:""==r&&""!=o&&(null!=l&&""!=l&&e(l).diff(e(o,t.dateFormat))>=0))})},getColumnIndex:function(e){return this.visibleHeaders.map(function(e){return e.toLowerCase()}).indexOf(e.toLowerCase())}},mounted:function(){var e=this;n('a[data-toggle="collapse"]').on("click",function(){var e=n(this).children()[0];window.setTimeout(function(){n(e).toggleClass("glyphicon-chevron-down glyphicon-chevron-up")},100)}),this.$nextTick(function(){e.initialiseSearch(),e.addEventListeners()})}}}).call(t,a(0),a(1),a(9))},function(e,t,a){"use strict";(function(e,n){Object.defineProperty(t,"__esModule",{value:!0});var i=a(10),s=function(e){return e&&e.__esModule?e:{default:e}}(i),o=a(3);t.default={name:"AssessmentTableDash",data:function(){var t=this;return{pBody:"pBody"+t._uid,datatable_id:"assessment-datatable-"+t._uid,filterApplicationLicenceType:"All",filterApplicationStatus:"All",filterApplicationLodgedFrom:"",filterApplicationLodgedTo:"",filterApplicationSubmitter:"All",dateFormat:"DD/MM/YYYY",datepickerOptions:{format:"DD/MM/YYYY",showClear:!0,useCurrent:!1,keepInvalid:!0,allowInputToggle:!0},application_status:[],application_licence_types:[],application_regions:[],application_submitters:[],assessment_headers:["Number","Licence Category","Activity","Type","Submitter","Applicant","Status","Lodged on","Action"],assessment_options:{serverSide:!0,searchDelay:1e3,lengthMenu:[[10,25,50,100,-1],[10,25,50,100,"All"]],order:[[0,"desc"]],tableID:"assessment-datatable-"+t._uid,language:{processing:"<i class='fa fa-4x fa-spinner fa-spin'></i>"},responsive:!0,ajax:{url:o.helpers.add_endpoint_join(o.api_endpoints.assessment_paginated,"datatable_list/?format=datatables"),dataSrc:"data",data:function(a){a.category_name=t.filterApplicationLicenceType,a.status=t.filterApplicationStatus.id,a.submitter=t.filterApplicationSubmitter,a.date_from=""!=t.filterApplicationLodgedFrom&&null!=t.filterApplicationLodgedFrom?e(t.filterApplicationLodgedFrom,"DD/MM/YYYY").format("YYYY-MM-DD"):"",a.date_to=""!=t.filterApplicationLodgedTo&&null!=t.filterApplicationLodgedTo?e(t.filterApplicationLodgedTo,"DD/MM/YYYY").format("YYYY-MM-DD"):""}},columns:[{data:"application",name:"application__lodgement_number"},{data:"application_category",mRender:function(e,t,a){return""!=e&&null!=e?""+e:""},orderable:!1,searchable:!1},{data:"licence_activity",mRender:function(e,t,a){return""!=e.id&&null!=e.id?""+e.name:""},orderable:!1,searchable:!1},{data:"application_type",mRender:function(e,t,a){return e.name},orderable:!1,searchable:!1},{data:"submitter",name:"application__submitter__first_name, application__submitter__last_name, application__submitter__email",mRender:function(e,t,a){return e?e.first_name+" "+e.last_name:""},orderable:!1,searchable:!1},{data:"applicant",orderable:!1,searchable:!1},{data:"status",mRender:function(e,t,a){return e.name},orderable:!1,searchable:!1},{data:"application_lodgement_date",mRender:function(a,n,i){return""!=a&&null!=a?e(a).format(t.dateFormat):""},orderable:!1,searchable:!1},{mRender:function(e,t,a){var n="";return n+=a.can_be_processed?"<a href='/internal/application/"+a.application_id+"'>Process</a><br/>":"<a href='/internal/application/"+a.application_id+"'>View</a><br/>"},orderable:!1,searchable:!1}],processing:!0,initComplete:function(){t.$refs.assessment_datatable.vmDataTable.columns(t.getColumnIndex("licence category")).data().unique().sort().each(function(e,a){var i=[];n.each(e,function(e,t){null!=t&&i.indexOf(t)<0&&t.length&&i.push(t)}),t.application_licence_types=i}),t.$refs.assessment_datatable.vmDataTable.columns(t.getColumnIndex("submitter")).data().unique().sort().each(function(e,a){var i=[];n.each(e,function(e,t){i.find(function(e){return e.email==t.email})&&0!=i.length||i.push({email:t.email,search_term:t.first_name+" "+t.last_name+" ("+t.email+")"})}),t.application_submitters=i}),t.$refs.assessment_datatable.vmDataTable.columns(t.getColumnIndex("status")).data().unique().sort().each(function(e,a){var i=[];n.each(e,function(e,t){null==t||i.filter(function(e){return e.id==t.id}).length||i.push(t)}),t.application_status=i})}}}},components:{datatable:s.default},watch:{filterApplicationActivity:function(){var e=this;"All"!=e.filterApplicationActivity?e.$refs.assessment_datatable.vmDataTable.columns(2).search(e.filterApplicationActivity).draw():e.$refs.assessment_datatable.vmDataTable.columns(2).search("").draw()},filterApplicationStatus:function(){this.filterByColumn("status",this.filterApplicationStatus)},filterApplicationSubmitter:function(){this.$refs.assessment_datatable.vmDataTable.draw()},filterApplicationLodgedFrom:function(){this.$refs.assessment_datatable.vmDataTable.draw()},filterApplicationLodgedTo:function(){this.$refs.assessment_datatable.vmDataTable.draw()},filterApplicationLicenceType:function(){this.filterByColumn("licence category",this.filterApplicationLicenceType)}},computed:{},methods:{addEventListeners:function(){var e=this;n(e.$refs.applicationDateToPicker).datetimepicker(e.datepickerOptions),n(e.$refs.applicationDateToPicker).on("dp.change",function(t){n(e.$refs.applicationDateToPicker).data("DateTimePicker").date()?e.filterApplicationLodgedTo=t.date.format("DD/MM/YYYY"):""===n(e.$refs.applicationDateToPicker).data("date")&&(e.filterapplicationodgedTo="")}),n(e.$refs.applicationDateFromPicker).datetimepicker(e.datepickerOptions),n(e.$refs.applicationDateFromPicker).on("dp.change",function(t){n(e.$refs.applicationDateFromPicker).data("DateTimePicker").date()?(e.filterApplicationLodgedFrom=t.date.format("DD/MM/YYYY"),n(e.$refs.applicationDateToPicker).data("DateTimePicker").minDate(t.date)):""===n(e.$refs.applicationDateFromPicker).data("date")&&(e.filterApplicationLodgedFrom="",n(e.$refs.applicationDateToPicker).data("DateTimePicker").minDate(!1))}),n(e.$refs.submitter_select).select2({theme:"bootstrap",placeholder:"Select Submitter"}).on("select2:select",function(t){var a=n(t.currentTarget);e.filterApplicationSubmitter=a.val()}).on("select2:unselect",function(t){var a=n(t.currentTarget);e.filterApplicationSubmitter=a.val()})},initialiseSearch:function(){this.submitterSearch(),this.dateSearch()},submitterSearch:function(){var e=this;e.$refs.assessment_datatable.table.dataTableExt.afnFiltering.push(function(t,a,n,i){var s=e.filterApplicationSubmitter;return"All"==s||s==i.submitter.email})},dateSearch:function(){var t=this;t.$refs.assessment_datatable.table.dataTableExt.afnFiltering.push(function(a,n,i,s){var o=t.filterApplicationLodgedFrom,r=t.filterApplicationLodgedTo,l=s.lodgement_date;return""==o&&""==r||(""!=o&&""!=r?null!=l&&""!=l&&e().range(e(o,t.dateFormat),e(r,t.dateFormat)).contains(e(l)):""==o&&""!=r?null!=l&&""!=l&&e(r,t.dateFormat).diff(e(l))>=0:""==r&&""!=o&&(null!=l&&""!=l&&e(l).diff(e(o,t.dateFormat))>=0))})},getColumnIndex:function(e){return this.assessment_headers.map(function(e){return e.toLowerCase()}).indexOf(e.toLowerCase())},filterByColumn:function(e,t){var a=this.getColumnIndex(e),n="string"==typeof t?t:t.name;"All"!=n?this.$refs.assessment_datatable.vmDataTable.columns(a).search("^"+n+"$",!0,!1).draw():this.$refs.assessment_datatable.vmDataTable.columns(a).search("").draw()}},mounted:function(){var e=this;n('a[data-toggle="collapse"]').on("click",function(){var e=n(this).children()[0];window.setTimeout(function(){n(e).toggleClass("glyphicon-chevron-down glyphicon-chevron-up")},100)}),this.$nextTick(function(){e.addEventListeners(),e.initialiseSearch()})}}}).call(t,a(0),a(1))},function(e,t,a){"use strict";(function(e,n,i){function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(36),l=o(r),c=a(712),d=o(c);a(3);t.default={name:"CommsLogSection",props:{comms_url:{type:String,required:!0},logs_url:{type:String,required:!0},comms_add_url:{type:String,required:!0},disable_add_entry:{type:Boolean,default:!0}},data:function(){var t,a=this;return{dateFormat:"DD/MM/YYYY",actionsTable:null,popoversInitialised:!1,actionsDtOptions:(t={language:{processing:"<i class='fa fa-4x fa-spinner fa-spin'></i>"},responsive:!0,deferRender:!0,autowidth:!0,order:[[2,"desc"]],dom:"<'row'<'col-sm-5'l><'col-sm-6'f>><'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",processing:!0,ajax:{url:a.logs_url,dataSrc:""}},(0,l.default)(t,"order",[]),(0,l.default)(t,"columns",[{data:"who",orderable:!1},{data:"what",orderable:!1},{data:"when",orderable:!1,mRender:function(t,n,i){return e(t).format(a.DATE_TIME_FORMAT)}}]),t),commsDtOptions:{language:{processing:"<i class='fa fa-4x fa-spinner fa-spin'></i>"},responsive:!0,deferRender:!0,autowidth:!0,order:[[0,"desc"]],processing:!0,ajax:{url:a.comms_url,dataSrc:""},columns:[{title:"Date",data:"created",render:function(t){return e(t).format(a.DATE_TIME_FORMAT)}},{title:"Type",data:"log_type"},{title:"Reference",data:"reference"},{title:"To",data:"to",render:a.commaToNewline},{title:"CC",data:"cc",render:a.commaToNewline},{title:"From",data:"fromm",render:a.commaToNewline},{title:"Subject/Desc.",data:"subject"},{title:"Text",data:"text",render:function(e){var t=n.truncate(e,{length:100,omission:"...",separator:" "}),a="<span>"+t+"</span>",i=n.template('<a href="#" role="button" data-toggle="popover" data-trigger="click" data-placement="top auto"data-html="true" data-content="<%= text %>" >more</a>');return n.endsWith(t,"...")&&(a+=i({text:e})),a},createdCell:function(e){i(e).popover()}},{title:"Documents",data:"documents",render:function(e){var t="";return n.forEach(e,function(e){var a="",i="";n.isArray(e)&&e.length>1&&(a=e[0],i=e[1]),"string"==typeof s&&(i=e,a=n.last(e.split("/")),a=n.truncate(a,{length:18,omission:"...",separator:" "})),t+='<a href="'+i+'" target="_blank"><p>'+a+"</p></a><br>"}),t}}]},commsTable:null}},components:{AddCommLog:d.default},watch:{},computed:{},methods:{initialiseCommLogs:function(e,t,a,n){var s=this,o="comms-log-table"+e,r="comms-log-content"+e,l="popover-"+s._uid+"-comms";i(t).popover({html:!0,title:"Communications Log",container:"body",placement:"right",trigger:"click",template:'<div class="popover '+l+'" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div id="'+r+'" class="popover-content"></div></div>'}).on("inserted.bs.popover",function(){i("#"+r).html('<table id="'+o+'" class="hover table table-striped table-bordered dt-responsive " cellspacing="0" width="100%"></table>'),n=i("#"+o).DataTable(a),n.on("draw.dt",function(){var e=i(this).find('[data-toggle="popover"]');e.length>0&&(e.popover(),i(e).on("click",function(e){return e.preventDefault(),!0}))})}).on("shown.bs.popover",function(){var e=t,a=(parseInt(i("."+l).height()),parseInt(i("."+l)[0].getBoundingClientRect().top)),n=(parseInt(i("."+l)[0].getBoundingClientRect().bottom),parseInt(i(e)[0].getBoundingClientRect().top)),s=(parseInt(i(e)[0].getBoundingClientRect().top),n-a),o=(parseInt(i("."+l).position().top),parseInt(i(e).position().top),s+5);i("."+l).children(".arrow").css("top",o+"px")})},initialiseActionLogs:function(e,t,a,n){var s=this,o="actions-log-table"+e,r="actions-log-content"+e,l="popover-"+s._uid+"-logs";i(t).popover({html:!0,title:"Action Log",container:"body",placement:"right",trigger:"click",template:'<div class="popover '+l+'" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div id="'+r+'" class="popover-content"></div></div>'}).on("inserted.bs.popover",function(){i("#"+r).html('\n                    <table id="'+o+'" class="hover table table-striped table-bordered dt-responsive" cellspacing="0" width="100%">\n                        <thead>\n                            <tr>\n                                <th>Who</th>\n                                <th>What</th>\n                                <th>When</th>\n                            </tr>\n                        </thead>\n                        <tbody>\n                        </tbody>\n                    </table>'),n=i("#"+o).DataTable(a)}).on("shown.bs.popover",function(){var e=t,a=(parseInt(i("."+l).height()),parseInt(i("."+l)[0].getBoundingClientRect().top)),n=(parseInt(i("."+l)[0].getBoundingClientRect().bottom),parseInt(i(e)[0].getBoundingClientRect().top)),s=(parseInt(i(e)[0].getBoundingClientRect().top),n-a),o=(parseInt(i("."+l).position().top),parseInt(i(e).position().top),s+5);i("."+l).children(".arrow").css("top",o+"px")})},initialisePopovers:function(){this.popoversInitialised||(this.initialiseActionLogs(this._uid,this.$refs.showActionBtn,this.actionsDtOptions,this.actionsTable),this.initialiseCommLogs("-internal-application-"+this._uid,this.$refs.showCommsBtn,this.commsDtOptions,this.commsTable),this.popoversInitialised=!0)},addComm:function(){this.$refs.add_comm.isModalOpen=!0}},mounted:function(){var e=this;this.$nextTick(function(){e.initialisePopovers()})}}}).call(t,a(0),a(90),a(1))},function(e,t,a){"use strict";(function(e){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(140),s=n(i),o=a(8),r=n(o),l=a(7),c=n(l),d=a(3),u=a(4),p=n(u);a(6);t.default={name:"FileField",props:{name:String,label:String,id:String,fileTypes:{default:function(){return"image/*,video/*,audio/*,application/pdf,text/csv,application/msword,application/vnd.ms-excel,application/x-msaccess,application/x-7z-compressed,application/x-bzip,application/x-bzip2,application/zip,.dbf,.gdb,.gpx,.prj,.shp,.shx,.json,.kml,.gpx"}},isRepeatable:Boolean,readonly:Boolean,documentActionUrl:String},data:function(){return{repeat:1,files:[],show_spinner:!1,documents:[],filename:null,help_text_url:"",commsLogId:null,temporary_document_collection_id:null}},computed:{csrf_token:function(){return d.helpers.getCookie("csrftoken")},document_action_url:function(){return"temporary_document"==this.documentActionUrl?this.temporary_document_collection_id?d.api_endpoints.temporary_document+this.temporary_document_collection_id+"/process_temp_comms_log_document/":d.api_endpoints.temporary_document:this.documentActionUrl}},watch:{documents:{handler:function(){function e(){return t.apply(this,arguments)}var t=(0,c.default)(r.default.mark(function e(){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.$emit("update-parent");case 2:case"end":return e.stop()}},e,this)}));return e}(),deep:!0}},methods:{handleChange:function(t){var a=this,n=this;if(n.isRepeatable&&t.target.files){var i=e(t.target).attr("data-que"),o=e("input[name="+t.target.name+"]");o=[].concat((0,s.default)(o.map(function(t){return e(o[t]).attr("data-que")}))),console.log(o),o.pop(),1==n.repeat?n.repeat+=1:o.indexOf(i)<0&&(n.repeat+=1),e(t.target).css({display:"none"})}else n.files=[];n.files.push(t.target.files[0]),t.target.files.length>0&&this.$nextTick(function(){a.save_document(t)})},get_documents:function(){function e(){return t.apply(this,arguments)}var t=(0,c.default)(r.default.mark(function e(){var t,a;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.show_spinner=!0,!this.document_action_url){e.next=12;break}return t=new FormData,t.append("action","list"),this.commsLogId&&t.append("comms_log_id",this.commsLogId),t.append("input_name",this.name),t.append("csrfmiddlewaretoken",this.csrf_token),e.next=9,p.default.http.post(this.document_action_url,t);case 9:a=e.sent,this.documents=a.body.filedata,this.commsLogId=a.body.comms_instance_id;case 12:this.show_spinner=!1;case 13:case"end":return e.stop()}},e,this)}));return e}(),delete_document:function(){function e(e){return t.apply(this,arguments)}var t=(0,c.default)(r.default.mark(function e(t){var a,n;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.show_spinner=!0,a=new FormData,a.append("action","delete"),this.commsLogId&&a.append("comms_log_id",this.commsLogId),a.append("document_id",t.id),a.append("csrfmiddlewaretoken",this.csrf_token),!this.document_action_url){e.next=13;break}return e.next=9,p.default.http.post(this.document_action_url,a);case 9:n=e.sent,console.log(n.body),this.documents=n.body.filedata,this.commsLogId=n.body.comms_instance_id;case 13:this.show_spinner=!1;case 14:case"end":return e.stop()}},e,this)}));return e}(),cancel:function(){function e(e){return t.apply(this,arguments)}var t=(0,c.default)(r.default.mark(function e(t){var a,n;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.show_spinner=!0,a=new FormData,a.append("action","cancel"),this.commsLogId&&a.append("comms_log_id",this.commsLogId),a.append("csrfmiddlewaretoken",this.csrf_token),!this.document_action_url){e.next=9;break}return e.next=8,p.default.http.post(this.document_action_url,a);case 8:n=e.sent;case 9:this.show_spinner=!1;case 10:case"end":return e.stop()}},e,this)}));return e}(),uploadFile:function(e){var t=null;if(e.target.files&&e.target.files[0]){var a=new FileReader;a.readAsDataURL(e.target.files[0]),a.onload=function(e){t=e.target.result},t=e.target.files[0]}return t},handleChangeWrapper:function(){function e(e){return t.apply(this,arguments)}var t=(0,c.default)(r.default.mark(function e(t){var a,n=this;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(this.document_action_url),"temporary_document"!==this.documentActionUrl||this.temporary_document_collection_id){e.next=13;break}return console.log("in handlechangewrapper"),e.next=5,p.default.http.post(this.document_action_url);case 5:return a=e.sent,console.log(a),this.temporary_document_collection_id=a.body.id,e.next=10,this.$emit("update-temp-doc-coll-id",this.temporary_document_collection_id);case 10:this.$nextTick((0,c.default)(r.default.mark(function e(){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n.handleChange(t);case 1:case"end":return e.stop()}},e,n)}))),e.next=14;break;case 13:this.handleChange(t);case 14:case"end":return e.stop()}},e,this)}));return e}(),save_document:function(){function e(e){return t.apply(this,arguments)}var t=(0,c.default)(r.default.mark(function e(t){var a,n;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.show_spinner=!0,!this.document_action_url){e.next=18;break}return a=new FormData,a.append("action","save"),this.commsLogId&&a.append("comms_log_id",this.commsLogId),this.temporary_document_collection_id&&a.append("temporary_document_collection_id",this.temporary_document_collection_id),a.append("input_name",this.name),a.append("filename",t.target.files[0].name),a.append("_file",this.uploadFile(t)),a.append("csrfmiddlewaretoken",this.csrf_token),e.next=12,p.default.http.post(this.document_action_url,a);case 12:n=e.sent,this.documents=n.body.filedata,this.commsLogId=n.body.comms_instance_id,this.show_spinner=!1,e.next=19;break;case 18:console.log("no documentActionUrl");case 19:case"end":return e.stop()}},e,this)}));return e}(),num_documents:function(){return this.documents?this.documents.length:0}},mounted:function(){var e=this;if(this.value)if(Array.isArray(this.value))this.value;else{var t=this.value.replace(/ /g,"_").split(",");this.files=t.map(function(e){return{name:e}})}this.$nextTick((0,c.default)(r.default.mark(function t(){return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(console.log(e.document_action_url),"temporary_document"!==e.documentActionUrl||e.temporary_document_collection_id){t.next=4;break}t.next=6;break;case 4:return t.next=6,e.get_documents();case 6:case"end":return t.stop()}},t,e)})))}}}).call(t,a(1))},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(5),s=n(i),o=a(4),r=(n(o),a(6)),l=a(3),c=a(43),d=a(337),u=n(d),p=a(333),_=n(p),m=a(335),f=n(m),v=a(734),h=n(v),g=a(329),b=n(g),y=a(331),C=(n(y),a(28)),x=n(C),w=a(338),k=n(w),A=a(330),I=n(A),D=a(341),T=n(D),S=a(340),P=n(S),M=a(334),O=n(M),N=a(336),R=(n(N),a(22)),Y=n(R),E=a(25),L=n(E),j=a(34),B=n(j),F=a(339),W=n(F),z=a(735),U=n(z),$=a(332),G=n($),q={name:"compliance-renderer-block",components:{FormSection:u.default,TextField:T.default,Group:_.default,SelectBlock:k.default,HelpText:Y.default,HelpTextUrl:L.default,CommentBlock:B.default,Radio:f.default,Conditions:h.default,Checkbox:b.default,File:x.default,DateField:I.default,TextAreaBlock:P.default,LabelBlock:O.default,TableBlock:W.default,ExpanderTable:U.default,GridBlock:G.default},data:function(){return{}},props:{component:{type:Object,required:!0},instance:{type:String,default:null},callingComponent:{type:Object},readonlyForm:{type:Boolean}},computed:(0,s.default)({},(0,r.mapGetters)(["renderer_form_data","isComponentVisible"]),(0,r.mapGetters)("callemailStore",{call_email:"call_email"}),(0,r.mapGetters)("inspectionStore",{inspection:"inspection"}),{parent_id:function(){return!(!this.call_email||!this.call_email.id)||!(!this.inspection||!this.inspection.id)},documentActionUrl:function(){return this.call_email&&this.call_email.id?this.call_email.rendererDocumentUrl:this.inspection&&this.inspection.id?this.inspection.rendererDocumentUrl:void 0},is_readonly:function(){return this.readonlyForm},comment_data:function(){return this.call_email.comment_data},documents_url:function(){return this.call_email.documents_url},can_user_edit:function(){return this.call_email.can_user_edit},site_url:function(){return l.api_endpoints.site_url.endsWith("/")?l.api_endpoints.site_url:l.api_endpoints.site_url+"/"},component_name:function(){return this.component.name+(null!==this.instance?"__instance-"+this.instance:"")},json_data:function(){return this.renderer_form_data},formDataRecord:function(){return null==this.json_data[this.component_name]&&this.setFormValue({key:this.component_name,value:{value:"",schema_name:this.component.name,component_type:this.component.type,instance_name:null!==this.instance?this.instance:""}}),this.json_data[this.component_name]},value:{get:function(){return this.formDataRecord},set:function(e){this.setFormValue({key:this.component_name,value:{value:e}})}},help_text:function(){return this.replaceSitePlaceholders(this.component.help_text)},help_text_url:function(){return this.replaceSitePlaceholders(this.component.help_text_url)}}),methods:(0,s.default)({},(0,r.mapActions)(["toggleVisibleComponent","setFormValue"]),{strToBool:c.strToBool,element_id:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return"id_"+this.component_name+(e?"_"+e:"")+(null!==this.instance?"__instance"+this.instance:"")},replaceSitePlaceholders:function(e){return e&&e.includes("site_url:/")&&(e=e.replace("site_url:/",this.site_url),e.includes("anchor=")&&(e=e.replace("anchor=","#"))),e},handleComponentChange:function(e){var t=this,a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return function(n){for(var i in e.conditions)t.toggleVisibleComponent({component_id:"cons_"+t.component_name+"_"+i,visible:!1});n.target&&t.toggleVisibleComponent({component_id:"cons_"+n.target.name+"_"+n.target.value,visible:n.target.checked});var s=null==n.value?n.target.value:n.value;"on"!==s||n.target.checked||(s=""),a&&null!==s&&void 0!==s&&(t.value=s)}}}),created:function(){}};t.default=q},function(e,t,a){"use strict";(function(e,n){function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var s=a(12),o=i(s),r=a(5),l=i(r),c=a(18),d=i(c),u=a(30),p=i(u),_=a(3),m=a(6);t.default={name:"LicenceActionPurposes",components:{modal:d.default,alert:p.default},props:{licence_id:String,licence_activity_purposes:Array,action:String},data:function(){return{isModalOpen:!1,form:null,action_licence:{purpose_ids_list:[]},actioningPurposes:!1,validation_form:null,errors:!1,errorString:"",successString:"",success:!1}},computed:(0,l.default)({},(0,m.mapGetters)(["application_id"]),{showError:function(){return this.errors},title:function(){return"cancel"==this.action?"Select purpose(s) to cancel":"suspend"==this.action?"Select purpose(s) to suspend":"surrender"==this.action?"Select purpose(s) to surrender":"reactivate-renew"==this.action?"Select purpose(s) to reactivate renew":"reinstate"==this.action?"Select purpose(s) to reinstate":void 0},action_text:function(){return"cancel"==this.action?"Cancel":"suspend"==this.action?"Suspend":"surrender"==this.action?"Surrender":"reactivate-renew"==this.action?"Reactivate Renew":"reinstate"==this.action?"Reinstate":void 0},actioning_text:function(){return"cancel"==this.action?"Cancelling":"suspend"==this.action?"Suspending":"surrender"==this.action?"Surrendering":"reactivate-renew"==this.action?"Reactivating Renew":"reinstate"==this.action?"Reinstating":void 0},actionableLicencePurposes:function(){return this.licence_activity_purposes},hasActionableLicencePurposes:function(){return this.licence_activity_purposes.length>0}}),methods:{ok:function(){var t=this;e(t.form).valid()&&t.sendData()},cancel:function(){this.close()},close:function(){this.isModalOpen=!1,this.action_licence={purpose_ids_list:[]},this.errors=!1,e(".has-error").removeClass("has-error"),this.validation_form.resetForm()},sendData:function(){var e=this;e.errors=!1,e.actioningPurposes=!0,"cancel"==e.action?e.action_licence.purpose_ids_list.length>0?e.$http.post(_.helpers.add_endpoint_json(_.api_endpoints.licences,e.licence_id+"/cancel_purposes"),(0,o.default)(e.action_licence),{emulateJSON:!0}).then(function(t){n("Cancel Purposes","The selected licenced purposes have been Cancelled.","success"),e.actioningPurposes=!1,e.close(),e.$emit("refreshFromResponse",t)},function(t){e.errors=!0,e.actioningPurposes=!1,e.errorString=_.helpers.apiVueResourceError(t)}):(e.actioningPurposes=!1,n("Cancel Purpose","Please select at least once licenced purpose to Cancel.","error")):"suspend"==e.action?e.action_licence.purpose_ids_list.length>0?e.$http.post(_.helpers.add_endpoint_json(_.api_endpoints.licences,e.licence_id+"/suspend_purposes"),(0,o.default)(e.action_licence),{emulateJSON:!0}).then(function(t){n("Suspend Purposes","The selected licenced purposes have been Suspended.","success"),e.actioningPurposes=!1,e.close(),e.$emit("refreshFromResponse",t)},function(t){e.errors=!0,e.actioningPurposes=!1,e.errorString=_.helpers.apiVueResourceError(t)}):(e.actioningPurposes=!1,n("Suspend Purpose","Please select at least once licenced purpose to Suspend.","error")):"surrender"==e.action?e.action_licence.purpose_ids_list.length>0?e.$http.post(_.helpers.add_endpoint_json(_.api_endpoints.licences,e.licence_id+"/surrender_purposes"),(0,o.default)(e.action_licence),{emulateJSON:!0}).then(function(t){n("Surrender Purposes","The selected licenced purposes have been Surrendered.","success"),e.actioningPurposes=!1,e.close(),e.$emit("refreshFromResponse",t)},function(t){e.errors=!0,e.actioningPurposes=!1,e.errorString=_.helpers.apiVueResourceError(t)}):(e.actioningPurposes=!1,n("Surrender Purpose","Please select at least once licenced purpose to Surrender.","error")):"reactivate-renew"==e.action?e.action_licence.purpose_ids_list.length>0?e.$http.post(_.helpers.add_endpoint_json(_.api_endpoints.licences,e.licence_id+"/reactivat_renew_purposes"),(0,o.default)(e.action_licence),{emulateJSON:!0}).then(function(t){n("Reactivate Renew Purposes","Renew for the selected licenced purposes has been Reactivated.","success"),e.actioningPurposes=!1,e.close(),e.$emit("refreshFromResponse",t)},function(t){e.errors=!0,e.actioningPurposes=!1,e.errorString=_.helpers.apiVueResourceError(t)}):(e.actioningPurposes=!1,n("Reactivate Renew Purpose","Please select at least once licenced purpose to Reactivate Renew.","error")):"reinstate"==e.action&&(e.action_licence.purpose_ids_list.length>0?e.$http.post(_.helpers.add_endpoint_json(_.api_endpoints.licences,e.licence_id+"/reinstate_purposes"),(0,o.default)(e.action_licence),{emulateJSON:!0}).then(function(t){n("Reinstate Purposes","The selected licenced purposes have been Reinstated.","success"),e.actioningPurposes=!1,e.close(),e.$emit("refreshFromResponse",t)},function(t){e.errors=!0,e.actioningPurposes=!1,e.errorString=_.helpers.apiVueResourceError(t)}):(e.actioningPurposes=!1,n("Reinstate Purpose","Please select at least once licenced purpose to Reinstate.","error")))},addFormValidations:function(){var t=this;t.validation_form=e(t.form).validate({rules:{licence_details:"required"},messages:{},showErrors:function(t,a){e.each(this.validElements(),function(t,a){e(a).attr("data-original-title","").parents(".form-group").removeClass("has-error")}),e("."+this.settings.validClass).tooltip("destroy");for(var n=0;n<a.length;n++){var i=a[n];e(i.element).tooltip({trigger:"focus"}).attr("data-original-title",i.message).parents(".form-group").addClass("has-error")}}})}},mounted:function(){this.form=document.forms.actionPurposeForm,this.addFormValidations()}}}).call(t,a(1),a(9))},function(e,t,a){"use strict";(function(e,n,i){function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(5),r=s(o),l=a(10),c=s(l),d=a(714),u=s(d),p=a(6),_=a(3);t.default={name:"LicenceTableDash",props:{level:{type:String,required:!0,validator:function(e){return-1!=["internal","external"].indexOf(e)}},url:{type:String,required:!0}},data:function(){var t=this;return{pBody:"pBody"+t._uid,datatable_id:"licence-datatable-"+t._uid,filterLicenceType:"All",filterLicenceIssuedFrom:"",filterLicenceIssuedTo:"",filterLicenceHolder:"All",action_purpose_list:[],selected_licence_id:null,licence_action:"",dateFormat:"DD/MM/YYYY",datepickerOptions:{format:"DD/MM/YYYY",showClear:!0,useCurrent:!1,keepInvalid:!0,allowInputToggle:!0},licence_holders:[],licence_categories:[],licence_headers:["Number","Category","Holder","Issue Date","Licence","Action"],licence_options:{serverSide:!0,searchDelay:1e3,lengthMenu:[[10,25,50,100,-1],[10,25,50,100,"All"]],order:[[0,"desc"]],language:{processing:"<i class='fa fa-4x fa-spinner fa-spin'></i>"},rowCallback:function(t,a){e(t).addClass("licRecordRow")},responsive:!0,ajax:{url:t.url,dataSrc:"data",data:function(e){e.category_name=t.filterLicenceType,e.holder=t.filterLicenceHolder,e.date_from=""!=t.filterLicenceIssuedFrom&&null!=t.filterLicenceIssuedFrom?n(t.filterLicenceIssuedFrom,"DD/MM/YYYY").format("YYYY-MM-DD"):"",e.date_to=""!=t.filterLicenceIssuedTo&&null!=t.filterLicenceIssuedTo?n(t.filterLicenceIssuedTo,"DD/MM/YYYY").format("YYYY-MM-DD"):""}},columns:[{data:"licence_number"},{data:"current_application.category_name",orderable:!1,searchable:!1},{data:"current_application.applicant",orderable:!1,searchable:!1},{data:"last_issue_date",mRender:function(e,a,i){return""!=e&&null!=e?n(e).format(t.dateFormat):""},orderable:!1,searchable:!1},{data:"licence_document",mRender:function(e,t,a){return'<a href="'+e+'" target="_blank"><i style="color:red" class="fa fa-file-pdf-o"></i></a>'},orderable:!1,searchable:!1},{mRender:function(e,a,n){var i="",s=n.current_application.org_applicant?n.current_application.org_applicant.id:"",o=n.current_application.proxy_applicant?n.current_application.proxy_applicant.id:"",r=n.current_application.category_id?n.current_application.category_id:"";return n.is_latest_in_category&&(n.can_add_purpose&&(i+="<a add-activity-purpose='"+n.id+"' org-id='"+s+"' proxy-id='"+o+"' licence-category-id='"+r+"'>Add Activity/Purpose</a><br/>"),n.can_action.can_amend&&(i+="<a amend-licence='"+n.id+"' org-id='"+s+"' proxy-id='"+o+"' licence-category-id='"+r+"'>Amend</a><br/>"),n.can_action.can_renew&&(i+="<a renew-licence='"+n.id+"' org-id='"+s+"' proxy-id='"+o+"' licence-category-id='"+r+"'>Renew</a><br/>"),!t.is_external&&n.can_action.can_reactivate_renew&&(i+="<a reactivate-renew-licence='"+n.id+"'>Reactivate Renew</a><br/>"),n.can_action.can_surrender&&(i+="<a surrender-licence='"+n.id+"'>Surrender</a><br/>"),!t.is_external&&n.can_action.can_cancel&&(i+="<a cancel-licence='"+n.id+"'>Cancel</a><br/>"),!t.is_external&&n.can_action.can_suspend&&(i+="<a suspend-licence='"+n.id+"'>Suspend</a><br/>"),!t.is_external&&n.can_action.can_reinstate&&(i+="<a reinstate-licence='"+n.id+"'>Reinstate</a><br/>"),!t.is_external&&n.can_action.can_reissue&&(i+="<a reissue-licence='"+n.id+"' org-id='"+s+"' proxy-id='"+o+"' licence-category-id='"+r+"'>Reissue</a><br/>")),i},orderable:!1,searchable:!1}],processing:!0,initComplete:function(){t.$refs.licence_datatable.vmDataTable.columns(t.getColumnIndex("category")).data().unique().sort().each(function(a,n){var i=[];e.each(a,function(e,t){null!=t&&i.indexOf(t)<0&&i.push(t)}),t.licence_categories=i}),t.$refs.licence_datatable.vmDataTable.columns(t.getColumnIndex("holder")).data().unique().sort().each(function(a,n){var i=[];e.each(a,function(e,t){i.find(function(e){return e.holder_name==t})&&0!=i.length||i.push({holder_name:t})}),t.licence_holders=i})}}}},components:{datatable:c.default,LicenceActionPurposes:u.default},watch:{filterLicenceType:function(){this.$refs.licence_datatable.vmDataTable.draw()},filterLicenceIssuedFrom:function(){this.$refs.licence_datatable.vmDataTable.draw()},filterLicenceIssuedTo:function(){this.$refs.licence_datatable.vmDataTable.draw()},filterLicenceHolder:function(){this.$refs.licence_datatable.vmDataTable.draw()}},computed:{is_external:function(){return"external"==this.level}},methods:(0,r.default)({},(0,p.mapActions)(["setApplyOrgId","setApplyProxyId","setApplyLicenceSelect","setApplicationWorkflowState"]),{addEventListeners:function(){var t=this;e(t.$refs.licenceDateToPicker).datetimepicker(t.datepickerOptions),e(t.$refs.licenceDateToPicker).on("dp.change",function(a){e(t.$refs.licenceDateToPicker).data("DateTimePicker").date()?t.filterLicenceIssuedTo=a.date.format("DD/MM/YYYY"):""===e(t.$refs.licenceDateToPicker).data("date")&&(t.filterLicenceIssuedTo="")}),e(t.$refs.licenceDateFromPicker).datetimepicker(t.datepickerOptions),e(t.$refs.licenceDateFromPicker).on("dp.change",function(a){e(t.$refs.licenceDateFromPicker).data("DateTimePicker").date()?(t.filterLicenceIssuedFrom=a.date.format("DD/MM/YYYY"),e(t.$refs.licenceDateToPicker).data("DateTimePicker").minDate(a.date)):""===e(t.$refs.licenceDateFromPicker).data("date")&&(t.filterLicenceIssuedFrom="",e(t.$refs.licenceDateToPicker).data("DateTimePicker").minDate(!1))}),e(t.$refs.licence_holder_select).select2({theme:"bootstrap",placeholder:"Select Holder"}).on("select2:select",function(a){var n=e(a.currentTarget);t.filterLicenceHolder=n.val()}).on("select2:unselect",function(a){var n=e(a.currentTarget);t.filterLicenceHolder=n.val()}),t.$refs.licence_datatable.vmDataTable.on("click","a[add-activity-purpose]",function(a){var n=this;a.preventDefault(),i({title:"Add Activity/Purpose",text:"Are you sure you want to add an activity or purpose to this licence?",type:"question",showCancelButton:!0,confirmButtonText:"Accept"}).then(function(a){if(a.value){t.setApplyLicenceSelect({licence_select:"new_activity"});var i=e(n).attr("licence-category-id");t.setApplyProxyId({id:e(n).attr("proxy-id")}),t.setApplyOrgId({id:e(n).attr("org-id")}),t.routeApplyLicence(i,null)}},function(e){})}),t.$refs.licence_datatable.vmDataTable.on("click","a[amend-licence]",function(a){var n=this;a.preventDefault(),i({title:"Amend Licence",text:"Are you sure you want to amend all current activities and purposes for this licence?",type:"question",showCancelButton:!0,confirmButtonText:"Accept"}).then(function(a){if(a.value){t.setApplyLicenceSelect({licence_select:"amend_activity"});var i=e(n).attr("licence-category-id");t.setApplyProxyId({id:e(n).attr("proxy-id")}),t.setApplyOrgId({id:e(n).attr("org-id")}),t.routeApplyLicence(i,null)}},function(e){})}),t.$refs.licence_datatable.vmDataTable.on("click","a[amend-activity]",function(a){var n=this;a.preventDefault(),i({title:"Amend Activity",text:"Are you sure you want to amend this activity?",type:"question",showCancelButton:!0,confirmButtonText:"Accept"}).then(function(a){if(a.value){t.setApplyLicenceSelect({licence_select:"amend_activity"});var i=e(n).attr("licence-category-id"),s=e(n).attr("amend-activity");t.setApplyProxyId({id:e(n).attr("proxy-id")}),t.setApplyOrgId({id:e(n).attr("org-id")}),t.routeApplyLicence(i,s)}},function(e){})}),t.$refs.licence_datatable.vmDataTable.on("click","a[renew-licence]",function(a){var n=this;a.preventDefault(),i({title:"Renew Licence",text:"Are you sure you want to renew all current activities and purposes for this licence?",type:"question",showCancelButton:!0,confirmButtonText:"Accept"}).then(function(a){if(a.value){t.setApplyLicenceSelect({licence_select:"renew_activity"});var i=e(n).attr("licence-category-id");t.setApplyProxyId({id:e(n).attr("proxy-id")}),t.setApplyOrgId({id:e(n).attr("org-id")}),t.routeApplyLicence(i,null)}},function(e){})}),t.$refs.licence_datatable.vmDataTable.on("click","a[renew-activity]",function(a){var n=this;a.preventDefault(),i({title:"Renew Activity",text:"Are you sure you want to renew this activity?",type:"question",showCancelButton:!0,confirmButtonText:"Accept"}).then(function(a){if(a.value){t.setApplyLicenceSelect({licence_select:"renew_activity"});var i=e(n).attr("licence-category-id"),s=e(n).attr("renew-activity");t.setApplyProxyId({id:e(n).attr("proxy-id")}),t.setApplyOrgId({id:e(n).attr("org-id")}),t.routeApplyLicence(i,s)}},function(e){})}),t.$refs.licence_datatable.vmDataTable.on("click","a[reactivate-renew-purposes]",function(a){var n=this;a.preventDefault(),i({title:"Reactivate Renew for Activity",text:"Are you sure you want to reactivate the renew option for this activity?",type:"question",showCancelButton:!0,confirmButtonText:"Accept"}).then(function(a){if(a.value){var s=e(n).attr("reactivate-renew-purposes"),o=e(n).attr("lic-id");t.licence_action="reactivate-renew",t.selected_licence_id=o,t.$http.get(_.helpers.add_endpoint_join(_.api_endpoints.licences,o+"/get_latest_purposes_for_licence_activity_and_action/?licence_activity_id="+s+"&action="+t.licence_action)).then(function(e){e.body&&(t.action_purpose_list=e.body,t.$refs.licence_action_purposes.isModalOpen=!0)},function(e){i("Reactivate Renew Activity Error",_.helpers.apiVueResourceError(e),"error")})}},function(e){})}),t.$refs.licence_datatable.vmDataTable.on("click","a[surrender-licence]",function(a){var n=this;a.preventDefault(),i({title:"Surrender Licence",text:"Are you sure you want to surrender all current activities and purposes for this licence?",type:"question",showCancelButton:!0,confirmButtonText:"Accept"}).then(function(a){if(a.value){var s=e(n).attr("surrender-licence");t.$http.post(_.helpers.add_endpoint_json(_.api_endpoints.licences,s+"/surrender_licence")).then(function(e){i("Surrender Licence","The selected licence's current activities and purposes have been Surrendered.","success"),t.refreshFromResponse(e)},function(e){i("Surrender Licence Error",_.helpers.apiVueResourceError(e),"error")})}},function(e){})}),t.$refs.licence_datatable.vmDataTable.on("click","a[surrender-purposes]",function(a){var n=this;a.preventDefault(),i({title:"Surrender Activity",text:"Are you sure you want to surrender this activity?",type:"question",showCancelButton:!0,confirmButtonText:"Accept"}).then(function(a){if(a.value){var s=e(n).attr("surrender-purposes"),o=e(n).attr("lic-id");t.licence_action="surrender",t.selected_licence_id=o,t.$http.get(_.helpers.add_endpoint_join(_.api_endpoints.licences,o+"/get_latest_purposes_for_licence_activity_and_action/?licence_activity_id="+s+"&action="+t.licence_action)).then(function(e){e.body&&(t.action_purpose_list=e.body,t.$refs.licence_action_purposes.isModalOpen=!0)},function(e){i("Surrender Activity Error",_.helpers.apiVueResourceError(e),"error")})}},function(e){})}),t.$refs.licence_datatable.vmDataTable.on("click","a[cancel-licence]",function(a){var n=this;a.preventDefault(),i({title:"Cancel Licence",text:"Are you sure you want to cancel all current activities and purposes for this licence?",type:"question",showCancelButton:!0,confirmButtonText:"Accept"}).then(function(a){if(a.value){var s=e(n).attr("cancel-licence");t.$http.post(_.helpers.add_endpoint_json(_.api_endpoints.licences,s+"/cancel_licence")).then(function(e){i("Cancel Licence","The selected licence's current activities and purposes have been Cancelled.","success"),t.refreshFromResponse(e)},function(e){i("Cancel Licence Error",_.helpers.apiVueResourceError(e),"error")})}},function(e){})}),t.$refs.licence_datatable.vmDataTable.on("click","a[cancel-purposes]",function(a){var n=this;a.preventDefault(),i({title:"Cancel Purposes",text:"Are you sure you want to cancel purposes for this activity?",type:"question",showCancelButton:!0,confirmButtonText:"Accept"}).then(function(a){if(a.value){var s=e(n).attr("cancel-purposes"),o=e(n).attr("lic-id");t.licence_action="cancel",t.selected_licence_id=o,t.$http.get(_.helpers.add_endpoint_join(_.api_endpoints.licences,o+"/get_latest_purposes_for_licence_activity_and_action/?licence_activity_id="+s+"&action="+t.licence_action)).then(function(e){e.body&&(t.action_purpose_list=e.body,t.$refs.licence_action_purposes.isModalOpen=!0)},function(e){i("Cancel Activity Error",_.helpers.apiVueResourceError(e),"error")})}},function(e){})}),t.$refs.licence_datatable.vmDataTable.on("click","a[suspend-licence]",function(a){var n=this;a.preventDefault(),i({title:"Suspend Licence",text:"Are you sure you want to suspend all current activities and purposes for this licence?",type:"question",showCancelButton:!0,confirmButtonText:"Accept"}).then(function(a){if(a.value){var s=e(n).attr("suspend-licence");t.$http.post(_.helpers.add_endpoint_json(_.api_endpoints.licences,s+"/suspend_licence")).then(function(e){i("Suspend Licence","The selected licence's current activities and purposes have been Suspended.","success"),t.refreshFromResponse(e)},function(e){i("Suspend Licence Error",_.helpers.apiVueResourceError(e),"error")})}},function(e){})}),t.$refs.licence_datatable.vmDataTable.on("click","a[suspend-purposes]",function(a){var n=this;a.preventDefault(),i({title:"Suspend Activity",text:"Are you sure you want to suspend this activity?",type:"question",showCancelButton:!0,confirmButtonText:"Accept"}).then(function(a){if(a.value){var s=e(n).attr("suspend-purposes"),o=e(n).attr("lic-id");t.licence_action="suspend",t.selected_licence_id=o,t.$http.get(_.helpers.add_endpoint_join(_.api_endpoints.licences,o+"/get_latest_purposes_for_licence_activity_and_action/?licence_activity_id="+s+"&action="+t.licence_action)).then(function(e){e.body&&(t.action_purpose_list=e.body,t.$refs.licence_action_purposes.isModalOpen=!0)},function(e){i("Suspend Activity Error",_.helpers.apiVueResourceError(e),"error")})}},function(e){})}),t.$refs.licence_datatable.vmDataTable.on("click","a[reissue-licence]",function(a){var n=this;a.preventDefault(),i({title:"Reissue Licence",text:"Are you sure you want to reissue all current activities and purposes for this licence?",type:"question",showCancelButton:!0,confirmButtonText:"Accept"}).then(function(a){if(a.value){t.setApplyLicenceSelect({licence_select:"reissue_activity"});var i=e(n).attr("licence-category-id");t.setApplyProxyId({id:e(n).attr("proxy-id")}),t.setApplyOrgId({id:e(n).attr("org-id")}),t.routeApplyLicence(i,null)}},function(e){})}),t.$refs.licence_datatable.vmDataTable.on("click","a[reissue-activity]",function(a){var n=this;a.preventDefault(),i({title:"Reissue Activity",text:"Are you sure you want to reissue this activity?",type:"question",showCancelButton:!0,confirmButtonText:"Accept"}).then(function(a){if(a.value){t.setApplyLicenceSelect({licence_select:"reissue_activity"});var i=e(n).attr("licence-category-id"),s=e(n).attr("reissue-activity");t.setApplyProxyId({id:e(n).attr("proxy-id")}),t.setApplyOrgId({id:e(n).attr("org-id")}),t.routeApplyLicence(i,s)}},function(e){})}),t.$refs.licence_datatable.vmDataTable.on("click","a[reinstate-licence]",function(a){var n=this;a.preventDefault(),i({title:"Reinstate Licence",text:"Are you sure you want to reinstate all suspended activities and purposes for this licence?",type:"question",showCancelButton:!0,confirmButtonText:"Accept"}).then(function(a){if(a.value){var s=e(n).attr("reinstate-licence");t.$http.post(_.helpers.add_endpoint_json(_.api_endpoints.licences,s+"/reinstate_licence")).then(function(e){i("Reinstate Licence","The selected licence's suspended activities and purposes have been Reinstated.","success"),t.refreshFromResponse(e)},function(e){i("Reinstate Licence Error",_.helpers.apiVueResourceError(e),"error")})}},function(e){})}),t.$refs.licence_datatable.vmDataTable.on("click","a[reinstate-purposes]",function(a){var n=this;a.preventDefault(),i({title:"Reinstate Activity",text:"Are you sure you want to reinstate this activity?",type:"question",showCancelButton:!0,confirmButtonText:"Accept"}).then(function(a){if(a.value){var s=e(n).attr("reinstate-purposes"),o=e(n).attr("lic-id");t.licence_action="reinstate",t.selected_licence_id=o,t.$http.get(_.helpers.add_endpoint_join(_.api_endpoints.licences,o+"/get_latest_purposes_for_licence_activity_and_action/?licence_activity_id="+s+"&action="+t.licence_action)).then(function(e){e.body&&(t.action_purpose_list=e.body,t.$refs.licence_action_purposes.isModalOpen=!0)},function(e){i("Reinstate Activity Error",_.helpers.apiVueResourceError(e),"error")})}},function(e){})}),t.$refs.licence_datatable.vmDataTable.on("click","tr.licRecordRow",function(a){if(!e(a.target).is("a")){var n=e(this),i=t.$refs.licence_datatable.vmDataTable.row(n),s=i.data(),o=s.id,r=s.current_application,l=r.category_id?r.category_id:"",c=r.proxy_applicant?r.proxy_applicant.id:"",d=r.org_applicant?r.org_applicant.id:"";if(i.child.isShown())i.child.hide(),n.removeClass("shown");else{var u="",p="";i.data().latest_activities_merged.forEach(function(e){p+="\n                            <tr>\n                                <td>"+e.activity_name_str+"</td>\n                                <td>"+e.activity_purpose_names_and_status.replace(/(?:\r\n|\r|\n|,)/g,"<br>")+"</td>\n                                <td>"+e.expiry_date+"</td>\n                                <td>",e.can_action.can_amend&&(p+="<a amend-activity='"+e.licence_activity_id+"' proxy-id='"+c+"' org-id='"+d+"' licence-category-id='"+l+"'>Amend</a></br>"),e.can_action.can_renew&&(p+="<a renew-activity='"+e.licence_activity_id+"' proxy-id='"+c+"' org-id='"+d+"' licence-category-id='"+l+"'>Renew</a></br>"),!t.is_external&&e.can_action.can_reactivate_renew&&(p+="<a reactivate-renew-purposes='"+e.licence_activity_id+"' lic-id='"+o+"'>Reactivate Renew</a></br>"),e.can_action.can_surrender&&(p+="<a surrender-purposes='"+e.licence_activity_id+"' lic-id='"+o+"'>Surrender</a></br>"),!t.is_external&&e.can_action.can_cancel&&(p+="<a cancel-purposes='"+e.licence_activity_id+"' lic-id='"+o+"'>Cancel</a></br>"),!t.is_external&&e.can_action.can_suspend&&(p+="<a suspend-purposes='"+e.licence_activity_id+"' lic-id='"+o+"'>Suspend</a></br>"),!t.is_external&&e.can_action.can_reissue&&(p+="<a reissue-activity='"+e.licence_activity_id+"' proxy-id='"+c+"' org-id='"+d+"' licence-category-id='"+l+"'>Reissue</a></br>"),!t.is_external&&e.can_action.can_reinstate&&(p+="<a reinstate-purposes='"+e.licence_activity_id+"' lic-id='"+o+"'>Reinstate</a></br>"),p+="</td>\n                            </tr>"}),u+='\n                        <table class="table table-striped table-bordered child-row-table">\n                            <tr>\n                                <th>Activity</th>\n                                <th class="width_55pc">Purposes</th>\n                                <th class="width_20pc">Expiry Date</th>\n                                <th class="width_20pc">Action</th>\n                            </tr>\n                            '+p+"\n                        </table>",i.child(u,"dark-row").show(),n.addClass("shown")}}})},refreshFromResponse:function(e){this.$refs.licence_datatable.vmDataTable.ajax.reload()},initialiseSearch:function(){this.dateSearch(),this.holderSearch()},holderSearch:function(){var e=this;e.$refs.licence_datatable.table.dataTableExt.afnFiltering.push(function(t,a,n,i){var s=e.filterLicenceHolder;return"All"==s||s==i.holder})},dateSearch:function(){var e=this;e.$refs.licence_datatable.table.dataTableExt.afnFiltering.push(function(t,a,i,s){var o=e.filterLicenceIssuedFrom,r=e.filterLicenceIssuedTo,l=s.last_issue_date;return""==o&&""==r||(""!=o&&""!=r?null!=l&&""!=l&&n().range(n(o,e.dateFormat),n(r,e.dateFormat)).contains(n(l)):""==o&&""!=r?null!=l&&""!=l&&n(r,e.dateFormat).diff(n(l))>=0:""==r&&""!=o&&(null!=l&&""!=l&&n(l).diff(n(o,e.dateFormat))>=0))})},getColumnIndex:function(e){return this.licence_headers.map(function(e){return e.toLowerCase()}).indexOf(e.toLowerCase())},routeApplyLicence:function(e,t){return this.setApplicationWorkflowState({bool:!0}),this.$router.push({name:"apply_application_licence",params:{licence_category:e,licence_activity:t}})}}),mounted:function(){var t=this;e('a[data-toggle="collapse"]').on("click",function(){var t=e(this).children()[0];window.setTimeout(function(){e(t).toggleClass("glyphicon-chevron-down glyphicon-chevron-up")},100)}),this.$nextTick(function(){t.addEventListeners(),t.initialiseSearch()})}}}).call(t,a(1),a(0),a(9))},function(e,t,a){"use strict";(function(e){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(5),s=n(i),o=a(52),r=n(o);a(124),a(62);var l=a(35),c=n(l),d=(a(6),a(43));a(15),a(29),a(59),a(119),a(58),t.default={name:"map-leaflet",props:{marker_longitude:{required:!1,default:null},marker_latitude:{required:!1,default:null},readonly:{required:!1,default:!1}},data:function(){var e=[13775786.985667605,-2871569.067879858],t=this,n={shadowUrl:a(42),shadowSize:[41,41],shadowAnchor:[12,41],iconSize:[32,32],iconAnchor:[16,32],popupAnchor:[0,-20]};return t.icon_default=r.default.icon((0,s.default)({iconUrl:a(93)},n)),t.guid=(0,d.guid)(),{marker_lng:null,marker_lat:null,defaultCenter:e,projection:null,mainMap:null,popup:null,element:null,base_layer:"osm",awe:null,suggest_list:[],feature_marker:null,cursor_location:null,idMap:t.guid+"mapLeaf",idSearchInput:t.guid+"SearchInput",idBasemapSat:t.guid+"BasemapSat",idBasemapOsm:t.guid+"BasemapOsm"}},computed:{},watch:{marker_latitude:function(){console.log("watch lat"),this.marker_lat=this.marker_latitude},marker_longitude:function(){console.log("watch lng"),this.marker_lng=this.marker_longitude},marker_lat:function(){isNaN(this.marker_lat)||isNaN(this.marker_lng)||this.refreshMarkerLocation()},marker_lng:function(){isNaN(this.marker_lat)||isNaN(this.marker_lng)||this.refreshMarkerLocation()}},mounted:function(){var e=this;e.initMap(),e.setBaseLayer("osm"),e.initAwesomplete(),e.marker_lat&&e.marker_lng&&e.addMarker([e.marker_lat,e.marker_lng])},methods:{setMarkerCentre:function(){var e=this.mainMap.getZoom();if(!isNaN(this.marker_lat)&&!isNaN(this.marker_lng)){var t=[this.marker_lat,this.marker_lng];this.mainMap.flyTo(t,e,{animate:!0,duration:1.5})}},invalidateSize:function(){var e=this;setTimeout(function(){e.mainMap.invalidateSize()},300)},setMarkerIcon:function(){var e=this;e.feature_marker&&e.feature_marker.setIcon(e.icon_default)},addMarker:function(e){var t=this;t.feature_marker=r.default.marker({lon:e[1],lat:e[0]},{icon:t.icon_default}).on("click",function(e){t.feature_marker.setIcon(myIcon)}),t.feature_marker.addTo(t.mainMap),t.setMarkerIcon()},search:function(t){var a=this,n=this.mainMap.getCenter();e.ajax({url:"https://mapbox.dpaw.wa.gov.au/geocoding/v5/mapbox.places/"+encodeURIComponent(t)+".json?"+e.param({country:"au",limit:10,proximity:n.lng+","+n.lat,bbox:"112.920934,-35.191991,129.0019283,-11.9662455",types:"region,postcode,district,place,locality,neighborhood,address,poi"}),dataType:"json",success:function(e,t,n){if(a.suggest_list=[],e.features&&e.features.length>0)for(var i=0;i<e.features.length;i++)a.suggest_list.push({label:e.features[i].place_name,value:e.features[i].place_name,feature:e.features[i]});a.awe.list=a.suggest_list,a.awe.evaluate()}})},initAwesomplete:function(){var t=this,a=document.getElementById(t.idSearchInput);this.awe=new c.default(a),e(a).on("keyup",function(e){var a=e.keyCode||e.which;if(48<=a&&a<=90||96<=a&&a<=105||8==a||46==a)return t.search(e.target.value),!1}).on("awesomplete-selectcomplete",function(e){e.preventDefault(),e.stopPropagation();for(var a=0;a<t.suggest_list.length;a++)if(t.suggest_list[a].value==e.target.value){var n={lat:t.suggest_list[a].feature.geometry.coordinates[1],lng:t.suggest_list[a].feature.geometry.coordinates[0]};t.mainMap.flyTo(n,13,{animate:!0,duration:1.5}),t.readonly||(t.feature_marker||t.addMarker([n.lat,n.lng]),t.marker_lat=n.lat,t.marker_lng=n.lng,t.refreshMarkerLocation())}return!1})},setBaseLayer:function(t){"sat"==t?(this.mainMap.removeLayer(this.tileLayer),this.mainMap.addLayer(this.tileLayerSat),e("#"+this.idBasemapSat).hide(),e("#"+this.idBasemapOsm).show()):(this.mainMap.removeLayer(this.tileLayerSat),this.mainMap.addLayer(this.tileLayer),e("#"+this.idBasemapOsm).hide(),e("#"+this.idBasemapSat).show())},refreshMarkerLocation:function(){if(!isNaN(this.marker_lat)&&!isNaN(this.marker_lng)){var e=[this.marker_lat,this.marker_lng];console.log("refreshMarkerLocation"),console.log(e),this.feature_marker?this.feature_marker.setLatLng({lat:this.marker_lat,lng:this.marker_lng}):this.addMarker(e),this.$emit("location-updated",{lat:this.marker_lat,lng:this.marker_lng})}},initMap:function(){this.marker_lat=this.marker_latitude,this.marker_lng=this.marker_longitude,this.marker_lat&&this.marker_lng?this.mainMap=r.default.map(this.idMap).setView([this.marker_lat,this.marker_lng],12):this.mainMap=r.default.map(this.idMap).setView([-31.9505,115.8605],4),this.tileLayer=r.default.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>, contributiors'}),this.tileLayerSat=r.default.tileLayer.wmts("https://kmi.dpaw.wa.gov.au/geoserver/gwc/service/wmts",{layer:"public:mapbox-satellite",tilematrixSet:"mercator",format:"image/png"}),this.mainMap.on("click",this.onClick).on("mousemove",this.onMouseMove).on("mouseout",this.onMouseOut),this.setBaseLayer("osm"),new r.default.Control.Measure({position:"topleft",primaryLengthUnit:"meters",activeColor:"#ff7f50",completedColor:"#228b22"}).addTo(this.mainMap),r.default.control.locate().addTo(this.mainMap)},onMouseMove:function(e){var t=this;t.cursor_location=t.mainMap.mouseEventToLatLng(e.originalEvent)},onMouseOut:function(e){this.cursor_location=null},onClick:function(e){if(!this.readonly){var t=this,a=this.mainMap.mouseEventToLatLng(e.originalEvent);t.feature_marker||t.addMarker([a.lat,a.lng]),this.marker_lat=a.lat,this.marker_lng=a.lng}}}}}).call(t,a(1))},function(e,t,a){"use strict";(function(e){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(11),s=n(i),o=a(8),r=n(o),l=a(7),c=n(l),d=a(5),u=n(d),p=a(4),_=n(p),m=a(10),f=n(m),v=a(3),h=a(31),g=(n(h),a(6)),b=a(0);n(b);a(15),a(77);var y=a(720),C=n(y);a(40),a(39),t.default={name:"RelatedItems",props:{parent_update_related_items:{type:Function},readonlyForm:{type:Boolean,default:!1}},data:function(){return{displayedEntityType:null,dtHeadersRelatedItems:["Number","Type","Description","Comment","Action"],dtOptionsRelatedItems:{columns:[{data:"identifier"},{data:"model_name"},{data:"descriptor"},{data:"AllFields",mRender:function(e,t,a){var n="";return a.AllFields.weak_link&&(n=a.AllFields.comment),n}},{data:"AllFields",mRender:function(e,t,a){var n="";return a.AllFields.weak_link&&a.AllFields.can_user_action&&(n+='<a href="#" class="remove_button" second-content-type="'+a.AllFields.second_content_type+'" second-object-id="'+a.AllFields.second_object_id+'">Remove</a><br>'),n+=a.AllFields.action_url}}]}}},components:{datatable:f.default,WeakLinks:C.default},watch:{displayedEntity:{handler:function(){this.constructRelatedItemsTable()},deep:!0}},computed:(0,u.default)({},(0,g.mapGetters)("callemailStore",{call_email:"call_email"}),(0,g.mapGetters)("inspectionStore",{inspection:"inspection"}),(0,g.mapGetters)("offenceStore",{offence:"offence"}),(0,g.mapGetters)("sanctionOutcomeStore",{sanction_outcome:"sanction_outcome"}),(0,g.mapGetters)("legalCaseStore",{legal_case:"legal_case"}),{csrf_token:function(){return v.helpers.getCookie("csrftoken")},displayedEntity:function(){var e=null;return this.call_email&&this.call_email.id?(this.displayedEntityType="callemail",e=this.call_email):this.inspection&&this.inspection.id?(this.displayedEntityType="inspection",e=this.inspection):this.offence&&this.offence.id?(this.displayedEntityType="offence",e=this.offence):this.sanction_outcome&&this.sanction_outcome.id?(this.displayedEntityType="sanctionoutcome",e=this.sanction_outcome):this.legal_case&&this.legal_case.id&&(this.displayedEntityType="legalcase",e=this.legal_case),e},displayedEntityId:function(){return this.displayedEntity?this.displayedEntity.id:null}}),methods:{createWeakLink:function(){function e(){return t.apply(this,arguments)}var t=(0,c.default)(r.default.mark(function e(){var t,a,n;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t="/api/create_weak_link/",a={can_user_action:this.displayedEntity.can_user_action,first_content_type:this.displayedEntityType,first_object_id:this.displayedEntity.id,second_content_type:this.$refs.weak_links_lookup.second_content_type,second_object_id:this.$refs.weak_links_lookup.second_object_id,comment:this.$refs.weak_links_lookup.comment},e.next=4,_.default.http.post(t,a);case 4:if(n=e.sent,!n.ok){e.next=9;break}return e.next=8,this.parent_update_related_items(n.body);case 8:return e.abrupt("return",n);case 9:case"end":return e.stop()}},e,this)}));return e}(),removeWeakLink:function(){function e(e){return t.apply(this,arguments)}var t=(0,c.default)(r.default.mark(function e(t){var a,n,i,s,o;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.target.getAttribute("second-content-type"),n=t.target.getAttribute("second-object-id"),i="/api/remove_weak_link/",s={can_user_action:this.displayedEntity.can_user_action,first_content_type:this.displayedEntityType,first_object_id:this.displayedEntity.id,second_content_type:a,second_object_id:n},e.next=6,_.default.http.post(i,s);case 6:if(o=e.sent,console.log(o),!o.ok){e.next=11;break}return e.next=11,this.parent_update_related_items(o.body);case 11:case"end":return e.stop()}},e,this)}));return e}(),constructRelatedItemsTable:function(){if(console.log("constructRelatedItemsTable"),this.$refs.related_items_table.vmDataTable.clear().draw(),this.displayedEntity&&this.displayedEntity.related_items)for(var e=0;e<this.displayedEntity.related_items.length;e++){var t=new Object;(0,s.default)(t,this.displayedEntity.related_items[e]),t.can_user_action=this.displayedEntity.can_user_action,this.$refs.related_items_table.vmDataTable.row.add({identifier:this.displayedEntity.related_items[e].identifier,descriptor:this.displayedEntity.related_items[e].descriptor,model_name:this.displayedEntity.related_items[e].model_name,AllFields:t}).draw()}},addEventListeners:function(){e("#related-items-table").on("click",".remove_button",this.removeWeakLink)}},created:function(){function e(){return t.apply(this,arguments)}var t=(0,c.default)(r.default.mark(function e(){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e,this)}));return e}(),mounted:function(){var e=this;this.$nextTick(function(){e.addEventListeners(),e.constructRelatedItemsTable()})}}}).call(t,a(1))},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(16),s=n(i),o=a(5),r=n(o),l=a(4),c=(n(l),a(6)),d=a(732),u=n(d);a(82),t.default={name:"renderer-form",components:{AmendmentRequestDetails:u.default},data:function(){return{section_tab_id:0}},props:{withSectionsSelector:{type:Boolean,default:!0},form_width:{type:String,default:"col-md-9"}},computed:(0,r.default)({},(0,c.mapGetters)(["application","selected_activity_tab_id","renderer_tabs","unfinishedActivities","allCurrentActivities","sectionsForTab"]),{listVisibleActivities:function(){return this.application.can_user_edit?this.unfinishedActivities:this.allCurrentActivities}}),methods:(0,r.default)({},(0,c.mapActions)(["setRendererTabs","setRendererSections","setActivityTab"]),{selectTab:function(e){this.section_tab_id=e.id,this.setActivityTab({id:e.id,name:e.label})},getSections:function(e){return e==this.section_tab_id?this.sectionsForTab(e):[]},initRendererTabs:function(){var e=[],t=!0,a=!1,n=void 0;try{for(var i,o=(0,s.default)(this.listVisibleActivities.filter(function(e){return"tab"==e.type}));!(t=(i=o.next()).done);t=!0){var r=i.value;this.selected_activity_tab_id||this.selectTab(r),e.push({name:r.name,label:r.label,id:r.id})}}catch(e){a=!0,n=e}finally{try{!t&&o.return&&o.return()}finally{if(a)throw n}}this.setRendererTabs(e)},initRendererSections:function(){var e={},t=!0,a=!1,n=void 0;try{for(var i,o=(0,s.default)(this.listVisibleActivities.filter(function(e){return"tab"==e.type&&e.children}));!(t=(i=o.next()).done);t=!0){var r=i.value;e[r.id]=[];var l=!0,c=!1,d=void 0;try{for(var u,p=(0,s.default)(r.children);!(l=(u=p.next()).done);l=!0){var _=u.value;e[r.id].push({name:_.name,label:_.label})}}catch(e){c=!0,d=e}finally{try{!l&&p.return&&p.return()}finally{if(c)throw d}}}}catch(e){a=!0,n=e}finally{try{!t&&o.return&&o.return()}finally{if(a)throw n}}this.setRendererSections(e)},sectionClick:function(e){this.section_tab_id==e.id?this.section_tab_id=0:this.section_tab_id=e.id}}),mounted:function(){this.initRendererTabs(),this.initRendererSections()}}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(5),s=n(i),o=a(4),r=(n(o),a(6)),l=a(3),c=a(43),d=a(337),u=n(d),p=a(333),_=n(p),m=a(335),f=n(m),v=a(736),h=n(v),g=a(329),b=n(g),y=a(331),C=(n(y),a(738)),x=n(C),w=a(338),k=n(w),A=a(330),I=n(A),D=a(341),T=n(D),S=a(340),P=n(S),M=a(334),O=n(M),N=a(336),R=(n(N),a(22)),Y=n(R),E=a(25),L=n(E),j=a(34),B=n(j),F=a(339),W=n(F),z=a(737),U=n(z),$=a(332),G=n($),q={name:"renderer-block",components:{FormSection:u.default,TextField:T.default,Group:_.default,SelectBlock:k.default,HelpText:Y.default,HelpTextUrl:L.default,CommentBlock:B.default,Radio:f.default,Conditions:h.default,Checkbox:b.default,File:x.default,DateField:I.default,TextAreaBlock:P.default,LabelBlock:O.default,TableBlock:W.default,ExpanderTable:U.default,GridBlock:G.default},data:function(){return{}},props:{component:{type:Object,required:!0},instance:{type:String,default:null}},computed:(0,s.default)({},(0,r.mapGetters)(["application","application_id","renderer_form_data","isComponentVisible"]),{is_readonly:function(){return this.component.readonly?this.component.readonly:this.application.readonly},comment_data:function(){return this.application.comment_data},documents_url:function(){return this.application.documents_url},can_user_edit:function(){return this.application.can_user_edit},site_url:function(){return l.api_endpoints.site_url.endsWith("/")?l.api_endpoints.site_url:l.api_endpoints.site_url+"/"},component_name:function(){return this.component.name+(null!==this.instance?"__instance-"+this.instance:"")},json_data:function(){return this.renderer_form_data},formDataRecord:function(){return null==this.json_data[this.component_name]&&this.setFormValue({key:this.component_name,value:{value:"",officer_comment:"",assessor_comment:"",deficiency_value:"",licence_activity_id:this.component.licence_activity_id,licence_purpose_id:this.component.licence_purpose_id,schema_name:this.component.name,component_type:this.component.type,instance_name:null!==this.instance?this.instance:""}}),this.json_data[this.component_name]},value:{get:function(){return this.formDataRecord},set:function(e){this.setFormValue({key:this.component_name,value:{value:e}})}},help_text:function(){return this.replaceSitePlaceholders(this.component.help_text)},help_text_url:function(){return this.replaceSitePlaceholders(this.component.help_text_url)}}),methods:(0,s.default)({},(0,r.mapActions)(["toggleVisibleComponent","setFormValue","refreshApplicationFees"]),{strToBool:c.strToBool,element_id:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return"id_"+this.component_name+(e?"_"+e:"")+(null!==this.instance?"__instance"+this.instance:"")},replaceSitePlaceholders:function(e){return e&&e.includes("site_url:/")&&(e=e.replace("site_url:/",this.site_url),e.includes("anchor=")&&(e=e.replace("anchor=","#"))),e},handleComponentChange:function(e){var t=this,a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return function(n){for(var i in e.conditions)t.toggleVisibleComponent({component_id:"cons_"+t.component_name+"_"+i,visible:!1});var s=null==n.value?n.target.value:n.value;n.target?t.toggleVisibleComponent({component_id:"cons_"+n.target.name+"_"+n.target.value,visible:n.target.checked}):t.toggleVisibleComponent({component_id:"cons_"+t.component_name+"_"+s,visible:!0}),"on"!==s||n.target.checked||(s=""),a&&null!==s&&void 0!==s&&(t.value=s),t.refreshApplicationFees()}}})};t.default=q},function(e,t,a){"use strict";(function(e,n){Object.defineProperty(t,"__esModule",{value:!0});var i=a(10),s=function(e){return e&&e.__esModule?e:{default:e}}(i);a(3);t.default={name:"ReturnTableDash",props:{level:{type:String,required:!0,validator:function(e){return-1!=["internal","external"].indexOf(e)}},url:{type:String,required:!0}},data:function(){var t=this;return{pBody:"pBody"+t._uid,datatable_id:"return-datatable-"+t._uid,filterReturnStatus:"All",filterDueDateFrom:"",filterDueDateTo:"",dateFormat:"DD/MM/YYYY",datepickerOptions:{format:"DD/MM/YYYY",showClear:!0,useCurrent:!1,keepInvalid:!0,allowInputToggle:!0},return_statusTitles:[],table_headers:["Number","Due Date","Status","Licence","Action"],table_options:{serverSide:!0,language:{processing:"<i class='fa fa-4x fa-spinner fa-spin'></i>"},responsive:!0,ajax:{url:t.url,dataSrc:"data",data:function(a){a.status=t.filterReturnStatus,a.date_from=""!=t.filterDueDateFrom&&null!=t.filterDueDateFrom?e(t.filterDueDateFrom,"DD/MM/YYYY").format("YYYY-MM-DD"):"",a.date_to=""!=t.filterDueDateTo&&null!=t.filterDueDateTo?e(t.filterDueDateTo,"DD/MM/YYYY").format("YYYY-MM-DD"):""}},columns:[{data:"lodgement_number",mRender:function(e,t,a){return e}},{data:"due_date",mRender:function(a,n,i){return""!=a&&null!=a?e(a).format(t.dateFormat):""}},{data:"processing_status"},{data:"licence",mRender:function(e,t,a){return a.licence}},{mRender:function(e,a,n){var i="";return t.is_external?i+="<a href='/external/return/"+n.id+"'>Continue</a><br/>":i+="<a href='/internal/return/"+n.id+"'>View</a><br/>",i}}],processing:!0,initComplete:function(){t.$refs.return_datatable.vmDataTable.columns(2).data().unique().sort().each(function(e,a){var i=[];n.each(e,function(e,t){null!=t&&i.indexOf(t)<0&&i.push(t)}),t.return_statusTitles=i})}}}},components:{datatable:s.default},watch:{filterReturnStatus:function(e){var t=this.$refs.return_datatable.vmDataTable;e="All"!=e?e:"",t.column(2).search(e).draw()},filterDueDateFrom:function(e){this.dateSearch(),this.filterReturnStatus="All"},filterDueDateTo:function(e){this.dateSearch()}},computed:{is_external:function(){return"external"==this.level}},methods:{addEventListeners:function(){var e=this;n(e.$refs.dueDateToPicker).datetimepicker(e.datepickerOptions),n(e.$refs.dueDateToPicker).on("dp.change",function(t){n(e.$refs.dueDateToPicker).data("DateTimePicker").date()?e.filterDueDateTo=t.date.format("DD/MM/YYYY"):""===n(e.$refs.dueDateToPicker).data("date")&&(e.filterDueDateTo="")}),n(e.$refs.dueDateFromPicker).datetimepicker(e.datepickerOptions),n(e.$refs.dueDateFromPicker).on("dp.change",function(t){n(e.$refs.dueDateFromPicker).data("DateTimePicker").date()?(e.filterDueDateFrom=t.date.format("DD/MM/YYYY"),n(e.$refs.dueDateToPicker).data("DateTimePicker").minDate(t.date)):""===n(e.$refs.dueDateFromPicker).data("date")&&(e.filterDueDateFrom="")})},initialiseSearch:function(){this.dateSearch()},dateSearch:function(){var t=this;t.$refs.return_datatable.table.dataTableExt.afnFiltering.push(function(a,n,i,s){var o=t.filterDueDateFrom,r=t.filterDueDateTo,l=s.due_date;return""==o&&""==r||(""!=o&&""!=r?null!=l&&""!=l&&e().range(e(o,t.dateFormat),e(r,t.dateFormat)).contains(e(l)):""==o&&""!=r?null!=l&&""!=l&&e(r,t.dateFormat).diff(e(l))>=0:""==r&&""!=o&&(null!=l&&""!=l&&e(l).diff(e(o,t.dateFormat))>=0))})}},mounted:function(){var e=this;this.$nextTick(function(){e.addEventListeners(),e.initialiseSearch()})}}}).call(t,a(0),a(1))},function(e,t,a){"use strict";(function(e){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i,s=a(36),o=n(s),r=a(5),l=n(r),c=a(4),d=(n(c),a(773)),u=n(d),p=a(6),_=a(20),m=n(_);a(82);var f=a(3);t.default=(i={name:"returns-renderer-form",props:{level:{type:String,required:!0,validator:function(e){return-1!=["internal","external"].indexOf(e)}}},components:{CommsLogs:m.default,AmendmentRequest:u.default},filters:{formatDate:function(t){return t?e(t).format("DD/MM/YYYY HH:mm:ss"):""}},data:function(){return{returns_tab_id:0,assignTo:!1,loading:[],isLoading:!1,logs_url:f.helpers.add_endpoint_json(f.api_endpoints.returns,this.$route.params.return_id+"/action_log"),comms_url:f.helpers.add_endpoint_json(f.api_endpoints.returns,this.$route.params.return_id+"/comms_log"),comms_add_url:f.helpers.add_endpoint_json(f.api_endpoints.returns,this.$route.params.return_id+"/add_comms_log")}}},(0,o.default)(i,"props",{form_width:{type:String,default:"col-md-9"}}),(0,o.default)(i,"computed",(0,l.default)({},(0,p.mapGetters)(["returns","returns_tabs","selected_returns_tab_id","species_list","is_external","current_user"]),{is_submitted:function(){return null!=this.returns.lodgement_date},displayable_number:function(){return this.is_external&&null!=this.returns.lodgement_date?"":"Return: "+this.returns.lodgement_number},displayable_tabs:function(){return!this.is_external||null==this.returns.lodgement_date}})),(0,o.default)(i,"methods",(0,l.default)({},(0,p.mapActions)(["setReturnsTabs","setReturnsSpecies","setReturnsExternal","setReturns","loadCurrentUser"]),{selectReturnsTab:function(e){this.returns_tab_id=e.id,this.setReturnsTab({id:e.id,name:e.label})},amendmentRequest:function(){var e=this;e.$refs.amendment_request.amendment.text="",e.$refs.amendment_request.isModalOpen=!0},canAssignToOfficer:function(){return!!this.userHasRole("licensing_officer")&&(this.returns&&"with_curator"==this.returns.processing_status.id)},userIsAssignedOfficer:function(){return this.current_user.id==this.returns.assigned_to}})),(0,o.default)(i,"created",function(){if(this.loadCurrentUser({url:"/api/my_user_details"}),"sheet"!=this.returns.format){for(var e=this.returns.table[0].headers,t=0;t<e.length;t++)e[t].readonly=!this.is_external;this.setReturns(this.returns)}}),i)}).call(t,a(0))},function(e,t,a){"use strict";(function(e,n,i){function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(11),r=s(o),l=a(8),c=s(l),d=a(7),u=s(d),p=a(10),_=s(p),m=a(3);t.default={name:"SanctionOutcomeTableDash",props:{level:{type:String,required:!0,validator:function(e){return-1!=["internal","external"].indexOf(e)}},url:{type:String,required:!0}},data:function(){var t=this;return{sanction_outcome_types:[],sanction_outcome_statuses:[],sanction_outcome_payment_statuses:[],pBody:"pBody"+t._uid,datatable_id:"return-datatable-"+t._uid,filterType:"all",filterStatus:"all",filterPaymentStatus:"all",filterDateFrom:"",filterDateTo:"",dateFormat:"DD/MM/YYYY",datepickerOptions:{format:"DD/MM/YYYY",showClear:!0,useCurrent:!1,keepInvalid:!0,allowInputToggle:!0},table_headers:["id","Number","Type","Identifier","Date","Status","Payment Status","Sanction Outcome","Action"],table_options:{serverSide:!0,searchDelay:1e3,language:{processing:"<i class='fa fa-4x fa-spinner fa-spin'></i>"},responsive:!0,processing:!0,ajax:{url:t.url,dataSrc:"data",data:function(e){e.type=t.filterType,e.status=t.filterStatus,e.payment_status=t.filterPaymentStatus,e.date_from=t.filterDateFrom,e.date_to=t.filterDateTo},complete:function(e,a){t.$emit("records_total",e.responseJSON.recordsTotal)}},columns:[{data:"id",visible:!1},{data:"lodgement_number",searchable:!0,orderable:!0},{data:"type",searchable:!0,orderable:!0,mRender:function(e,t,a){return e.name}},{data:"identifier",searchable:!0,orderable:!0},{data:"date_of_issue",searchable:!0,orderable:!0,mRender:function(t,a,n){return""!=t&&null!=t?e(t).format("DD/MM/YYYY"):""}},{data:"status",searchable:!0,orderable:!0,mRender:function(e,t,a){return e.name}},{data:"payment_status.name",searchable:!0,orderable:!0},{data:"paper_notices",searchable:!0,orderable:!1,mRender:function(e,t,a){var n="";if(e.length>0)for(var i=0;i<e.length;i++)n+='<a href="'+e[i][1]+'">'+e[i][0]+"</a><br />";return n}},{mRender:function(e,t,a){return"awaiting_payment"===a.status.id?"<a href='#"+a.id+"' data-pay-infringement-penalty='"+a.id+"'>Pay</a><br/>":""}}]}}},components:{datatable:_.default},watch:{filterType:function(){this.$refs.sanction_outcome_table.vmDataTable.draw()},filterStatus:function(){this.$refs.sanction_outcome_table.vmDataTable.draw()},filterPaymentStatus:function(){this.$refs.sanction_outcome_table.vmDataTable.draw()},filterDateFromPicker:function(){this.$refs.sanction_outcome_table.vmDataTable.draw()},filterDateToPicker:function(){this.$refs.sanction_outcome_table.vmDataTable.draw()}},computed:{is_external:function(){return"external"==this.level}},created:function(){function e(){return t.apply(this,arguments)}var t=(0,u.default)(c.default.mark(function e(){return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.constructOptionsType(),this.constructOptionsStatus(),this.constructOptionsPaymentStatus();case 3:case"end":return e.stop()}},e,this)}));return e}(),methods:{addEventListeners:function(){this.attachFromDatePicker(),this.attachToDatePicker();var e=this;e.$refs.sanction_outcome_table.vmDataTable.on("click","a[data-pay-infringement-penalty]",function(t){t.preventDefault();var a=n(t.target).attr("data-pay-infringement-penalty");e.payInfringementPenalty(a)})},payInfringementPenalty:function(e){console.log("payInfringementPenalty"),this.$http.post("/infringement_penalty/"+e+"/").then(function(e){window.location.href="/ledger/checkout/checkout/payment-details/"},function(e){i("Submit Error",m.helpers.apiVueResourceError(e),"error")})},attachFromDatePicker:function(){var t=this,a=n(t.$refs.issueDateFromPicker),i=n(t.$refs.issueDateToPicker);a.datetimepicker({format:"DD/MM/YYYY",maxDate:e().millisecond(0).second(0).minute(0).hour(0),showClear:!0}),a.on("dp.change",function(e){a.data("DateTimePicker").date()?(t.filterDateFromPicker=e.date.format("DD/MM/YYYY"),i.data("DateTimePicker").minDate(e.date)):""===a.data("date")&&(t.filterDateFromPicker="")})},attachToDatePicker:function(){var t=this,a=n(t.$refs.issueDateFromPicker),i=n(t.$refs.issueDateToPicker);i.datetimepicker({format:"DD/MM/YYYY",maxDate:e().millisecond(0).second(0).minute(0).hour(0),showClear:!0}),i.on("dp.change",function(e){i.data("DateTimePicker").date()?(t.filterDateToPicker=e.date.format("DD/MM/YYYY"),a.data("DateTimePicker").maxDate(e.date)):""===i.data("date")&&(t.filterDateToPicker="")})},constructOptionsType:function(){function e(){return t.apply(this,arguments)}var t=(0,u.default)(c.default.mark(function e(){var t;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.cache_helper.getSetCacheList("SanctionOutcomeTypes","/api/sanction_outcome/types.json");case 2:t=e.sent,(0,r.default)(this.sanction_outcome_types,t),this.sanction_outcome_types.splice(0,0,{id:"all",display:"All"});case 5:case"end":return e.stop()}},e,this)}));return e}(),constructOptionsStatus:function(){function e(){return t.apply(this,arguments)}var t=(0,u.default)(c.default.mark(function e(){var t;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.cache_helper.getSetCacheList("SanctionOutcomeStatuses","/api/sanction_outcome/statuses_for_external.json");case 2:t=e.sent,(0,r.default)(this.sanction_outcome_statuses,t),this.sanction_outcome_statuses.splice(0,0,{id:"all",display:"All"});case 5:case"end":return e.stop()}},e,this)}));return e}(),constructOptionsPaymentStatus:function(){function e(){return t.apply(this,arguments)}var t=(0,u.default)(c.default.mark(function e(){var t;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.cache_helper.getSetCacheList("SanctionOutcomePaymentStatuses","/api/sanction_outcome/payment_statuses.json");case 2:t=e.sent,(0,r.default)(this.sanction_outcome_payment_statuses,t),this.sanction_outcome_payment_statuses.splice(0,0,{id:"all",display:"All"});case 5:case"end":return e.stop()}},e,this)}));return e}()},mounted:function(){var e=this;this.$nextTick(function(){e.addEventListeners()})}}}).call(t,a(0),a(1),a(9))},function(e,t,a){"use strict";(function(e){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(11),s=n(i),o=a(8),r=n(o),l=a(7),c=n(l),d=a(35),u=n(d),p=a(1),_=n(p);a(15),a(29);var m=a(719),f=n(m),v=a(718),h=n(v),g=a(63),b=n(g);t.default={name:"search-person-organisation",data:function(){return this.awesomplete_obj=null,{entity:{id:null,data_type:null},displayUpdateCreatePerson:!1,displayUpdateCreateOrganisation:!1,searchType:"",errorText:"",uuid:0,showCreateNewPerson:!1,showCreateNewOrganisation:!1,creatingPerson:!1,creatingOrganisation:!1}},components:{updateCreatePerson:f.default,updateCreateOrganisation:h.default},watch:{entity:{handler:function(){this.entity.id&&this.$emit("entity-selected",{id:this.entity.id,data_type:this.entity.data_type}),this.entity.id&&"individual"===this.entity.data_type?(this.displayUpdateCreateOrganisation=!1,this.displayUpdateCreatePerson=!0,this.creatingPerson=!1):this.entity.id&&"organisation"===this.entity.data_type&&(this.displayUpdateCreatePerson=!1,this.displayUpdateCreateOrganisation=!1,this.creatingOrganisation=!1)},deep:!0}},computed:{formChanged:function(){var e=!1;return this.object_hash!==(0,b.default)(this.entity)&&(e=!0),e},elemId:function(){this.uuid+=1;var e=this.searchType+this.uuid+"search";return this.domIdHelper&&(e+=this.domIdHelper),e},labelTitle:function(){if(this.searchType)return"Search "+this.searchType},updateCreatePersonBindId:function(){var e="person";return"individual"===this.entity.data_type&&this.entity.id?e+=this.entity.id:e+=this.uuid,e},entityIsPerson:function(){var e=!1;return("individual"===this.entity.data_type&&this.entity.id||this.creatingPerson)&&(e=!0),e},entityIsOrganisation:function(){var e=!1;return("organisation"===this.entity.data_type&&this.entity.id||this.creatingOrganisation)&&(e=!0),e}},props:{classNames:{required:!1,default:"form-control"},maxItems:{required:!1,default:10},initialSearchType:{required:!1,default:"individual"},isEditable:{required:!1,default:!0},excludeStaff:{type:Boolean,required:!1,default:!1},showCreateUpdate:{type:Boolean,required:!1,default:!1},parentEntity:{type:Object,required:!1},domIdHelper:{type:String,required:!1},personOnly:{type:Boolean,required:!1,default:!1}},methods:{parentSave:function(){function e(){return t.apply(this,arguments)}var t=(0,c.default)(r.default.mark(function e(){var t;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=null,console.log("parent save"),"individual"!==this.searchType){e.next=8;break}return e.next=5,this.$refs.update_create_person.parentSave();case 5:t=e.sent,e.next=12;break;case 8:if("organisation"!==this.searchType){e.next=12;break}return e.next=11,this.$refs.update_create_organisation.parentSave();case 11:t=e.sent;case 12:return console.log(t),e.abrupt("return",t);case 14:case"end":return e.stop()}},e,this)}));return e}(),createNewPerson:function(){var e=this;this.creatingPerson=!0,this.entity={id:null,data_type:null},this.$nextTick(function(){e.displayUpdateCreatePerson=!0,e.setInput(""),e.$refs.update_create_person&&e.$refs.update_create_person.email_user&&(e.$refs.update_create_person.setDefaultPerson(),e.$emit("entity-selected",{data_type:"individual",id:null}))})},createNewOrganisation:function(){this.creatingOrganisation=!0},clearInput:function(){document.getElementById(this.elemId).value=""},setInput:function(e){document.getElementById(this.elemId).value=e},markMatchedText:function(e,t){return e.replace(new RegExp(t,"gi"),function(e,t){return"<mark>"+e+"</mark>"})},createUpdateOrganisationClicked:function(){this.displayUpdateCreateOrganisation=!this.displayUpdateCreateOrganisation},savePerson:function(){function t(e){return a.apply(this,arguments)}var a=(0,c.default)(r.default.mark(function t(a){var n,i,s,o;return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!a.person){t.next=10;break}if(a.updateSearchBox){t.next=4;break}return t.next=4,this.$emit("entity-selected",{data_type:"individual",id:a.person.id});case 4:n=[a.person.first_name,a.person.last_name].filter(Boolean).join(" "),i=a.person.dob?"DOB:"+a.person.dob:"DOB: ---",s=[n,i].filter(Boolean).join(", "),this.setInput(s),t.next=14;break;case 10:if(!a.errorMessage){t.next=14;break}return o=a.errorMessage,t.next=14,e("Error",o,"error");case 14:case"end":return t.stop()}},t,this)}));return t}(),initAwesomplete:function(){var e=this,t=document.getElementById(e.elemId);e.awesomplete_obj=new u.default(t,{maxItems:e.maxItems,sort:!1,filter:function(){return!0},item:function(e,t){return u.default.ITEM(e,"")},data:function(t,a){if("individual"==e.searchType){var n=t.first_name?t.first_name:"",i=t.last_name?t.last_name:"",s=[n,i].filter(Boolean).join(" "),o=t.email?"E:"+t.email:"",r=t.phone_number?"P:"+t.phone_number:"",l=t.mobile_number?"M:"+t.mobile_number:"",c=t.dob?"DOB:"+t.dob:"DOB: ---",d="<strong>"+e.markMatchedText(s,a)+"</strong>",u=e.markMatchedText(o,a),p=e.markMatchedText(r,a),_=e.markMatchedText(l,a),m=e.markMatchedText(c,a),f=[d,u,p,_,m].filter(Boolean).join("<br />");return f="<div data-item-id="+t.id+' data-type="individual">'+f+"</div>",{label:f,value:[s,c].filter(Boolean).join(", "),id:t.id}}var v=t.name?t.name:"",h=t.abn?"ABN:"+t.abn:"",g="<strong>"+e.markMatchedText(v,a)+"</strong>",b=e.markMatchedText(h,a),y=[g,b].filter(Boolean).join("<br />");return y="<div data-item-id="+t.id+' data-type="organisation">'+y+"</div>",{label:y,value:[v,h].filter(Boolean).join(", "),id:t.id}}}),(0,_.default)(t).on("keyup",function(t){var a=t.keyCode||t.which;if(48<=a&&a<=90||96<=a&&a<=105||8==a||46==a)return e.search_person_or_organisation(t.target.value),!1}).on("awesomplete-selectcomplete",function(e){return e.preventDefault(),e.stopPropagation(),!1}).on("awesomplete-select",function(t){var a=(0,_.default)(t.originalEvent.origin);"DIV"!=a[0].tagName&&(a=a.parent());var n=a[0].getAttribute("data-item-id"),i=a[0].getAttribute("data-type");e.$nextTick(function(){var t=parseInt(n);e.entity={id:t,data_type:i}})})},search_person_or_organisation:function(e){var t=this,a=[];a.length=0,t.awesomplete_obj.list=[],null!=t.ajax_for_offender&&(t.ajax_for_offender.abort(),t.ajax_for_offender=null);var n="";n="individual"==t.searchType?"/api/search_user/?search=":"/api/search_organisation/?search=",t.ajax_for_offender=_.default.ajax({type:"GET",url:n+e+"&exclude_staff="+t.excludeStaff,success:function(n){if(n&&n.results)for(var i=n.results,s=Math.min(t.maxItems,i.length),o=0;o<s;o++)a.push(i[o]);t.awesomplete_obj.list=a,t.awesomplete_obj.evaluate(),e.length>=2&&a.length>0&&(t.showCreateUpdate&&"individual"===t.searchType?t.showCreateNewPerson=!0:t.showCreateUpdate&&"organisation"===t.searchType&&(t.showCreateNewOrganisation=!0))},error:function(e){}})}},created:function(){var e=this;this.uuid+=1,this.searchType=this.initialSearchType,this.$nextTick(function(){e.parentEntity&&(0,s.default)(e.entity,e.parentEntity),e.initAwesomplete()}),this.object_hash=(0,b.default)(this.entity)}}}).call(t,a(9))},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(12),s=n(i),o=a(8),r=n(o),l=a(11),c=n(l),d=a(7),u=n(d),p=a(4),_=n(p),m=a(3),f=a(10),v=n(f),h=a(94),g=(n(h),a(23)),b=(n(g),a(83)),y=n(b);t.default={name:"Organisation",data:function(){var e=this;return{adBody:"adBody"+e._uid,aBody:"aBody"+e._uid,pdBody:"pdBody"+e._uid,pBody:"pBody"+e._uid,cdBody:"cdBody"+e._uid,cBody:"cBody"+e._uid,oBody:"oBody"+e._uid,dTab:"dTab"+e._uid,oTab:"oTab"+e._uid,idBody:"idBody"+e._uid,organisation:{address:{}},myorgperms:null,show_spinner:!1,countries:[]}},components:{datatable:v.default},computed:{},created:function(){function e(){return t.apply(this,arguments)}var t=(0,u.default)(r.default.mark(function e(){var t;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.cache_helper.getSetCacheList("Countries",y.default.countries);case 2:t=e.sent,(0,c.default)(this.countries,t),_.default.set(this.organisation.address,"country","AU");case 5:case"end":return e.stop()}},e,this)}));return e}(),methods:{save:function(){function e(){return t.apply(this,arguments)}var t=(0,u.default)(r.default.mark(function e(){var t,a;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.show_spinner=!0,t="/api/organisations_compliancemanagement/",e.next=4,_.default.http.post(t,(0,s.default)(this.organisation));case 4:a=e.sent,console.log(a),a.ok,this.show_spinner=!1;case 8:case"end":return e.stop()}},e,this)}));return e}()},mounted:function(){}}},function(e,t,a){"use strict";(function(e,n){function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var s=a(8),o=i(s),r=a(7),l=i(r),c=a(17),d=i(c),u=a(11),p=i(u),_=a(4),m=i(_),f=a(1),v=i(f),h=a(3),g=a(23),b=i(g);a(15),a(77),t.default={name:"update-create-person",data:function(){var e=this;return{mainElement:null,elementId:"create_new_person_"+e._uid,pdBody:"pdBody"+e._uid,cdBody:"cdBody"+e._uid,adBody:"adBody"+e._uid,errorGivenName:!1,errorLastName:!1,errorDob:!1,objectAlert:!1,loading:[],countries:[],saveButtonEnabled:!1,isPersonalDetailsOpen:null,isAddressDetailsOpen:null,isContactDetailsOpen:null,email_user:{id:null,first_name:"",last_name:"",dob:null,residential_address:{line1:"",locality:"",state:"WA",postcode:"",country:"AU"},phone_number:"",mobile_number:"",email:""}}},props:{displayComponent:{type:Boolean,required:!0,default:!1},displaySaveButton:{type:Boolean,required:!1,default:!0},defaultOpenPersonalDetails:{type:Boolean,required:!1,default:!0},defaultOpenAddressDetails:{type:Boolean,required:!1,default:!1},defaultOpenContactDetails:{type:Boolean,required:!1,default:!1},slideDownMiliSecond:{type:Number,required:!1,default:200},slideUpMiliSecond:{type:Number,required:!1,default:300},personToUpdate:{type:Number,required:!1},isEditable:{type:Boolean,default:!1}},computed:{personId:function(){return this.email_user.id},personalDetailsReadOnly:function(){if(this.email_user.id)return!0},computedEmailUser:function(){var e=(0,p.default)({},this.email_user);return this.email_user&&this.email_user.residential_address&&(0,p.default)(e.residential_address,this.email_user.residential_address),e},saveButtonText:function(){return this.email_user&&this.email_user.id?"Update Person":"Save New Person"}},watch:{displayComponent:{handler:function(){this.showHideElement()}},isPersonalDetailsOpen:{handler:function(){var e=(0,v.default)("#"+this.pdBody);this.isPersonalDetailsOpen?e.slideDown(this.slideDownMiliSecond):e.slideUp(this.slideUpMiliSecond)}},isAddressDetailsOpen:{handler:function(){var e=(0,v.default)("#"+this.adBody);this.isAddressDetailsOpen?e.slideDown(this.slideDownMiliSecond):e.slideUp(this.slideUpMiliSecond)}},isContactDetailsOpen:{handler:function(){var e=(0,v.default)("#"+this.cdBody);this.isContactDetailsOpen?e.slideDown(this.slideDownMiliSecond):e.slideUp(this.slideUpMiliSecond)}},computedEmailUser:{deep:!0,handler:function(e,t){t.id&&t!==e?this.saveButtonEnabled=!0:this.email_user&&!this.email_user.id?this.saveButtonEnabled=!0:this.saveButtonEnabled=!1}}},methods:{addEventListeners:function(){var e=this,t=(0,v.default)(this.$refs.dobDatePicker);t.datetimepicker({format:"DD/MM/YYYY",maxDate:"now",showClear:!0}),t.on("dp.change",function(a){t.data("DateTimePicker").date()?e.email_user.dob=a.date.format("DD/MM/YYYY"):""===t.data("date")&&(e.email_user.dob="")})},setExistingPerson:function(t){var a=this,n=[b.default.fetchUser(t)];d.default.all(n).then(function(t){(0,p.default)(a.email_user,t[0]),a.email_user.residential_address||(a.email_user.residential_address=a.getDefaultAddress()),a.email_user.dob&&(a.email_user.dob=e(a.email_user.dob,"YYYY-MM-DD").format("DD/MM/YYYY"))})},setPersonId:function(e){this.email_user.id=e},setDefaultPerson:function(){var e={id:null,first_name:"",last_name:"",dob:null,residential_address:{line1:"",locality:"",state:"WA",postcode:"",country:"AU"},phone_number:"",mobile_number:"",email:""};(0,p.default)(this.email_user,e)},getDefaultAddress:function(){return{line1:"",locality:"",state:"WA",postcode:"",country:"AU"}},handleSlideElement:function(e){(0,v.default)("#"+e);"pd"==keyword?this.isPersonalDetailsOpen=!this.isPersonalDetailsOpen:"ad"==keyword?this.isAddressDetailsOpen=!this.isAddressDetailsOpen:"cd"==keyword&&(this.isContactDetailsOpen=!this.isContactDetailsOpen)},loadCountries:function(){var e=this,t=[b.default.fetchCountries()];d.default.all(t).then(function(t){e.countries=t[0]})},parentSave:function(){function e(){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(){var t;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=null,!this.saveButtonEnabled){e.next=7;break}return e.next=4,this.saveData("parentSave");case 4:t=e.sent,e.next=8;break;case 7:t={ok:!0};case 8:return e.abrupt("return",t);case 9:case"end":return e.stop()}},e,this)}));return e}(),saveData:function(){function t(e){return a.apply(this,arguments)}var a=(0,l.default)(o.default.mark(function t(a){var i,s,r;return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=null,t.prev=1,s={},(0,p.default)(s,this.email_user),s.residential_address&&!s.residential_address.line1&&(s.residential_address=null),s.dob&&(s.dob=e(s.dob,"DD/MM/YYYY").format("YYYY-MM-DD")),r="",!s.id){t.next=17;break}if(s.email){t.next=14;break}return t.next=11,n("Error","Ensure the email field is not blank","error");case 11:return t.abrupt("return");case 14:r=h.helpers.add_endpoint_join(h.api_endpoints.compliance_management_users,s.id+"/update_person/");case 15:t.next=24;break;case 17:if(s.first_name&&s.last_name&&s.dob&&s.email){t.next=23;break}return t.next=20,n("Error","Fill out all Personal Details and email fields","error");case 20:return t.abrupt("return");case 23:r=h.api_endpoints.compliance_management_users;case 24:return t.next=26,m.default.http.post(r,s);case 26:if(i=t.sent,i.body.residential_address||(i.body.residential_address=this.getDefaultAddress()),(0,p.default)(this.email_user,i.body),this.email_user.dob=e(this.email_user.dob,"YYYY-MM-DD").format("DD/MM/YYYY"),"parentSave"===a){t.next=33;break}return t.next=33,n("Saved","Person has been saved","success");case 33:this.$emit("person-saved",{person:i.body,errorMessage:null}),t.next=41;break;case 36:if(t.prev=36,t.t0=t.catch(1),!t.t0.bodyText){t.next=41;break}return t.next=41,n("Error",t.t0.bodyText,"error");case 41:return t.abrupt("return",i);case 42:case"end":return t.stop()}},t,this,[[1,36]])}));return t}(),showHideElement:function(){this.displayComponent?this.mainElement.slideDown(this.slideDownMiliSecond):this.mainElement.slideUp(this.slideUpMiliSecond)}},mounted:function(){var e=this,t=document.getElementById(e.elementId);e.mainElement=(0,v.default)(t),e.$nextTick(function(){e.showHideElement(),e.loadCountries(),e.isPersonalDetailsOpen=e.defaultOpenPersonalDetails,e.isAddressDetailsOpen=e.defaultOpenAddressDetails,e.isContactDetailsOpen=e.defaultOpenContactDetails,e.addEventListeners()})},created:function(){this.personToUpdate&&this.setExistingPerson(this.personToUpdate)}}}).call(t,a(0),a(9))},function(e,t,a){"use strict";(function(e,n){function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var s=a(5),o=i(s),r=a(36),l=i(r),c=a(10),d=i(c),u=a(6);a(3);t.default={name:"UserDashTable",props:{level:{type:String,required:!0,validator:function(e){return-1!=["internal"].indexOf(e)}},url:{type:String,required:!0}},data:function(){var t=this;return{pBody:"pBody"+t._uid,datatable_id:"user-datatable-"+t._uid,filterCharacterFlagged:"All",character_flagged_options:["True","False"],filterDateOfBirth:"",dateFormat:"DD/MM/YYYY",datepickerOptions:{format:"DD/MM/YYYY",showClear:!0,useCurrent:!1,keepInvalid:!0,allowInputToggle:!0},user_headers:["Title","Given Name(s)","Last Name","Date of Birth","Email","Phone","Mobile","Fax","Character Flagged","Character Comments","Action"],user_options:{serverSide:!0,searchDelay:1e3,lengthMenu:[[10,25,50,100,-1],[10,25,50,100,"All"]],order:[[4,"asc"]],language:{processing:"<i class='fa fa-4x fa-spinner fa-spin'></i>"},responsive:!0,ajax:(0,l.default)({url:t.url,data:"data"},"data",function(a){a.character_flagged=t.filterCharacterFlagged,a.dob=""!=t.filterDateOfBirth&&null!=t.filterDateOfBirth?e(t.filterDateOfBirth,"DD/MM/YYYY").format("YYYY-MM-DD"):""}),columns:[{data:"title",responsivePriority:10},{data:"first_name",responsivePriority:20},{data:"last_name",responsivePriority:30},{data:"dob",responsivePriority:40,mRender:function(a,n,i){return""!=a&&null!=a?e(a).format(t.dateFormat):""},searchable:!1},{data:"email"},{data:"phone_number"},{data:"mobile_number"},{data:"fax_number"},{data:"character_flagged",orderable:!1,searchable:!1,className:"capitalise"},{data:"character_comments"},{data:"id",responsivePriority:50,mRender:function(e,t,a){var n="";return n+="<a href='/internal/users/__ID__'> Edit</a><br/>",n+="<a href='#"+a.id+"' apply-on-behalf-of='"+a.id+"'>New Application</a>",n.replace(/__ID__/g,e)},orderable:!1,searchable:!1}],processing:!0,initComplete:function(){t.$refs.user_datatable.vmDataTable.columns.adjust().responsive.recalc()}}}},components:{datatable:d.default},watch:{filterDateOfBirth:function(){this.$refs.user_datatable.vmDataTable.draw()},filterCharacterFlagged:function(){this.$refs.user_datatable.vmDataTable.draw()}},computed:{is_external:function(){return"external"==this.level}},methods:(0,o.default)({},(0,u.mapActions)(["setApplyProxyId","setApplicationWorkflowState","setApplyLicenceSelect"]),{applyOnBehalfOf:function(e){this.setApplyLicenceSelect({licence_select:"new_licence"}),this.setApplyProxyId({id:e}),this.setApplicationWorkflowState({bool:!0}),this.$router.push({name:"apply_application_licence"})},addEventListeners:function(){var e=this;n(e.$refs.filterDateOfBirthPicker).datetimepicker(e.datepickerOptions),n(e.$refs.filterDateOfBirthPicker).on("dp.change",function(t){n(e.$refs.filterDateOfBirthPicker).data("DateTimePicker").date()?e.filterDateOfBirth=t.date.format("DD/MM/YYYY"):""===n(e.$refs.filterDateOfBirthPicker).data("date")&&(e.filterDateOfBirth="")}),e.$refs.user_datatable.vmDataTable.on("click","a[apply-on-behalf-of]",function(t){t.preventDefault();var a=parseInt(n(this).attr("apply-on-behalf-of"));e.applyOnBehalfOf(a)})}}),mounted:function(){var e=this;this.$nextTick(function(){e.addEventListeners()})}}}).call(t,a(0),a(1))},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(8),s=n(i),o=a(7),r=n(o),l=a(35),c=n(l),d=a(1),u=n(d);a(15),a(29);var p=a(3);t.default={name:"weak-links",data:function(){return this.awesomplete_obj=null,{elemId:"create_weak_link_"+this._uid,selectedEntity:null,second_object_id:null,second_content_type:null,comment:""}},props:{maxItems:{required:!1,default:10},readonlyForm:{required:!1,default:!1},displayedEntityType:{type:String},displayedEntityId:{type:Number}},computed:{csrf_token:function(){return p.helpers.getCookie("csrftoken")}},methods:{markMatchedText:function(e,t){if(e){return e.replace(new RegExp(t,"gi"),function(e,t){return"<mark>"+e+"</mark>"})}return""},callCreateWeakLink:function(){var e=this;this.$nextTick((0,r.default)(s.default.mark(function t(){var a;return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$parent.createWeakLink();case 2:a=t.sent,a.ok&&(e.selectedEntity=null,e.comment="",e.$refs.elemId.value="");case 4:case"end":return t.stop()}},t,e)})))},initAwesomplete:function(){var e=this,t=document.getElementById(this.elemId);this.awesomplete_obj=new c.default(t,{maxItems:this.maxItems,sort:!1,filter:function(){return!0},item:function(e,t){return c.default.ITEM(e,"")},data:function(t,a){var n=e.markMatchedText(t.item_identifier,a),i=e.markMatchedText(t.item_description,a),s=[n,i].filter(Boolean).join("<br />");return s="<div data-item-id="+t.id+" data-type="+t.model_name+">"+s+"</div>",{label:s,value:[t.item_identifier,t.item_description].filter(Boolean).join(", "),id:t.id}}}),(0,u.default)(t).on("keyup",function(t){var a=t.keyCode||t.which;if(48<=a&&a<=90||96<=a&&a<=105||8==a||46==a)return e.selectedEntity&&e.search_available_object_identifiers(t.target.value),!1}).on("awesomplete-selectcomplete",function(e){return e.preventDefault(),e.stopPropagation(),!1}).on("awesomplete-select",function(t){var a=(0,u.default)(t.originalEvent.origin);"DIV"!=a[0].tagName&&(a=a.parent());var n=a[0].getAttribute("data-item-id"),i=a[0].getAttribute("data-type");e.$nextTick(function(){e.second_object_id=n,e.second_content_type=i})})},search_available_object_identifiers:function(e){var t=this,a=[];a.length=0,this.awesomplete_obj.list=[],null!=this.ajax_weak_links&&(this.ajax_weak_links.abort(),this.ajax_weak_links=null);var n={csrfmiddlewaretoken:this.csrf_token,selectedEntity:this.selectedEntity,searchText:e,displayedEntityType:this.displayedEntityType,displayedEntityId:this.displayedEntityId};this.ajax_weak_links=u.default.ajax({type:"POST",url:"/api/search_weak_links/",dataType:"json",data:n,success:function(e){if(e)for(var n=Math.min(t.maxItems,e.length),i=0;i<n;i++)a.push(e[i]);t.awesomplete_obj.list=a,t.awesomplete_obj.evaluate()},error:function(e){}})}},created:function(){var e=this;this.$nextTick(function(){e.initAwesomplete()})}}},function(e,t,a){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"FormSection",props:["label","Index"],data:function(){return{title:"Section title",eventInitialised:!1}},computed:{section_id:function(){return"section_"+this.Index}},updated:function(){var t=this,a=this;a.$nextTick(function(){a.eventInitialised||(e('.panelClicker[data-toggle="collapse"]').on("click",function(){var t=e(this).children()[0];window.setTimeout(function(){e(t).toggleClass("glyphicon-chevron-down glyphicon-chevron-up")},100)}),t.eventInitialised=!0)})}}}).call(t,a(1))},function(e,t,a){"use strict";(function(e,n){function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var s=a(16),o=i(s),r=a(5),l=i(r),c=a(132),d=i(c),u=a(4),p=(i(u),a(6)),_=a(3);t.default={data:function(){return{form:null,isProcessing:!1,tabSelected:!1,application_customer_status_onload:{},missing_fields:[]}},components:{Application:d.default},computed:(0,l.default)({},(0,p.mapGetters)(["application","application_readonly","renderer_form_data","selected_activity_tab_id","selected_activity_tab_name","isApplicationLoaded","unfinishedActivities"]),{csrf_token:function(){return _.helpers.getCookie("csrftoken")},activity_discard_url:function(){return this.application?"/api/application/"+this.application.id+"/discard_activity/":""},application_form_url:function(){return this.application?"/api/application/"+this.application.id+"/draft.json":""},application_form_data_url:function(){return this.application?"/api/application/"+this.application.id+"/form_data.json":""},requiresCheckout:function(){return this.application.application_fee>0&&["draft","awaiting_payment"].includes(this.application_customer_status_onload.id)},canDiscardActivity:function(){var e=this;return this.application.activities.find(function(t){return t.licence_activity==e.selected_activity_tab_id&&"draft"==t.processing_status})},userCanSubmit:function(){return this.application.can_current_user_edit}}),methods:(0,l.default)({},(0,p.mapActions)({load:"loadApplication"}),(0,p.mapActions)(["setApplication","setActivityTab","saveFormData"]),{eventListeners:function(){this.tabSelected||(e("#tabs-section li:first-child a").click(),this.tabSelected=!0)},discardActivity:function(e){var t=this,a="Are you sure you want to discard activity: "+this.selected_activity_tab_name+"?";n({title:"Discard Selected Activity",html:a,type:"question",showCancelButton:!0,confirmButtonText:"Discard",confirmButtonColor:"#d9534f"}).then(function(e){t.$http.delete(t.activity_discard_url,{params:{activity_id:t.selected_activity_tab_id}}).then(function(e){n("Activity Discarded",t.selected_activity_tab_name+" has been discarded from this application.","success"),"discarded"===e.body.processing_status?t.$router.push({name:"external-applications-dash"}):t.load({url:"/api/application/"+t.application.id+".json"}).then(function(){var e=t.unfinishedActivities[0];null==e?t.$router.push({name:"external-applications-dash"}):t.setActivityTab({id:e.id,name:e.label})})},function(e){n("Error",_.helpers.apiVueResourceError(e),"error")})},function(e){})},reloadApplication:function(e){var t=this;!e&&this.application&&(e=this.application.id),e?this.load({url:"/api/application/"+e+".json"}).then(function(){t.application_customer_status_onload=t.application.customer_status}):this.load({url:"/api/application.json"})},saveExit:function(e){var t=this;this.isProcessing=!0,this.saveFormData({url:this.application_form_data_url,draft:!0}).then(function(e){n("Saved","Your application has been saved","success").then(function(e){t.isProcessing=!1,window.location.href="/"})},function(e){n("Error","There was an error saving your application","error").then(function(e){t.isProcessing=!1})})},save:function(e){var t=this;this.isProcessing=!0,this.saveFormData({url:this.application_form_data_url,draft:!0}).then(function(e){n("Saved","Your application has been saved","success").then(function(e){t.isProcessing=!1,t.reloadApplication()})},function(e){n("Error","There was an error saving your application","error").then(function(e){t.isProcessing=!1})})},highlight_missing_fields:function(){e(".missing-field").removeClass("missing-field");var t=!0,a=!1,n=void 0;try{for(var i,s=(0,o.default)(this.missing_fields);!(t=(i=s.next()).done);t=!0){var r=i.value;e("[name="+r.name).addClass("missing-field")}}catch(e){a=!0,n=e}finally{try{!t&&s.return&&s.return()}finally{if(a)throw n}}var l=(e("#error").offset()||{top:NaN}).top;e("html, body").animate({scrollTop:l},1)},submit:function(){var e=this,t=this;this.isProcessing=!0;var a="Submit Application",i="Are you sure you want to submit this application?";t.requiresCheckout&&(a="Submit Application and Checkout",i="Are you sure you want to submit this application and proceed to checkout?<br><br>Upon proceeding, you agree that the system will charge the same credit card used to pay the application fee when your licence is issued."),n({title:a,html:i,type:"question",showCancelButton:!0,confirmButtonText:"Submit"}).then(function(a){a.value?e.saveFormData({url:e.application_form_data_url}).then(function(a){t.$http.post(_.helpers.add_endpoint_json(_.api_endpoints.applications,t.application.id+"/submit"),{}).then(function(a){e.setApplication(a.body),t.requiresCheckout?t.$http.post(_.helpers.add_endpoint_join(_.api_endpoints.applications,t.application.id+"/application_fee_checkout/"),{}).then(function(e){window.location.href="/ledger/checkout/checkout/payment-details/"},function(t){n("Submit Error",_.helpers.apiVueResourceError(t),"error").then(function(t){e.isProcessing=!1})}):(e.isProcessing=!1,t.$router.push({name:"submit_application",params:{application:t.application}}))},function(t){n("Submit Error",_.helpers.apiVueResourceError(t),"error").then(function(t){e.isProcessing=!1})})},function(t){console.log(t),t.body.missing&&(e.missing_fields=t.body.missing,e.highlight_missing_fields(),e.isProcessing=!1)}):e.isProcessing=!1},function(t){n("Error","There was an error submitting your application","error").then(function(t){e.isProcessing=!1})})}}),mounted:function(){this.form=document.forms.new_application},beforeRouteEnter:function(e,t,a){a(function(t){t.reloadApplication(e.params.application_id)})},updated:function(){var e=this;this.$nextTick(function(){e.eventListeners()})}}}).call(t,a(1),a(9))},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(17),s=n(i),o=a(5),r=n(o),l=a(4),c=(n(l),a(3),a(6)),d=a(31),u=n(d),p=a(23),_=n(p);t.default={data:function(){return{application:null,agent:{},selected_apply_org_id_details:{},selected_apply_proxy_id_details:{},current_user:{wildlifecompliance_organisations:[]},licence_select:null,loading:[],form:null,pBody:"pBody"+this._uid}},components:{},computed:(0,r.default)({},(0,c.mapGetters)(["selected_apply_org_id","selected_apply_proxy_id","application_workflow_state"]),{isLoading:function(){return this.loading.length>0}}),methods:(0,r.default)({},(0,c.mapActions)(["setApplyLicenceSelect"]),{submit:function(){this.setApplyLicenceSelect({licence_select:this.licence_select}),this.$router.replace({name:"apply_application_licence"})}}),mounted:function(){this.form=document.forms.new_application},beforeRouteEnter:function(e,t,a){a(function(e){if(!e.application_workflow_state)return e.$router.replace({name:"apply_application_organisation"});var t=[u.default.fetchCurrentUser(),u.default.fetchCurrentActiveLicenceApplication({proxy_id:e.selected_apply_proxy_id,organisation_id:e.selected_apply_org_id}),e.selected_apply_org_id?u.default.fetchOrganisation(e.selected_apply_org_id):"",e.selected_apply_proxy_id?_.default.fetchUser(e.selected_apply_proxy_id):""];s.default.all(t).then(function(t){if(e.current_user=t[0],null==t[1].application)return e.setApplyLicenceSelect({licence_select:"new_licence"}),e.$router.replace({name:"apply_application_licence"});e.application=t[1].application,e.selected_apply_org_id_details=t[2],e.selected_apply_proxy_id_details=t[3]})})}}},function(e,t,a){"use strict";(function(e,n){function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var s=a(17),o=i(s),r=a(12),l=i(r),c=a(5),d=i(c),u=a(4),p=(i(u),a(3)),_=a(6),m=a(31),f=i(m),v=a(23),h=i(v);t.default={data:function(){var e=this;return{licence_category:this.$route.params.licence_category,licence_activity:this.$route.params.licence_activity,application:null,agent:{},activity:{id:null,purpose:[]},radio_selected:[],selected_activity:[],activity_type_showing:[],organisations:null,licence_categories:{checked:!1,activity:[{id:null,selected:!1,purpose:[]}]},loading:[],form:null,pBody:"pBody"+e._uid,application_fee:0,licence_fee:0,selected_apply_org_id_details:{},selected_apply_proxy_id_details:{}}},components:{},computed:(0,d.default)({},(0,_.mapGetters)(["selected_apply_org_id","selected_apply_proxy_id","selected_apply_licence_select","application_workflow_state"]),{applicationTitle:function(){switch(this.selected_apply_licence_select){case"new_activity":return"Apply for a new activity";case"amend_activity":return"Amend one or more licensed activities";case"renew_activity":return"Renew one or more licensed activities";case"reissue_activity":return"Reissue one or more licensed activities";default:return"Apply for a new licence"}},selectionLabel:function(){return this.isAmendment?"Select the licence activity and purposes you wish to amend":this.isRenewal?"Select one or more activities and purposes you wish to renew":this.isReissue?"Select one or more activities and purposes you wish to reissue":"Select the class of licence you wish to apply for"},categoryCount:function(){return this.visibleLicenceCategories.length},visibleLicenceCategories:function(){return this.licence_categories},isAmendment:function(){return this.selected_apply_licence_select&&"amend_activity"===this.selected_apply_licence_select},isRenewal:function(){return this.selected_apply_licence_select&&"renew_activity"===this.selected_apply_licence_select},isReissue:function(){return this.selected_apply_licence_select&&"reissue_activity"===this.selected_apply_licence_select}}),methods:(0,d.default)({},(0,_.mapActions)(["setApplicationWorkflowState"]),{submit:function(){var t=this;e({title:"Create Application",text:"Are you sure you want to create an application?",type:"question",showCancelButton:!0,confirmButtonText:"Accept"}).then(function(e){e.value&&t.createApplication()},function(e){})},handleRadioChange:function(e,t){for(var a=this,n=0,i=a.licence_categories.length;n<i;n++)if(n===t)a.licence_categories[n].checked=!0;else{for(var s=0,o=a.licence_categories[n].activity.length;s<o;s++)if(a.licence_categories[n].activity[s].selected){a.licence_categories[n].activity[s].selected=!1;for(var r=0,l=a.licence_categories[n].activity[s].purpose.length;r<l;r++)a.licence_categories[n].activity[s].purpose[r].selected=!1,a.application_fee=0,a.licence_fee=0}a.licence_categories[n].checked=!1}},handleActivityCheckboxChange:function(e,t){var a=this;n(a.$refs.selected_activity_type)[0];if(a.licence_categories[e].activity[t].selected)for(var i=0,s=a.licence_categories[e].activity[t].purpose.length;i<s;i++)a.licence_categories[e].activity[t].purpose[i].selected=this.isAmendment||this.isRenewal},handlePurposeCheckboxChange:function(e,t){var a=this,n=[].concat.apply([],this.licence_categories[e].activity.map(function(e){return e.purpose.filter(function(e){return e.selected||e.id==t.target.id&&t.target.checked})})).map(function(e){return e.id});this.$http.post("/api/application/estimate_price/",{purpose_ids:n}).then(function(e){a.application_fee=e.body.fees.application,a.licence_fee=e.body.fees.licence},function(e){console.log(e)})},createApplication:function(){for(var t=this,a=[],n=0,i=0,s=0,o=0,r=new FormData,c=0,d=t.licence_categories.length;c<d;c++)if(t.licence_categories[c].checked){for(var u=0,_=t.licence_categories[c].activity.length;u<_;u++)if(t.licence_categories[c].activity[u].selected){o=0;for(var m=0,f=t.licence_categories[c].activity[u].purpose.length;m<f;m++)t.licence_categories[c].activity[u].purpose[m].selected&&(o++,s++,a.push(t.licence_categories[c].activity[u].purpose[m].id));o>0&&i++}n++}0==s?e({title:"Create Application",text:"Please ensure at least one licence purpose is selected",type:"error"}):(r.organisation_id=t.selected_apply_org_id,r.proxy_id=t.selected_apply_proxy_id,r.application_fee=t.application_fee,r.licence_fee=t.licence_fee,r.licence_purposes=a,r.application_type=t.selected_apply_licence_select,t.$http.post("/api/application.json",(0,l.default)(r),{emulateJSON:!0}).then(function(e){t.setApplicationWorkflowState({bool:!1}),t.application=e.body,t.$router.push({name:"draft_application",params:{application_id:t.application.id}})},function(t){console.log(t),e("Application Error",p.helpers.apiVueResourceError(t),"error")}))}}),mounted:function(){var e=this,t=[f.default.fetchLicenceAvailablePurposes({application_type:this.selected_apply_licence_select,licence_category:this.licence_category,licence_activity:this.licence_activity,proxy_id:this.selected_apply_proxy_id,organisation_id:this.selected_apply_org_id}),this.selected_apply_org_id?f.default.fetchOrganisation(this.selected_apply_org_id):"",this.selected_apply_proxy_id?h.default.fetchUser(this.selected_apply_proxy_id):""];o.default.all(t).then(function(t){e.licence_categories=t[0],e.selected_apply_org_id_details=t[1],e.selected_apply_proxy_id_details=t[2]})},beforeRouteEnter:function(e,t,a){a(function(e){if(null==e.selected_apply_licence_select||!e.application_workflow_state)return e.$router.push({name:"apply_application_organisation"})})}}}).call(t,a(9),a(1))},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(17),s=n(i),o=a(5),r=n(o),l=a(4),c=(n(l),a(3)),d=a(6),u=a(31),p=n(u);t.default={data:function(){return{application:null,agent:{},org_applicant:"",organisations:null,current_user:{wildlifecompliance_organisations:[]},loading:[],form:null,pBody:"pBody"+this._uid}},components:{},computed:{isLoading:function(){return this.loading.length>0},org:function(){var e=this;return e.org_applicant&&!isNaN(e.org_applicant)?e.current_user.wildlifecompliance_organisations.find(function(t){return parseInt(t.id)===parseInt(e.org_applicant)}).name:""}},methods:(0,r.default)({},(0,d.mapActions)(["setApplyOrgId","setApplicationWorkflowState"]),{submit:function(){var e=this;e.setApplyOrgId({id:e.org_applicant}),e.setApplicationWorkflowState({bool:!0}),e.$router.push({name:"apply_application"})},fetchOrgContact:function(){var e=this;e.$http.get(c.helpers.add_endpoint_json(c.api_endpoints.organisation_requests,"get_pending_requests")).then(function(t){e.orgRequest_pending=t.body,e.loading.splice("fetching pending organisation requests",1)},function(t){e.loading.splice("fetching pending organisation requests",1)})}}),mounted:function(){this.form=document.forms.new_application},beforeRouteEnter:function(e,t,a){var n=[p.default.fetchCurrentUser()];s.default.all(n).then(function(e){a(function(t){t.current_user=e[0]})})}}},function(e,t,a){"use strict";(function(e){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(4),s=(n(i),a(3),a(31));n(s);t.default={data:function(){return{application:{}}},components:{},computed:{},methods:{},filters:{formatDate:function(t){return t?e(t).format("DD/MM/YYYY"):""}},mounted:function(){this.form=document.forms.new_application},beforeRouteEnter:function(e,t,a){a(function(t){t.application=e.params.application})}}}).call(t,a(0))},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(10),s=(n(i),a(95)),o=n(s),r=a(96),l=n(r),c=a(81),d=n(c),u=a(3);t.default={name:"ExternalDashboard",data:function(){return{applications_url:u.helpers.add_endpoint_join(u.api_endpoints.applications_paginated,"external_datatable_list/?format=datatables"),licences_url:u.helpers.add_endpoint_join(u.api_endpoints.licences_paginated,"external_datatable_list/?format=datatables"),returns_url:u.helpers.add_endpoint_join(u.api_endpoints.returns_paginated,"user_datatable_list/?format=datatables"),empty_list:"/api/empty_list"}},components:{ApplicationDashTable:o.default,LicenceDashTable:l.default,ReturnDashTable:d.default},watch:{},computed:{},methods:{},mounted:function(){}}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(10),s=(n(i),a(717)),o=n(s),r=a(3);t.default={name:"ExternalDashboardSanctionOutcome",data:function(){return{sanction_outcome_url:r.helpers.add_endpoint_join(r.api_endpoints.sanction_outcome_paginated,"external_datatable_list/?format=datatables"),empty_list:"/api/empty_list"}},components:{SanctionOutcomeDashTable:o.default},watch:{},computed:{},methods:{},mounted:function(){}}},function(e,a,n){"use strict";(function(e,i,o,r){function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(a,"__esModule",{value:!0});var c=n(12),d=l(c),u=n(17),p=l(u),_=n(4),m=(l(_),n(3)),f=n(10),v=l(f),h=n(31),g=l(h),b=n(138),y=l(b),C=n(94),x=l(C);a.default={name:"Organisation",data:function(){var t=this;return{adBody:"adBody"+t._uid,pBody:"pBody"+t._uid,cBody:"cBody"+t._uid,oBody:"oBody"+t._uid,idBody:"idBody"+t._uid,org:null,myorgperms:null,contact_user:{first_name:null,last_name:null,email:null,mobile_number:null,phone_number:null,user_role:{}},loading:[],countries:[],updatingDetails:!1,updatingAddress:!1,updatingContact:!1,updatingAcceptUser:!1,uploadingID:!1,uploadedID:null,logsTable:null,DATE_TIME_FORMAT:"DD/MM/YYYY HH:mm:ss",logsDtOptions:{language:{processing:"<i class='fa fa-4x fa-spinner fa-spin'></i>"},responsive:!0,deferRender:!0,autowidth:!0,order:[[2,"desc"]],dom:"<'row'<'col-sm-5'l><'col-sm-6'f>><'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",processing:!0,ajax:{url:m.helpers.add_endpoint_json(m.api_endpoints.organisations,t.$route.params.org_id+"/action_log"),dataSrc:""},columns:[{data:"who"},{data:"what"},{data:"when",mRender:function(a,n,i){return e(a).format(t.DATE_TIME_FORMAT)}}]},commsDtOptions:{language:{processing:"<i class='fa fa-4x fa-spinner fa-spin'></i>"},responsive:!0,deferRender:!0,autowidth:!0,order:[[0,"desc"]],processing:!0,ajax:{url:m.helpers.add_endpoint_json(m.api_endpoints.organisations,t.$route.params.org_id+"/comms_log"),dataSrc:""},columns:[{title:"Date",data:"created",render:function(a){return e(a).format(t.DATE_TIME_FORMAT)}},{title:"Type",data:"type"},{title:"Reference",data:"reference"},{title:"To",data:"to",render:t.commaToNewline},{title:"CC",data:"cc",render:t.commaToNewline},{title:"From",data:"fromm",render:t.commaToNewline},{title:"Subject/Desc.",data:"subject"},{title:"Text",data:"text",render:function(e){var t=i.truncate(e,{length:100,omission:"...",separator:" "}),a="<span>"+t+"</span>",n=i.template('<a href="#" role="button" data-toggle="popover" data-trigger="click" data-placement="top auto"data-html="true" data-content="<%= text %>" >more</a>');return i.endsWith(t,"...")&&(a+=n({text:e})),a},createdCell:function(e){o(e).popover()}},{title:"Documents",data:"documents",render:function(e){var t="";return i.forEach(e,function(e){var a="",n="";i.isArray(e)&&e.length>1&&(a=e[0],n=e[1]),"string"==typeof s&&(n=e,a=i.last(e.split("/")),a=i.truncate(a,{length:18,omission:"...",separator:" "})),t+='<a href="'+n+'" target="_blank"><p>'+a+"</p></a><br>"}),t}}]},commsTable:null,contacts_headers:["Name","Phone","Mobile","Fax","Email","Action"],contacts_options:{language:{processing:"<i class='fa fa-4x fa-spinner fa-spin'></i>"},responsive:!0,ajax:{url:m.helpers.add_endpoint_json(m.api_endpoints.organisations,t.$route.params.org_id+"/contacts"),dataSrc:""},columns:[{mRender:function(e,t,a){return a.first_name+" "+a.last_name}},{data:"phone_number"},{data:"mobile_number"},{data:"fax_number"},{data:"email"},{mRender:function(e,t,a){var n="",i=a.first_name+" "+a.last_name;return"draft"==a.user_status.id&&(n+="<a data-email='"+a.email+"' data-name='"+i+"' data-id='"+a.id+'\' class="remove-contact">Remove</a><br/>'),n}}],processing:!0},contacts_headers_ref:["Name","Role","Email","Status","Action"],contacts_options_ref:{language:{processing:"<i class='fa fa-4x fa-spinner fa-spin'></i>"},responsive:!0,ajax:{url:m.helpers.add_endpoint_json(m.api_endpoints.organisations,t.$route.params.org_id+"/contacts_exclude"),dataSrc:""},columns:[{mRender:function(e,t,a){return a.first_name+" "+a.last_name}},{data:"user_role"},{data:"email"},{data:"user_status"},{mRender:function(e,a,n){var i="";return t.myorgperms.is_admin&&("pending"==n.user_status.id?(i+="<a data-email='"+n.email+"' data-firstname='"+n.first_name+"' data-lastname='"+n.last_name+"' data-id='"+n.id+"' data-mobile='"+n.mobile_number+"' data-phone='"+n.phone_number+'\' class="accept_contact">Accept</a><br/>',i+="<a data-email='"+n.email+"'  data-firstname='"+n.first_name+"' data-lastname='"+n.last_name+"' data-id='"+n.id+"' data-mobile='"+n.mobile_number+"' data-phone='"+n.phone_number+'\' class="decline_contact">Decline</a><br/>'):"suspended"==n.user_status.id?i+="<a data-email='"+n.email+"' data-firstname='"+n.first_name+"' data-lastname='"+n.last_name+"' data-id='"+n.id+"' data-mobile='"+n.mobile_number+"' data-phone='"+n.phone_number+'\' class="reinstate_contact">Reinstate</a><br/>':"active"==n.user_status.id?(i+="<a data-email='"+n.email+"' data-firstname='"+n.first_name+"' data-lastname='"+n.last_name+"' data-id='"+n.id+"' data-mobile='"+n.mobile_number+"' data-phone='"+n.phone_number+'\' class="unlink_contact">Unlink</a><br/>',i+="<a data-email='"+n.email+"'  data-firstname='"+n.first_name+"' data-lastname='"+n.last_name+"' data-id='"+n.id+"' data-mobile='"+n.mobile_number+"' data-phone='"+n.phone_number+'\' class="suspend_contact">Suspend</a><br/>',"organisation_user"==n.user_role.id?(i+="<a data-email='"+n.email+"'  data-firstname='"+n.first_name+"' data-lastname='"+n.last_name+"' data-id='"+n.id+"' data-mobile='"+n.mobile_number+"' data-phone='"+n.phone_number+'\' class="make_admin_contact">Make Organisation Admin</a><br/>',i+="<a data-email='"+n.email+"'  data-firstname='"+n.first_name+"' data-lastname='"+n.last_name+"' data-id='"+n.id+"' data-mobile='"+n.mobile_number+"' data-phone='"+n.phone_number+'\' class="make_consultant">Make Organisation Consultant</a><br/>'):"organisation_admin"==n.user_role.id?(i+="<a data-email='"+n.email+"'  data-firstname='"+n.first_name+"' data-lastname='"+n.last_name+"' data-id='"+n.id+"' data-mobile='"+n.mobile_number+"' data-phone='"+n.phone_number+'\' class="make_user_contact">Make Organisation User</a><br/>',i+="<a data-email='"+n.email+"'  data-firstname='"+n.first_name+"' data-lastname='"+n.last_name+"' data-id='"+n.id+"' data-mobile='"+n.mobile_number+"' data-phone='"+n.phone_number+'\' class="make_consultant">Make Organisation Consultant</a><br/>'):(i+="<a data-email='"+n.email+"'  data-firstname='"+n.first_name+"' data-lastname='"+n.last_name+"' data-id='"+n.id+"' data-mobile='"+n.mobile_number+"' data-phone='"+n.phone_number+'\' class="make_admin_contact">Make Organisation Admin</a><br/>',i+="<a data-email='"+n.email+"'  data-firstname='"+n.first_name+"' data-lastname='"+n.last_name+"' data-id='"+n.id+"' data-mobile='"+n.mobile_number+"' data-phone='"+n.phone_number+'\' class="make_user_contact">Make Organisation User</a><br/>')):"unlinked"==n.user_status.id?i+="<a data-email='"+n.email+"'  data-firstname='"+n.first_name+"' data-lastname='"+n.last_name+"' data-id='"+n.id+"' data-mobile='"+n.mobile_number+"' data-phone='"+n.phone_number+'\' class="relink_contact">Reinstate</a><br/>':"declined"==n.user_status.id&&(i+="<a data-email='"+n.email+"'  data-firstname='"+n.first_name+"' data-lastname='"+n.last_name+"' data-id='"+n.id+"' data-mobile='"+n.mobile_number+"' data-phone='"+n.phone_number+'\' class="accept_declined_contact">Accept (Previously Declined)</a><br/>')),i}}],processing:!0}}},components:{datatable:v.default,AddContact:x.default},computed:{uploadedIDFileName:function(){return null!=this.uploadedID?this.uploadedID.name:""}},beforeRouteEnter:function(e,t,a){var n=[g.default.fetchCountries(),g.default.fetchOrganisation(e.params.org_id),g.default.fetchOrganisationPermissions(e.params.org_id)];p.default.all(n).then(function(e){a(function(t){t.countries=e[0],t.org=e[1],t.myorgperms=e[2],t.org.address=null!=t.org.address?t.org.address:{},t.org.pins=null!=t.org.pins?t.org.pins:{}})})},beforeRouteUpdate:function(e,t,a){var n=[g.default.fetchOrganisation(e.params.org_id),g.default.fetchOrganisationPermissions(e.params.org_id)];p.default.all(n).then(function(e){a(function(t){t.org=e[0],t.myorgperms=e[1],t.org.address=null!=t.org.address?t.org.address:{},t.org.pins=null!=t.org.pins?t.org.pins:{}})})},methods:{addContact:function(){this.$refs.add_contact.isModalOpen=!0},readFileID:function(){var e=this,t=null,a=o(e.$refs.uploadedID)[0];if(a.files&&a.files[0]){var n=new FileReader;n.readAsDataURL(a.files[0]),n.onload=function(e){t=e.target.result},t=a.files[0]}e.uploadedID=t},uploadID:function(){var e=this;e.uploadingID=!0;var t=new FormData;t.append("identification",e.uploadedID),null==e.uploadedID?(e.uploadingID=!1,r({title:"Upload ID",html:"Please select a file to upload.",type:"error"})):e.$http.post(m.helpers.add_endpoint_json(m.api_endpoints.organisations,e.org.id+"/upload_id"),t,{emulateJSON:!0}).then(function(t){e.uploadingID=!1,e.uploadedID=null,r({title:"Upload ID",html:"The organisation ID has been successfully uploaded.",type:"success"}).then(function(){window.location.reload(!0)})},function(t){e.uploadingID=!1;var a="<br/>";for(var n in t.body)a+=n+": "+t.body[n]+"<br/>";r({title:"Upload ID",html:"There was an error uploading the organisation ID.<br/>"+a,type:"error"})})},filterOrgContactStatus:function(){t},eventListeners:function(){var e=this;e.$refs.contacts_datatable.vmDataTable.on("click",".remove-contact",function(t){t.preventDefault();var a=o(t.target).data("name"),n=o(t.target).data("email"),i=o(t.target).data("id");r({title:"Delete Contact",text:"Are you sure you want to remove "+a+" ("+n+") as a contact?",type:"error",showCancelButton:!0,confirmButtonText:"Accept"}).then(function(t){t.value&&e.deleteContact(i)},function(e){})}),e.$refs.contacts_datatable_user.vmDataTable.on("click",".accept_contact",function(t){t.preventDefault();var a=o(t.target).data("firstname"),n=o(t.target).data("lastname"),i=a+" "+n,s=o(t.target).data("email"),l=(o(t.target).data("id"),o(t.target).data("mobile")),c=o(t.target).data("phone");e.contact_user.first_name=a,e.contact_user.last_name=n,e.contact_user.email=s,e.contact_user.mobile_number=l,e.contact_user.phone_number=c,r({title:"Contact Accept",text:"Are you sure you want to accept contact request "+i+" ("+s+")?",showCancelButton:!0,confirmButtonText:"Accept"}).then(function(t){t.value&&e.$http.post(m.helpers.add_endpoint_json(m.api_endpoints.organisations,e.org.id+"/accept_user"),(0,d.default)(e.contact_user),{emulateJSON:!0}).then(function(t){r({title:"Contact Accept",text:"You have successfully accepted "+i+".",type:"success",confirmButtonText:"Okay"}).then(function(){e.$refs.contacts_datatable_user.vmDataTable.ajax.reload()},function(e){})},function(e){r("Contact Accept","There was an error accepting "+i+".","error")})},function(e){})}),e.$refs.contacts_datatable_user.vmDataTable.on("click",".accept_declined_contact",function(t){t.preventDefault();var a=o(t.target).data("firstname"),n=o(t.target).data("lastname"),i=a+" "+n,s=o(t.target).data("email"),l=(o(t.target).data("id"),o(t.target).data("mobile")),c=o(t.target).data("phone");e.contact_user.first_name=a,e.contact_user.last_name=n,e.contact_user.email=s,e.contact_user.mobile_number=l,e.contact_user.phone_number=c,r({title:"Contact Accept (Previously Declined)",text:"Are you sure you want to accept the previously declined contact request for "+i+" ("+s+")?",showCancelButton:!0,confirmButtonText:"Accept"}).then(function(t){t.value&&e.$http.post(m.helpers.add_endpoint_json(m.api_endpoints.organisations,e.org.id+"/accept_declined_user"),(0,d.default)(e.contact_user),{emulateJSON:!0}).then(function(t){r({title:"Contact Accept (Previously Declined)",text:"You have successfully accepted "+i+".",type:"success",confirmButtonText:"Okay"}).then(function(){e.$refs.contacts_datatable_user.vmDataTable.ajax.reload()},function(e){})},function(e){r("Contact Accept (Previously Declined)","There was an error accepting "+i+".","error")})},function(e){})}),e.$refs.contacts_datatable_user.vmDataTable.on("click",".decline_contact",function(t){t.preventDefault();var a=o(t.target).data("firstname"),n=o(t.target).data("lastname"),i=a+" "+n,s=o(t.target).data("email"),l=(o(t.target).data("id"),o(t.target).data("mobile")),c=o(t.target).data("phone");e.contact_user.first_name=a,e.contact_user.last_name=n,e.contact_user.email=s,e.contact_user.mobile_number=l,e.contact_user.phone_number=c,r({title:"Contact Decline",text:"Are you sure you want to decline the contact request for "+i+" ("+s+")?",showCancelButton:!0,confirmButtonText:"Accept"}).then(function(t){t.value&&e.$http.post(m.helpers.add_endpoint_json(m.api_endpoints.organisations,e.org.id+"/decline_user"),(0,d.default)(e.contact_user),{emulateJSON:!0}).then(function(t){r({title:"Contact Decline",text:"You have successfully declined "+i+".",type:"success",confirmButtonText:"Okay"}).then(function(){e.$refs.contacts_datatable_user.vmDataTable.ajax.reload()},function(e){})},function(e){r("Contact Decline","There was an error declining "+i+".","error")})},function(e){})}),e.$refs.contacts_datatable_user.vmDataTable.on("click",".unlink_contact",function(t){t.preventDefault();var a=o(t.target).data("firstname"),n=o(t.target).data("lastname"),i=a+" "+n,s=o(t.target).data("email"),l=(o(t.target).data("id"),o(t.target).data("mobile")),c=o(t.target).data("phone");e.contact_user.first_name=a,e.contact_user.last_name=n,e.contact_user.email=s,e.contact_user.mobile_number=l,e.contact_user.phone_number=c,r({title:"Unlink",text:"Are you sure you want to unlink "+i+" ("+s+")?",showCancelButton:!0,confirmButtonText:"Accept"}).then(function(t){t.value&&e.$http.post(m.helpers.add_endpoint_json(m.api_endpoints.organisations,e.org.id+"/unlink_user"),(0,d.default)(e.contact_user),{emulateJSON:!0}).then(function(t){r({title:"Unlink",text:"You have successfully unlinked "+i+".",type:"success",confirmButtonText:"Okay"}).then(function(){e.$refs.contacts_datatable_user.vmDataTable.ajax.reload()},function(e){})},function(e){var t="<br/>";for(var a in e.body)"non_field_errors"==a&&(t+=e.body[a]+"<br/>");r("Unlink User","There was an error unlinking "+i+" from the Organisation."+t,"error")})},function(e){})}),e.$refs.contacts_datatable_user.vmDataTable.on("click",".make_admin_contact",function(t){t.preventDefault();var a=o(t.target).data("firstname"),n=o(t.target).data("lastname"),i=a+" "+n,s=o(t.target).data("email"),l=(o(t.target).data("id"),o(t.target).data("mobile")),c=o(t.target).data("phone");e.contact_user.first_name=a,e.contact_user.last_name=n,e.contact_user.email=s,e.contact_user.mobile_number=l,e.contact_user.phone_number=c,r({title:"Organisation Admin",text:"Are you sure you want to make "+i+" ("+s+") an Organisation Admin?",showCancelButton:!0,confirmButtonText:"Accept"}).then(function(t){t.value&&e.$http.post(m.helpers.add_endpoint_json(m.api_endpoints.organisations,e.org.id+"/make_admin_user"),(0,d.default)(e.contact_user),{emulateJSON:!0}).then(function(t){r({title:"Organisation Admin",text:"You have successfully made "+i+" an Organisation Admin.",type:"success",confirmButtonText:"Okay"}).then(function(){e.$refs.contacts_datatable_user.vmDataTable.ajax.reload()},function(e){})},function(e){r("Organisation Admin","There was an error making "+i+" an Organisation Admin.","error")})},function(e){})}),e.$refs.contacts_datatable_user.vmDataTable.on("click",".make_user_contact",function(t){t.preventDefault();var a=o(t.target).data("firstname"),n=o(t.target).data("lastname"),i=a+" "+n,s=o(t.target).data("email"),l=(o(t.target).data("id"),o(t.target).data("mobile")),c=o(t.target).data("phone");e.contact_user.first_name=a,e.contact_user.last_name=n,e.contact_user.email=s,e.contact_user.mobile_number=l,e.contact_user.phone_number=c,r({title:"Organisation User",text:"Are you sure you want to make "+i+" ("+s+") an Organisation User?",showCancelButton:!0,confirmButtonText:"Accept"}).then(function(t){t.value&&e.$http.post(m.helpers.add_endpoint_json(m.api_endpoints.organisations,e.org.id+"/make_user"),(0,d.default)(e.contact_user),{emulateJSON:!0}).then(function(t){r({title:"Organisation User",text:"You have successfully made "+i+" an Organisation User.",type:"success",confirmButtonText:"Okay"}).then(function(){e.$refs.contacts_datatable_user.vmDataTable.ajax.reload()},function(e){})},function(e){var t="<br/>";for(var a in e.body)"non_field_errors"==a&&(t+=e.body[a]+"<br/>");r("Organisation User","There was an error making "+i+" an Organisation User."+t,"error")})},function(e){})}),e.$refs.contacts_datatable_user.vmDataTable.on("click",".suspend_contact",function(t){t.preventDefault();var a=o(t.target).data("firstname"),n=o(t.target).data("lastname"),i=a+" "+n,s=o(t.target).data("email"),l=(o(t.target).data("id"),o(t.target).data("mobile")),c=o(t.target).data("phone");e.contact_user.first_name=a,e.contact_user.last_name=n,e.contact_user.email=s,e.contact_user.mobile_number=l,e.contact_user.phone_number=c,r({title:"Suspend User",text:"Are you sure you want to Suspend  "+i+" ("+s+")?",showCancelButton:!0,confirmButtonText:"Accept"}).then(function(t){t.value&&e.$http.post(m.helpers.add_endpoint_json(m.api_endpoints.organisations,e.org.id+"/suspend_user"),(0,d.default)(e.contact_user),{emulateJSON:!0}).then(function(t){r({title:"Suspend User",text:"You have successfully suspended "+i+" as a User.",type:"success",confirmButtonText:"Okay"}).then(function(){e.$refs.contacts_datatable_user.vmDataTable.ajax.reload()},function(e){})},function(e){var t="<br/>";for(var a in e.body)"non_field_errors"==a&&(t+=e.body[a]+"<br/>");r("Suspend User","There was an error suspending "+i+" as a User."+t,"error")})},function(e){})}),e.$refs.contacts_datatable_user.vmDataTable.on("click",".reinstate_contact",function(t){t.preventDefault();var a=o(t.target).data("firstname"),n=o(t.target).data("lastname"),i=a+" "+n,s=o(t.target).data("email"),l=(o(t.target).data("id"),o(t.target).data("mobile")),c=o(t.target).data("phone");e.contact_user.first_name=a,e.contact_user.last_name=n,e.contact_user.email=s,e.contact_user.mobile_number=l,e.contact_user.phone_number=c,r({title:"Reinstate User",text:"Are you sure you want to Reinstate  "+i+" ("+s+")?",showCancelButton:!0,confirmButtonText:"Accept"}).then(function(t){t.value&&e.$http.post(m.helpers.add_endpoint_json(m.api_endpoints.organisations,e.org.id+"/reinstate_user"),(0,d.default)(e.contact_user),{emulateJSON:!0}).then(function(t){r({title:"Reinstate User",text:"You have successfully reinstated "+i+".",type:"success",confirmButtonText:"Okay"}).then(function(){e.$refs.contacts_datatable_user.vmDataTable.ajax.reload()},function(e){})},function(e){r("Reinstate User","There was an error reinstating "+i+".","error")})},function(e){})}),e.$refs.contacts_datatable_user.vmDataTable.on("click",".relink_contact",function(t){t.preventDefault();var a=o(t.target).data("firstname"),n=o(t.target).data("lastname"),i=a+" "+n,s=o(t.target).data("email"),l=(o(t.target).data("id"),o(t.target).data("mobile")),c=o(t.target).data("phone");e.contact_user.first_name=a,e.contact_user.last_name=n,e.contact_user.email=s,e.contact_user.mobile_number=l,e.contact_user.phone_number=c,r({title:"Relink User",text:"Are you sure you want to Relink  "+i+" ("+s+")?",showCancelButton:!0,confirmButtonText:"Accept"}).then(function(t){t.value&&e.$http.post(m.helpers.add_endpoint_json(m.api_endpoints.organisations,e.org.id+"/relink_user"),(0,d.default)(e.contact_user),{emulateJSON:!0}).then(function(t){r({title:"Relink User",text:"You have successfully relinked "+i+".",type:"success",confirmButtonText:"Okay"}).then(function(){e.$refs.contacts_datatable_user.vmDataTable.ajax.reload()},function(e){})},function(e){r("Relink User","There was an error relink "+i+".","error")})},function(e){})}),e.$refs.contacts_datatable_user.vmDataTable.on("click",".make_consultant",function(t){t.preventDefault();var a=o(t.target).data("firstname"),n=o(t.target).data("lastname"),i=a+" "+n,s=o(t.target).data("email"),l=(o(t.target).data("id"),o(t.target).data("mobile")),c=o(t.target).data("phone");e.contact_user.first_name=a,e.contact_user.last_name=n,e.contact_user.email=s,e.contact_user.mobile_number=l,e.contact_user.phone_number=c,e.contact_user.user_role.id="consultant",r({title:"Organisation Consultant",text:"Are you sure you want to make "+i+" ("+s+") an Organisation Consultant?",showCancelButton:!0,confirmButtonText:"Accept"}).then(function(t){t.value&&e.$http.post(m.helpers.add_endpoint_json(m.api_endpoints.organisations,e.org.id+"/make_consultant"),(0,d.default)(e.contact_user),{emulateJSON:!0}).then(function(t){r({title:"Organisation Consultant",text:"You have successfully made "+i+" an Organisation Consultant.",type:"success",confirmButtonText:"Okay"}).then(function(){e.$refs.contacts_datatable_user.vmDataTable.ajax.reload()},function(e){})},function(e){var t="<br/>";for(var a in e.body)"non_field_errors"==a&&(t+=e.body[a]+"<br/>");r("Organisation Consultant","There was an error making "+i+" an Organisation Consultant."+t,"error")})},function(e){})})},updateDetails:function(){var e=this;e.updatingDetails=!0,e.$http.post(m.helpers.add_endpoint_json(m.api_endpoints.organisations,e.org.id+"/update_details"),(0,d.default)(e.org),{emulateJSON:!0}).then(function(t){e.updatingDetails=!1,e.org=t.body,null==e.org.address&&(e.org.address={}),r("Saved","Organisation details have been saved.","success")},function(t){e.updatingDetails=!1})},addedContact:function(){var e=this;r("Added","The contact has been successfully added.","success"),e.$refs.contacts_datatable.vmDataTable.ajax.reload()},deleteContact:function(e){var t=this;t.$http.delete(m.helpers.add_endpoint_json(y.default.organisation_contacts,e),{emulateJSON:!0}).then(function(e){r("Contact Deleted","The contact was successfully deleted.","success"),t.$refs.contacts_datatable.vmDataTable.ajax.reload()},function(e){r("Contact Deleted","The contact could not be deleted because of the following error: "+e,"error")})},updateAddress:function(){var e=this;e.updatingAddress=!0,e.$http.post(m.helpers.add_endpoint_json(m.api_endpoints.organisations,e.org.id+"/update_address"),(0,d.default)(e.org.address),{emulateJSON:!0}).then(function(t){e.updatingAddress=!1,e.org=t.body,r("Saved","Address details have been saved.","success"),null==e.org.address&&(e.org.address={})},function(t){e.updatingAddress=!1})},unlinkUser:function(e){var t=this,a=t.org,n=a.name,i=m.helpers.copyObject(e);r({title:"Unlink From Organisation",text:"Are you sure you want to unlink "+i.name+" from "+a.name+"?",type:"question",showCancelButton:!0,confirmButtonText:"Accept"}).then(function(e){e.value&&t.$http.post(m.helpers.add_endpoint_json(m.api_endpoints.organisations,a.id+"/unlink_user"),{user:i.id},{emulateJSON:!0}).then(function(e){t.org=e.body,null==t.org.address&&(t.org.address={}),r({title:"Unlink",text:"You have successfully unlinked "+i.name+" from "+n+".",type:"success",confirmButtonText:"Okay"}).then(function(){t.$refs.contacts_datatable_user.vmDataTable.ajax.reload()},function(e){})},function(e){var t="<br/>";for(var a in e.body)"non_field_errors"==a&&(t+=e.body[a]+"<br/>");r("Unlink User","There was an error unlinking "+i.name+" from the Organisation."+t,"error")})},function(e){})}},mounted:function(){this.personal_form=document.forms.personal_form},updated:function(){var e=this;o('.panelClicker[data-toggle="collapse"]').on("click",function(){var e=o(this).children()[0];window.setTimeout(function(){o(e).toggleClass("glyphicon-chevron-down glyphicon-chevron-up")},100)}),this.$nextTick(function(){e.eventListeners()})}}}).call(a,n(0),n(90),n(1),n(9))},function(e,t,a){"use strict";(function(e,n){function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var s=a(5),o=i(s),r=a(4),l=(i(r),a(6)),c=a(20),d=(i(c),a(3));t.default={name:"externalReturn",props:["table","data","grid"],data:function(){return{pdBody:"pdBody"+this._uid,form:null,spreadsheet:null,returnBtn:"Submit",nilReturn:"yes",spreadsheetReturn:"no",replaceReturn:"no",readonly:!1}},computed:(0,o.default)({},(0,l.mapGetters)(["isReturnsLoaded","returns","is_external"]),{uploadedFileName:function(){return null!=this.spreadsheet?this.spreadsheet.name:""},isReadOnly:function(){return this.readonly}}),methods:(0,o.default)({},(0,l.mapActions)({load:"loadReturns"}),(0,l.mapActions)(["setReturns"]),{uploadFile:function(t){var a=null,n=e(this.$refs.spreadsheet)[0];if(n.files&&n.files[0]){var i=new FileReader;i.readAsDataURL(n.files[0]),i.onload=function(e){a=e.target.result},a=n.files[0]}this.spreadsheet=a,this.validate_upload()},validate_upload:function(e){var t=this,a=new FormData(this.form);a.append("spreadsheet",this.spreadsheet),this.$http.post(d.helpers.add_endpoint_json(d.api_endpoints.returns,this.returns.id+"/upload_details"),a,{emulateJSON:!0}).then(function(e){if("no"===t.replaceReturn)for(var a=t.returns.table[0].data.length,n=0;n<e.body[0].data.length;n++)t.returns.table[0].data[a++]=e.body[0].data[n];"yes"===t.replaceReturn&&(t.returns.table[0].data=e.body[0].data,t.replaceReturn="no"),t.nilReturn="no",t.spreadsheetReturn="no"},function(e){n("Error Uploading",e.body.error,"error")})}}),mounted:function(){var e=this;e.form=document.forms.enter_return,e.readonly=!e.is_external,e.returns.table[0]&&(e.nilReturn="no",e.spreadsheetReturn="no",e.replaceReturn="no")}}}).call(t,a(1),a(9))},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(5),s=n(i),o=a(4),r=(n(o),a(6)),l=a(20);n(l),a(3);t.default={name:"externalReturnQuestion",data:function(){return{pdBody:"pdBody"+this._uid}},computed:(0,s.default)({},(0,r.mapGetters)(["isReturnsLoaded","returns"])),methods:(0,s.default)({},(0,r.mapActions)({load:"loadReturns"}),(0,r.mapActions)(["setReturns"]))}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(11),s=n(i),o=a(44),r=n(o),l=a(5),c=n(l),d=a(10),u=n(d),p=a(23),_=(n(p),a(1)),m=n(_),f=a(4),v=(n(f),a(134)),h=n(v),g=a(6),b=a(20),y=(n(b),a(729)),C=n(y),x=a(3);t.default={name:"externalReturnSheet",props:{url:{type:String,required:!1}},data:function(){var e=this;return{pdBody:"pdBody"+e._uid,datatable_id:"return-datatable",form:null,filterActivityType:"All",readonly:!1,isModalOpen:!1,sheetTitle:null,sheet_total:0,sheet_activity_type:[],sheet_headers:["order","Date","Activity","Qty","Total","Comments","Action"],sheet_options:{language:{processing:"<i class='fa fa-4x fa-spinner fa-spin'></i>"},responsive:!0,ajax:{url:x.helpers.add_endpoint_json(x.api_endpoints.returns,"sheet_details"),dataSrc:"",type:"GET",data:function(t){return t.return_id=e.returns.id,t.species_id=e.returns.sheet_species,t}},columnDefs:[{visible:!1,targets:0}],columns:[{data:"date"},{data:"date",mRender:function(e,t,a){return new Date(parseInt(a.date)).toLocaleString("en-GB")}},{data:"activity",mRender:function(t,a,n){return e.returns.sheet_activity_list[t].label}},{data:"qty"},{data:"total"},{data:"comment"},{data:"editable",mRender:function(t,a,n){if(n.activity&&e.is_external&&!e.isTrue(e.returns.sheet_activity_list[n.activity].auto)&&("Notified"===n.transfer||""===n.transfer)){var i='<a class="edit-row" data-rowid="__ROWID__">Edit</a><br/>';return i=i.replace(/__ROWID__/g,n.rowId)}if(n.activity&&("Accepted"===n.transfer||"Declined"===n.transfer))return n.transfer;if(n.activity&&e.is_external&&e.isTrue(e.returns.sheet_activity_list[n.activity].auto)&&"Notified"===n.transfer){var s='<a class="accept-row" data-rowid="__ROWID__">Accept</a> or ';s=s.replace(/__ROWID__/g,n.rowId);var o='<a class="decline-row" data-rowid="__ROWID__">Decline</a><br/>';return o=o.replace(/__ROWID__/g,n.rowId),s+o}return""}}],order:[0,"desc"],drawCallback:function(){e.sheetTitle=e.species_list[e.returns.sheet_species]},footerCallback:function(t,a,n,i,s){var o=this.api();e.sheet_total=o.column(4).data()[0]},processing:!0,ordering:!0,rowId:function(e){return e.rowId},initComplete:function(){e.$refs.return_datatable.vmDataTable.ajax.json().length>0&&(e.species_cache[e.returns.sheet_species]=e.$refs.return_datatable.vmDataTable.ajax.json()),e.$refs.return_datatable.vmDataTable.columns(2).data().unique().sort().each(function(t,a){var n=[];m.default.each(t,function(t,a){null!=a&&n.indexOf(e.returns.sheet_activity_list[a])<0&&n.push(e.returns.sheet_activity_list[a])}),e.sheet_activity_type=n})}}}},components:{SheetEntry:C.default,datatable:u.default,Returns:h.default},watch:{filterActivityType:function(e){var t=this.$refs.return_datatable.vmDataTable;e="All"!=e?e:"",t.column(2).search(e).draw()}},computed:(0,c.default)({},(0,g.mapGetters)(["isReturnsLoaded","returns","species_list","species_cache","is_external","species_transfer"])),methods:(0,c.default)({},(0,g.mapActions)(["setReturns","setReturnsSpecies","setSpeciesCache"]),{isTrue:function(e){return"true"===e},intVal:function(e){return"string"==typeof e?1*e.replace(/[\$,]/g,""):"number"==typeof e?e:0},addSheetRow:function(){var e=this,t=e.$refs.return_datatable.vmDataTable;e.$refs.sheet_entry.isAddEntry=!0,e.$refs.sheet_entry.return_table=t,e.$refs.sheet_entry.row_of_data=t,e.$refs.sheet_entry.activityList=e.returns.sheet_activity_list,e.$refs.sheet_entry.speciesType=e.returns.sheet_species,e.$refs.sheet_entry.entrySpecies=e.sheetTitle,e.$refs.sheet_entry.entryActivity=(0,r.default)(e.returns.sheet_activity_list)[0],e.$refs.sheet_entry.entryTotal=e.sheet_total,e.$refs.sheet_entry.currentStock=e.sheet_total,e.$refs.sheet_entry.initialQty="0",e.$refs.sheet_entry.entryComment="",e.$refs.sheet_entry.entryLicence="",e.$refs.sheet_entry.entryDateTime="",e.$refs.sheet_entry.isSubmitable=!0,e.$refs.sheet_entry.isModalOpen=!0}}),created:function(){this.form=document.forms.enter_return_sheet,this.readonly=!this.is_external,this.select_species_list=this.species_list},mounted:function(){var e=this;e.$refs.return_datatable.vmDataTable.on("click",".edit-row",function(t){t.preventDefault(),e.$refs.sheet_entry.isChangeEntry=!0,e.$refs.sheet_entry.activityList=e.returns.sheet_activity_list,e.$refs.sheet_entry.speciesType=e.returns.sheet_species,e.$refs.sheet_entry.return_table=e.$refs.return_datatable.vmDataTable,e.$refs.sheet_entry.row_of_data=e.$refs.return_datatable.vmDataTable.row("#"+(0,m.default)(this).attr("data-rowid")),e.$refs.sheet_entry.entrySpecies=e.sheetTitle,e.$refs.sheet_entry.entryDateTime=e.$refs.sheet_entry.row_of_data.data().date,e.$refs.sheet_entry.entryActivity=e.$refs.sheet_entry.row_of_data.data().activity,e.$refs.sheet_entry.entryQty=e.$refs.sheet_entry.row_of_data.data().qty,e.$refs.sheet_entry.initialQty=e.$refs.sheet_entry.row_of_data.data().qty,e.$refs.sheet_entry.entryTotal=e.$refs.sheet_entry.row_of_data.data().total,e.$refs.sheet_entry.currentStock=e.$refs.sheet_entry.row_of_data.data().total,e.$refs.sheet_entry.entryComment=e.$refs.sheet_entry.row_of_data.data().comment,e.$refs.sheet_entry.entryLicence=e.$refs.sheet_entry.row_of_data.data().licence,e.$refs.sheet_entry.entryTransfer=e.$refs.sheet_entry.row_of_data.data().transfer,e.species_cache[e.returns.sheet_species]=e.$refs.return_datatable.vmDataTable.data(),e.$refs.sheet_entry.isSubmitable=!0,e.$refs.sheet_entry.isModalOpen=!0,e.$refs.sheet_entry.errors=!1}),e.$refs.return_datatable.vmDataTable.on("click",".accept-row",function(t){t.preventDefault();for(var a=e.$refs.return_datatable.vmDataTable.row("#"+(0,m.default)(this).attr("data-rowid")),n=e.$refs.return_datatable.vmDataTable.data(),i=0;i<n.length;i++)if(e.intVal(n[i].date)>=e.intVal(a.data().date)&&(n[i].total=e.intVal(n[i].total)+e.intVal(a.data().qty)),e.intVal(n[i].date)==e.intVal(a.data().date)){n[i].transfer="Accepted";var o={};e.returns.sheet_species in e.species_transfer&&(o=e.species_transfer[e.returns.sheet_species]),o[n[i].date]=(0,s.default)({},n[i]),o[n[i].date].species_id=e.returns.sheet_species,e.species_transfer[e.returns.sheet_species]=o}e.species_cache[e.returns.sheet_species]=e.$refs.return_datatable.vmDataTable.data(),e.$refs.return_datatable.vmDataTable.clear().draw(),e.$refs.return_datatable.vmDataTable.rows.add(e.species_cache[e.returns.sheet_species]),e.$refs.return_datatable.vmDataTable.draw()}),e.$refs.return_datatable.vmDataTable.on("click",".decline-row",function(t){t.preventDefault();for(var a=e.$refs.return_datatable.vmDataTable.row("#"+(0,m.default)(this).attr("data-rowid")),n=e.$refs.return_datatable.vmDataTable.data(),i=0;i<n.length;i++)if(e.intVal(n[i].date)==e.intVal(a.data().date)){n[i].transfer="Declined";var o={};e.returns.sheet_species in e.species_transfer&&(o=e.species_transfer[e.returns.sheet_species]),o[n[i].date]=(0,s.default)({},n[i]),o[n[i].date].species_id=e.returns.sheet_species,e.species_transfer[e.returns.sheet_species]=o}e.species_cache[e.returns.sheet_species]=e.$refs.return_datatable.vmDataTable.data(),e.$refs.return_datatable.vmDataTable.clear().draw(),e.$refs.return_datatable.vmDataTable.rows.add(e.species_cache[e.returns.sheet_species]),e.$refs.return_datatable.vmDataTable.draw()}),(0,m.default)("form").on("click",".change-species",function(t){t.preventDefault();var a=(0,m.default)(this).attr("species_id");null==e.species_cache[e.returns.sheet_species]&&e.$refs.return_datatable.vmDataTable.ajax.json().length>0&&(e.species_cache[e.returns.sheet_species]=e.$refs.return_datatable.vmDataTable.ajax.json()),e.returns.sheet_species=a,null!=e.species_cache[a]?(e.$refs.return_datatable.vmDataTable.clear().draw(),e.$refs.return_datatable.vmDataTable.rows.add(e.species_cache[a]),e.$refs.return_datatable.vmDataTable.draw()):(e.$refs.return_datatable.vmDataTable.clear().draw(),e.$refs.return_datatable.vmDataTable.ajax.url=x.helpers.add_endpoint_json(x.api_endpoints.returns,"sheet_details"),e.$refs.return_datatable.vmDataTable.ajax.reload())})}}},function(e,t,a){"use strict";(function(e,n){function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var s=a(12),o=i(s),r=a(5),l=i(r),c=a(18),d=i(c),u=a(30),p=i(u),_=a(6),m=a(3);t.default={name:"externalReturnSheetEntry",components:{modal:d.default,alert:p.default},props:{return_id:{type:Number}},data:function(){return{isModalOpen:!1,form:null,errors:!1,errorString:"",validation_form:null,successString:"",success:!1,entrySpecies:"",entryDateTime:"",entryActivity:"0",entryQty:0,entryTotal:0,entryLicence:"",entryComment:"",entryTransfer:"",currentStock:0,speciesType:"",row_of_data:null,return_table:null,table:null,isAddEntry:!1,isChangeEntry:!1,activityList:{0:{label:null,licence:!1,pay:!1}},initialQty:0}},watch:{entryQty:function(e){this.addToStock(e)},entryActivity:function(e){this.addToStock(this.entryQty)}},computed:(0,l.default)({},(0,_.mapGetters)(["species_cache","returns","species_transfer"]),{showError:function(){return this.errors},title:function(){return this.entrySpecies+"   Current stock: "+this.entryTotal},isLicenceRequired:function(){return"true"===this.returns.sheet_activity_list[this.entryActivity].licence},isPayable:function(){return"true"===this.returns.sheet_activity_list[this.entryActivity].pay}}),methods:{isOutStock:function(e){return"outward"in this.returns.sheet_activity_list[e]},isInStock:function(e){return"inward"in this.returns.sheet_activity_list[e]},isStock:function(e){return"initial"in this.returns.sheet_activity_list[e]},addToStock:function(e){this.entryTotal=""!==this.currentStock?parseInt(this.currentStock):0,this.isInStock(this.entryActivity)&&(this.entryTotal=parseInt(this.entryTotal)+parseInt(e)-parseInt(this.initialQty)),this.isStock(this.entryActivity)&&(this.entryTotal=parseInt(e)),this.isOutStock(this.entryActivity)&&(this.entryTotal=parseInt(this.entryTotal)-parseInt(e)+parseInt(this.initialQty)),(this.isLicenceRequired||"0"===this.entryActivity)&&(this.entryTotal=parseInt(this.currentStock))},update:function(){var e=this;if(e.isAddEntry){new Date;e.entryDateTime=Date.parse(new Date);var t=e.row_of_data.data().count()+"",a={rowId:t,date:e.entryDateTime,activity:e.entryActivity,qty:e.entryQty,total:e.entryTotal,comment:e.entryComment,licence:e.entryLicence,transfer:e.entryTransfer};e.isLicenceRequired?e.validateTransfer(a):(e.row_of_data.row.add(a).node().id=t,e.row_of_data.draw(),e.species_cache[e.returns.sheet_species]=e.return_table.data(),e.close())}if(e.isChangeEntry){var a=e.row_of_data.data();a.activity=e.entryActivity,a.qty=e.entryQty,a.total=e.entryTotal,a.licence=e.entryLicence,a.comment=e.entryComment,a.transfer=e.entryTransfer,e.isLicenceRequired?e.validateTransfer(a):(e.adjustTotals(),e.row_of_data.invalidate().draw(),e.species_cache[e.returns.sheet_species]=e.return_table.data(),e.close())}},pay:function(){var t=this;t.form=document.forms.external_returns_form;var a=new FormData(t.form);t.$http.post(m.helpers.add_endpoint_json(m.api_endpoints.returns,t.returns.id+"/pay"),a,{emulateJSON:!0}).then(function(t){e("Save","Return Details Paid","success")},function(e){console.log(e)})},validateTransfer:function(e){var t=this;t.form=document.forms.external_returns_form,t.errors=!1;var a=new FormData(t.form);return e.species_id=t.returns.sheet_species,e.transfer="Notified",a.append("transfer",(0,o.default)(e)),t.$http.post(m.helpers.add_endpoint_json(m.api_endpoints.returns,t.returns.id+"/sheet_check_transfer"),a,{emulateJSON:!0}).then(function(a){t.isAddEntry?(t.row_of_data.row.add(e).node().id=e.rowId,t.row_of_data.draw(),t.species_cache[t.returns.sheet_species]=t.return_table.data()):(t.row_of_data.data().activity=t.entryActivity,t.row_of_data.data().qty=t.entryQty,t.row_of_data.data().total=t.entryTotal,t.row_of_data.data().licence=t.entryLicence,t.row_of_data.data().comment=t.entryComment,t.row_of_data.data().transfer=t.entryTransfer,t.row_of_data.invalidate().draw(),t.species_cache[t.returns.sheet_species]=t.return_table.data());var n={};t.returns.sheet_species in t.species_transfer&&(n=t.species_transfer[t.returns.sheet_species]),n[t.entryDateTime]=e,t.species_transfer[t.returns.sheet_species]=n,t.close()},function(e){console.log(e),t.errors=!0,t.errorString="Error with Validation"}),!0},cancel:function(){var e=this;e.errors=!1,e.close()},adjustTotals:function(){var e=this;if(parseInt(e.entryQty)===parseInt(e.initialQty))return!0;for(var t=e.species_cache[e.returns.sheet_species],a=0;a<t.length;a++)parseInt(t[a].date)>parseInt(e.entryDateTime)&&(this.isStock(e.entryActivity)?t[a].total=parseInt(t[a].total)+(parseInt(e.entryQty)-parseInt(e.currentStock)):t[a].total=parseInt(t[a].total)+(parseInt(e.entryQty)-parseInt(e.initialQty)));e.species_cache[e.returns.sheet_species]=t,e.row_of_data.clear().draw(),e.row_of_data.rows.add(e.species_cache[e.returns.sheet_species]),e.row_of_data.draw()},close:function(){var e=this;e.errors||(e.isChangeEntry=!1,e.isAddEntry=!1,e.isModalOpen=!1)},addFormValidations:function(){var e=this;e.validation_form=n(e.form).validate({rules:{reason:"required"},messages:{reason:"field is required"},showErrors:function(e,t){n.each(this.validElements(),function(e,t){n(t).attr("data-original-title","").parents(".form-group").removeClass("has-error")}),n("."+this.settings.validClass).tooltip("destroy");for(var a=0;a<t.length;a++){var i=t[a];n(i.element).tooltip({trigger:"focus"}).attr("data-original-title",i.message).parents(".form-group").addClass("has-error")}}})}},mounted:function(){var e=this;e.form=document.forms.sheetEntryForm,e.addFormValidations()}}}).call(t,a(9),a(1))},function(e,t,a){"use strict";(function(e){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(44),s=n(i),o=a(12),r=n(o),l=a(5),c=n(l),d=a(4),u=(n(d),a(134)),p=n(u),_=a(328),m=n(_),f=a(327),v=n(f),h=a(326),g=n(h),b=a(731),y=n(b),C=a(6),x=a(20),w=(n(x),a(3));t.default={name:"externalReturn",data:function(){return{pdBody:"pdBody"+self._uid}},components:{Returns:p.default,ReturnSheet:m.default,ReturnQuestion:v.default,ReturnData:g.default,ReturnSubmit:y.default},computed:(0,c.default)({},(0,C.mapGetters)(["isReturnsLoaded","returns","species_list","species_cache","species_transfer"]),{isSubmittable:function(){return"sheet"!==this.returns.format&&null==this.returns.lodgement_date},requiresCheckout:function(){return this.returns.return_fee>0&&["draft","awaiting_payment"]}}),methods:(0,c.default)({},(0,C.mapActions)({load:"loadReturns"}),(0,C.mapActions)(["setReturns","setReturnsExternal"]),{save:function(t){var a=this;a.form=document.forms.external_returns_form;var n=new FormData(a.form);for(var i in a.species_cache){for(var o=[],l=0;l<a.species_cache[i].length;l++)o[l]=(0,r.default)(a.species_cache[i][l]);n.append(i,o)}var c=[],d=0;for(var u in a.species_transfer)!function(e){(0,s.default)(a.species_transfer[e]).forEach(function(t){c[d]=(0,r.default)(a.species_transfer[e][t]),d++}),n.append("transfer",c)}(u);a.$http.post(w.helpers.add_endpoint_json(w.api_endpoints.returns,a.returns.id+"/save"),n,{emulateJSON:!0}).then(function(t){var n=a.returns.sheet_species;a.setReturns(t.body),a.returns.sheet_species=n,e("Save","Return Details Saved","success")},function(t){console.log(t),e("Error","There was an error saving your return details.<br/>"+t.body,"error")})},submit:function(t){var a=this;a.form=document.forms.external_returns_form,a.$http.post(w.helpers.add_endpoint_json(w.api_endpoints.returns,a.returns.id+"/submit"),{emulateJSON:!0}).then(function(t){var n=a.returns.sheet_species;a.setReturns(t.body),a.returns.sheet_species=n,e("Save","Return Submitted","success")},function(e){console.log(e)})}}),beforeRouteEnter:function(e,t,a){a(function(t){t.load({url:"/api/returns/"+e.params.return_id+".json"}),t.setReturnsExternal({external:!0})})}}}).call(t,a(9))},function(e,t,a){"use strict";(function(e){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(5),s=n(i),o=a(4),r=(n(o),a(6)),l=a(20);n(l),a(3);t.default={name:"externalReturnQuestion",data:function(){return{pdBody:"pdBody"+this._uid}},computed:(0,s.default)({},(0,r.mapGetters)(["isReturnsLoaded","returns"])),methods:(0,s.default)({},(0,r.mapActions)({load:"loadReturns"}),(0,r.mapActions)(["setReturns"])),filters:{formatDate:function(t){return t?e(t).format("DD/MM/YYYY"):""}}}}).call(t,a(0))},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(4),s=(n(i),a(3),a(102));n(s);a(82);var o=a(715),r=n(o);a(15),a(160),a(101),t.default={components:{RendererForm:r.default},props:{withSectionsSelector:{type:Boolean,default:!0},form_width:{type:String,default:"col-md-9"}}}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(5),s=n(i),o=a(4),r=(n(o),a(6)),l=a(43);t.default={name:"amendment-request-details",data:function(){return{}},props:{activity_id:{type:Number,required:!0}},computed:(0,s.default)({},(0,r.mapGetters)(["application_readonly","amendment_requests","selected_activity_tab_id","isApplicationLoaded"]),{isVisible:function(){return this.activity_id==this.selected_activity_tab_id},visibleRequests:function(){var e=this;return this.amendment_requests.filter(function(t){return t.licence_activity.id==e.activity_id})}}),methods:{splitText:l.splitText}}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(12),s=n(i),o=a(22),r=n(o),l=a(25),c=n(l);t.default={props:["name","label","field_data","group","id","help_text","help_text_url","conditions","handleChange","readonly","isRequired"],components:{HelpText:r.default,HelpTextUrl:c.default},data:function(){return this.readonly?{isClickable:"return false;"}:{isClickable:"return true;"}},computed:{isChecked:function(){return"on"==this.value},options:function(){return(0,s.default)(this.conditions)},value:function(){return this.field_data.value}},mounted:function(){var e=this;if(e.isChecked){var t=this.$refs.Checkbox,a=document.createEvent("HTMLEvents");a.initEvent("change",!0,!0),e.readonly?e.isClickable="return false;":e.isClickable="return true;",t.dispatchEvent(a)}}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(139);t.default={props:{name:{type:String},question:{type:String},field_data:{type:Object,required:!0},readonly:{type:Boolean,default:!1},id:{type:String},isRequired:{type:Boolean,default:!1},commentType:{type:String,default:n.COMMENT_TYPE_OFFICER}},computed:{labelText:function(){switch(this.commentType){case n.COMMENT_TYPE_OFFICER:return"Officer Comments";case n.COMMENT_TYPE_ASSESSOR:return"Assessor Comments";case n.COMMENT_TYPE_DEFICIENCY:return"Deficiency"}},value:{get:function(){switch(this.commentType){case n.COMMENT_TYPE_OFFICER:return this.field_data.officer_comment;case n.COMMENT_TYPE_ASSESSOR:return this.field_data.assessor_comment;case n.COMMENT_TYPE_DEFICIENCY:return this.field_data.deficiency_value}},set:function(e){switch(this.commentType){case n.COMMENT_TYPE_OFFICER:this.field_data.officer_comment=e;break;case n.COMMENT_TYPE_ASSESSOR:this.field_data.assessor_comment=e;break;case n.COMMENT_TYPE_DEFICIENCY:this.field_data.deficiency_value=e}}}}}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(5),s=n(i),o=a(36),r=n(o);a(82);var l=a(139),c=a(733),d=n(c),u=a(6),p={props:{label:{type:null|String,required:!0},name:{type:String,required:!0},field_data:{type:null|Object,required:!0}},components:{Comment:d.default},data:function(){var e;return{showingCommentTypes:(e={},(0,r.default)(e,l.COMMENT_TYPE_OFFICER,!1),(0,r.default)(e,l.COMMENT_TYPE_ASSESSOR,!1),(0,r.default)(e,l.COMMENT_TYPE_DEFICIENCY,!1),e),COMMENT_TYPE_OFFICER:l.COMMENT_TYPE_OFFICER,COMMENT_TYPE_ASSESSOR:l.COMMENT_TYPE_ASSESSOR,COMMENT_TYPE_DEFICIENCY:l.COMMENT_TYPE_DEFICIENCY}},methods:{showingComment:function(e){return this.showingCommentTypes[e]},toggleDeficiencies:function(){this.showingComment(l.COMMENT_TYPE_DEFICIENCY)&&(this.field_data.deficiency_value=""),this.toggleComment(l.COMMENT_TYPE_DEFICIENCY)}},computed:(0,s.default)({},(0,u.mapGetters)(["canViewComments","canViewDeficiencies","canEditDeficiencies"]),{toggleComment:function(){var e=this;return function(t){e.showingCommentTypes[t]=!e.showingCommentTypes[t]}}})};t.default=p},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(44),s=n(i),o=a(5),r=n(o),l=a(6);t.default={name:"conditions",props:["conditions","name","data","readonly","instance"],computed:(0,r.default)({},(0,l.mapGetters)(["isComponentVisible"]),{has_conditions:function(){return this.condition_keys.length},condition_keys:function(){return null==this.conditions?[]:(0,s.default)(this.conditions)}}),methods:{conditionBlocks:function(e){return this.conditions[e]?this.conditions[e]:[]},isVisible:function(e){return this.isComponentVisible("cons_"+this.name+"_"+e)}}}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(5),s=n(i),o=a(34),r=n(o),l=a(22),c=n(l),d=a(25),u=n(d),p=a(6);a(344);var _={props:{name:String,label:String,id:String,isRequired:String,help_text:String,help_text_url:String,component:{type:null|Object,required:!0},field_data:{type:null|Object,required:!0},readonly:Boolean},components:{CommentBlock:r.default,HelpText:c.default,HelpTextUrl:u.default},data:function(){return{expanded:{}}},methods:(0,s.default)({},(0,p.mapActions)(["removeFormInstance","setFormValue","refreshApplicationFees"]),{isExpanded:function(e){return this.expanded[e]},toggleTableVisibility:function(e){this.expanded[e]?this.$delete(this.expanded,e):this.$set(this.expanded,e,!0)},removeTable:function(e){this.expanded[e]&&this.$delete(this.expanded,e),this.removeFormInstance(this.getInstanceName(e)),this.updateVisibleTables(this.existingTables.filter(function(t){return t!=e})),this.refreshApplicationFees()},addNewTable:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.tableId;t||(t=this.getTableId(this.lastTableId+1)),this.existingTables.push(t),this.updateVisibleTables(this.existingTables),this.refreshApplicationFees()},updateVisibleTables:function(e){this.setFormValue({key:this.component.name,value:{value:e}})},getTableId:function(e){return this.id+"_table_"+e},getInstanceName:function(e){return"__instance-"+e},removeLabel:function(e){var t=(0,s.default)({},e);return delete t.label,t}}),computed:(0,s.default)({},(0,p.mapGetters)(["canViewComments","canViewDeficiencies","canEditDeficiencies","getFormValue"]),{lastTableId:function(){if(!this.existingTables.length)return 0;var e=0;return this.existingTables.map(function(t){return t[t.length-1]>e&&(e=t[t.length-1])}),parseInt(e,10)},existingTables:function(){return this.getFormValue(this.component.name)||[]},expanderTables:function(){return this.existingTables.length||this.addNewTable(),this.existingTables},value:function(){return this.field_data}})};t.default=_},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(44),s=n(i),o=a(5),r=n(o),l=a(6);t.default={name:"conditions",props:["conditions","name","data","readonly","instance"],computed:(0,r.default)({},(0,l.mapGetters)(["isComponentVisible"]),{has_conditions:function(){return this.condition_keys.length},condition_keys:function(){return null==this.conditions?[]:(0,s.default)(this.conditions)}}),methods:{conditionBlocks:function(e){return this.conditions[e]?this.conditions[e]:[]},isVisible:function(e){return this.isComponentVisible("cons_"+this.name+"_"+e)}}}},function(e,t,a){"use strict";(function(e){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(12),s=n(i),o=a(5),r=n(o),l=a(0),c=(n(l),a(163)),d=(n(c),a(34)),u=n(d),p=a(22),_=n(p),m=a(25),f=n(m),v=a(6);t.default={props:["name","label","id","readonly","help_text","field_data","conditions","handleChange","isRequired","help_text_url"],data:function(){return{}},components:{CommentBlock:u.default,HelpText:_.default,HelpTextUrl:f.default},computed:(0,r.default)({},(0,v.mapGetters)(["canViewComments","canViewDeficiencies","canEditDeficiencies"]),{isChecked:function(){return!1},options:function(){return(0,s.default)(this.conditions)},value:{get:function(){return this.field_data.value},set:function(e){this.field_data.value=e}}}),methods:{},mounted:function(){var t=this;e("[name="+this.name+"]").datetimepicker({format:"DD/MM/YYYY"}).off("dp.change").on("dp.change",function(a){t.value=e(a.target).data("DateTimePicker").date().format("DD/MM/YYYY")})}}}).call(t,a(1))},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(22),s=(n(i),a(25));n(s);t.default={props:["name","label","id","help_text","handleDeclaration","isRequired","help_text_url"],computed:{isChecked:function(){return"on"==this.value}},mounted:function(){if(this.isChecked){var e=this.$refs.Checkbox,t=document.createEvent("HTMLEvents");t.initEvent("change",!0,!0),e.dispatchEvent(t)}}}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(5),s=n(i),o=a(34),r=n(o),l=a(22),c=n(l),d=a(25),u=n(d),p=a(6);a(344);var _={props:{name:String,label:String,id:String,isRequired:String,help_text:String,help_text_url:String,component:{type:null|Object,required:!0},field_data:{type:null|Object,required:!0},readonly:Boolean},components:{CommentBlock:r.default,HelpText:c.default,HelpTextUrl:u.default},data:function(){return{expanded:{}}},methods:(0,s.default)({},(0,p.mapActions)(["removeFormInstance","setFormValue","refreshApplicationFees"]),{isExpanded:function(e){return this.expanded[e]},toggleTableVisibility:function(e){this.expanded[e]?this.$delete(this.expanded,e):this.$set(this.expanded,e,!0)},removeTable:function(e){this.expanded[e]&&this.$delete(this.expanded,e),this.removeFormInstance(this.getInstanceName(e)),this.updateVisibleTables(this.existingTables.filter(function(t){return t!=e})),this.refreshApplicationFees()},addNewTable:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.tableId;t||(t=this.getTableId(this.lastTableId+1)),this.existingTables.push(t),this.updateVisibleTables(this.existingTables),this.refreshApplicationFees()},updateVisibleTables:function(e){this.setFormValue({key:this.component.name,value:{value:e}})},getTableId:function(e){return this.id+"_table_"+e},getInstanceName:function(e){return"__instance-"+e},removeLabel:function(e){var t=(0,s.default)({},e);return delete t.label,t}}),computed:(0,s.default)({},(0,p.mapGetters)(["canViewComments","canViewDeficiencies","canEditDeficiencies","getFormValue"]),{lastTableId:function(){if(!this.existingTables.length)return 0;var e=0;return this.existingTables.map(function(t){return t[t.length-1]>e&&(e=t[t.length-1])}),parseInt(e,10)},existingTables:function(){return this.getFormValue(this.component.name)||[]},expanderTables:function(){return this.existingTables.length||this.addNewTable(),this.existingTables},value:function(){return this.field_data}})};t.default=_},function(e,t,a){"use strict";(function(e){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(140),s=n(i),o=a(3),r=a(34),l=n(r),c=a(22),d=n(c);a(6);t.default={props:{application_id:null,name:String,label:String,id:String,isRequired:String,help_text:String,field_data:Object,fileTypes:{default:function(){return"image/*,video/*,audio/*,application/pdf,text/csv,application/msword,application/vnd.ms-excel,application/x-msaccess,application/x-7z-compressed,application/x-bzip,application/x-bzip2,application/zip,.dbf,.gdb,.gpx,.prj,.shp,.shx,.json,.kml,.gpx"}},isRepeatable:Boolean,readonly:Boolean,docsUrl:String},components:{CommentBlock:l.default,HelpText:d.default},data:function(){return{repeat:1,files:[],show_spinner:!1,documents:[],filename:null,help_text_url:""}},computed:{csrf_token:function(){return o.helpers.getCookie("csrftoken")},application_document_action:function(){return this.application_id?"/api/application/"+this.application_id+"/process_document/":""},value:function(){return this.field_data.value}},methods:{handleChange:function(t){var a=this;if(a.show_spinner=!0,a.isRepeatable){var n=e(t.target).attr("data-que"),i=e("input[name="+t.target.name+"]");i=[].concat((0,s.default)(i.map(function(t){return e(i[t]).attr("data-que")}))),i.pop(),1==a.repeat?a.repeat+=1:i.indexOf(n)<0&&(a.repeat+=1),e(t.target).css({display:"none"})}else a.files=[];a.files.push(t.target.files[0]),t.target.files.length>0&&a.save_document(t),a.show_spinner=!1},get_documents:function(){var e=this,t=new FormData;t.append("action","list"),t.append("input_name",e.name),t.append("csrfmiddlewaretoken",e.csrf_token),e.$http.post(e.application_document_action,t).then(function(t){e.documents=t.body,e.show_spinner=!1})},delete_document:function(e){var t=this;t.show_spinner=!0;var a=new FormData;a.append("action","delete"),a.append("document_id",e.id),a.append("csrfmiddlewaretoken",t.csrf_token),t.$http.post(t.application_document_action,a).then(function(e){t.documents=t.get_documents(),t.show_spinner=!1})},uploadFile:function(e){var t=null;if(e.target.files&&e.target.files[0]){var a=new FileReader;a.readAsDataURL(e.target.files[0]),a.onload=function(e){t=e.target.result},t=e.target.files[0]}return t},save_document:function(e){var t=this,a=new FormData;a.append("action","save"),a.append("application_id",t.application_id),a.append("input_name",t.name),a.append("filename",e.target.files[0].name),a.append("_file",t.uploadFile(e)),a.append("csrfmiddlewaretoken",t.csrf_token),t.$http.post(t.application_document_action,a).then(function(e){t.documents=e.body},function(e){})},num_documents:function(){var e=this;return e.documents?e.documents.length:0}},mounted:function(){var e=this;if(e.documents=e.get_documents(),e.value)if(Array.isArray(e.value))e.value;else{var t=e.value.replace(/ /g,"_").split(",");e.files=t.map(function(e){return{name:e}})}}}}).call(t,a(1))},function(e,t,a){"use strict";(function(e){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(44),s=n(i),o=a(11),r=n(o),l=a(163),c=(n(l),a(22)),d=n(c),u=a(25),p=n(u),_={props:["field_data","headers","name","label","id","help_text","help_text_url","readonly","isRequired"],components:{HelpText:d.default,HelpTextUrl:p.default},data:function(){return{}},methods:{addRow:function(e){var t=this;t.grid_item=t._props.field_data;var a=(t.grid_item.length,(0,r.default)({},t.grid_item[0]));for(var n in a)a[n]={value:"",error:""};t.grid_item.push(a)},addColumn:function(e){},addArea:function(e){},setDateValue:function(e,t,a){var n=this;return""!==e&&(n.field_data[t][a].value=e,n.value=e),n.field_data[t][a].value},setDatePicker:function(){for(var t=this,a=0;a<t.field_data.length;a++)!function(a){(0,s.default)(t.field_data[a]).forEach(function(n){if(n.indexOf("date")>-1){var i=n+"::"+a,s=null!=t.field_data[a][n].value?t.field_data[a][n].value:"",o=s.split("/"),r=new Date(o[2],o[1]-1,o[0]);e("[id='"+i+"']").datetimepicker({format:"DD/MM/YYYY",defaultDate:""!=s?r:null}).off("dp.change").on("dp.change",function(a){t.value=e(a.target).data("DateTimePicker").date(e(a.target)[0].value).format("DD/MM/YYYY")})}})}(a)}},updated:function(){this.setDatePicker()},mounted:function(){this.setDatePicker()}};t.default=_}).call(t,a(1))},function(e,t,a){"use strict";(function(e){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(22),s=n(i),o=a(25),r=n(o);t.default={name:"group",props:["label","name","id","help_text","help_text_url","isRemovable","isPreviewMode"],data:function(){return{isExpanded:!0}},components:{HelpText:s.default,HelpTextUrl:r.default},methods:{expand:function(e){this.isExpanded=!0},minimize:function(e){this.isExpanded=!1}},mounted:function(){e('[data-toggle="tooltip"]').tooltip()}}}).call(t,a(1))},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(739),i=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={props:["help_text"],components:{HelpTextDisplay:i.default},data:function(){return{showingHelpText:!1,pBody:"pBody"}},methods:{toggleHelpText:function(){this.showingHelpText=!this.showingHelpText}}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:["help_text"]}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:["help_text_url"]}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:["value","id"]}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(12),i=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={name:"radiobuttons",props:["value","label","id","name","isRequired","handleChange","conditions","savedValue","readonly"],computed:{isChecked:function(){return this.value==this.savedValue.value},options:function(){return(0,i.default)(this.conditions)}},mounted:function(){if(this.value==this.savedValue.value){var e=this.$refs.radioB,t=document.createEvent("HTMLEvents");t.initEvent("change",!0,!0);var a=e.disabled;try{a&&(e.disabled=!1),e.dispatchEvent(t)}finally{a&&(e.disabled=!0)}}}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:["box_view","type","name","value","id","label","readonly"]}},function(e,t,a){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"FormSection",props:["label","Index"],data:function(){return{title:"Section title",eventInitialised:!1}},computed:{section_id:function(){return"section_"+this.Index}},updated:function(){var t=this,a=this;a.$nextTick(function(){a.eventInitialised||(e('.panelClicker[data-toggle="collapse"]').on("click",function(){var t=e(this).children()[0];window.setTimeout(function(){e(t).toggleClass("glyphicon-chevron-down glyphicon-chevron-up")},100)}),t.eventInitialised=!0)})}}}).call(t,a(1))},function(e,t,a){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"FormSection",props:["label","Index","formCollapse"],data:function(){return{title:"Section title",eventInitialised:!1,panel_chevron_class:null}},computed:{section_id:function(){return"section_"+this.Index},panel_collapse_class:function(){return this.formCollapse?(this.panel_chevron_class="glyphicon glyphicon-chevron-down pull-right ","panel-body collapse"):(this.panel_chevron_class="glyphicon glyphicon-chevron-up pull-right ","panel-body collapse in")}},updated:function(){var t=this,a=this;a.$nextTick(function(){a.eventInitialised||(e('.panelClicker[data-toggle="collapse"]').on("click",function(){var t=e(this).children()[0];console.log(t),window.setTimeout(function(){e(t).toggleClass("glyphicon-chevron-down glyphicon-chevron-up")},100)}),t.eventInitialised=!0)})}}}).call(t,a(1))},function(e,t,a){"use strict";(function(e){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(12),s=n(i),o=a(34),r=n(o),l=a(22),c=n(l),d=a(25),u=n(d);a(699);a(40),a(39),t.default={props:{name:String,label:String,id:String,isRequired:String,help_text:String,help_text_url:String,field_data:Object,options:Array,conditions:Object,handleChange:null,isMultiple:{default:function(){return!1}},readonly:Boolean},data:function(){var e=this;return{selected:this.isMultiple?[]:"",selectid:"select"+e._uid,multipleSelected:[]}},computed:{cons:function(){return(0,s.default)(this.conditions)},value:function(){return this.field_data.value}},components:{CommentBlock:r.default,HelpText:c.default,HelpTextUrl:u.default},methods:{multipleSelection:function(e){if(Array.isArray(this.value)){if(this.value.find(function(t){return t==e}))return!0}else if(this.value==e)return!0;return!1},init:function(){var t=this;setTimeout(function(a){e("#"+t.selectid).select2({theme:"bootstrap",allowClear:!0,placeholder:"Select..."}).on("select2:select",function(a){var n=e(a.currentTarget);t.handleChange(n[0]),a.preventDefault(),t.isMultiple&&(t.field_data.value=t.multipleSelected=n.val())}).on("select2:unselect",function(a){var n=e(a.currentTarget);t.handleChange(n[0]),a.preventDefault(),t.isMultiple&&(t.field_data.value=t.multipleSelected=n.val())}),t.value&&t.handleChange(t.$refs.selectB)},100)}},mounted:function(){this.init()}}}).call(t,a(1))},function(e,t,a){"use strict";(function(e){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(12),s=n(i),o=a(492),r=n(o),l=a(44),c=n(l),d=a(34),u=n(d),p=a(22),_=n(p),m=a(25),f=n(m),v={props:{headers:String,name:String,label:String,id:String,isRequired:String,help_text:String,help_text_url:String,field_data:Object,readonly:Boolean},components:{CommentBlock:u.default,HelpText:_.default,HelpTextUrl:f.default},data:function(){var e=this,t=this.field_data.value?JSON.parse(this.field_data.value):null,a=JSON.parse(e.headers),n=(0,c.default)(a);e.col_types=(0,r.default)(a);for(var i=[],s=0,o=n.length;s<o;s++)i.push("");e.table=null==t?{thead:n,tbody:[i]}:{thead:t.thead,tbody:t.tbody};var l={};return e.readonly?l.isClickable="return false;":l.isClickable="return true;",l},methods:{updateTableJSON:function(){var e=this;e.tableJSON=(0,s.default)(e.table),this.field_data.value=e.tableJSON},addRow:function(){for(var e=this,t=[],a=0,n=e.table.thead.length;a<n;a++)t.push("");e.table.tbody.push(t),e.updateTableJSON()},deleteRow:function(e){var t=this;t.table.tbody=t.table.tbody.filter(function(t){return t!==e}),t.updateTableJSON()}},computed:{},mounted:function(){var t=this;if(t.updateTableJSON(),e(".content-editable-table").on("change",".tbl_input",function(){t.updateTableJSON()}),e(".content-editable-table").on("click",".ibtnDel",function(t){e(this).closest("tr").remove()}),t.isChecked){var a=this.$refs.Checkbox,n=document.createEvent("HTMLEvents");n.initEvent("change",!0,!0),t.readonly?t.isClickable="return false;":t.isClickable="return true;",a.dispatchEvent(n)}}};t.default=v}).call(t,a(1))},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(34),s=n(i),o=a(22),r=n(o),l=a(25),c=n(l);t.default={props:["name","field_data","id","isRequired","help_text","label","readonly","help_text_url"],components:{CommentBlock:s.default,HelpText:r.default,HelpTextUrl:c.default},data:function(){return{}},methods:{},computed:{}}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(5),s=n(i),o=a(34),r=n(o),l=a(22),c=n(l),d=a(25),u=n(d),p=a(6);t.default={props:["type","name","id","field_data","isRequired","help_text","label","readonly","help_text_url","min","max"],components:{CommentBlock:r.default,HelpText:c.default,HelpTextUrl:u.default},data:function(){return{}},methods:(0,s.default)({},(0,p.mapActions)(["setFormValue"])),computed:{}}},function(e,t,a){"use strict";(function(e,n){function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var s=a(12),o=i(s),r=a(5),l=i(r),c=a(4),d=i(c),u=a(18),p=i(u),_=a(30),m=i(_),f=a(3),v=a(6);t.default={name:"amendment-request",components:{modal:p.default,alert:m.default},props:{},data:function(){return{isModalOpen:!1,form:null,amendment:{reason:"",amendingApplication:!1,application:this.$store.getters.application_id,text:null,activity_list:[]},reason_choices:{},errors:!1,errorString:"",validation_form:null}},computed:(0,l.default)({},(0,v.mapGetters)(["application_id","licenceActivities","hasRole"]),{showError:function(){return this.errors},amendableActivities:function(){var e=this;return this.licenceActivities(["with_officer","with_assessor","with_officer_conditions"]).filter(function(t){return e.hasRole("licensing_officer",t.id)})}}),methods:{ok:function(){var t=this;e(t.form).valid()&&t.sendData()},cancel:function(){this.isModalOpen=!1,this.amendment={reason:"",application:this.application_id,text:null,licence_activity:null,activity_list:[]}},close:function(){this.isModalOpen=!1,this.amendment={reason:"",application:this.application_id,text:null,licence_activity:null,activity_list:[]},this.errors=!1,e(this.$refs.reason).val(null).trigger("change"),e(".has-error").removeClass("has-error"),this.validation_form.resetForm()},fetchAmendmentChoices:function(){var e=this;e.$http.get("/api/amendment_request_reason_choices.json").then(function(t){e.reason_choices=t.body},function(e){console.log(e)})},sendData:function(){var e=this;e.errors=!1;var t=JSON.parse((0,o.default)(e.amendment));e.$http.post("/api/amendment.json",(0,o.default)(t),{emulateJSON:!0}).then(function(t){n("Sent","An email has been sent to applicant with the request to amend this Application","success"),e.amendingApplication=!0,e.close(),d.default.http.get("/api/application/"+e.application_id+"/internal_application.json").then(function(t){e.$emit("refreshFromResponse",t)},function(e){console.log(e)})},function(t){console.log(t),e.errors=!0,e.errorString=f.helpers.apiVueResourceError(t),e.amendingApplication=!0})},addFormValidations:function(){var t=this;t.validation_form=e(t.form).validate({rules:{reason:"required"},messages:{reason:"field is required"},showErrors:function(t,a){e.each(this.validElements(),function(t,a){e(a).attr("data-original-title","").parents(".form-group").removeClass("has-error")}),e("."+this.settings.validClass).tooltip("destroy");for(var n=0;n<a.length;n++){var i=a[n];e(i.element).tooltip({trigger:"focus"}).attr("data-original-title",i.message).parents(".form-group").addClass("has-error")}}})},eventListerners:function(){var t=this;e(t.$refs.reason).select2({theme:"bootstrap",allowClear:!0,placeholder:"Select Reason"}).on("select2:select",function(a){var n=e(a.currentTarget);t.amendment.reason=n.val()}).on("select2:unselect",function(a){var n=e(a.currentTarget);t.amendment.reason=n.val()})}},mounted:function(){var e=this;e.form=document.forms.amendForm,e.fetchAmendmentChoices(),e.addFormValidations(),this.$nextTick(function(){e.eventListerners()})}}}).call(t,a(1),a(9))},function(e,t,a){"use strict";(function(e,n,i){function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(12),r=s(o),l=a(16),c=s(l),d=a(5),u=s(d),p=a(132),_=s(p),m=a(4),f=(s(m),a(6)),v=a(747),h=s(v),g=a(740),b=s(g),y=a(743),C=s(y),x=a(10),w=s(x),k=a(749),A=s(k),I=a(745),D=s(I),T=a(746),S=s(T),P=a(20),M=s(P),O=a(65),N=(s(O),a(3));t.default={name:"InternalApplication",data:function(){var e=this;return{applicantTab:"applicantTab"+e._uid,applicationTab:"applicationTab"+e._uid,detailsBody:"detailsBody"+e._uid,identificationBody:"identificationBody"+e._uid,addressBody:"addressBody"+e._uid,contactsBody:"contactsBody"+e._uid,checksBody:"checksBody"+e._uid,isSendingToAssessor:!1,assessorGroup:{},selectedAssessor:{},loading:[],form:null,contacts_table_initialised:!1,initialisedSelects:!1,showingApplication:!0,isOfficerConditions:!1,isofficerfinalisation:!1,contacts_table_id:e._uid+"contacts-table",application_assessor_datatable:e._uid+"assessment-table",contacts_options:{language:{processing:"<i class='fa fa-4x fa-spinner fa-spin'></i>"},responsive:!0,ajax:{url:e.contactsURL,dataSrc:""},columns:[{title:"Name",mRender:function(e,t,a){return a.first_name+" "+a.last_name}},{title:"Phone",data:"phone_number"},{title:"Mobile",data:"mobile_number"},{title:"Fax",data:"fax_number"},{title:"Email",data:"email"}],processing:!0},contacts_table:null,assessors_headers:["Assessor Group","Date Sent","Status","Action"],assessors_options:{},DATE_TIME_FORMAT:"DD/MM/YYYY HH:mm:ss",comms_url:N.helpers.add_endpoint_json(N.api_endpoints.applications,e.$route.params.application_id+"/comms_log"),comms_add_url:N.helpers.add_endpoint_json(N.api_endpoints.applications,e.$route.params.application_id+"/add_comms_log"),logs_url:N.helpers.add_endpoint_json(N.api_endpoints.applications,e.$route.params.application_id+"/action_log"),panelClickersInitialised:!1}},components:{Application:_.default,datatable:w.default,ProposedDecline:h.default,AmendmentRequest:b.default,ApplicationAssessments:C.default,ProposedLicence:A.default,IssueLicence:D.default,LicenceScreen:S.default,CommsLogs:M.default},filters:{formatDate:function(t){return t?e(t).format("DD/MM/YYYY HH:mm:ss"):""}},watch:{},computed:(0,u.default)({},(0,f.mapGetters)(["application","original_application","licence_type_data","selected_activity_tab_id","selected_activity_tab_name","hasRole","visibleConditionsFor","checkActivityStatus","isPartiallyFinalised","isFinalised","licenceActivities","isApplicationLoaded","isApplicationActivityVisible","unfinishedActivities","current_user"]),{applicationDetailsVisible:function(){return!this.isSendingToAssessor&&!this.isofficerfinalisation&&this.unfinishedActivities.length&&!this.isOfficerConditions},applicationIsDraft:function(){return"draft"==this.application.processing_status.id},selectedActivity:function(){var e=this.licence_type_data.activity,t=!0,a=!1,n=void 0;try{for(var i,s=(0,c.default)(e);!(t=(i=s.next()).done);t=!0){var o=i.value;if(o.id==this.selected_activity_tab_id)return o}}catch(e){a=!0,n=e}finally{try{!t&&s.return&&s.return()}finally{if(a)throw n}}return null},canIssueDecline:function(){var e=this.licence_type_data.activity,t=!0,a=!1,n=void 0;try{for(var i,s=(0,c.default)(e);!(t=(i=s.next()).done);t=!0){var o=i.value;if(["with_officer_finalisation","awaiting_licence_fee_payment"].includes(o.processing_status.id)&&this.userHasRole("issuing_officer",o.id))return!0}}catch(e){a=!0,n=e}finally{try{!t&&s.return&&s.return()}finally{if(a)throw n}}return!1},canSaveApplication:function(){return!(!this.selected_activity_tab_id||!this.userHasRole("assessor",this.selected_activity_tab_id)||"with_assessor"!=this.selectedActivity.processing_status.id)||this.canRequestAmendment},canRequestAmendment:function(){var e=this.licence_type_data.activity,t=!0,a=!1,n=void 0;try{for(var i,s=(0,c.default)(e);!(t=(i=s.next()).done);t=!0){var o=i.value;if("with_officer"==o.processing_status.id&&this.userHasRole("licensing_officer",o.id))return!0}}catch(e){a=!0,n=e}finally{try{!t&&s.return&&s.return()}finally{if(a)throw n}}return!1},canReturnToConditions:function(){return!!this.userHasRole("issuing_officer",this.selected_activity_tab_id)&&!(!this.selected_activity_tab_id||"with_officer_finalisation"!=this.selectedActivity.processing_status.id)},canProposeIssueOrDecline:function(){return this.hasActivityStatus("with_officer_conditions",1,"licensing_officer")},contactsURL:function(){return null!=this.application?N.helpers.add_endpoint_json(N.api_endpoints.organisations,this.application.org_applicant.id+"/contacts"):""},applicantType:function(){return this.$store.getters.applicant_type},isLoading:function(){return this.loading.length>0},csrf_token:function(){return N.helpers.getCookie("csrftoken")},application_form_url:function(){return this.application?"/api/application/"+this.application.id+"/application_officer_save.json":""},isIdCheckAccepted:function(){return"accepted"==this.application.id_check_status.id},isIdNotChecked:function(){return"not_checked"==this.application.id_check_status.id},isIdCheckRequested:function(){return"awaiting_update"==this.application.id_check_status.id},isIdCheckUpdated:function(){return"updated"==this.application.id_check_status.id},isCharacterCheckAccepted:function(){return"accepted"==this.application.character_check_status.id},canAssignToOfficer:function(){return!!this.userHasRole("licensing_officer")&&!(!this.application||"under_review"!=this.application.processing_status.id||this.isFinalised||this.application.can_user_edit||!this.application.user_in_licence_officers)},userIsAssignedOfficer:function(){return this.current_user.id==this.application.assigned_officer},form_data_comments_url:function(){return this.application?"/api/application/"+this.application.id+"/officer_comments.json":""},headerLabel:function(){switch(this.application.application_type.id){case"amend_activity":return"Application - Activity Amendment";case"renew_activity":return"Application - Activity Renewal";default:return"Application"}},showNavBarBottom:function(){return this.canReturnToConditions||!this.applicationIsDraft&&this.canSaveApplication}}),methods:(0,u.default)({},(0,f.mapActions)({load:"loadApplication",revert:"revertApplication"}),(0,f.mapActions)(["setOriginalApplication","setApplication","setActivityTab","loadCurrentUser","toggleFinalisedTabs","saveFormData"]),{eventListeners:function(){var e=this;n("[data-target!=''][data-target]").off("click").on("click",function(t){e.setActivityTab({id:parseInt(n(this).data("target").replace("#",""),10),name:n(this).text()})}),this.initFirstTab()},userHasRole:function(e,t){return this.hasRole(e,t)},getVisibleConditionsFor:function(e,t,a){return this.visibleConditionsFor(e,t,a)},initFirstTab:function(e){var t=this;if(!this.selected_activity_tab_id||e){var a=n("#tabs-section li:first-child a")[0];a?a.click():this.licenceActivities().filter(function(e){t.setActivityTab({id:e.id,name:e.name})})}},initialiseOrgContactTable:function(){var e=this;e.application&&"org"==e.applicantType&&!e.contacts_table_initialised&&(e.contacts_options.ajax.url=N.helpers.add_endpoint_json(N.api_endpoints.organisations,e.application.org_applicant.id+"/contacts"),e.contacts_table=n("#"+e.contacts_table_id).DataTable(e.contacts_options),e.contacts_table_initialised=!0)},commaToNewline:function(e){return e.replace(/[,;]/g,"\n")},proposedDecline:function(){this.save_wo(),this.$refs.proposed_decline.isModalOpen=!0},isActivityVisible:function(e){return this.isApplicationActivityVisible({activity_id:e})},hasActivityStatus:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return this.checkActivityStatus(e,t,a)},proposedLicence:function(){var e=n("#tabs-section li.active");this.save_wo(),this.$refs.proposed_licence.propose_issue.licence_activity_id=this.selected_activity_tab_id,this.$refs.proposed_licence.propose_issue.licence_activity_name=e.text(),this.$refs.proposed_licence.isModalOpen=!0,this.$refs.proposed_licence.preloadLastActivity()},toggleIssue:function(){this.save_wo(),this.showingApplication=!1,this.isSendingToAssessor=!1,this.isOfficerConditions=!1,this.isofficerfinalisation=!0},acceptIdRequest:function(){var e=this;i({title:"Accept ID Check",text:"Are you sure you want to accept this ID Check?",type:"question",showCancelButton:!0,confirmButtonText:"Accept"}).then(function(t){t.value&&e.$http.post(N.helpers.add_endpoint_json(N.api_endpoints.applications,e.application.id+"/accept_id_check")).then(function(t){e.setApplication(t.body)},function(e){console.log(e)})},function(e){})},resetIdRequest:function(){var e=this;i({title:"Reset ID Check",text:"Are you sure you want to reset this ID Check?",type:"question",showCancelButton:!0,confirmButtonText:"Accept"}).then(function(t){t.value&&e.$http.post(N.helpers.add_endpoint_json(N.api_endpoints.applications,e.application.id+"/reset_id_check")).then(function(t){e.setApplication(t.body)},function(e){console.log(e)})},function(e){})},updateIdRequest:function(){var e=this;i({title:"Request Update ID Check",text:"Are you sure you want to request this ID Check update?",type:"question",showCancelButton:!0,confirmButtonText:"Accept"}).then(function(t){t.value&&e.$http.post(N.helpers.add_endpoint_json(N.api_endpoints.applications,e.application.id+"/request_id_check")).then(function(t){e.setApplication(t.body)},function(e){console.log(e)})},function(e){})},acceptCharacterRequest:function(){var e=this;i({title:"Accept Character Check",text:"Are you sure you want to accept this Character Check?",type:"question",showCancelButton:!0,confirmButtonText:"Accept"}).then(function(t){t.value&&e.$http.post(N.helpers.add_endpoint_json(N.api_endpoints.applications,e.application.id+"/accept_character_check")).then(function(t){e.setApplication(t.body)},function(e){console.log(e)})},function(e){})},amendmentRequest:function(){var e=this;e.save_wo(),e.$refs.amendment_request.amendment.text="",e.$refs.amendment_request.isModalOpen=!0},togglesendtoAssessor:function(){this.save_wo(),n("#tabs-main li").removeClass("active"),this.isSendingToAssessor=!this.isSendingToAssessor,this.showingApplication=!1},save:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{showNotification:!0},t=e.showNotification;this.saveFormData({url:this.form_data_comments_url}).then(function(e){t&&i("Saved","Your application has been saved","success")},function(e){console.log("Failed to save comments: ",e),i("Application Error",N.helpers.apiVueResourceError(e),"error")})},save_wo:function(){return this.save({showNotification:!1})},toggleApplication:function(e){var t=this,a=e.show,i=void 0!==a&&a,s=e.showFinalised,o=void 0!==s&&s;this.showingApplication=i,this.isSendingToAssessor&&(this.isSendingToAssessor=!i),this.isOfficerConditions&&(this.isOfficerConditions=!i),this.isofficerfinalisation&&(this.isofficerfinalisation=!i),this.toggleFinalisedTabs(o),setTimeout(function(){var e=n("#tabs-main li a")[1];null!=e&&e.click(),t.initFirstTab(!0)},50),!o&&this.load({url:"/api/application/"+this.application.id+"/internal_application.json"})},toggleConditions:function(){this.showingApplication=!1,this.isSendingToAssessor=!1,this.isOfficerConditions=!1},returnToOfficerConditions:function(){var e=this;i({title:"Return to Officer - Conditions",html:"\n                    Please provide thereason forreturning this licensed activity back to officer for review.\n                    <br>This will be emailed to the licensing officer.\n                ",input:"text",inputAttributes:{autocapitalize:"off"},showCancelButton:!0,confirmButtonText:"Return"}).then(function(t){if(t.value){var a=t.value,n={activity_id:e.selectedActivity.id,text:a};e.$http.post(N.helpers.add_endpoint_json(N.api_endpoints.applications,e.application.id+"/return_to_officer"),(0,r.default)(n)).then(function(t){i("Return to Officer - Conditions","The licenced activity has been returned to Officer - Conditions.","success"),e.refreshFromResponse(t)},function(t){e.revert(),i("Application Error",N.helpers.apiVueResourceError(t),"error")})}})},toggleOfficerConditions:function(){this.save_wo(),this.showingApplication=!1,this.isSendingToAssessor=!1,this.isOfficerConditions=!0},updateAssignedOfficerSelect:function(){var e=this;n(e.$refs.assigned_officer).val(e.application.assigned_officer),n(e.$refs.assigned_officer).trigger("change")},assignToMe:function(){var e=this,t=this;t.$http.get(N.helpers.add_endpoint_json(N.api_endpoints.applications,t.application.id+"/assign_to_me")).then(function(a){e.refreshFromResponse(a),t.updateAssignedOfficerSelect()},function(e){t.revert(),t.updateAssignedOfficerSelect(),i("Application Error",N.helpers.apiVueResourceError(e),"error")})},refreshFromResponse:function(e){var t=this;this.setOriginalApplication(e.body),this.setApplication(e.body),this.$nextTick(function(){t.initialiseAssignedOfficerSelect(!0),t.updateAssignedOfficerSelect()})},assignOfficer:function(){var e=this,t=this,a=!0,n={};a=null==t.application.assigned_officer||"undefined"==t.application.assigned_officer,n={officer_id:t.application.assigned_officer},a?t.$http.get(N.helpers.add_endpoint_json(N.api_endpoints.applications,t.application.id+"/unassign_officer")).then(function(t){e.refreshFromResponse(t),e.updateAssignedOfficerSelect()},function(t){e.revert(),e.updateAssignedOfficerSelect(),i("Application Error",N.helpers.apiVueResourceError(t),"error")}):t.$http.post(N.helpers.add_endpoint_json(N.api_endpoints.applications,t.application.id+"/assign_officer"),(0,r.default)(n),{emulateJSON:!0}).then(function(t){e.refreshFromResponse(t),e.updateAssignedOfficerSelect()},function(t){e.revert(),e.updateAssignedOfficerSelect(),i("Application Error",N.helpers.apiVueResourceError(t),"error")})},updateActivityStatus:function(e,t){var a=this,n=this,s={activity_id:e,status:t};n.$http.post(N.helpers.add_endpoint_json(N.api_endpoints.applications,n.application.id+"/update_activity_status"),(0,r.default)(s),{emulateJSON:!0}).then(function(e){a.refreshFromResponse(e)},function(e){a.revert(),i("Application Error",N.helpers.apiVueResourceError(e),"error")})},initialiseAssignedOfficerSelect:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this;e&&n(t.$refs.assigned_officer).data("select2")&&n(t.$refs.assigned_officer).select2("destroy"),n(t.$refs.assigned_officer).select2({theme:"bootstrap",allowClear:!0,placeholder:"Select Officer"}).on("select2:select",function(e){var a=n(e.currentTarget);t.application.assigned_officer=a.val(),t.assignOfficer()}).on("select2:unselecting",function(e){var t=n(this);setTimeout(function(){t.select2("close")},0)}).on("select2:unselect",function(e){n(e.currentTarget);t.application.assigned_officer=null,t.assignOfficer()})},initialiseSelects:function(){this.initialisedSelects||(this.initialiseAssignedOfficerSelect(),this.initialisedSelects=!0,this.initMainTab())},initMainTab:function(){this.$refs.applicantTab&&(this.$refs.applicantTab.click(),this.initFirstTab(!0))}}),mounted:function(){},updated:function(){var e=this;e.panelClickersInitialised||(n('.panelClicker[data-toggle="collapse"]').on("click",function(){var e=n(this).children()[0];window.setTimeout(function(){n(e).toggleClass("glyphicon-chevron-down glyphicon-chevron-up")},100)}),e.panelClickersInitialised=!0),this.$nextTick(function(){e.initialiseOrgContactTable(),e.initialiseSelects(),e.form=document.forms.new_application,e.eventListeners()})},beforeRouteEnter:function(e,t,a){a(function(t){t.load({url:"/api/application/"+e.params.application_id+"/internal_application.json"}).then(function(){}),t.loadCurrentUser({url:"/api/my_user_details"})})},beforeRouteUpdate:function(e,t,a){a(function(t){t.load({url:"/api/application/"+e.params.application_id+".json"}).then(function(){})})}}}).call(t,a(0),a(1),a(9))},function(e,t,a){"use strict";(function(e,n){function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var s=a(12),o=i(s),r=a(18),l=i(r),c=a(30),d=i(c),u=a(3);t.default={name:"Condition-Detail",components:{modal:l.default,alert:d.default},props:{application_id:{type:Number,required:!0},condition:{type:Object,required:!0},conditions:{type:Array,required:!0},licence_activity_tab:{type:Number,required:!0}},data:function(){return{isModalOpen:!1,form:null,return_types:[],addingCondition:!1,updatingCondition:!1,validation_form:null,type:"1",errors:!1,errorString:"",successString:"",success:!1,datepickerOptions:{format:"DD/MM/YYYY",showClear:!0,useCurrent:!1,keepInvalid:!0,allowInputToggle:!0},validDate:!1}},computed:{showError:function(){return this.errors},due_date:{cache:!1,get:function(){return null==this.condition.due_date?"":this.condition.due_date}}},watch:{due_date:function(){this.validDate=e(this.condition.due_date,"DD/MM/YYYY").isValid()}},methods:{ok:function(){var e=this;n(e.form).valid()&&e.sendData()},cancel:function(){this.close()},close:function(){this.isModalOpen=!1,n(this.$refs.standard_req).val(null).trigger("change"),this.errors=!1,n(".has-error").removeClass("has-error");var e=n(this.$refs.due_date).data("DateTimePicker");e&&e.clear(),this.validation_form.resetForm()},fetchContact:function(e){var t=this;t.$http.get(u.api_endpoints.contact(e)).then(function(e){t.contact=e.body,t.isModalOpen=!0},function(e){console.log(e)})},fetchReturnTypes:function(){var e=this;this.$http.get(u.api_endpoints.return_types).then(function(t){e.return_types=t.body},function(e){console.log(e)})},sendData:function(){var e=this;e.errors=!1,e.condition.licence_activity=e.licence_activity_tab;var t=JSON.parse((0,o.default)(e.condition));t.standard?t.free_condition="":(t.standard_condition="",n(this.$refs.standard_req).val(null).trigger("change")),t.due_date||(t.due_date=null,t.recurrence=!1,delete t.recurrence_pattern,t.recurrence_schedule&&delete t.recurrence_schedule),e.condition.id?(e.updatingCondition=!0,e.$http.put(u.helpers.add_endpoint_json(u.api_endpoints.application_conditions,t.id),(0,o.default)(t),{emulateJSON:!0}).then(function(t){e.updatingCondition=!1,e.$parent.updatedConditions(),e.close()},function(t){e.errors=!0,e.errorString=u.helpers.apiVueResourceError(t),e.updatingCondition=!1})):(e.addingCondition=!0,e.$http.post(u.api_endpoints.application_conditions,(0,o.default)(t),{emulateJSON:!0}).then(function(t){e.addingCondition=!1,e.close(),e.$parent.updatedConditions()},function(t){e.errors=!0,e.addingCondition=!1,e.errorString=u.helpers.apiVueResourceError(t)}))},addFormValidations:function(){var e=this;e.validation_form=n(e.form).validate({rules:{standard_condition:{required:{depends:function(t){return e.condition.standard}}},free_condition:{required:{depends:function(t){return!e.condition.standard}}},schedule:{required:{depends:function(t){return e.condition.recurrence}}}},messages:{arrival:"field is required",departure:"field is required",campground:"field is required",campsite:"field is required"},showErrors:function(e,t){n.each(this.validElements(),function(e,t){n(t).attr("data-original-title","").parents(".form-group").removeClass("has-error")}),n("."+this.settings.validClass).tooltip("destroy");for(var a=0;a<t.length;a++){var i=t[a];n(i.element).tooltip({trigger:"focus"}).attr("data-original-title",i.message).parents(".form-group").addClass("has-error")}}})},eventListeners:function(){var e=this;n(e.$refs.due_date).datetimepicker(e.datepickerOptions),n(e.$refs.due_date).on("dp.change",function(t){n(e.$refs.due_date).data("DateTimePicker").date()?e.condition.due_date=t.date.format("DD/MM/YYYY"):""===n(e.$refs.due_date).data("date")&&(e.condition.due_date="")}),n(e.$refs.standard_req).select2({theme:"bootstrap",allowClear:!0,minimumInputLength:2,placeholder:"Select Condition"}).on("select2:select",function(t){var a=n(t.currentTarget);e.condition.standard_condition=a.val()}).on("select2:unselect",function(t){var a=n(t.currentTarget);e.condition.standard_condition=a.val()})}},mounted:function(){var e=this;e.form=document.forms.conditionForm,e.addFormValidations(),e.fetchReturnTypes(),this.$nextTick(function(){e.eventListeners()})}}}).call(t,a(0),a(1))},function(e,t,a){"use strict";(function(e,n,i){function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(12),r=s(o),l=a(17),c=s(l),d=a(103),u=s(d),p=a(16),_=s(p),m=a(5),f=s(m),v=a(132),h=s(v),g=a(4),b=(s(g),a(18)),y=s(b),C=a(10),x=s(C),w=a(6),k=a(744),A=s(k),I=a(748),D=s(I),T=a(65),S=(s(T),a(3));t.default={name:"ApplicationAssessments",data:function(){var e=this.$parent;return{assessment:{id:"",comment:"",inspection_date:"",inspection_report:null},datepickerInitialised:!1,isModalOpen:!1,assessorsBody:"assessorsBody"+e._uid,assessorGroup:[],panelBody:"assessment-details-"+e._uid,selectedAssessor:{},application_assessor_datatable:e._uid+"assessment-table",assessors_headers:["Assessor Group","Date Sent","Status","Final Comments","Action"],assessors_options:{},DATE_TIME_FORMAT:"DD/MM/YYYY HH:mm:ss",viewingAssessmentId:null,savingAssessment:!1}},components:{datatable:x.default,modal:y.default,Application:h.default,Conditions:A.default,SendToAssessor:D.default},props:{final_view_conditions:{type:Boolean,default:!1}},filters:{formatDate:function(t){return t?e(t).format("DD/MM/YYYY HH:mm:ss"):""}},watch:{},computed:(0,f.default)({},(0,w.mapGetters)(["application","original_application","licence_type_data","selected_activity_tab_id","selected_activity_tab_name","hasRole","visibleConditionsFor","licenceActivities","checkActivityStatus","isPartiallyFinalised","isFinalised","isApplicationLoaded","isApplicationActivityVisible","unfinishedActivities","current_user"]),{inspection_report_file_name:function(){return null!=this.assessment.inspection_report?this.assessment.inspection_report.name:""},applicationActivities:function(){return this.licenceActivities()},sendToAssessorActivities:function(){return this.licenceActivities(["with_officer","with_officer_conditions","with_assessor"],"licensing_officer")},selectedActivity:function(){var e=this.licence_type_data.activity,t=!0,a=!1,n=void 0;try{for(var i,s=(0,_.default)(e);!(t=(i=s.next()).done);t=!0){var o=i.value;if(o.id==this.selected_activity_tab_id)return o}}catch(e){a=!0,n=e}finally{try{!t&&s.return&&s.return()}finally{if(a)throw n}}return null},isLicensingOfficer:function(){return this.userHasRole("licensing_officer",this.selected_activity_tab_id)},canCompleteAssessment:function(){return!!this.userHasRole("assessor",this.selected_activity_tab_id)&&((!this.assessment.status||"awaiting_assessment"==this.assessment.status.id)&&!(!this.selected_activity_tab_id||"with_assessor"!=this.selectedActivity.processing_status.id))},canSendToAssessor:function(){var e=this;return this.sendToAssessorActivities.filter(function(t){if(t.id!=e.selected_activity_tab_id)return!1;var a=!0,n=!1,i=void 0;try{for(var s,o=(0,_.default)(e.assessorGroup);!(a=(s=o.next()).done);a=!0){var r=function(){var a=s.value;if(a.licence_activities&&a.licence_activities.filter(function(n){return n.id==t.id&&(null!=e.selectedAssessor.id&&e.assessorInGroup(e.selectedAssessor.id)||(e.selectedAssessor=a),!0)}).length)return{v:!0}}();if("object"===(void 0===r?"undefined":(0,u.default)(r)))return r.v}}catch(e){n=!0,i=e}finally{try{!a&&o.return&&o.return()}finally{if(n)throw i}}}).length}}),methods:(0,f.default)({},(0,w.mapActions)({load:"loadApplication",revert:"revertApplication"}),(0,w.mapActions)(["setApplication","setActivityTab"]),{close:function(){this.isModalOpen=!1},eventListeners:function(){var e=this,t=this;if(this.initFirstTab(),!this.$refs.assessorDatatable)return!1;this.$refs.assessorDatatable.vmDataTable.on("click",".assessment_remind",function(e){e.preventDefault();var a=n(e.target).data("assessmentid");t.$http.post(S.helpers.add_endpoint_json(S.api_endpoints.assessment,a+"/remind_assessment")).then(function(e){i("Sent","An email has been sent to assessor with the request to assess this Application","success"),t.refreshAssessorDatatables()},function(e){console.log(e),t.errors=!0,t.errorString=S.helpers.apiVueResourceError(e)})}),this.$refs.assessorDatatable.vmDataTable.on("click",".assessment_resend",function(e){e.preventDefault();var a=n(e.target).data("assessmentid");t.$http.post(S.helpers.add_endpoint_json(S.api_endpoints.assessment,a+"/resend_assessment")).then(function(e){i("Sent","An email has been sent to assessor with the request to re-assess this Application","success"),t.refreshAssessorDatatables(),t.$http.get(S.helpers.add_endpoint_json(S.api_endpoints.applications,t.application.id+"/internal_application")).then(function(e){t.refreshFromResponse(e)})},function(e){console.log(e),t.errors=!0,t.errorString=S.helpers.apiVueResourceError(e)})}),this.$refs.assessorDatatable.vmDataTable.on("click",".assessment_recall",function(e){e.preventDefault();var a=n(e.target).data("assessmentid");t.$http.post(S.helpers.add_endpoint_json(S.api_endpoints.assessment,a+"/recall_assessment")).then(function(e){i("Success","An assessment for this Application has been recalled","success"),t.refreshAssessorDatatables(),t.$http.get(S.helpers.add_endpoint_json(S.api_endpoints.applications,t.application.id+"/internal_application")).then(function(e){t.refreshFromResponse(e)})},function(e){console.log(e),t.errors=!0,t.errorString=S.helpers.apiVueResourceError(e)})}),this.$refs.assessorDatatable.vmDataTable.on("click",".assessment_view",function(t){var a=n(t.target).data("assessmentid");e.openAssessmentModal(a),t.preventDefault()})},openAssessmentModal:function(e){var t=this;this.isModalOpen=!0,this.viewingAssessmentId=e,this.$http.get(""+S.api_endpoints.assessment+this.viewingAssessmentId).then(function(e){t.assessment=e.body},function(e){console.log(e)})},saveAssessmentData:function(e){var t=this;return new c.default(function(e,a){var n=new FormData(t.form);t.assessment.is_inspection_required&&(n.append("inspection_comment",t.assessment.inspection_comment),n.append("inspection_date",t.assessment.inspection_date)),n.append("final_comment",t.assessment.final_comment),t.assessment.inspection_report&&n.append("inspection_report",t.assessment.inspection_report),t.$http.put(S.helpers.add_endpoint_json(S.api_endpoints.assessment,t.assessment.id+"/update_assessment"),n,{emulateJSON:!0}).then(function(t){e(t)},function(e){a(e)})})},saveAssessment:function(e){var t=this;this.savingAssessment=!0,this.saveAssessmentData().then(function(){i("Save Assessment","Your assessment has been saved.","success").then(function(e){t.savingAssessment=!1})},function(e){i("Error","There was an error saving your assessment","error").then(function(e){t.savingAssessment=!1})})},userHasRole:function(e,t){return this.hasRole(e,t)},getVisibleConditionsFor:function(e,t,a){return this.visibleConditionsFor(e,t,a)},initFirstTab:function(e){if(!this.selected_activity_tab_id||e){var t=n("#tabs-section li:first-child a")[0];t&&t.click()}},assessorInGroup:function(e){return this.assessorGroup.filter(function(t){return t.id==e}).length},isActivityVisible:function(e){return this.isApplicationActivityVisible({activity_id:e})},isAssessorRelevant:function(e,t){return t||(t=this.selected_activity_tab_id),!!e.licence_activities&&e.licence_activities.filter(function(e){return e.id==t}).length>0},sendtoAssessor:function(e){this.$refs.send_to_assessor.assessment.licence_activity=e,this.$refs.send_to_assessor.assessment.assessor_group=this.selectedAssessor.id,this.$refs.send_to_assessor.assessment.assessor_group_name=this.selectedAssessor.display_name,this.$refs.send_to_assessor.assessment.licence_activity=this.selected_activity_tab_id,this.$refs.send_to_assessor.assessment.text="",null==this.selectedAssessor.id||null==this.selectedAssessor.display_name?i("Error","Please select an Assessor Group to send the request to.","error"):this.$refs.send_to_assessor.isModalOpen=!0},clearSendToAssessorForm:function(){this.$refs.send_to_assessor.assessment.text="",this.selectedAssessor={}},hasActivityStatus:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return this.checkActivityStatus(e,t,a)},setAssessorTab:function(e){return 0===e?"active":""},refreshAssessorDatatables:function(){this.$refs.assessorDatatable.vmDataTable.ajax.reload()},completeAssessment:function(){var e=this;this.saveAssessmentData().then(function(){var t=new FormData;t.selected_assessment_tab=e.selected_activity_tab_id,t.application_id=e.application.id,e.$http.post(S.helpers.add_endpoint_json(S.api_endpoints.applications,e.application.id+"/complete_assessment"),{selected_assessment_tab:e.selected_activity_tab_id,application_id:e.application_id,assessment_id:e.viewingAssessmentId}).then(function(t){e.$parent.refreshFromResponse(t),e.refreshAssessorDatatables(),e.close(),i("Complete Assessment","The assessment has been successfully completed","success")},function(t){e.revert(),i("Error",S.helpers.apiVueResourceError(t),"error")})},function(e){i("Error",S.helpers.apiVueResourceError(e),"error")})},refreshFromResponse:function(e){this.$parent.refreshFromResponse(e),this.fetchAssessorGroup(),this.refreshAssessorDatatables()},fetchAssessorGroup:function(){var e=this,t={application_id:this.application.id};this.$http.post(S.helpers.add_endpoint_json(S.api_endpoints.assessor_group,"user_list"),(0,r.default)(t),{emulateJSON:!0}).then(function(t){e.assessorGroup=t.body},function(e){console.log(e)})},initialiseAssessmentOptions:function(){if(!this.isApplicationLoaded)return!1;var e=this,t=!0,a=!1,n=void 0;try{for(var i,s=(0,_.default)(this.licence_type_data.activity);!(t=(i=s.next()).done);t=!0){var o=i.value;null==this.assessors_options[o.id]&&(this.assessors_options[o.id]={language:{processing:"<i class='fa fa-4x fa-spinner fa-spin'></i>"},responsive:!0,ajax:{url:S.helpers.add_endpoint_join(S.api_endpoints.applications,this.application.id+"/assessment_details/?licence_activity="+o.id),dataSrc:""},columns:[{data:"assessor_group.display_name"},{data:"date_last_reminded"},{data:"status.name"},{data:"final_comment"},{mRender:function(t,a,n){var i="",s="awaiting_assessment"===n.status.id;return"completed"==n.status.id&&e.isLicensingOfficer?i+="\n                                        <a data-assessmentid='"+n.id+'\' class="assessment-action assessment_resend">Resend</a>\n                                    ':s&&e.isLicensingOfficer&&(i+="\n                                        <a data-assessmentid='"+n.id+"' class=\"assessment-action assessment_remind\">Remind</a>\n                                        <a data-assessmentid='"+n.id+'\' class="assessment-action assessment_recall">Recall</a>\n                                    '),i+="\n                                    <a data-assessmentid='"+n.id+'\' class="assessment-action assessment_view">'+(s&&e.canCompleteAssessment?"Edit":"View")+"</a>\n                                "}}],processing:!0})}}catch(e){a=!0,n=e}finally{try{!t&&s.return&&s.return()}finally{if(a)throw n}}return!0},optionsLoadedForActivity:function(e){return null!=this.assessors_options[e.id]},readFileInspectionReport:function(){var e=null,t=n(this.$refs.inspection_report)[0];if(t.files&&t.files[0]){var a=new FileReader;a.readAsDataURL(t.files[0]),a.onload=function(t){e=t.target.result},e=t.files[0]}this.assessment.inspection_report=e},initDatePicker:function(){var e=this;if(!this.datepickerInitialised&&void 0!==this.$refs&&this.assessment.is_inspection_required){var t=this.$refs.inspection_date,a=new Date(this.assessment.inspection_date);n(t).datetimepicker(this.datepickerOptions),n(t).data("DateTimePicker").date(a),n(t).off("dp.change").on("dp.change",function(a){var i=n(t).data("DateTimePicker").date().format("YYYY-MM-DD");i&&i!=e.assessment.inspection_date&&(e.assessment.inspection_date=i)}),this.datepickerInitialised=!0}}}),mounted:function(){this.fetchAssessorGroup(),this.initFirstTab(!0)},updated:function(){var e=this;this.$nextTick(function(){e.eventListeners(),e.initDatePicker()})}}}).call(t,a(0),a(1),a(9))},function(e,t,a){"use strict";(function(e,n,i){function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(5),r=s(o),l=a(3);a(343);var c=a(10),d=s(c),u=a(742),p=s(u),_=a(6);t.default={name:"InternalApplicationConditions",props:{activity:{type:null|Object,required:!0}},data:function(){var t=this;return{form:null,datepickerOptions:{format:"DD/MM/YYYY",showClear:!0,allowInputToggle:!0},panelBody:"application-conditions-"+t._uid,viewedCondition:{},conditions:[],condition_headers:["Condition","Due Date","Recurrence","Action","Order"],condition_options:{autoWidth:!1,language:{processing:"<i class='fa fa-4x fa-spinner fa-spin'></i>"},responsive:!0,ajax:{url:l.helpers.add_endpoint_join(l.api_endpoints.applications,this.$store.getters.application.id+"/conditions/?licence_activity="+this.$store.getters.selected_activity_tab_id),dataSrc:""},order:[],columns:[{data:"condition",orderable:!1},{data:"due_date",mRender:function(t,a,n){return""!=t&&null!=t?e(t).format("DD/MM/YYYY"):""},orderable:!1},{data:"recurrence",mRender:function(e,t,a){if(a.recurrence)switch(a.recurrence_pattern){case 1:case"weekly":return"Once per "+a.recurrence_schedule+" week(s)";case 2:case"monthly":return"Once per "+a.recurrence_schedule+" month(s)";case 3:case"yearly":return"Once per "+a.recurrence_schedule+" year(s)";default:return""}return""},orderable:!1},{mRender:function(e,a,n){var i="";return t.canEditConditons&&(i='\n                                    <a href=\'#\' class="editCondition" data-id="'+n.id+'">Edit</a><br/>\n                                    <a href=\'#\' class="deleteCondition" data-id="'+n.id+'">Delete</a><br/>\n                                '),i},orderable:!1},{mRender:function(e,t,a){var n="";return n+='<a class="dtMoveUp" data-id="'+a.id+'" href=\'#\'><i class="fa fa-angle-up"></i></a><br/>',n+='<a class="dtMoveDown" data-id="'+a.id+'" href=\'#\'><i class="fa fa-angle-down"></i></a><br/>'},orderable:!1}],processing:!0,drawCallback:function(e){t.$refs.conditions_datatable&&(n(t.$refs.conditions_datatable.table).find("tr:last .dtMoveDown").remove(),n(t.$refs.conditions_datatable.table).children("tbody").find("tr:first .dtMoveUp").remove()),n(".dtMoveUp").unbind("click"),n(".dtMoveDown").unbind("click"),n(".dtMoveUp").click(t.moveUp),n(".dtMoveDown").click(t.moveDown)}}}},watch:{},components:{datatable:d.default,ConditionDetail:p.default},computed:(0,r.default)({},(0,_.mapGetters)(["application","selected_activity_tab_id","hasRole"]),{canEditConditons:function(){if(!this.selected_activity_tab_id||null==this.activity)return!1;var e=!1;switch(this.activity.processing_status.id){case"with_assessor":e="assessor";break;case"with_officer_conditions":e="licensing_officer"}return e&&this.hasRole(e,this.selected_activity_tab_id)}}),methods:{addCondition:function(t){t?(this.viewedCondition=t,this.viewedCondition.due_date=null!=t.due_date?e(t.due_date).format("DD/MM/YYYY"):""):this.viewedCondition={standard:!0,recurrence:!1,due_date:"",free_condition:"",recurrence_pattern:"weekly",application:this.application.id},this.$refs.condition_detail.licence_activity=this.selected_activity_tab_id,this.$refs.condition_detail.isModalOpen=!0},removeCondition:function(e){var t=this;i({title:"Remove Condition",text:"Are you sure you want to remove this condition?",type:"warning",showCancelButton:!0,confirmButtonText:"Remove Condition",confirmButtonColor:"#d9534f"}).then(function(a){a.value&&t.$http.delete(l.helpers.add_endpoint_json(l.api_endpoints.application_conditions,e)).then(function(e){t.$refs.conditions_datatable.vmDataTable.ajax.reload()},function(e){console.log(e)})},function(e){})},fetchConditions:function(){var e=this;e.$http.get(l.api_endpoints.application_standard_conditions).then(function(t){e.conditions=t.body},function(e){console.log(e)})},editCondition:function(e){var t=this;this.$http.get(l.helpers.add_endpoint_json(l.api_endpoints.application_conditions,e)).then(function(e){e.body.standard&&n(t.$refs.condition_detail.$refs.standard_req).val(e.body.standard_condition).trigger("change"),t.addCondition(e.body)},function(e){console.log(e)})},updatedConditions:function(){this.$refs.conditions_datatable.vmDataTable.ajax.reload()},eventListeners:function(){var e=this;e.$refs.conditions_datatable.vmDataTable.on("click",".deleteCondition",function(t){t.preventDefault();var a=n(this).attr("data-id");e.removeCondition(a)}),e.$refs.conditions_datatable.vmDataTable.on("click",".editCondition",function(t){t.preventDefault();var a=n(this).attr("data-id");e.editCondition(a)})},sendDirection:function(e,t){var a="down"==t?"move_down":"move_up";this.$http.get(l.helpers.add_endpoint_json(l.api_endpoints.application_conditions,e+"/"+a)).then(function(e){},function(e){console.log(e)})},moveUp:function(e){var t=this;e.preventDefault();var a=n(e.target).parents("tr");t.moveRow(a,"up"),t.sendDirection(n(e.target).parent().data("id"),"up")},moveDown:function(e){e.preventDefault();var t=this,a=n(e.target).parents("tr");t.moveRow(a,"down"),t.sendDirection(n(e.target).parent().data("id"),"down")},moveRow:function(e,t){var a=this.$refs.conditions_datatable.vmDataTable,n=a.row(e).index(),i=-1;"down"===t&&(i=1);var s=a.row(n).data();s.order+=i;var o=a.row(n+i).data();o.order+=-i,a.row(n).data(o),a.row(n+i).data(s),a.page(0).draw(!1)}},mounted:function(){var e=this;this.fetchConditions(),this.$nextTick(function(){e.eventListeners(),e.form=document.forms.assessment_form})},updated:function(){}}}).call(t,a(0),a(1),a(9))},function(e,t,a){"use strict";(function(e,n,i){function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(16),r=s(o),l=a(12),c=s(l),d=a(5),u=s(d),p=a(3),_=a(6);t.default={name:"InternalApplicationIssuance",props:{application:Object,licence_activity_tab:Number},data:function(){var e=this;return{panelBody:"application-issuance-"+e._uid,proposed_licence:{},licence:{activity:[],id_check:!1,character_check:!1,return_check:!1,current_application:e.application.id},datepickerOptions:{format:"DD/MM/YYYY",showClear:!0,allowInputToggle:!0}}},watch:{},computed:(0,u.default)({},(0,_.mapGetters)(["selected_activity_tab_id","licenceActivities","filterActivityList"]),{canIssueOrDecline:function(){return(this.allActivitiesDeclined||this.licence.id_check&&this.licence.character_check&&this.licence.return_check)&&this.visibleLicenceActivities.length},selectedActivity:function(){var e=this;return this.visibleLicenceActivities.filter(function(t){return t.id==e.selected_activity_tab_id})},visibleLicenceActivities:function(){return this.filterActivityList({activity_list:this.licenceActivities(["with_officer_finalisation","awaiting_licence_fee_payment"],"issuing_officer"),exclude_processing_statuses:["discarded"]})},isIdCheckAccepted:function(){return"accepted"==this.application.id_check_status.id},isIdCheckAwaitingUpdate:function(){return"awaiting_update"==this.application.id_check_status.id},isIdNotChecked:function(){return"not_checked"==this.application.id_check_status.id||"updated"==this.application.id_check_status.id},isCharacterCheckAccepted:function(){return"accepted"==this.application.character_check_status.id},isCharacterNotChecked:function(){return"not_checked"==this.application.character_check_status.id},isReturnCheckAccepted:function(){return"accepted"==this.application.return_check_status.id},isReturnCheckAwaitingReturns:function(){return"awaiting_returns"==this.application.return_check_status.id},isReturnNotChecked:function(){return"not_checked"==this.application.return_check_status.id||"updated"==this.application.return_check_status.id},finalStatus:function(){var e=this;return function(t){return e.getActivity(t).final_status}},allActivitiesDeclined:function(){return this.licence&&!this.licence.activity.filter(function(e){return"declined"!==e.final_status}).length},canSubmit:function(){return 0===this.licence.activity.filter(function(e){return!e.confirmed}).length},canEditLicenceDates:function(){return this.application.application_type&&"amend_activity"!==this.application.application_type.id}}),methods:(0,u.default)({},(0,_.mapActions)(["setActivityTab"]),{selectTab:function(e){this.setActivityTab({id:e.id,name:e.name})},ok:function(){var t=this,a=this;if(!this.canSubmit)return e("Cannot issue/decline","One or more activity tabs hasn't been marked as ready for finalisation!","error");e({title:"Issue/Decline Activities",text:"Payment for issued licences will be charged from the applicant's last used card.",type:"question",showCancelButton:!0,confirmButtonText:"Finalise"}).then(function(i){if(i.value){var s=JSON.parse((0,c.default)(a.licence));s.activity=t.licence.activity.map(function(e){var t=["DD/MM/YYYY","YYYY-MM-DD"];return(0,u.default)({},e,{start_date:e.start_date?n(e.start_date,t).format("YYYY-MM-DD"):null,end_date:e.end_date?n(e.end_date,t).format("YYYY-MM-DD"):null})}),a.$http.post(p.helpers.add_endpoint_json(p.api_endpoints.applications,a.application.id+"/final_decision"),(0,c.default)(s),{emulateJSON:!0}).then(function(t){e("Activities Finalised","The selected activities have been successfully finalised!","success"),a.$parent.refreshFromResponse(t)},function(t){e("Application Error",p.helpers.apiVueResourceError(t),"error")})}},function(e){})},getActivity:function(e){var t=this.licence.activity.find(function(t){return t.id==e});return t||{}},initialiseLicenceDetails:function(){var e=null,t=!0,a=!1,n=void 0;try{for(var i,s=(0,r.default)(this.proposed_licence);!(t=(i=s.next()).done);t=!0){var o=i.value;"propose_issue"==o.proposed_action.id&&(e="issued"),"propose_decline"==o.proposed_action.id&&(e="declined");if(["with_officer_finalisation","awaiting_licence_fee_payment"].includes(o.processing_status)){var l=o.licence_activity.id;this.licence.activity.push({id:l,name:o.licence_activity.name,start_date:o.proposed_start_date,end_date:o.proposed_end_date,reason:o.reason,cc_email:o.cc_email,final_status:e,confirmed:!1})}}}catch(e){a=!0,n=e}finally{try{!t&&s.return&&s.return()}finally{if(a)throw n}}"accepted"==this.application.id_check_status.id&&(this.licence.id_check=!0),"not_checked"==this.application.id_check_status.id&&(this.licence.id_check=!1),"accepted"==this.application.character_check_status.id&&(this.licence.character_check=!0),"not_checked"==this.application.character_check_status.id&&(this.licence.character_check=!1),"accepted"==this.application.return_check_status.id&&(this.licence.return_check=!0),"not_checked"==this.application.return_check_status.id&&(this.licence.return_check=!1)},fetchProposeIssue:function(){var t=this,a=this;a.$http.get(p.helpers.add_endpoint_join(p.api_endpoints.applications,a.application.id+"/get_proposed_decisions/")).then(function(e){a.proposed_licence=e.body,t.initialiseLicenceDetails()},function(t){e("Application Error",p.helpers.apiVueResourceError(t),"error")})},eventListeners:function(){},userHasRole:function(e,t){return this.application.user_roles.filter(function(a){return a.role==e&&(!t||t==a.activity_id)}).length},initDatePicker:function(){var e=this;if(void 0!==this.$refs&&void 0!==this.$refs.end_date)for(var t=0;t<this.$refs.end_date.length;t++){(function(t){var a=e.$refs.start_date[t],n=e.$refs.end_date[t],s=n.dataset.activity;if(n.dataset.init)return"continue";var o=e.getActivity(s),r=new Date(o.start_date),l=new Date(o.end_date);n.dataset.init=!0,a.dataset.init=!0,i(n).datetimepicker(e.datepickerOptions),i(n).data("DateTimePicker").date(l),i(n).off("dp.change").on("dp.change",function(e){var t=i(n).data("DateTimePicker").date().format("DD/MM/YYYY");t&&t!=o.end_date&&(o.end_date=t)}),i(a).datetimepicker(e.datepickerOptions),i(a).data("DateTimePicker").date(r),i(a).off("dp.change").on("dp.change",function(e){var t=i(a).data("DateTimePicker").date().format("DD/MM/YYYY");t&&t!=o.start_date&&(o.start_date=t)})})(t)}}}),mounted:function(){var e=this;this.fetchProposeIssue(),this.$nextTick(function(){e.eventListeners(),i("#tabs-section li:first-child a").click()})},updated:function(){var e=this;this.$nextTick(function(){e.initDatePicker()})}}}).call(t,a(9),a(0),a(1))},function(e,t,a){"use strict";(function(e){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(5),s=n(i),o=(a(3),a(10)),r=(n(o),a(6));t.default={name:"InternalApplicationLicenceDetails",watch:{},components:{},computed:(0,s.default)({},(0,r.mapGetters)(["application","isPartiallyFinalised","licenceActivities","isFinalised"]),{finalisedActivities:function(){return this.licenceActivities(["accepted","declined"])}}),methods:{format:function(t){return e(t).format("DD/MM/YYYY")}}}}).call(t,a(0))},function(e,t,a){"use strict";(function(e,n){function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var s=a(12),o=i(s),r=a(5),l=i(r),c=a(18),d=i(c),u=a(30),p=i(u),_=a(3),m=a(6);t.default={name:"ProposedDecline",components:{modal:d.default,alert:p.default},props:{},data:function(){return{isModalOpen:!1,form:null,propose_decline:{activity:[],cc_email:null,reason:null},selected_activity:null,decliningApplication:!1,errors:!1,validation_form:null,errorString:"",successString:"",success:!1}},computed:(0,l.default)({},(0,m.mapGetters)(["application_id","licence_type_data","hasRole","licenceActivities"]),{showError:function(){return this.errors},title:function(){return"Proposed Decline"},visibleLicenceActivities:function(){return this.licenceActivities("with_officer_conditions","licensing_officer")}}),methods:{ok:function(){var t=this;e(t.form).valid()&&t.sendData()},cancel:function(){this.close()},close:function(){this.isModalOpen=!1,this.propose_decline={activity:[],cc_email:null,reason:null},this.errors=!1,e(".has-error").removeClass("has-error"),this.validation_form.resetForm()},sendData:function(){var e=this;e.errors=!1;var t=JSON.parse((0,o.default)(e.propose_decline));e.decliningApplication=!0,t.activity.length>0?e.$http.post(_.helpers.add_endpoint_json(_.api_endpoints.applications,this.application_id+"/proposed_decline"),(0,o.default)(t),{emulateJSON:!0}).then(function(t){n("Propose Decline","The selected licenced activities have been proposed for Decline.","success"),e.decliningApplication=!1,e.close(),e.$emit("refreshFromResponse",t)},function(t){e.errors=!0,e.decliningApplication=!1,e.errorString=_.helpers.apiVueResourceError(t)}):(e.decliningApplication=!1,n("Propose Decline","Please select at least once licenced activity to Propose Decline.","error"))},addFormValidations:function(){var t=this;t.validation_form=e(t.form).validate({rules:{reason:"required"},messages:{},showErrors:function(t,a){e.each(this.validElements(),function(t,a){e(a).attr("data-original-title","").parents(".form-group").removeClass("has-error")}),e("."+this.settings.validClass).tooltip("destroy");for(var n=0;n<a.length;n++){var i=a[n];e(i.element).tooltip({trigger:"focus"}).attr("data-original-title",i.message).parents(".form-group").addClass("has-error")}}})},eventListerners:function(){},userHasRole:function(e,t){return this.hasRole(e,t)}},mounted:function(){var e=this;e.form=document.forms.declineForm,e.addFormValidations()}}}).call(t,a(1),a(9))},function(e,t,a){"use strict";(function(e,n){function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var s=a(12),o=i(s),r=a(18),l=i(r),c=a(30),d=i(c),u=a(3);t.default={name:"Send-to-Assessor",components:{modal:l.default,alert:d.default},props:{},data:function(){return{isModalOpen:!1,form:null,assessment:{assessor_group_name:null,assessor_group:null,application:this.$store.getters.application_id,licence_activity:null},assessor_group:null,assessingApplication:!1,errors:!1,errorString:"",successString:"",success:!1}},computed:{showError:function(){return this.errors}},methods:{ok:function(){this.sendData()},cancel:function(){},close:function(){this.isModalOpen=!1,this.contact={}},sendData:function(){var t=this;t.errors=!1;var a=JSON.parse((0,o.default)(t.assessment));t.$http.post("/api/assessment.json",(0,o.default)(a),{emulateJSON:!0}).then(function(n){e("Send to Assessor","This application has been sent to the selected group for assessment.","success"),t.assessingApplication=!0;for(var i=0;i<t.$parent.$refs.assessorDatatable.length;i++)t.$parent.$refs.assessorDatatable[i].vmDataTable.ajax.reload();t.$http.get(u.helpers.add_endpoint_json(u.api_endpoints.applications,a.application+"/internal_application")).then(function(e){t.$emit("refreshFromResponse",e)}),t.close()},function(e){console.log(e),t.errors=!0,t.errorString=u.helpers.apiVueResourceError(e),t.amendingProposal=!0})},addFormValidations:function(){var e=this;n(e.form).validate({rules:{arrival:"required",departure:"required",campground:"required",campsite:{required:{depends:function(t){return e.campsites.length>0}}}},messages:{arrival:"field is required",departure:"field is required",campground:"field is required",campsite:"field is required"},showErrors:function(e,t){n.each(this.validElements(),function(e,t){n(t).attr("data-original-title","").parents(".form-group").removeClass("has-error")}),n("."+this.settings.validClass).tooltip("destroy");for(var a=0;a<t.length;a++){var i=t[a];n(i.element).tooltip({trigger:"focus"}).attr("data-original-title",i.message).parents(".form-group").addClass("has-error")}}})},eventListerners:function(){}},mounted:function(){var e=this;e.form=document.forms.addContactForm,e.addFormValidations()}}}).call(t,a(9),a(1))},function(e,t,a){"use strict";(function(e,n,i){function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(12),r=s(o),l=a(5),c=s(l),d=a(18),u=s(d),p=a(30),_=s(p),m=a(3),f=a(6);t.default={name:"Proposed-Licence",components:{modal:u.default,alert:_.default},props:{},data:function(){return{isModalOpen:!1,form:null,propose_issue:{activity:[],cc_email:null,reason:null,expiry_date:null,start_date:null},issuingLicence:!1,validation_form:null,errors:!1,errorString:"",successString:"",success:!1,datepickerOptions:{format:"DD/MM/YYYY",showClear:!0,useCurrent:!1,keepInvalid:!0,allowInputToggle:!0}}},computed:(0,c.default)({},(0,f.mapGetters)(["application","application_id","licence_type_data","hasRole","licenceActivities"]),{canEditLicenceDates:function(){return this.application.application_type&&"amend_activity"!==this.application.application_type.id},showError:function(){return this.errors},title:function(){return"with_approver"==this.application.processing_status.id?"Issue Licence":"Propose to issue licence"},visibleLicenceActivities:function(){return this.licenceActivities("with_officer_conditions","licensing_officer")}}),methods:{ok:function(){var t=this;e(t.form).valid()&&t.sendData()},cancel:function(){this.close()},close:function(){this.isModalOpen=!1,this.propose_issue={activity:[],cc_email:null,reason:null,expiry_date:null,start_date:null},this.errors=!1,e(".has-error").removeClass("has-error"),this.validation_form.resetForm()},fetchContact:function(e){var t=this;t.$http.get(m.api_endpoints.contact(e)).then(function(e){t.contact=e.body,t.isModalOpen=!0},function(e){console.log(e)})},sendData:function(){var e=this;e.errors=!1;var t=JSON.parse((0,r.default)(e.propose_issue));e.issuingLicence=!0,t.activity.length>0?e.$http.post(m.helpers.add_endpoint_json(m.api_endpoints.applications,e.application_id+"/proposed_licence"),(0,r.default)(e.propose_issue),{emulateJSON:!0}).then(function(t){n("Propose Issue","The selected licenced activities have been proposed for Issue.","success"),e.issuingLicence=!1,e.close(),e.$emit("refreshFromResponse",t)},function(t){e.errors=!0,e.issuingLicence=!1,e.errorString=m.helpers.apiVueResourceError(t)}):(e.issuingLicence=!1,n("Propose Issue","Please select at least once licenced activity to Propose Issue.","error"))},addFormValidations:function(){var t=this;t.validation_form=e(t.form).validate({rules:{start_date:{required:this.canEditLicenceDates},due_date:{required:this.canEditLicenceDates},licence_details:"required"},messages:{},showErrors:function(t,a){e.each(this.validElements(),function(t,a){e(a).attr("data-original-title","").parents(".form-group").removeClass("has-error")}),e("."+this.settings.validClass).tooltip("destroy");for(var n=0;n<a.length;n++){var i=a[n];e(i.element).tooltip({trigger:"focus"}).attr("data-original-title",i.message).parents(".form-group").addClass("has-error")}}})},eventListeners:function(){var t=this;e(t.$refs.due_date).datetimepicker(t.datepickerOptions),e(t.$refs.due_date).on("dp.change",function(a){e(t.$refs.due_date).data("DateTimePicker").date()?t.propose_issue.expiry_date=a.date.format("DD/MM/YYYY"):""===e(t.$refs.due_date).data("date")&&(t.propose_issue.expiry_date="")}),e(t.$refs.start_date).datetimepicker(t.datepickerOptions),e(t.$refs.start_date).on("dp.change",function(a){e(t.$refs.start_date).data("DateTimePicker").date()?t.propose_issue.start_date=a.date.format("DD/MM/YYYY"):""===e(t.$refs.start_date).data("date")&&(t.propose_issue.start_date="")})},preloadLastActivity:function(){var e=this;this.$http.get(m.helpers.add_endpoint_json(m.api_endpoints.applications,this.application_id+"/last_current_activity")).then(function(t){if(t.body.activity){var a=t.body.activity.start_date,n=t.body.activity.expiry_date;e.propose_issue.start_date=i(a,"YYYY-MM-DD").format("DD/MM/YYYY"),e.propose_issue.expiry_date=i(n,"YYYY-MM-DD").format("DD/MM/YYYY")}},function(e){console.log(e)})}},mounted:function(){var e=this;this.form=document.forms.licenceForm,this.addFormValidations(),this.$nextTick(function(){e.eventListeners()})}}}).call(t,a(1),a(9),a(0))},function(e,t,a){"use strict";(function(e){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(11),s=n(i),o=a(66),r=n(o),l=a(8),c=n(l),d=a(7),u=n(d),p=a(16),_=n(p),m=a(5),f=n(m),v=a(4),h=n(v),g=a(47),b=n(g),y=a(20),C=n(y),x=a(753),w=n(x),k=a(10),A=(n(k),a(3)),I=a(97),D=n(I),T=a(31),S=(n(T),a(6)),P=a(0),M=n(P),O=a(752),N=n(O),R=a(98),Y=n(R),E=a(99),L=n(E);a(15),a(77);var j=a(133),B=n(j),F=a(80),W=n(F),z=a(63),U=n(z),$=a(342),G=n($);a(40),a(39),t.default={name:"ViewCallEmail",data:function(){return{objectHash:null,uuid:0,cTab:"cTab"+this._uid,rTab:"rTab"+this._uid,sanctionOutcomeKey:"sanctionOutcome"+this._uid,dtHeadersRelatedItems:["Number","Type","Description","Action"],dtOptionsRelatedItems:{columns:[{data:"identifier"},{data:"model_name"},{data:"descriptor"},{data:"Action",mRender:function(e,t,a){return'<a href="#">View (not implemented)</a>'}}]},disabledDates:{from:new Date},workflow_type:"",classification_types:[],report_types:[],referrers:[],referrersSelected:[],current_schema:[],regionDistricts:[],sectionLabel:"Details",sectionIndex:1,pBody:"pBody"+this._uid,loading:[],renderer_form:null,callemailTab:"callemailTab"+this._uid,comms_url:A.helpers.add_endpoint_json(A.api_endpoints.call_email,this.$route.params.call_email_id+"/comms_log"),comms_add_url:A.helpers.add_endpoint_json(A.api_endpoints.call_email,this.$route.params.call_email_id+"/add_comms_log"),logs_url:A.helpers.add_endpoint_json(A.api_endpoints.call_email,this.$route.params.call_email_id+"/action_log"),workflowBindId:"",sanctionOutcomeInitialised:!1,offenceInitialised:!1,inspectionInitialised:!1,legalCaseInitialised:!1,hashAttributeWhitelist:["allocated_group_id","location","location_id","classification","classification_id","lodgement_date","number","caller","report_type_id","caller_phone_number","anonymous_call","caller_wishes_to_remain_anonymous","occurrence_from_to","occurrence_date_from","occurrence_time_start","occurrence_date_to","occurrence_time_end","date_of_call","time_of_call","advice_given","advice_details","region_id","district_id","case_priority_id"]}},components:{CommsLogs:C.default,FormSection:b.default,MapLocation:w.default,SearchPersonOrganisation:D.default,CallWorkflow:N.default,Offence:Y.default,RelatedItems:W.default,SanctionOutcome:L.default,Inspection:B.default,CreateLegalCaseModal:G.default},computed:(0,f.default)({},(0,S.mapGetters)("callemailStore",{call_email:"call_email"}),(0,S.mapGetters)({renderer_form_data:"renderer_form_data"}),{personSearchVisibility:function(){var e=!1;return"open"===this.statusId&&(e=!0),e},updateSearchPersonOrganisationBindId:function(){var e="individual";return this.call_email.email_user&&this.call_email.email_user.id?e+=this.call_email.email_user.id:e+="0",e},csrf_token:function(){return A.helpers.getCookie("csrftoken")},callerEntity:function(){var e={};return this.call_email.email_user&&this.call_email.email_user.id&&(e.id=this.call_email.email_user.id,e.data_type="individual"),e},occurrenceDateLabel:function(){return this.call_email.occurrence_from_to?"Occurrence date from":"Occurrence date"},occurrenceTimeLabel:function(){return this.call_email.occurrence_from_to?"Occurrence time from":"Occurrence time"},readonlyForm:function(){return!this.call_email.id||!this.call_email.can_user_edit_form},canUserAction:function(){return this.call_email.can_user_action},statusDisplay:function(){return this.call_email.status?this.call_email.status.name:""},statusId:function(){return this.call_email.status?this.call_email.status.id:""},offenceExists:function(){var e=!0,t=!1,a=void 0;try{for(var n,i=(0,_.default)(this.call_email.related_items);!(e=(n=i.next()).done);e=!0){if("offence"===n.value.model_name.toLowerCase())return!0}}catch(e){t=!0,a=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw a}}return!1},reportAdviceUrl:function(){return this.call_email.report_type?this.call_email.report_type.advice_url:null},relatedItemsBindId:function(){var e=Date.now();return this.call_email&&this.call_email.id?"call_email_"+this.call_email.id+"_"+this._uid:e.toString()},relatedItemsVisibility:function(){return!(!this.call_email||!this.call_email.id)},rendererVisibility:function(){return!!(this.call_email.id&&this.current_schema&&this.current_schema.length>0)},offenceBindId:function(){return"offence"+this.uuid}}),filters:{formatDate:function(e){return e?(0,M.default)(e).format("DD/MM/YYYY HH:mm:ss"):""}},methods:(0,f.default)({},(0,S.mapActions)("callemailStore",{loadCallEmail:"loadCallEmail",saveCallEmail:"saveCallEmail",setCallEmail:"setCallEmail",setRegionId:"setRegionId",setAllocatedGroupList:"setAllocatedGroupList",setOccurrenceTimeStart:"setOccurrenceTimeStart",setOccurrenceTimeEnd:"setOccurrenceTimeEnd",setTimeOfCall:"setTimeOfCall",setDateOfCall:"setDateOfCall",setRelatedItems:"setRelatedItems",setCaller:"setCaller"}),(0,S.mapActions)({saveFormData:"saveFormData"}),{updateUuid:function(){this.uuid+=1},entitySelected:function(){function e(e){return t.apply(this,arguments)}var t=(0,u.default)(c.default.mark(function e(t){return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,this.setCaller(t);case 3:case"end":return e.stop()}},e,this)}));return e}(),formChanged:function(){var e=this,t=!1,a={};return(0,r.default)(this.call_email).forEach(function(t,n,i){e.hashAttributeWhitelist.includes(t)&&(a[t]=e.call_email[t])}),this.addHashAttributes(a),this.objectHash!==(0,U.default)(a)&&(t=!0),t},calculateHash:function(){var e=this,t={};(0,r.default)(this.call_email).forEach(function(a,n,i){e.hashAttributeWhitelist.includes(a)&&(t[a]=e.call_email[a])}),this.addHashAttributes(t),this.objectHash=(0,U.default)(t)},addHashAttributes:function(e){var t=(0,s.default)({},this.renderer_form_data);e.renderer_form_data=t;var a=(0,s.default)({},this.callerEntity);e.callerEntity=a},updateWorkflowBindId:function(){var e=Date.now();this.workflow_type?this.workflowBindId=this.workflow_type+"_"+e.toString():this.workflowBindId=e.toString()},addWorkflow:function(e){var t=this;this.workflow_type=e,this.updateWorkflowBindId(),this.$nextTick(function(){t.$refs.add_workflow.isModalOpen=!0})},openSanctionOutcome:function(){var e=this;this.sanctionOutcomeInitialised=!0,this.$nextTick(function(){e.$refs.sanction_outcome.isModalOpen=!0})},openOffence:function(){this.offenceInitialised=!0,this.$refs.offence.isModalOpen=!0},allocateForInspection:function(){var e=this;this.inspectionInitialised=!0,this.$nextTick(function(){e.$refs.inspection.isModalOpen=!0})},allocateForLegalCase:function(){var e=this;this.legalCaseInitialised=!0,this.$nextTick(function(){e.$refs.legal_case.isModalOpen=!0})},save:function(){function e(e){return t.apply(this,arguments)}var t=(0,u.default)(c.default.mark(function e(t){var a,n;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(t),a=null,n=null,!this.call_email.id){e.next=19;break}if(!this.$refs.search_person_organisation||!this.$refs.search_person_organisation.entityIsPerson){e.next=14;break}return e.next=7,this.$refs.search_person_organisation.parentSave();case 7:if(!(n=e.sent)||!n.ok){e.next=12;break}return e.next=11,this.saveCallEmail({crud:"save"});case 11:a=e.sent;case 12:e.next=17;break;case 14:return e.next=16,this.saveCallEmail({crud:"save"});case 16:a=e.sent;case 17:e.next=22;break;case 19:return e.next=21,this.saveCallEmail({crud:"create"});case 21:a=e.sent;case 22:console.log(a),this.calculateHash(),a&&a.ok&&"exit"===t&&(window.removeEventListener("beforeunload",this.leaving),window.removeEventListener("onblur",this.leaving),this.$router.push({name:"internal-call-email-dash"}));case 25:case"end":return e.stop()}},e,this)}));return e}(),duplicate:function(){function e(){return t.apply(this,arguments)}var t=(0,u.default)(c.default.mark(function e(){return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.saveCallEmail({route:!1,crud:"duplicate"});case 2:case"end":return e.stop()}},e,this)}));return e}(),loadSchema:function(){this.$nextTick((0,u.default)(c.default.mark(function e(){var t,a;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=A.helpers.add_endpoint_json(A.api_endpoints.report_types,this.call_email.report_type_id+"/get_schema"),e.next=3,A.cache_helper.getSetCache("CallEmail_ReportTypeSchema",this.call_email.id.toString(),t);case 3:a=e.sent,a&&(this.current_schema=a.schema);case 5:case"end":return e.stop()}},e,this)})))},updateAssignedToId:function(){function e(e){return t.apply(this,arguments)}var t=(0,u.default)(c.default.mark(function e(t){var a,n,i;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=A.helpers.add_endpoint_join(A.api_endpoints.call_email,this.call_email.id+"/update_assigned_to_id/"),n=null,n="current_user"===t&&this.call_email.user_in_group?{current_user:!0}:"blank"===t?{blank:!0}:{assigned_to_id:this.call_email.assigned_to_id},e.next=5,h.default.http.post(a,n);case 5:return i=e.sent,e.next=8,this.setCallEmail(i.body);case 8:case"end":return e.stop()}},e,this)}));return e}(),addEventListeners:function(){var t=this,a=e(t.$refs.occurrenceDateFromPicker),n=e(t.$refs.occurrenceTimeFromPicker),i=e(t.$refs.occurrenceDateToPicker),s=e(t.$refs.occurrenceTimeToPicker),o=e(t.$refs.dateOfCallPicker),r=e(t.$refs.timeOfCallPicker);a.datetimepicker({format:"DD/MM/YYYY",maxDate:"now",showClear:!0}),a.on("dp.change",function(e){a.data("DateTimePicker").date()?t.call_email.occurrence_date_from=e.date.format("DD/MM/YYYY"):""===a.data("date")&&(t.call_email.occurrence_date_from="")}),n.datetimepicker({format:"LT",showClear:!0}),n.on("dp.change",function(e){n.data("DateTimePicker").date()?t.call_email.occurrence_time_from=e.date.format("LT"):""===n.data("date")&&(t.call_email.occurrence_time_from="")}),i.datetimepicker({format:"DD/MM/YYYY",maxDate:"now",showClear:!0}),i.on("dp.change",function(e){i.data("DateTimePicker").date()?t.call_email.occurrence_date_to=e.date.format("DD/MM/YYYY"):""===i.data("date")&&(t.call_email.occurrence_date_to="")}),s.datetimepicker({format:"LT",showClear:!0}),s.on("dp.change",function(e){s.data("DateTimePicker").date()?t.call_email.occurrence_time_to=e.date.format("LT"):""===s.data("date")&&(t.call_email.occurrence_time_to="")}),o.datetimepicker({format:"DD/MM/YYYY",maxDate:"now"}),o.on("dp.change",function(e){o.data("DateTimePicker").date()?t.call_email.date_of_call=e.date.format("DD/MM/YYYY"):""===o.data("date")&&(t.call_email.date_of_call="")}),r.datetimepicker({format:"LT",showClear:!0}),r.on("dp.change",function(e){r.data("DateTimePicker").date()?t.call_email.time_of_call=e.date.format("LT"):""===r.data("date")&&(t.call_email.time_of_call="")}),window.addEventListener("beforeunload",this.leaving),window.addEventListener("onblur",this.leaving)},leaving:function(e){if(this.formChanged())return e.returnValue="You have some unsaved changes.","You have some unsaved changes."}}),destroyed:function(){window.removeEventListener("beforeunload",this.leaving),window.removeEventListener("onblur",this.leaving)},created:function(){function e(){return t.apply(this,arguments)}var t=(0,u.default)(c.default.mark(function e(){var t,a,n,i,o,r,l,d,u,p;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.$route.params.call_email_id){e.next=3;break}return e.next=3,this.loadCallEmail({call_email_id:this.$route.params.call_email_id});case 3:return e.next=5,A.cache_helper.getSetCacheList("CallEmail_ClassificationTypes","/api/classification.json");case 5:return t=e.sent,(0,s.default)(this.classification_types,t),this.classification_types.splice(0,0,{id:null,name:""}),e.next=10,A.cache_helper.getSetCacheList("CallEmail_ReportTypes",A.helpers.add_endpoint_json(A.api_endpoints.report_types,"get_distinct_queryset"));case 10:return a=e.sent,(0,s.default)(this.report_types,a),this.report_types.splice(0,0,{id:"",name:""}),e.next=15,A.cache_helper.getSetCacheList("CallEmail_Referrers","/api/referrers.json");case 15:for(n=e.sent,(0,s.default)(this.referrers,n),this.referrers.splice(0,0,{id:"",name:""}),i=!0,o=!1,r=void 0,e.prev=21,l=(0,_.default)(this.call_email.selected_referrers);!(i=(d=l.next()).done);i=!0)u=d.value,this.referrersSelected.push(u);e.next=29;break;case 25:e.prev=25,e.t0=e.catch(21),o=!0,r=e.t0;case 29:e.prev=29,e.prev=30,!i&&l.return&&l.return();case 32:if(e.prev=32,!o){e.next=35;break}throw r;case 35:return e.finish(32);case 36:return e.finish(29);case 37:if(!this.call_email.report_type_id){e.next=40;break}return e.next=40,this.loadSchema();case 40:return e.next=42,A.cache_helper.getSetCacheList("RegionDistricts",A.api_endpoints.region_district);case 42:p=e.sent,(0,s.default)(this.regionDistricts,p),!this.call_email.date_of_call&&this.call_email.can_user_edit_form&&this.setDateOfCall((0,M.default)().format("DD/MM/YYYY")),!this.call_email.time_of_call&&this.call_email.can_user_edit_form&&this.setTimeOfCall((0,M.default)().format("LT")),this.calculateHash();case 47:case"end":return e.stop()}},e,this,[[21,25,29,37],[30,,32,36]])}));return e}(),mounted:function(){var t=this;e('a[data-toggle="collapse"]').on("click",function(){var t=e(this).children()[0];window.setTimeout(function(){e(t).toggleClass("glyphicon-chevron-down glyphicon-chevron-up")},100)}),e("#occurrenceTimeStartPicker").datetimepicker({format:"LT"}),e("#occurrenceTimeEndPicker").datetimepicker({format:"LT"}),e("#occurrenceTimeStartPicker").on("dp.change",function(e){t.setOccurrenceTimeStart(e.date.format("LT"))}),e("#occurrenceTimeEndPicker").on("dp.change",function(e){t.setOccurrenceTimeEnd(e.date.format("LT"))}),e("#timeOfCallPicker").datetimepicker({format:"LT"}),e("#timeOfCallPicker").on("dp.change",function(e){t.setTimeOfCall(e.date.format("LT"))}),e(t.$refs.referrerList).select2({theme:"bootstrap",allowClear:!0,placeholder:"Select Referrer"}).on("select2:select",function(a){var n=e(a.currentTarget);t.referrersSelected=n.val()}).on("select2:unselect",function(a){var n=e(a.currentTarget);t.referrersSelected=n.val()}),t.$nextTick(function(){t.addEventListeners()})}}}).call(t,a(1))},function(e,t,a){"use strict";(function(e){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(5),s=n(i),o=a(11),r=n(o),l=a(8),c=n(l),d=a(7),u=n(d),p=a(1),_=n(p),m=a(10),f=n(m),v=a(754),h=n(v),g=a(4),b=(n(g),a(3)),y=a(6),C=a(47),x=n(C);t.default={name:"CallEmailDashTable",data:function(){var t=this;return{classification_types:[],report_types:[],filterStatus:"All",filterClassification:"All",status_choices:[],filterLodgedFrom:"",filterLodgedTo:"",dateFormat:"DD/MM/YYYY",datepickerOptions:{format:"DD/MM/YYYY",showClear:!0,useCurrent:!1,keepInvalid:!0,allowInputToggle:!0},dtOptions:{serverSide:!0,searchDelay:1e3,lengthMenu:[[10,25,50,100,-1],[10,25,50,100,"All"]],order:[[0,"desc"]],autoWidth:!1,rowCallback:function(e,t){(0,_.default)(e).addClass("appRecordRow")},language:{processing:"<i class='fa fa-4x fa-spinner fa-spin'></i>"},responsive:!0,processing:!0,ajax:{url:"/api/call_email_paginated/get_paginated_datatable/?format=datatables",dataSrc:"data",data:function(a){a.status_description=t.filterStatus,a.classification_description=t.filterClassification,a.date_from=""!=t.filterLodgedFrom&&null!=t.filterLodgedFrom?e(t.filterLodgedFrom,"DD/MM/YYYY").format("YYYY-MM-DD"):"",a.date_to=""!=t.filterLodgedTo&&null!=t.filterLodgedTo?e(t.filterLodgedTo,"DD/MM/YYYY").format("YYYY-MM-DD"):""}},dom:"lBfrtip",buttons:["excel","csv"],columns:[{data:"number",searchable:!1},{data:"status.name",searchable:!1},{data:"classification",searchable:!1,mRender:function(e,t,a){return e?e.name:""}},{data:"lodged_on",searchable:!1,mRender:function(a,n,i){return""!=a&&null!=a?e(a).format(t.dateFormat):""}},{data:"caller",searchable:!1},{data:"assigned_to",searchable:!1,orderable:!1,mRender:function(e,t,a){return e?e.full_name:""}},{data:"user_action",searchable:!1,orderable:!1}]},dtHeaders:["Number","Status","Classification","Lodged on","Caller","Assigned to","Action"]}},beforeRouteEnter:function(e,t,a){var n=this;a(function(){var e=(0,u.default)(c.default.mark(function e(t){return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.loadCurrentUser({url:"/api/my_compliance_user_details"});case 2:case"end":return e.stop()}},e,n)}));return function(t){return e.apply(this,arguments)}}())},created:function(){function e(){return t.apply(this,arguments)}var t=(0,u.default)(c.default.mark(function e(){var t,a;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.cache_helper.getSetCacheList("CallEmail_ClassificationTypes","/api/classification.json");case 2:return t=e.sent,console.log("classification types"),console.log(t),(0,r.default)(this.classification_types,t),console.log(this.classification_types),this.classification_types.splice(0,0,{id:"all",name:"All"}),e.next=10,b.cache_helper.getSetCacheList("CallEmail_StatusChoices","/api/call_email/status_choices");case 10:a=e.sent,console.log("returned_status_choices"),console.log(a),(0,r.default)(this.status_choices,a),console.log(this.status_choices),this.status_choices.splice(0,0,{id:"all",display:"All"});case 16:case"end":return e.stop()}},e,this)}));return e}(),watch:{filterStatus:function(){this.$refs.call_email_table.vmDataTable.draw()},filterClassification:function(){this.$refs.call_email_table.vmDataTable.draw()},filterLodgedFrom:function(){this.$refs.call_email_table.vmDataTable.draw()},filterLodgedTo:function(){this.$refs.call_email_table.vmDataTable.draw()}},components:{datatable:f.default,FormSection:x.default,MapLocations:h.default},computed:(0,s.default)({},(0,y.mapGetters)("callemailStore",{}),(0,y.mapGetters)({current_user:"current_user"})),methods:(0,s.default)({},(0,y.mapActions)("callemailStore",{saveCallEmail:"saveCallEmail"}),(0,y.mapActions)({loadCurrentUser:"loadCurrentUser"}),{createCallEmailUrl:function(){function e(){return t.apply(this,arguments)}var t=(0,u.default)(c.default.mark(function e(){var t,a;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=null,e.next=3,this.saveCallEmail({route:!1,crud:"create"});case 3:a=e.sent,a&&(t=a.body.id),console.log("newCallId"),console.log(t),this.$router.push({name:"view-call-email",params:{call_email_id:t}});case 8:case"end":return e.stop()}},e,this)}));return e}(),addEventListeners:function(){var e=this;(0,_.default)(e.$refs.lodgementDateToPicker).datetimepicker(e.datepickerOptions),(0,_.default)(e.$refs.lodgementDateToPicker).on("dp.change",function(t){(0,_.default)(e.$refs.lodgementDateToPicker).data("DateTimePicker").date()?e.filterLodgedTo=t.date.format("DD/MM/YYYY"):""===(0,_.default)(e.$refs.lodgementDateToPicker).data("date")&&(e.filterLodgedTo="")}),(0,_.default)(e.$refs.lodgementDateFromPicker).datetimepicker(e.datepickerOptions),(0,_.default)(e.$refs.lodgementDateFromPicker).on("dp.change",function(t){(0,_.default)(e.$refs.lodgementDateFromPicker).data("DateTimePicker").date()?e.filterLodgedFrom=t.date.format("DD/MM/YYYY"):""===(0,_.default)(e.$refs.lodgementDateFromPicker).data("date")&&(e.filterLodgedFrom="")})},initialiseSearch:function(){this.dateSearch()},dateSearch:function(){var t=this;t.$refs.call_email_table.table.dataTableExt.afnFiltering.push(function(a,n,i,s){var o=t.filterLodgedFrom,r=t.filterLodgedTo,l=s.lodgement_date;return""==o&&""==r||(""!=o&&""!=r?null!=l&&""!=l&&e().range(e(o,t.dateFormat),e(r,t.dateFormat)).contains(e(l)):""==o&&""!=r?null!=l&&""!=l&&e(r,t.dateFormat).diff(e(l))>=0:""==r&&""!=o&&(null!=l&&""!=l&&e(l).diff(e(o,t.dateFormat))>=0))})}}),mounted:function(){function e(){return t.apply(this,arguments)}var t=(0,u.default)(c.default.mark(function e(){var t,a=this;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=this,(0,_.default)('a[data-toggle="collapse"]').on("click",function(){var e=(0,_.default)(this).children()[0];window.setTimeout(function(){(0,_.default)(e).toggleClass("glyphicon-chevron-down glyphicon-chevron-up")},100)}),this.$nextTick((0,u.default)(c.default.mark(function e(){return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.initialiseSearch();case 2:return e.next=4,t.addEventListeners();case 4:case"end":return e.stop()}},e,a)})));case 3:case"end":return e.stop()}},e,this)}));return e}()}}).call(t,a(0))},function(e,t,a){"use strict";(function(e,n){function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var s=a(11),o=i(s),r=a(8),l=i(r),c=a(7),d=i(c),u=a(16),p=i(u),_=a(5),m=i(_),f=a(4),v=i(f),h=a(18),g=i(h),b=a(6),y=a(3),C=a(28),x=i(C),w=a(135);a(40),a(39),t.default={name:"CallEmailWorking",data:function(){return{officers:[],isModalOpen:!1,processingDetails:!1,form:null,regions:[],regionDistricts:[],availableDistricts:[],casePriorities:[],inspectionTypes:[],externalOrganisations:[],referrers:[],referrersSelected:[],workflowDetails:"",errorResponse:"",region_id:null,district_id:null,assigned_to_id:null,inspection_type_id:null,case_priority_id:null,advice_details:"",allocatedGroup:[],allocated_group_id:null,files:[{file:null,name:""}]}},components:{modal:g.default,filefield:x.default},validations:function(){return"allocate_for_follow_up"===this.workflow_type?{region_id:{required:w.required},assigned_to_id:{required:w.required}}:{region_id:{required:w.required}}},props:{workflow_type:{type:String,default:""}},computed:(0,m.default)({},(0,b.mapGetters)("callemailStore",{call_email:"call_email"}),{regionVisibility:function(){return"forward_to_wildlife_protection_branch"!==this.workflow_type&&"close"!==this.workflow_type},allocateToVisibility:function(){return!!this.workflow_type.startsWith("allocate")},groupPermission:function(){return"forward_to_regions"===this.workflow_type?"triage_call_email":"forward_to_wildlife_protection_branch"===this.workflow_type?"triage_call_email":"allocate_for_follow_up"===this.workflow_type?"officer":"allocate_for_inspection"===this.workflow_type?"officer":"allocate_for_case"===this.workflow_type?"officer":"close"===this.workflow_type?"":void 0},modalTitle:function(){return"forward_to_regions"===this.workflow_type?"Forward to Regions":"forward_to_wildlife_protection_branch"===this.workflow_type?"Forward to Wildlife Protection Branch":"allocate_for_follow_up"===this.workflow_type?"Allocate for Follow Up":"allocate_for_inspection"===this.workflow_type?"Allocate for Inspection":"allocate_for_case"===this.workflow_type?"Allocate for Case":"close"===this.workflow_type?"Close complaint":void 0},regionDistrictId:function(){return this.district_id||this.region_id?this.district_id?this.district_id:this.region_id:null}}),filters:{formatDate:function(t){return t?e(t).format("DD/MM/YYYY HH:mm:ss"):""}},methods:(0,m.default)({},(0,b.mapActions)("callemailStore",{saveCallEmail:"saveCallEmail"}),(0,b.mapActions)({loadAllocatedGroup:"loadAllocatedGroup"}),{updateDistricts:function(){this.availableDistricts=[];var e=!0,t=!1,a=void 0;try{for(var n,i=(0,p.default)(this.regionDistricts);!(e=(n=i.next()).done);e=!0){var s=n.value;if(this.region_id===s.id){var o=!0,r=!1,l=void 0;try{for(var c,d=(0,p.default)(s.districts);!(o=(c=d.next()).done);o=!0){var u=c.value,_=!0,m=!1,f=void 0;try{for(var v,h=(0,p.default)(this.regionDistricts);!(_=(v=h.next()).done);_=!0){var g=v.value;g.id===u&&this.availableDistricts.push(g)}}catch(e){m=!0,f=e}finally{try{!_&&h.return&&h.return()}finally{if(m)throw f}}}}catch(e){r=!0,l=e}finally{try{!o&&d.return&&d.return()}finally{if(r)throw l}}}}}catch(e){t=!0,a=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw a}}console.log(this.availableDistricts),this.availableDistricts.splice(0,0,{id:"",display_name:"",district:"",districts:[],region:null}),this.updateAllocatedGroup()},updateAllocatedGroup:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(l.default.mark(function e(){var t,a,n,i,s,o,r;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("updateAllocatedGroup"),this.errorResponse="","forward_to_wildlife_protection_branch"!==this.workflow_type){e.next=22;break}for(t=!0,a=!1,n=void 0,e.prev=6,i=(0,p.default)(this.regionDistricts);!(t=(s=i.next()).done);t=!0)o=s.value,"KENSINGTON"===o.district&&(this.district_id=null,this.region_id=o.id);e.next=14;break;case 10:e.prev=10,e.t0=e.catch(6),a=!0,n=e.t0;case 14:e.prev=14,e.prev=15,!t&&i.return&&i.return();case 17:if(e.prev=17,!a){e.next=20;break}throw n;case 20:return e.finish(17);case 21:return e.finish(14);case 22:if(!this.groupPermission||!this.regionDistrictId){e.next=28;break}return e.next=25,this.loadAllocatedGroup({region_district_id:this.regionDistrictId,group_permission:this.groupPermission});case 25:r=e.sent,r.ok?(console.log(r.body.allocated_group),v.default.set(this,"allocatedGroup",r.body.allocated_group),this.allocated_group_id=r.body.group_id):this.errorResponse=r.statusText,!this.errorResponse&&this.allocatedGroup&&this.allocatedGroup.length<=1&&(this.errorResponse="This group has no members");case 28:case"end":return e.stop()}},e,this,[[6,10,14,22],[15,,17,21]])}));return e}(),ok:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(l.default.mark(function e(){var t,a;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this.isValidForm())){e.next=7;break}return e.next=4,this.sendData();case 4:a=e.sent,console.log(a),"ok"===a&&this.close();case 7:case"end":return e.stop()}},e,this)}));return e}(),isValidForm:function(){return console.log("performValidation"),this.$v.$touch(),!this.$v.$invalid||(this.errorResponse="Invalid form:\n",this.$v.region_id.$invalid&&(this.errorResponse+="Region is required\n"),this.$v.assigned_to_id&&this.$v.assigned_to_id.$invalid&&(this.errorResponse+="Officer must be assigned\n"),!1)},cancel:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(l.default.mark(function e(){return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.$refs.comms_log_file.cancel();case 2:this.isModalOpen=!1,this.close();case 4:case"end":return e.stop()}},e,this)}));return e}(),close:function(){var e=this;this.isModalOpen=!1;var t=e.files.length;this.files=[];for(var a=0;a<t;a++)e.$nextTick(function(){n(".file-row-"+a).remove()});this.attachAnother()},sendData:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(l.default.mark(function e(){var t,a,n,i;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t="/api/call_email/"+this.call_email.id+"/workflow_action/",a=new FormData(this.form),this.call_email.id&&a.append("call_email_id",this.call_email.id),this.workflowDetails&&a.append("details",this.workflowDetails),this.$refs.comms_log_file.commsLogId&&a.append("call_email_comms_log_id",this.$refs.comms_log_file.commsLogId),this.workflow_type&&a.append("workflow_type",this.workflow_type),this.modalTitle&&a.append("email_subject",this.modalTitle),this.referrersSelected&&a.append("referrers_selected",this.referrersSelected),this.district_id&&a.append("district_id",this.district_id),this.assigned_to_id&&a.append("assigned_to_id",this.assigned_to_id),this.inspection_type_id&&a.append("inspection_type_id",this.inspection_type_id),this.case_priority_id&&a.append("case_priority_id",this.case_priority_id),this.region_id&&a.append("region_id",this.region_id),this.allocated_group_id&&a.append("allocated_group_id",this.allocated_group_id),e.next=16,this.saveCallEmail({crud:"save",internal:!0});case 16:if(n=e.sent,console.log(n),!n.ok){e.next=31;break}return e.prev=19,e.next=22,v.default.http.post(t,a);case 22:i=e.sent,i.ok&&this.$router.push({name:"internal-call-email-dash"}),e.next=29;break;case 26:e.prev=26,e.t0=e.catch(19),this.errorResponse="Error:"+e.t0.statusText;case 29:e.next=32;break;case 31:this.errorResponse="Error:"+n.statusText;case 32:case"end":return e.stop()}},e,this,[[19,26]])}));return e}(),uploadFile:function(e,t){var a=null,i=n("."+e)[0];if(i.files&&i.files[0]){var s=new FileReader;s.readAsDataURL(i.files[0]),s.onload=function(e){a=e.target.result},a=i.files[0]}t.file=a,t.name=a.name},removeFile:function(e){var t=this,a=this.files.length;n(".file-row-"+e).remove(),this.files.splice(e,1),this.$nextTick(function(){1==a&&t.attachAnother()})},attachAnother:function(){this.files.push({file:null,name:""})}}),created:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(l.default.mark(function e(){var t,a,n,i,s;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.cache_helper.getSetCacheList("Regions","/api/region_district/get_regions/");case 2:return t=e.sent,(0,o.default)(this.regions,t),this.regions.splice(0,0,{id:"",display_name:"",district:"",districts:[],region:null}),e.next=7,y.cache_helper.getSetCacheList("RegionDistricts",y.api_endpoints.region_district);case 7:return a=e.sent,(0,o.default)(this.regionDistricts,a),e.next=11,this.updateAllocatedGroup();case 11:return e.next=13,y.cache_helper.getSetCacheList("LegalCasePriorities",y.api_endpoints.legal_case_priorities);case 13:return n=e.sent,(0,o.default)(this.legalCasePriorities,n),this.legalCasePriorities.splice(0,0,{id:"",description:""}),e.next=18,y.cache_helper.getSetCacheList("InspectionTypes",y.api_endpoints.inspection_types);case 18:return i=e.sent,(0,o.default)(this.inspectionTypes,i),this.inspectionTypes.splice(0,0,{id:"",description:""}),e.next=23,y.cache_helper.getSetCacheList("CallEmail_Referrers","/api/referrers.json");case 23:s=e.sent,(0,o.default)(this.referrers,s),this.referrers.splice(0,0,{id:"",name:""}),this.district_id=this.call_email.district_id,this.region_id=this.call_email.region_id,this.updateDistricts();case 29:case"end":return e.stop()}},e,this)}));return e}(),mounted:function(){this.form=document.forms.forwardForm;var e=this;n(e.$refs.referrerList).select2({theme:"bootstrap",allowClear:!0,placeholder:"Select Referrer"}).on("select2:select",function(t){var a=n(t.currentTarget);e.referrersSelected=a.val()}).on("select2:unselect",function(t){var a=n(t.currentTarget);e.referrersSelected=a.val()})}}}).call(t,a(0),a(1))},function(e,t,a){"use strict";(function(e){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(5),s=n(i),o=a(52),r=n(o);a(124),a(62);var l=a(35),c=n(l),d=a(6),u=a(43);a(15),a(29),a(59),a(119),a(58),t.default={name:"map-leaflet",data:function(){var e=[13775786.985667605,-2871569.067879858],t=this,n={shadowUrl:a(42),shadowSize:[41,41],shadowAnchor:[12,41],iconSize:[32,32],iconAnchor:[16,32],popupAnchor:[0,-20]};return t.icon_default=r.default.icon((0,s.default)({iconUrl:a(93)},n)),t.icon_enquiery=r.default.icon((0,s.default)({iconUrl:a(317)},n)),t.icon_complaint=r.default.icon((0,s.default)({iconUrl:a(318)},n)),t.icon_incident=r.default.icon((0,s.default)({iconUrl:a(319)},n)),t.guid=(0,u.guid)(),{defaultCenter:e,projection:null,map:null,popup:null,element:null,base_layer:"osm",awe:null,suggest_list:[],feature_marker:null,cursor_location:null,idMap:t.guid+"mapLeaf",idLocationFieldsAddress:t.guid+"LocationFieldsAddress",idLocationFieldsDetails:t.guid+"LocationFieldsDetails",idSearchInput:t.guid+"SearchInput",idBasemapSat:t.guid+"BasemapSat",idBasemapOsm:t.guid+"BasemapOsm"}},computed:(0,s.default)({},(0,d.mapGetters)("callemailStore",{call_email:"call_email",call_latitude:"call_latitude",call_longitude:"call_longitude"}),{isReadonly:function(){return!this.call_email.status||"draft"!==this.call_email.status.id}}),watch:{call_email:{handler:function(){this.setMarkerIcon()},deep:!0},call_latitude:{handler:function(){this.setMarkerLocation()}},call_longitude:{handler:function(){this.setMarkerLocation()}}},mounted:function(){this.$nextTick(function(){console.debug("Start loading map"),this.initMap(),this.setBaseLayer("osm"),this.initAwesomplete(),this.call_email.location&&this.call_email.location&&this.call_email.location.geometry&&this.call_email.location.geometry.coordinates&&this.call_email.location.geometry.coordinates.length>0&&(this.addMarker([this.call_email.location.geometry.coordinates[1],this.call_email.location.geometry.coordinates[0]]),this.refreshMarkerLocation()),this.showHideAddressDetailsFields(!1,!1),console.debug("End loading map")})},methods:(0,s.default)({},(0,d.mapActions)("callemailStore",{setLocationPoint:"setLocationPoint",setLocationAddress:"setLocationAddress",setLocationAddressEmpty:"setLocationAddressEmpty",setLocationDetailsFieldEmpty:"setLocationDetailsFieldEmpty"}),{setMarkerCentre:function(){var e=this,t=e.call_email.location.geometry.coordinates[1],a=e.call_email.location.geometry.coordinates[0];e.map.flyTo({lat:t,lng:a},12,{animate:!0,duration:1.5})},setMarkerLocation:function(){var e=this;if(!e.isReadonly){var t=e.call_email.location.geometry.coordinates[1],a=e.call_email.location.geometry.coordinates[0];if(-90<t&&t<90&&-180<a<180){console.log(t+", "+a);var n=[a,t];this.feature_marker.setLatLng({lat:t,lng:a}),e.map.flyTo({lat:t,lng:a},12,{animate:!0,duration:1.5}),e.reverseGeocoding(n)}}},setMarkerIcon:function(){var e=this;e.feature_marker&&(e.call_email.classification_id?1==e.call_email.classification_id?e.feature_marker.setIcon(e.icon_incident):2==e.call_email.classification_id?e.feature_marker.setIcon(e.icon_enquiery):3==e.call_email.classification_id&&e.feature_marker.setIcon(e.icon_complaint):e.feature_marker.setIcon(e.icon_default))},addMarker:function(e){var t=this;t.feature_marker=r.default.marker({lon:e[1],lat:e[0]},{icon:t.icon_default}).on("click",function(e){t.feature_marker.setIcon(myIcon)}),t.feature_marker.addTo(t.map),t.setMarkerIcon()},reverseGeocoding:function(t){var a=this;e.ajax({url:"https://mapbox.dpaw.wa.gov.au/geocoding/v5/mapbox.places/"+t[0]+","+t[1]+".json?"+e.param({limit:1,types:"address"}),dataType:"json",success:function(e,t,n){console.log("reverse results: "),console.log(e);var i=!1;if(e.features&&e.features.length>0)for(var s=0;s<e.features.length;s++)e.features[s].place_type.includes("address")&&(console.log(e.features[s]),a.updateAddressFields(e.features[s]),i=!0);i?(console.log("address found"),a.showHideAddressDetailsFields(!0,!1),a.setLocationDetailsFieldEmpty()):(console.log("address not found"),a.showHideAddressDetailsFields(!1,!0),a.setLocationAddressEmpty())}})},search:function(t){var a=this,n=this.map.getCenter();e.ajax({url:"https://mapbox.dpaw.wa.gov.au/geocoding/v5/mapbox.places/"+encodeURIComponent(t)+".json?"+e.param({country:"au",limit:10,proximity:n.lng+","+n.lat,bbox:"112.920934,-35.191991,129.0019283,-11.9662455",types:"region,postcode,district,place,locality,neighborhood,address,poi"}),dataType:"json",success:function(e,t,n){if(a.suggest_list=[],e.features&&e.features.length>0)for(var i=0;i<e.features.length;i++)a.suggest_list.push({label:e.features[i].place_name,value:e.features[i].place_name,feature:e.features[i]});a.awe.list=a.suggest_list,a.awe.evaluate()}})},initAwesomplete:function(){var t=this,a=document.getElementById(t.idSearchInput);this.awe=new c.default(a),e(a).on("keyup",function(e){var a=e.keyCode||e.which;if(48<=a&&a<=90||96<=a&&a<=105||8==a||46==a)return t.search(e.target.value),!1}).on("awesomplete-selectcomplete",function(e){e.preventDefault(),e.stopPropagation();for(var a=0;a<t.suggest_list.length;a++)if(t.suggest_list[a].value==e.target.value){var n={lat:t.suggest_list[a].feature.geometry.coordinates[1],lng:t.suggest_list[a].feature.geometry.coordinates[0]};t.map.flyTo(n,13,{animate:!0,duration:1.5}),t.isReadonly||(t.feature_marker||t.addMarker([n.lat,n.lng]),t.relocateMarker(n),t.suggest_list[a].feature.place_type.includes("address")?(t.showHideAddressDetailsFields(!0,!1),t.updateAddressFields(t.suggest_list[a].feature),t.setLocationDetailsFieldEmpty()):(t.showHideAddressDetailsFields(!1,!0),t.setLocationAddressEmpty()))}return!1})},updateAddressFields:function(e){if(!this.isReadonly){console.log("updateAddressField");var t=new Object,a={"New South Wales":"NSW",Queensland:"QLD","South Australia":"SA",Tasmania:"TAS",Victoria:"VIC","Western Australia":"WA","Northern Territory":"NT","Australian Capital Territory":"ACT"},n=e.place_name.split(",");t.street=n[0];var i=/^([a-zA-Z0-9\s]*)\s(New South Wales|Queensland|South Australia|Tasmania|Victoria|Western Australia|Northern Territory|Australian Capital Territory){1}\s+(\d{4})$/gi,s=i.exec(n[1]);t.town_suburb=s[1].trim();var o=a[s[2].trim()];t.state=o,t.postcode=s[3].trim(),t.country="Australia",this.setLocationAddress(t)}},setBaseLayer:function(t){"sat"==t?(this.map.removeLayer(this.tileLayer),this.map.addLayer(this.tileLayerSat),e("#"+this.idBasemapSat).hide(),e("#"+this.idBasemapOsm).show()):(this.map.removeLayer(this.tileLayerSat),this.map.addLayer(this.tileLayer),e("#"+this.idBasemapOsm).hide(),e("#"+this.idBasemapSat).show())},showHideAddressDetailsFields:function(t,a){t?e("#"+this.idLocationFieldsAddress).fadeIn():e("#"+this.idLocationFieldsAddress).fadeOut(),a?e("#"+this.idLocationFieldsDetails).fadeIn():e("#"+this.idLocationFieldsDetails).fadeOut()},refreshMarkerLocation:function(){this.isReadonly||this.call_email.location.geometry&&(this.feature_marker.setLatLng({lat:this.call_email.location.geometry.coordinates[1],lng:this.call_email.location.geometry.coordinates[0]}),this.call_email.location.geometry&&this.reverseGeocoding(this.call_email.location.geometry.coordinates))},initMap:function(){this.map=r.default.map(this.idMap).setView([-31.9505,115.8605],4),this.tileLayer=r.default.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>, contributiors'}),this.tileLayerSat=r.default.tileLayer.wmts("https://kmi.dpaw.wa.gov.au/geoserver/gwc/service/wmts",{layer:"public:mapbox-satellite",tilematrixSet:"mercator",format:"image/png"}),this.map.on("click",this.onClick).on("mousemove",this.onMouseMove).on("mouseout",this.onMouseOut),this.setBaseLayer("osm"),new r.default.Control.Measure({position:"topleft",primaryLengthUnit:"meters",activeColor:"#ff7f50",completedColor:"#228b22"}).addTo(this.map),r.default.control.locate().addTo(this.map)},relocateMarker:function(e){if(!this.isReadonly){var t=[e.lng,e.lat];this.setLocationPoint(t),this.refreshMarkerLocation(),this.reverseGeocoding(t)}},onMouseMove:function(e){var t=this;t.cursor_location=t.map.mouseEventToLatLng(e.originalEvent)},onMouseOut:function(e){this.cursor_location=null},onClick:function(e){var t=this;if(!t.isReadonly){var a=this.map.mouseEventToLatLng(e.originalEvent);console.log(a),t.feature_marker||t.addMarker([a.lat,a.lng]),this.relocateMarker(a)}}})}}).call(t,a(1))},function(e,t,a){"use strict";(function(t){function n(e){return e&&e.__esModule?e:{default:e}}var i=a(5),s=n(i),o=a(8),r=n(o),l=a(11),c=n(l),d=a(7),u=n(d),p=a(52),_=n(p);a(125),a(62);var m=a(35),f=n(m),v=a(3),h=a(6);a(59),a(121),a(120),a(58),a(15),a(29),_.default.TileLayer.WMTS=_.default.TileLayer.extend({defaultWmtsParams:{service:"WMTS",request:"GetTile",version:"1.0.0",layers:"",styles:"",tilematrixSet:"",format:"image/jpeg"},initialize:function(e,t){this._url=e;var a=_.default.extend({},this.defaultWmtsParams),n=t.tileSize||this.options.tileSize;t.detectRetina&&_.default.Browser.retina?a.width=a.height=2*n:a.width=a.height=n;for(var i in t)this.options.hasOwnProperty(i)||"matrixIds"==i||(a[i]=t[i]);this.wmtsParams=a,this.matrixIds=t.matrixIds||this.getDefaultMatrix(),_.default.setOptions(this,t)},onAdd:function(e){this._crs=this.options.crs||e.options.crs,_.default.TileLayer.prototype.onAdd.call(this,e)},getTileUrl:function(e){var t=this.options.tileSize,a=e.multiplyBy(t);a.x+=1,a.y-=1;var n=a.add(new _.default.Point(t,t)),i=this._tileZoom,s=this._crs.project(this._map.unproject(a,i)),o=this._crs.project(this._map.unproject(n,i)),r=o.x-s.x,l=this.matrixIds[i].identifier,c=this.wmtsParams.tilematrixSet+":"+l,d=this.matrixIds[i].topLeftCorner.lng,u=this.matrixIds[i].topLeftCorner.lat,p=Math.floor((s.x-d)/r),m=-Math.floor((s.y-u)/r),f=_.default.Util.template(this._url,{s:this._getSubdomain(e)});return f+_.default.Util.getParamString(this.wmtsParams,f)+"&tilematrix="+c+"&tilerow="+m+"&tilecol="+p},setParams:function(e,t){return _.default.extend(this.wmtsParams,e),t||this.redraw(),this},getDefaultMatrix:function(){for(var e=new Array(22),t=0;t<22;t++)e[t]={identifier:""+t,topLeftCorner:new _.default.LatLng(20037508.3428,-20037508.3428)};return e}}),_.default.tileLayer.wmts=function(e,t){return new _.default.TileLayer.WMTS(e,t)},delete _.default.Icon.Default.prototype._getIconUrl,_.default.Icon.Default.mergeOptions({iconRetinaUrl:a(130),iconUrl:a(131),shadowUrl:a(42)}),e.exports={data:function(){var e=this;return e.layers=[],e.mcg=_.default.markerClusterGroup(),e.datetime_pattern=/^\d{2}\/\d{2}\/\d{4}$/gi,e.ajax_for_location=null,{map:null,tileLayer:null,tileLayerSat:null,popup:null,opt_url:v.helpers.add_endpoint_json(v.api_endpoints.call_email,"optimised"),filterStatus:"all",filterClassification:"all",filterLodgedFrom:"",filterLodgedTo:"",classification_types:[],status_choices:[],cursor_location:null}},created:function(){function e(){return t.apply(this,arguments)}var t=(0,u.default)(r.default.mark(function e(){var t,a;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.cache_helper.getSetCacheList("CallEmail_ClassificationTypes","/api/classification.json");case 2:return t=e.sent,(0,c.default)(this.classification_types,t),this.classification_types.splice(0,0,{id:"all",name:"All"}),e.next=7,v.cache_helper.getSetCacheList("CallEmail_StatusChoices","/api/call_email/status_choices");case 7:a=e.sent,(0,c.default)(this.status_choices,a),this.status_choices.splice(0,0,{id:"all",display:"All"});case 10:case"end":return e.stop()}},e,this)}));return e}(),mounted:function(){var e=this;e.initMap(),e.loadLocations(),e.initAwesomplete(),e.$nextTick(function(){e.addEventListeners()})},watch:{filterStatus:function(){this.loadLocations()},filterClassification:function(){this.loadLocations()},filterLodgedFrom:function(){if(this.filterLodgedFrom){this.datetime_pattern.exec(this.filterLodgedFrom)&&this.loadLocations()}else this.loadLocations()},filterLodgedTo:function(){if(this.filterLodgedTo){this.datetime_pattern.exec(this.filterLodgedTo)&&this.loadLocations()}else this.loadLocations()}},computed:(0,s.default)({},(0,h.mapGetters)("callemailStore",{})),methods:(0,s.default)({},(0,h.mapActions)("callemailStore",{}),{addEventListeners:function(){var e=this,a=t(e.$refs.lodgementDateFromPicker),n=t(e.$refs.lodgementDateToPicker);a.datetimepicker({format:"DD/MM/YYYY",maxDate:"now",showClear:!0}),a.on("dp.change",function(t){a.data("DateTimePicker").date()?(e.filterLodgedFrom=t.date.format("DD/MM/YYYY"),n.data("DateTimePicker").minDate(t.date)):""===a.data("date")&&(e.filterLodgedFrom="")}),n.datetimepicker({format:"DD/MM/YYYY",maxDate:"now",showClear:!0}),n.on("dp.change",function(t){n.data("DateTimePicker").date()?(e.filterLodgedTo=t.date.format("DD/MM/YYYY"),a.data("DateTimePicker").maxDate(t.date)):""===n.data("date")&&(e.filterLodgedTo="")})},initAwesomplete:function(){var e=this,a=document.getElementById("search-input");this.awe=new f.default(a),t(a).on("keyup",function(t){var a=t.keyCode||t.which;if(48<=a&&a<=90||96<=a&&a<=105)return e.search(t.target.value),!1}).on("awesomplete-selectcomplete",function(t){t.preventDefault(),t.stopPropagation();for(var a=0;a<e.suggest_list.length;a++)if(e.suggest_list[a].value==t.target.value){var n={lat:e.suggest_list[a].feature.geometry.coordinates[1],lng:e.suggest_list[a].feature.geometry.coordinates[0]};e.map.flyTo(n,13,{animate:!0,duration:1.5})}return!1})},search:function(e){var a=this,n=this.map.getCenter();t.ajax({url:"https://mapbox.dpaw.wa.gov.au/geocoding/v5/mapbox.places/"+encodeURIComponent(e)+".json?"+t.param({country:"au",limit:10,proximity:n.lng+","+n.lat,bbox:"112.920934,-35.191991,129.0019283,-11.9662455",types:"region,postcode,district,place,locality,neighborhood,address,poi"}),dataType:"json",success:function(e,t,n){if(a.suggest_list=[],e.features&&e.features.length>0)for(var i=0;i<e.features.length;i++)a.suggest_list.push({label:e.features[i].place_name,value:e.features[i].place_name,feature:e.features[i]});a.awe.list=a.suggest_list,a.awe.evaluate()}})},setBaseLayer:function(e){"sat"==e?(this.map.removeLayer(this.tileLayer),this.map.addLayer(this.tileLayerSat),t("#basemap_sat").hide(),t("#basemap_osm").show()):(this.map.removeLayer(this.tileLayerSat),this.map.addLayer(this.tileLayer),t("#basemap_osm").hide(),t("#basemap_sat").show())},onClick:function(e){console.log(e.latlng.toString())},onMouseMove:function(e){this.cursor_location=this.map.mouseEventToLatLng(e.originalEvent)},onMouseOut:function(e){this.cursor_location=null},initMap:function(){console.log("Start initMap()"),this.map=_.default.map("mapLeaf").setView([-24.9505,122.8605],5),this.tileLayer=_.default.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>, contributiors'}),this.tileLayerSat=_.default.tileLayer.wmts("https://kmi.dpaw.wa.gov.au/geoserver/gwc/service/wmts",{layer:"public:mapbox-satellite",tilematrixSet:"mercator",format:"image/png"}),this.popup=_.default.popup(),this.map.on("click",this.onClick).on("mousemove",this.onMouseMove).on("mouseout",this.onMouseOut),this.setBaseLayer("osm"),this.addOtherLayers(),this.map.addLayer(this.mcg),_.default.control.locate().addTo(this.map)},addOtherLayers:function(){var e=this,t={};this.$http.get("/api/map_layers/").then(function(a){for(var n=a.body.results,i=0;i<n.length;i++){var s=_.default.tileLayer.wmts("https://kmi.dpaw.wa.gov.au/geoserver/gwc/service/wmts",{layer:n[i].layer_name.trim(),tilematrixSet:"mercator",format:"image/png"});t[n[i].display_name]=s}_.default.control.layers(null,t,{position:"topleft"}).addTo(e.map)})},loadLocations:function(){var e=this;null!=e.ajax_for_location&&(e.ajax_for_location.abort(),e.ajax_for_location=null);var a={status:e.filterStatus,classification:e.filterClassification,lodged_from:e.filterLodgedFrom,lodged_to:e.filterLodgedTo};e.ajax_for_location=t.ajax({type:"GET",data:a,url:e.opt_url,success:function(t){e.addMarkers(t)},error:function(e){console.log(e)}})},addMarkers:function(e){var t=this;if(t.mcg.clearLayers(),e&&e.length>0)for(var n=0;n<e.length;n++)e[n].location&&function(){var i=e[n],s=i.location.geometry.coordinates,o="marker-gray-locked.svg";i.classification&&(1==i.classification.id?o="marker-yellow-locked.svg":2==i.classification.id?o="marker-green-locked.svg":3==i.classification.id&&(o="marker-red-locked.svg"));var r=_.default.icon({iconUrl:a(136)("./"+o),shadowUrl:a(42),shadowSize:[41,41],shadowAnchor:[12,41],iconSize:[32,32],iconAnchor:[16,32],popupAnchor:[0,-20]}),l=_.default.marker([s[1],s[0]],{icon:r}),c=_.default.popup();l.bindPopup(c),t.mcg.addLayer(l),l.on("click",function(e){var a=e.target.getPopup();t.$http.get("/api/call_email/"+i.id).then(function(e){var n=e.body;a.setContent(t.construct_content(n,s))})})}()},construct_content:function(e,t){var a="---";e.classification&&(a=e.classification.name);var n="---";e.report_type&&(n=e.report_type.report_type);var i='<div class="popup-title-main">'+e.number+"</div>";return i+='<div class="popup-title">Classification</div><div class="popup-coords">'+a+"</div>",i+='<div class="popup-title">Report Type</div><div class="popup-address">'+n+"</div>",e.location.properties.street?i+='<div class="popup-title">Address</div><div class="popup-address">'+e.location.properties.street+"<br />"+e.location.properties.town_suburb+"<br />"+e.location.properties.state+"<br />"+e.location.properties.postcode+"</div>":i+='<div class="popup-title">Details</div><div class="popup-address">'+e.location.properties.details.substring(0,10)+"</div>",i+='<div class="popup-link"><a href="/internal/call_email/'+e.id+'">View</a></div>'}})}}).call(t,a(1))},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(95),s=n(i),o=a(713),r=n(o),l=a(81),c=n(l),d=a(3);t.default={name:"InternalDashboard",data:function(){return{applications_url:d.helpers.add_endpoint_join(d.api_endpoints.applications_paginated,"internal_datatable_list/?format=datatables"),returns_url:d.helpers.add_endpoint_join(d.api_endpoints.returns_paginated,"user_datatable_list/?format=datatables")}},watch:{},components:{ApplicationDashTable:s.default,AssessmentDashTable:r.default,ReturnDashTable:c.default},computed:{},methods:{},mounted:function(){}}},function(e,t,a){"use strict";(function(e){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(11),s=n(i),o=a(8),r=n(o),l=a(7),c=n(l),d=a(16),u=n(d),p=a(5),_=n(p),m=a(4),f=n(m),v=a(18),h=n(v),g=a(6),b=a(3),y=a(28),C=n(y),x=a(135);t.default={name:"CreateInspection",data:function(){return{officers:[],isModalOpen:!1,processingDetails:!1,form:null,regions:[],regionDistricts:[],availableDistricts:[],casePriorities:[],inspectionTypes:[],externalOrganisations:[],inspectionDetails:"",errorResponse:"",region_id:null,district_id:null,assigned_to_id:null,inspection_type_id:null,advice_details:"",allocatedGroup:[],allocated_group_id:null,documentActionUrl:"",temporary_document_collection_id:null}},components:{modal:h.default,filefield:C.default},validations:{region_id:{required:x.required},assigned_to_id:{required:x.required},inspection_type_id:{required:x.required}},computed:(0,_.default)({},(0,g.mapGetters)("inspectionStore",{inspection:"inspection"}),(0,g.mapGetters)("callemailStore",{call_email:"call_email"}),(0,g.mapGetters)("legalCaseStore",{legal_case:"legal_case"}),{parent_legal_case:function(){if(this.legal_case&&this.legal_case.id)return!0},parent_call_email:function(){if(this.call_email&&this.call_email.id)return!0},regionDistrictId:function(){return this.district_id||this.region_id?this.district_id?this.district_id:this.region_id:null}}),filters:{formatDate:function(t){return t?e(t).format("DD/MM/YYYY HH:mm:ss"):""}},methods:(0,_.default)({},(0,g.mapActions)("inspectionStore",{saveInspection:"saveInspection",loadInspection:"loadInspection",setInspection:"setInspection"}),(0,g.mapActions)({loadAllocatedGroup:"loadAllocatedGroup"}),(0,g.mapActions)("callemailStore",{loadCallEmail:"loadCallEmail"}),{setTemporaryDocumentCollectionId:function(e){this.temporary_document_collection_id=e},updateDistricts:function(){this.availableDistricts=[];var e=!0,t=!1,a=void 0;try{for(var n,i=(0,u.default)(this.regionDistricts);!(e=(n=i.next()).done);e=!0){var s=n.value;if(this.region_id===s.id){var o=!0,r=!1,l=void 0;try{for(var c,d=(0,u.default)(s.districts);!(o=(c=d.next()).done);o=!0){var p=c.value,_=!0,m=!1,f=void 0;try{for(var v,h=(0,u.default)(this.regionDistricts);!(_=(v=h.next()).done);_=!0){var g=v.value;g.id===p&&this.availableDistricts.push(g)}}catch(e){m=!0,f=e}finally{try{!_&&h.return&&h.return()}finally{if(m)throw f}}}}catch(e){r=!0,l=e}finally{try{!o&&d.return&&d.return()}finally{if(r)throw l}}}}}catch(e){t=!0,a=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw a}}console.log(this.availableDistricts),this.availableDistricts.splice(0,0,{id:"",display_name:"",district:"",districts:[],region:null}),this.updateAllocatedGroup()},updateAllocatedGroup:function(){function e(){return t.apply(this,arguments)}var t=(0,c.default)(r.default.mark(function e(){var t;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("updateAllocatedGroup"),this.errorResponse="",!this.regionDistrictId){e.next=10;break}return e.next=5,this.loadAllocatedGroup({region_district_id:this.regionDistrictId,group_permission:"officer"});case 5:t=e.sent,t.ok?(console.log(t.body.allocated_group),f.default.set(this,"allocatedGroup",t.body.allocated_group),this.allocated_group_id=t.body.group_id):this.errorResponse=t.statusText,!this.errorResponse&&this.allocatedGroup&&this.allocatedGroup.length<=1&&(this.errorResponse="This group has no members"),e.next=11;break;case 10:this.allocatedGroup=[];case 11:case"end":return e.stop()}},e,this)}));return e}(),ok:function(){function e(){return t.apply(this,arguments)}var t=(0,c.default)(r.default.mark(function e(){var t,a,n;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this.isValidForm())){e.next=14;break}return e.next=4,this.sendData();case 4:if(a=e.sent,console.log(a),!a.ok){e.next=14;break}return this.$parent.$refs.inspection_table&&this.$parent.$refs.inspection_table.vmDataTable.ajax.reload(),n=null,this.parent_call_email?n={call_email_id:this.call_email.id}:this.parent_legal_case&&(n={legal_case_id:this.legal_case.id}),e.next=12,this.parent_update_function(n);case 12:this.$parent.$refs.related_items_table&&this.$parent.constructRelatedItemsTable(),this.close();case 14:case"end":return e.stop()}},e,this)}));return e}(),isValidForm:function(){return console.log("performValidation"),this.$v.$touch(),!this.$v.$invalid||(this.errorResponse="Invalid form:\n",this.$v.region_id.$invalid&&(this.errorResponse+="Region is required\n"),this.$v.assigned_to_id.$invalid&&(this.errorResponse+="Officer must be assigned\n"),this.$v.inspection_type_id.$invalid&&(this.errorResponse+="Choose Inspection Type\n"),!1)},cancel:function(){function e(){return t.apply(this,arguments)}var t=(0,c.default)(r.default.mark(function e(){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.$refs.comms_log_file.cancel();case 2:this.isModalOpen=!1,this.close();case 4:case"end":return e.stop()}},e,this)}));return e}(),close:function(){this.isModalOpen=!1},sendData:function(){function e(){return t.apply(this,arguments)}var t=(0,c.default)(r.default.mark(function e(){var t,a,n;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t="",t=this.inspection.id?"/api/inspection/"+this.inspection.id+"/workflow_action/":"/api/inspection/",a=new FormData,a.append("details",this.inspectionDetails),this.$refs.comms_log_file.commsLogId&&a.append("inspection_comms_log_id",this.$refs.comms_log_file.commsLogId),this.parent_call_email&&a.append("call_email_id",this.call_email.id),this.parent_legal_case&&a.append("legal_case_id",this.legal_case.id),this.district_id&&a.append("district_id",this.district_id),this.assigned_to_id&&a.append("assigned_to_id",this.assigned_to_id),this.inspection_type_id&&a.append("inspection_type_id",this.inspection_type_id),this.region_id&&a.append("region_id",this.region_id),this.allocated_group_id&&a.append("allocated_group_id",this.allocated_group_id),this.temporary_document_collection_id&&a.append("temporary_document_collection_id",this.temporary_document_collection_id),e.prev=13,e.next=16,f.default.http.post(t,a);case 16:if(n=e.sent,console.log(n),!n.ok){e.next=20;break}return e.abrupt("return",n);case 20:e.next=25;break;case 22:e.prev=22,e.t0=e.catch(13),this.errorResponse="Error:"+e.t0.statusText;case 25:case"end":return e.stop()}},e,this,[[13,22]])}));return e}(),createDocumentActionUrl:function(){function e(e){return t.apply(this,arguments)}var t=(0,c.default)(r.default.mark(function e(t){var a;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.inspection.id){e.next=6;break}return e.next=3,this.saveInspection({create:!0,internal:!0});case 3:return a=e.sent,e.next=6,this.loadInspection({inspection_id:a.body.id});case 6:return this.$refs.comms_log_file.document_action_url=this.inspection.createInspectionProcessCommsLogsDocumentUrl,e.abrupt("return",t(!0));case 8:case"end":return e.stop()}},e,this)}));return e}()}),created:function(){function e(){return t.apply(this,arguments)}var t=(0,c.default)(r.default.mark(function e(){var t,a,n,i,o,l,c,d,p;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.cache_helper.getSetCacheList("Regions","/api/region_district/get_regions/");case 2:return t=e.sent,(0,s.default)(this.regions,t),this.regions.splice(0,0,{id:"",display_name:"",district:"",districts:[],region:null}),e.next=7,b.cache_helper.getSetCacheList("RegionDistricts",b.api_endpoints.region_district);case 7:return a=e.sent,(0,s.default)(this.regionDistricts,a),e.next=11,b.cache_helper.getSetCacheList("InspectionTypes",b.api_endpoints.inspection_types);case 11:if(n=e.sent,(0,s.default)(this.inspectionTypes,n),this.inspectionTypes.splice(0,0,{id:"",description:""}),this.parent_call_email&&(this.region_id=this.call_email.region_id,this.district_id=this.call_email.district_id),this.regionDistrictId){e.next=35;break}for(i=!0,o=!1,l=void 0,e.prev=19,c=(0,u.default)(this.regionDistricts);!(i=(d=c.next()).done);i=!0)p=d.value,"KENSINGTON"===p.district&&(this.district_id=null,this.region_id=p.id);e.next=27;break;case 23:e.prev=23,e.t0=e.catch(19),o=!0,l=e.t0;case 27:e.prev=27,e.prev=28,!i&&c.return&&c.return();case 30:if(e.prev=30,!o){e.next=33;break}throw l;case 33:return e.finish(30);case 34:return e.finish(27);case 35:return this.updateDistricts(),e.next=38,this.updateAllocatedGroup();case 38:case"end":return e.stop()}},e,this,[[19,23,27,35],[28,,30,34]])}));return e}()}}).call(t,a(0))},function(e,t,a){"use strict";(function(e){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(66),s=n(i),o=a(8),r=n(o),l=a(7),c=n(l),d=a(11),u=n(d),p=a(16),_=n(p),m=a(5),f=n(m),v=a(4),h=n(v),g=a(47),b=n(g),y=a(97),C=n(y),x=a(20),w=n(x),k=a(10),A=n(k),I=a(3),D=a(31),T=(n(D),a(6)),S=a(0),P=n(S);a(15),a(77);var M=a(98),O=n(M),N=a(99),R=n(N),Y=a(28),E=n(Y),L=a(759),j=n(L),B=a(80),F=n(B),W=a(323),z=n(W),U=a(63),$=n(U);a(40),a(39),t.default={name:"ViewInspection",data:function(){return{uuid:0,objectHash:null,iTab:"iTab"+this._uid,rTab:"rTab"+this._uid,oTab:"oTab"+this._uid,cTab:"cTab"+this._uid,lTab:"lTab"+this._uid,current_schema:[],workflowBindId:"",idLocationFieldsAddress:this.guid+"LocationFieldsAddress",idLocationFieldsDetails:this.guid+"LocationFieldsDetails",dtHeadersInspectionTeam:["Name","Role","Action"],dtOptionsInspectionTeam:{columns:[{data:"full_name"},{data:"member_role"},{data:"Action",mRender:function(e,t,a){var n="";return console.log("row.Action"),console.log(a.Action),a.Action.readonlyForm?"":("Member"===a.Action.action&&(n='<a href="#" class="make_team_lead" data-member-id="'+a.Action.id+'">Make Team Lead</a><br>'),a.Action.can_remove&&(n+='<a href="#" class="remove_button" data-member-id="'+a.Action.id+'">Remove</a>'),n)}}]},workflow_type:"",sectionLabel:"Details",sectionIndex:1,pBody:"pBody"+this._uid,loading:[],inspectionTypes:[],teamMemberSelected:null,displayCreateNewPerson:!1,newPersonBeingCreated:!1,comms_url:I.helpers.add_endpoint_json(I.api_endpoints.inspection,this.$route.params.inspection_id+"/comms_log"),comms_add_url:I.helpers.add_endpoint_json(I.api_endpoints.inspection,this.$route.params.inspection_id+"/add_comms_log"),logs_url:I.helpers.add_endpoint_json(I.api_endpoints.inspection,this.$route.params.inspection_id+"/action_log"),sanctionOutcomeInitialised:!1,offenceInitialised:!1,hashAttributeWhitelist:["allocated_group_id","details","district_id","individual_inspected_id","inform_party_being_inspected","inspection_type_id","location","organisation_inspected_id","party_inspected","planned_for_date","planned_for_time","region_id","title"]}},components:{CommsLogs:w.default,FormSection:b.default,datatable:A.default,SearchPersonOrganisation:C.default,Offence:O.default,SanctionOutcome:R.default,filefield:E.default,InspectionWorkflow:j.default,RelatedItems:F.default,MapLocation:z.default},computed:(0,f.default)({},(0,T.mapGetters)("inspectionStore",{inspection:"inspection"}),(0,T.mapGetters)({renderer_form_data:"renderer_form_data"}),{updateSearchPersonOrganisationBindId:function(){if(this.inspectedEntity.data_type&&this.inspectedEntity.id)return this.inspectedEntity.data_type+"_"+this.inspectedEntity.id},csrf_token:function(){return I.helpers.getCookie("csrftoken")},statusDisplay:function(){return this.inspection.status?this.inspection.status.name:""},statusId:function(){return this.inspection.status?this.inspection.status.id:""},readonlyForm:function(){var e=!0;return this.inspection.status&&"await_endorsement"===this.inspection.status.id||this.inspection.id&&(e=!this.inspection.can_user_action),console.log(e),e},canUserAction:function(){return this.inspection.can_user_action},inspectionReportExists:function(){return this.inspection.inspection_report.length>0},offenceExists:function(){var e=!0,t=!1,a=void 0;try{for(var n,i=(0,_.default)(this.inspection.related_items);!(e=(n=i.next()).done);e=!0){if("offence"===n.value.model_name.toLowerCase())return!0}}catch(e){t=!0,a=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw a}}return!1},sendToManagerVisibility:function(){return!!(this.inspection.status&&this.inspection.can_user_action&&this.inspectionReportExists)&&("open"===this.inspection.status.id||void 0)},endorseVisibility:function(){return!(!this.inspection.status||!this.inspection.can_user_action)&&"await_endorsement"===this.inspection.status.id},requestAmendmentVisibility:function(){return!(!this.inspection.status||!this.inspection.can_user_action)&&"await_endorsement"===this.inspection.status.id},offenceVisibility:function(){return!(!this.inspection.status||!this.inspection.can_user_action)&&"open"===this.inspection.status.id},sanctionOutcomeVisibility:function(){return!!(this.inspection.status&&this.offenceExists&&this.inspection.can_user_action)&&"open"===this.inspection.status.id},relatedItemsBindId:function(){var e=Date.now();return this.inspection&&this.inspection.id?"inspection_"+this.inspection.id+"_"+this._uid:e.toString()},relatedItemsVisibility:function(){return!(!this.inspection||!this.inspection.id)},rendererVisibility:function(){return console.log("rendererVisibility"),!!(this.inspection.id&&this.current_schema&&this.current_schema.length>0)},inspectedEntity:function(){var e={};return this.inspection.individual_inspected?(e.id=this.inspection.individual_inspected.id,e.data_type="individual"):this.inspection.organisation_inspected&&(e.id=this.inspection.organisation_inspected.id,e.data_type="organisation"),e},offenceBindId:function(){return"offence"+parseInt(this.uuid)},inspectionTeam:function(){return this.inspection.inspection_team}}),filters:{formatDate:function(e){return e?(0,P.default)(e).format("DD/MM/YYYY HH:mm:ss"):""}},watch:{inspectionTeam:{handler:function(){this.constructInspectionTeamTable()},deep:!0}},methods:(0,f.default)({},(0,T.mapActions)("inspectionStore",{loadInspection:"loadInspection",saveInspection:"saveInspection",setInspection:"setInspection",setPlannedForTime:"setPlannedForTime",setPartyInspected:"setPartyInspected",setRelatedItems:"setRelatedItems"}),{mapTabClicked:function(){this.$refs.mapLocationComponent&&this.$refs.mapLocationComponent.invalidateSize()},locationUpdated:function(e){console.log("locationUpdated"),console.log(e),this.inspection.location.geometry.coordinates[1]=e.lat,this.inspection.location.geometry.coordinates[0]=e.lng,this.reverseGeocoding(e)},reverseGeocoding:function(t){var a=this;e.ajax({url:"https://mapbox.dpaw.wa.gov.au/geocoding/v5/mapbox.places/"+t.lng+","+t.lat+".json?"+e.param({limit:1,types:"address"}),dataType:"json",success:function(e,t,n){var i=!1;if(e.features&&e.features.length>0)for(var s=0;s<e.features.length;s++)e.features[s].place_type.includes("address")&&(a.setAddressFields(e.features[s]),i=!0);i?(a.showHideAddressDetailsFields(!0,!1),a.setLocationDetailsFieldEmpty()):(a.showHideAddressDetailsFields(!1,!0),a.setLocationAddressEmpty())}})},setAddressFields:function(e){if(this.inspection.location){var t={"New South Wales":"NSW",Queensland:"QLD","South Australia":"SA",Tasmania:"TAS",Victoria:"VIC","Western Australia":"WA","Northern Territory":"NT","Australian Capital Territory":"ACT"},a=e.place_name.split(",");this.inspection.location.properties.street=a[0];var n=/^([a-zA-Z0-9\s]*)\s(New South Wales|Queensland|South Australia|Tasmania|Victoria|Western Australia|Northern Territory|Australian Capital Territory){1}\s+(\d{4})$/gi,i=n.exec(a[1]);this.inspection.location.properties.town_suburb=i[1].trim();var s=t[i[2].trim()];this.inspection.location.properties.state=s,this.inspection.location.properties.postcode=i[3].trim(),this.inspection.location.properties.country="Australia"}},showHideAddressDetailsFields:function(t,a){t?e("#"+this.idLocationFieldsAddress).fadeIn():e("#"+this.idLocationFieldsAddress).fadeOut(),a?e("#"+this.idLocationFieldsDetails).fadeIn():e("#"+this.idLocationFieldsDetails).fadeOut()},setLocationAddressEmpty:function(){this.inspection.location&&(this.inspection.location.properties.town_suburb="",this.inspection.location.properties.street="",this.inspection.location.properties.state="",this.inspection.location.properties.postcode="",this.inspection.location.properties.country="")},setLocationDetailsFieldEmpty:function(){this.inspection.location&&(this.inspection.location.properties.details="")},constructInspectionTeamTable:function(){if(this.$refs.inspection_team_table.vmDataTable.clear().draw(),this.inspection.inspection_team)for(var e=0;e<this.inspection.inspection_team.length;e++){var t=new Object;(0,u.default)(t,this.inspection.inspection_team[e]),t.readonlyForm=this.readonlyForm,this.inspection.inspection_team.length>2&&(t.can_remove=!0),this.inspection.inspection_team[e].id&&this.$refs.inspection_team_table.vmDataTable.row.add({full_name:this.inspection.inspection_team[e].full_name,member_role:this.inspection.inspection_team[e].member_role,Action:t}).draw()}},modifyInspectionTeam:function(){function e(e){return t.apply(this,arguments)}var t=(0,c.default)(r.default.mark(function e(t){var a,n,i,s=this,o=t.user_id,l=t.action;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=I.helpers.add_endpoint_join(I.api_endpoints.inspection,this.inspection.id+"/modify_inspection_team/"),n={user_id:o,action:l},e.next=4,h.default.http.post(a,n);case 4:return i=e.sent,e.next=7,this.setInspection(i.body);case 7:this.$nextTick(function(){s.constructInspectionTeamTable()});case 8:case"end":return e.stop()}},e,this)}));return e}(),newPersonCreated:function(){function e(e){return t.apply(this,arguments)}var t=(0,c.default)(r.default.mark(function e(t){var a,n,i;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(t),!t.person){e.next=10;break}return e.next=4,this.setPartyInspected({data_type:"individual",id:t.person.id});case 4:a=[t.person.first_name,t.person.last_name].filter(Boolean).join(" "),n=t.person.dob?"DOB:"+t.person.dob:"DOB: ---",i=[a,n].filter(Boolean).join(", "),this.$refs.search_person.setInput(i),e.next=11;break;case 10:t.err&&console.log(err);case 11:case"end":return e.stop()}},e,this)}));return e}(),loadInspectionReport:function(){function e(){return t.apply(this,arguments)}var t=(0,c.default)(r.default.mark(function e(){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("loadInspectionReport"),e.next=3,this.loadInspection({inspection_id:this.inspection.id});case 3:case"end":return e.stop()}},e,this)}));return e}(),loadSchema:function(){this.$nextTick((0,c.default)(r.default.mark(function e(){var t,a;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=I.helpers.add_endpoint_json(I.api_endpoints.inspection_types,this.inspection.inspection_type_id+"/get_schema"),e.next=3,I.cache_helper.getSetCache("InspectionTypeSchema",this.inspection.id.toString(),t);case 3:a=e.sent,a&&(this.current_schema=a.schema);case 5:case"end":return e.stop()}},e,this)})))},open_sanction_outcome:function(){var e=this;this.sanctionOutcomeInitialised=!0,this.$nextTick(function(){e.$refs.sanction_outcome.isModalOpen=!0})},open_offence:function(){var e=this;this.uuid+=1,this.offenceInitialised=!0,this.$nextTick(function(){e.$refs.offence.isModalOpen=!0})},createNewPersonClicked:function(){this.newPersonBeingCreated=!0,this.displayCreateNewPerson=!this.displayCreateNewPerson},addTeamMember:function(){function e(){return t.apply(this,arguments)}var t=(0,c.default)(r.default.mark(function e(){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.modifyInspectionTeam({user_id:this.teamMemberSelected,action:"add"});case 2:case"end":return e.stop()}},e,this)}));return e}(),removeTeamMember:function(){function e(e){return t.apply(this,arguments)}var t=(0,c.default)(r.default.mark(function e(t){var a;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.target.getAttribute("data-member-id"),e.next=3,this.modifyInspectionTeam({user_id:a,action:"remove"});case 3:case"end":return e.stop()}},e,this)}));return e}(),makeTeamLead:function(){function e(e){return t.apply(this,arguments)}var t=(0,c.default)(r.default.mark(function e(t){var a;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.target.getAttribute("data-member-id"),e.next=3,this.modifyInspectionTeam({user_id:a,action:"make_team_lead"});case 3:case"end":return e.stop()}},e,this)}));return e}(),entitySelected:function(){function e(e){return t.apply(this,arguments)}var t=(0,c.default)(r.default.mark(function e(t){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,this.setPartyInspected(t);case 3:case"end":return e.stop()}},e,this)}));return e}(),updateWorkflowBindId:function(){var e=Date.now();this.workflow_type?this.workflowBindId=this.workflow_type+"_"+e.toString():this.workflowBindId=e.toString()},addWorkflow:function(e){var t=this;this.workflow_type=e,this.updateWorkflowBindId(),this.$nextTick(function(){t.$refs.inspection_workflow.isModalOpen=!0})},save:function(){function e(e){return t.apply(this,arguments)}var t=(0,c.default)(r.default.mark(function e(t){var a,n;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(t),a=null,n=null,!this.inspection.id){e.next=21;break}if(!this.$refs.search_person_organisation||!this.$refs.search_person_organisation.entityIsPerson){e.next=15;break}return console.log("savePerson"),e.next=8,this.$refs.search_person_organisation.parentSave();case 8:if(!(n=e.sent)||!n.ok){e.next=13;break}return e.next=12,this.saveInspection({create:!1,internal:!1});case 12:a=e.sent;case 13:e.next=19;break;case 15:return console.log("no savePerson"),e.next=18,this.saveInspection({create:!1,internal:!1});case 18:a=e.sent;case 19:e.next=24;break;case 21:return e.next=23,this.saveInspection({create:!0,internal:!1});case 23:a=e.sent;case 24:this.calculateHash(),a&&a.ok&&"exit"===t&&(window.removeEventListener("beforeunload",this.leaving),window.removeEventListener("onblur",this.leaving),this.$router.push({name:"internal-inspection-dash"}));case 26:case"end":return e.stop()}},e,this)}));return e}(),addEventListeners:function(){var t=this,a=e(t.$refs.plannedForDatePicker),n=e(t.$refs.plannedForTimePicker);a.datetimepicker({format:"DD/MM/YYYY",minDate:"now",showClear:!0}),a.on("dp.change",function(e){a.data("DateTimePicker").date()?t.inspection.planned_for_date=e.date.format("DD/MM/YYYY"):""===a.data("date")&&(t.inspection.planned_for_date="")}),n.datetimepicker({format:"LT",showClear:!0}),n.on("dp.change",function(e){n.data("DateTimePicker").date()?t.inspection.planned_for_time=e.date.format("LT"):""===n.data("date")&&(t.inspection.planned_for_time="")}),e("#inspection-team-table").on("click",".remove_button",t.removeTeamMember),e("#inspection-team-table").on("click",".make_team_lead",t.makeTeamLead),window.addEventListener("beforeunload",this.leaving),window.addEventListener("onblur",this.leaving)},leaving:function(e){if(this.formChanged())return e.returnValue="",""},formChanged:function(){var e=this,t=!1,a={};return(0,s.default)(this.inspection).forEach(function(t,n,i){e.hashAttributeWhitelist.includes(t)&&(a[t]=e.inspection[t])}),this.addHashAttributes(a),this.objectHash!==(0,$.default)(a)&&(t=!0),t},calculateHash:function(){var e=this,t={};(0,s.default)(this.inspection).forEach(function(a,n,i){e.hashAttributeWhitelist.includes(a)&&(t[a]=e.inspection[a])}),this.addHashAttributes(t),this.objectHash=(0,$.default)(t)},addHashAttributes:function(e){var t=(0,u.default)({},this.renderer_form_data);return e.renderer_form_data=t,e},updateAssignedToId:function(){function e(e){return t.apply(this,arguments)}var t=(0,c.default)(r.default.mark(function e(t){var a,n,i,s=this;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=I.helpers.add_endpoint_join(I.api_endpoints.inspection,this.inspection.id+"/update_assigned_to_id/"),n=null,n="current_user"===t&&this.inspection.user_in_group?{current_user:!0}:"blank"===t?{blank:!0}:{assigned_to_id:this.inspection.assigned_to_id},e.next=5,h.default.http.post(a,n);case 5:return i=e.sent,e.next=8,this.setInspection(i.body);case 8:this.$nextTick(function(){s.constructInspectionTeamTable()});case 9:case"end":return e.stop()}},e,this)}));return e}()}),created:function(){function e(){return t.apply(this,arguments)}var t=(0,c.default)(r.default.mark(function e(){var t,a=this;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.$route.params.inspection_id){e.next=3;break}return e.next=3,this.loadInspection({inspection_id:this.$route.params.inspection_id});case 3:return console.log(this),e.next=6,I.cache_helper.getSetCacheList("InspectionTypes",I.api_endpoints.inspection_types);case 6:t=e.sent,(0,u.default)(this.inspectionTypes,t),this.inspectionTypes.splice(0,0,{id:"",description:""}),this.$nextTick((0,c.default)(r.default.mark(function e(){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.inspection.inspection_type_id){e.next=3;break}return e.next=3,a.loadSchema();case 3:case"end":return e.stop()}},e,a)}))),this.calculateHash();case 11:case"end":return e.stop()}},e,this)}));return e}(),destroyed:function(){window.removeEventListener("beforeunload",this.leaving),window.removeEventListener("onblur",this.leaving)},mounted:function(){var t=this,a=this;e("#plannedForTimePicker").datetimepicker({format:"LT"}),e("#plannedForTimePicker").on("dp.change",function(e){a.setPlannedForTime(e.date.format("LT"))}),e(a.$refs.inspectionteam).select2({theme:"bootstrap",allowClear:!0,placeholder:"Select Team Member"}).on("select2:select",function(t){var n=e(t.currentTarget);a.teamMemberSelected=n.val()}).on("select2:unselect",function(t){var n=e(t.currentTarget);a.teamMemberSelected=n.val()}),this.$nextTick((0,c.default)(r.default.mark(function e(){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.addEventListeners(),t.constructInspectionTeamTable();case 2:case"end":return e.stop()}},e,t)})))}}}).call(t,a(1))},function(e,t,a){"use strict";(function(e){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(5),s=n(i),o=a(11),r=n(o),l=a(8),c=n(l),d=a(7),u=n(d),p=a(1),_=n(p),m=a(10),f=n(m),v=a(4),h=(n(v),a(3)),g=a(6),b=a(47),y=n(b),C=a(133),x=n(C),w=a(758),k=n(w);t.default={name:"InspectionTableDash",data:function(){var t=this;return{classification_types:[],report_types:[],filterStatus:"All",filterInspectionType:"All",filterTeamLead:"All",filterPlannedFrom:"",filterPlannedTo:"",statusChoices:[],inspectionTypes:[],dateFormat:"DD/MM/YYYY",inspectionInitialised:!1,createInspectionBindId:"",dtOptions:{serverSide:!0,searchDelay:1e3,lengthMenu:[[10,25,50,100,-1],[10,25,50,100,"All"]],order:[[0,"desc"]],autoWidth:!1,rowCallback:function(e,t){(0,_.default)(e).addClass("appRecordRow")},language:{processing:"<i class='fa fa-4x fa-spinner fa-spin'></i>"},responsive:!0,processing:!0,ajax:{url:"/api/inspection_paginated/get_paginated_datatable/?format=datatables",dataSrc:"data",data:function(a){a.status_description=t.filterStatus,a.inspection_description=t.filterInspectionType,a.date_from=""!=t.filterPlannedFrom&&null!=t.filterPlannedFrom?e(t.filterPlannedFrom,"DD/MM/YYYY").format("YYYY-MM-DD"):"",a.date_to=""!=t.filterPlannedTo&&null!=t.filterPlannedTo?e(t.filterPlannedTo,"DD/MM/YYYY").format("YYYY-MM-DD"):""}},dom:"lBfrtip",buttons:["excel","csv"],columns:[{data:"number",searchable:!1},{data:"title",searchable:!1,orderable:!0},{data:"inspection_type",searchable:!1,orderable:!0,mRender:function(e,t,a){return e?e.inspection_type:""}},{data:"status.name",searchable:!1,orderable:!0},{data:"planned_for",searchable:!1,orderable:!0},{data:"inspection_team_lead",searchable:!1,orderable:!0,mRender:function(e,t,a){return e?e.full_name:""}},{data:"assigned_to",searchable:!1,orderable:!1,mRender:function(e,t,a){return e?e.full_name:""}},{data:"user_action",searchable:!1,orderable:!1}]},dtHeaders:["Number","Title","Inspection Type","Status","Planned for","Team Lead","Assigned To","Action"]}},beforeRouteEnter:function(e,t,a){var n=this;a(function(){var e=(0,u.default)(c.default.mark(function e(t){return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e,n)}));return function(t){return e.apply(this,arguments)}}())},created:function(){function e(){return t.apply(this,arguments)}var t=(0,u.default)(c.default.mark(function e(){var t,a;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.cache_helper.getSetCacheList("Inspection_StatusChoices","/api/inspection/status_choices");case 2:return t=e.sent,(0,r.default)(this.statusChoices,t),this.statusChoices.splice(0,0,{id:"all",display:"All"}),e.next=7,h.cache_helper.getSetCacheList("InspectionTypes",h.api_endpoints.inspection_types);case 7:a=e.sent,(0,r.default)(this.inspectionTypes,a),this.inspectionTypes.splice(0,0,{id:"all",description:"All",inspection_type:"All"}),console.log(this);case 11:case"end":return e.stop()}},e,this)}));return e}(),watch:{filterStatus:function(){this.$refs.inspection_table.vmDataTable.draw()},filterInspectionType:function(){this.$refs.inspection_table.vmDataTable.draw()},filterTeamLead:function(){this.$refs.inspection_table.vmDataTable.draw()},filterPlannedFrom:function(){this.$refs.inspection_table.vmDataTable.draw()},filterPlannedTo:function(){this.$refs.inspection_table.vmDataTable.draw()}},components:{datatable:f.default,FormSection:y.default,InspectionModal:x.default,MapLocations:k.default},computed:{},methods:(0,s.default)({},(0,g.mapActions)("inspectionStore",{saveInspection:"saveInspection"}),{createInspection:function(){var e=this;this.setCreateInspectionBindId(),this.inspectionInitialised=!0,this.$nextTick(function(){e.$refs.add_inspection.isModalOpen=!0})},setCreateInspectionBindId:function(){var e=Date.now();this.createInspectionBindId="inspection"+e.toString()},createInspectionUrl:function(){function e(){return t.apply(this,arguments)}var t=(0,u.default)(c.default.mark(function e(){var t;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.saveInspection({create:!0});case 2:t=e.sent,this.$router.push({name:"view-inspection",params:{inspection_id:t}});case 4:case"end":return e.stop()}},e,this)}));return e}(),addEventListeners:function(){var e=this;(0,_.default)(e.$refs.plannedDateToPicker).datetimepicker(e.datepickerOptions),(0,_.default)(e.$refs.plannedDateToPicker).on("dp.change",function(t){(0,_.default)(e.$refs.plannedDateToPicker).data("DateTimePicker").date()?e.filterPlannedTo=t.date.format("DD/MM/YYYY"):""===(0,_.default)(e.$refs.plannedDateToPicker).data("date")&&(e.filterLodgedTo="")}),(0,_.default)(e.$refs.plannedDateFromPicker).datetimepicker(e.datepickerOptions),(0,_.default)(e.$refs.plannedDateFromPicker).on("dp.change",function(t){(0,_.default)(e.$refs.plannedDateFromPicker).data("DateTimePicker").date()?e.filterPlannedFrom=t.date.format("DD/MM/YYYY"):""===(0,_.default)(e.$refs.plannedDateFromPicker).data("date")&&(e.filterPlannedFrom="")})},initialiseSearch:function(){this.dateSearch()},dateSearch:function(){var t=this;t.$refs.inspection_table.table.dataTableExt.afnFiltering.push(function(a,n,i,s){var o=t.filterPlannedFrom,r=t.filterPlannedTo,l=s.planned_for_date;return""==o&&""==r||(""!=o&&""!=r?null!=l&&""!=l&&e().range(e(o,t.dateFormat),e(r,t.dateFormat)).contains(e(l)):""==o&&""!=r?null!=l&&""!=l&&e(r,t.dateFormat).diff(e(l))>=0:""==r&&""!=o&&(null!=l&&""!=l&&e(l).diff(e(o,t.dateFormat))>=0))})}}),mounted:function(){function e(){return t.apply(this,arguments)}var t=(0,u.default)(c.default.mark(function e(){var t,a=this;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=this,(0,_.default)('a[data-toggle="collapse"]').on("click",function(){var e=(0,_.default)(this).children()[0];window.setTimeout(function(){(0,_.default)(e).toggleClass("glyphicon-chevron-down glyphicon-chevron-up")},100)}),this.$nextTick((0,u.default)(c.default.mark(function e(){return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.initialiseSearch();case 2:return e.next=4,t.addEventListeners();case 4:case"end":return e.stop()}},e,a)})));case 3:case"end":return e.stop()}},e,this)}));return e}()}}).call(t,a(0))},function(e,t,a){"use strict";(function(t,n){function i(e){return e&&e.__esModule?e:{default:e}}var s=a(8),o=i(s),r=a(11),l=i(r),c=a(7),d=i(c),u=a(52),p=i(u);a(125),a(62);var _=a(35),m=i(_),f=a(3);a(6);a(59),a(121),a(120),a(58),a(15),a(29),p.default.TileLayer.WMTS=p.default.TileLayer.extend({defaultWmtsParams:{service:"WMTS",request:"GetTile",version:"1.0.0",layers:"",styles:"",tilematrixSet:"",format:"image/jpeg"},initialize:function(e,t){this._url=e;var a=p.default.extend({},this.defaultWmtsParams),n=t.tileSize||this.options.tileSize;t.detectRetina&&p.default.Browser.retina?a.width=a.height=2*n:a.width=a.height=n;for(var i in t)this.options.hasOwnProperty(i)||"matrixIds"==i||(a[i]=t[i]);this.wmtsParams=a,this.matrixIds=t.matrixIds||this.getDefaultMatrix(),p.default.setOptions(this,t)},onAdd:function(e){this._crs=this.options.crs||e.options.crs,p.default.TileLayer.prototype.onAdd.call(this,e)},getTileUrl:function(e){var t=this.options.tileSize,a=e.multiplyBy(t);a.x+=1,a.y-=1;var n=a.add(new p.default.Point(t,t)),i=this._tileZoom,s=this._crs.project(this._map.unproject(a,i)),o=this._crs.project(this._map.unproject(n,i)),r=o.x-s.x,l=this.matrixIds[i].identifier,c=this.wmtsParams.tilematrixSet+":"+l,d=this.matrixIds[i].topLeftCorner.lng,u=this.matrixIds[i].topLeftCorner.lat,_=Math.floor((s.x-d)/r),m=-Math.floor((s.y-u)/r),f=p.default.Util.template(this._url,{s:this._getSubdomain(e)});return f+p.default.Util.getParamString(this.wmtsParams,f)+"&tilematrix="+c+"&tilerow="+m+"&tilecol="+_},setParams:function(e,t){return p.default.extend(this.wmtsParams,e),t||this.redraw(),this},getDefaultMatrix:function(){for(var e=new Array(22),t=0;t<22;t++)e[t]={identifier:""+t,topLeftCorner:new p.default.LatLng(20037508.3428,-20037508.3428)};return e}}),p.default.tileLayer.wmts=function(e,t){return new p.default.TileLayer.WMTS(e,t)},delete p.default.Icon.Default.prototype._getIconUrl,p.default.Icon.Default.mergeOptions({iconRetinaUrl:a(130),iconUrl:a(131),shadowUrl:a(42)}),e.exports={data:function(){var e=this;return e.layers=[],e.mcg=p.default.markerClusterGroup(),e.datetime_pattern=/^\d{2}\/\d{2}\/\d{4}$/gi,e.ajax_for_location=null,{map:null,tileLayer:null,tileLayerSat:null,popup:null,opt_url:f.helpers.add_endpoint_json(f.api_endpoints.inspection,"optimised"),filterInspectionType:"all",filterStatus:"all",filterDateFrom:"",filterDateTo:"",status_choices:[],type_choices:[],cursor_location:null}},created:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(){var t,a;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.cache_helper.getSetCacheList("Inspection_StatusChoices","/api/inspection/status_choices");case 2:return t=e.sent,(0,l.default)(this.status_choices,t),this.status_choices.splice(0,0,{id:"all",display:"All"}),e.next=7,f.cache_helper.getSetCacheList("InspectionTypes",f.api_endpoints.inspection_types);case 7:a=e.sent,console.log(a),(0,l.default)(this.type_choices,a),this.type_choices.splice(0,0,{id:"all",inspection_type:"All"});case 11:case"end":return e.stop()}},e,this)}));return e}(),mounted:function(){var e=this;e.initMap(),e.loadLocations(),e.initAwesomplete(),e.$nextTick(function(){e.addEventListeners()})},watch:{filterStatus:function(){this.loadLocations()},filterInspectionType:function(){this.loadLocations()},filterDateFrom:function(){if(console.log("filterDateFrom"),this.filterDateFrom){this.filterDateFrom.match(this.datetime_pattern)&&this.loadLocations()}else this.loadLocations()},filterDateTo:function(){if(console.log("filterDateTo"),this.filterDateTo){this.datetime_pattern.exec(this.filterDateTo)&&this.loadLocations()}else this.loadLocations()}},computed:{},methods:{addEventListeners:function(){var e=this,a=t(e.$refs.lodgementDateFromPicker),i=t(e.$refs.lodgementDateToPicker);a.datetimepicker({format:"DD/MM/YYYY",minDate:n().millisecond(0).second(0).minute(0).hour(0),showClear:!0}),a.on("dp.change",function(t){a.data("DateTimePicker").date()?e.filterDateFrom=t.date.format("DD/MM/YYYY"):""===a.data("date")&&(e.filterDateFrom="")}),i.datetimepicker({format:"DD/MM/YYYY",minDate:n().millisecond(0).second(0).minute(0).hour(0),showClear:!0}),i.on("dp.change",function(t){i.data("DateTimePicker").date()?(e.filterDateTo=t.date.format("DD/MM/YYYY"),a.data("DateTimePicker").maxDate(t.date)):""===i.data("date")&&(e.filterDateTo="")})},initAwesomplete:function(){var e=this,a=document.getElementById("search-input");this.awe=new m.default(a),t(a).on("keyup",function(t){var a=t.keyCode||t.which;if(48<=a&&a<=90||96<=a&&a<=105)return e.search(t.target.value),!1}).on("awesomplete-selectcomplete",function(t){t.preventDefault(),t.stopPropagation();for(var a=0;a<e.suggest_list.length;a++)if(e.suggest_list[a].value==t.target.value){var n={lat:e.suggest_list[a].feature.geometry.coordinates[1],lng:e.suggest_list[a].feature.geometry.coordinates[0]};e.map.flyTo(n,13,{animate:!0,duration:1.5})}return!1})},search:function(e){var a=this,n=this.map.getCenter();t.ajax({url:"https://mapbox.dpaw.wa.gov.au/geocoding/v5/mapbox.places/"+encodeURIComponent(e)+".json?"+t.param({country:"au",limit:10,proximity:n.lng+","+n.lat,bbox:"112.920934,-35.191991,129.0019283,-11.9662455",types:"region,postcode,district,place,locality,neighborhood,address,poi"}),dataType:"json",success:function(e,t,n){if(a.suggest_list=[],e.features&&e.features.length>0)for(var i=0;i<e.features.length;i++)a.suggest_list.push({label:e.features[i].place_name,value:e.features[i].place_name,feature:e.features[i]});a.awe.list=a.suggest_list,a.awe.evaluate()}})},setBaseLayer:function(e){"sat"==e?(this.map.removeLayer(this.tileLayer),this.map.addLayer(this.tileLayerSat),t("#basemap_sat").hide(),t("#basemap_osm").show()):(this.map.removeLayer(this.tileLayerSat),this.map.addLayer(this.tileLayer),t("#basemap_osm").hide(),t("#basemap_sat").show())},onClick:function(e){console.log(e.latlng.toString())},onMouseMove:function(e){this.cursor_location=this.map.mouseEventToLatLng(e.originalEvent)},onMouseOut:function(e){this.cursor_location=null},initMap:function(){console.log("Start initMap()"),this.map=p.default.map("mapLeaf").setView([-24.9505,122.8605],5),this.tileLayer=p.default.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>, contributiors'}),this.tileLayerSat=p.default.tileLayer.wmts("https://kmi.dpaw.wa.gov.au/geoserver/gwc/service/wmts",{layer:"public:mapbox-satellite",tilematrixSet:"mercator",format:"image/png"}),this.popup=p.default.popup(),this.map.on("click",this.onClick).on("mousemove",this.onMouseMove).on("mouseout",this.onMouseOut),this.setBaseLayer("osm"),this.addOtherLayers(),this.map.addLayer(this.mcg),p.default.control.locate().addTo(this.map)},addOtherLayers:function(){var e=this,t={};this.$http.get("/api/map_layers/").then(function(a){for(var n=a.body.results,i=0;i<n.length;i++){var s=p.default.tileLayer.wmts("https://kmi.dpaw.wa.gov.au/geoserver/gwc/service/wmts",{layer:n[i].layer_name.trim(),tilematrixSet:"mercator",format:"image/png"});t[n[i].display_name]=s}p.default.control.layers(null,t,{position:"topleft"}).addTo(e.map)})},loadLocations:function(){var e=this;null!=e.ajax_for_location&&(e.ajax_for_location.abort(),e.ajax_for_location=null);var a={status:e.filterStatus,inspection_type:e.filterInspectionType,date_from:e.filterDateFrom,date_to:e.filterDateTo};e.ajax_for_location=t.ajax({type:"GET",data:a,url:e.opt_url,success:function(t){e.addMarkers(t)},error:function(e){console.log(e)}})},addMarkers:function(e){console.log("addMarkers");var t=this;if(t.mcg.clearLayers(),e&&e.length>0)for(var n=0;n<e.length;n++)e[n].location&&function(){var i=e[n],s=i.location.geometry.coordinates,o="marker-gray-locked.svg";i.status&&("open"==i.status?o="marker-green-locked.svg":"await_endorsement"==i.status?o="marker-blue-locked.svg":"discarded"==i.status?o="marker-yellow-locked.svg":"closed"==i.status?o="marker-red-locked.svg":"pending_closure"==i.status&&(o="marker-orange-locked.svg"));var r=p.default.icon({iconUrl:a(136)("./"+o),shadowUrl:a(42),shadowSize:[41,41],shadowAnchor:[12,41],iconSize:[32,32],iconAnchor:[16,32],popupAnchor:[0,-20]}),l=p.default.marker([s[1],s[0]],{icon:r}),c=p.default.popup();l.bindPopup(c),t.mcg.addLayer(l),l.on("click",function(e){var a=e.target.getPopup();t.$http.get("/api/inspection/"+i.id).then(function(e){var n=e.body;a.setContent(t.construct_content(n,s))})})}()},construct_content:function(e,t){var a="---";e.classification&&(a=e.classification.name);var n="---";e.report_type&&(n=e.report_type.report_type);var i='<div class="popup-title-main">'+e.number+"</div>";return i+='<div class="popup-title">Classification</div><div class="popup-coords">'+a+"</div>",i+='<div class="popup-title">Report Type</div><div class="popup-address">'+n+"</div>",e.location.properties.street?i+='<div class="popup-title">Address</div><div class="popup-address">'+e.location.properties.street+"<br />"+e.location.properties.town_suburb+"<br />"+e.location.properties.state+"<br />"+e.location.properties.postcode+"</div>":i+='<div class="popup-title">Details</div><div class="popup-address">'+e.location.properties.details.substring(0,10)+"</div>",i+='<div class="popup-link"><a href="/internal/inspection/'+e.id+'">View</a></div>'}}}}).call(t,a(1),a(0))},function(e,t,a){"use strict";(function(e){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(8),s=n(i),o=a(7),r=n(o),l=a(5),c=n(l),d=a(4),u=n(d),p=a(18),_=n(p),m=a(6),f=(a(3),a(28)),v=n(f);t.default={name:"InspectionWorking",data:function(){return{officers:[],isModalOpen:!1,processingDetails:!1,form:null,workflowDetails:"",errorResponse:"",documentActionUrl:"",allocated_group_id:null}},components:{modal:_.default,filefield:v.default},props:{workflow_type:{type:String,default:""}},computed:(0,c.default)({},(0,m.mapGetters)("inspectionStore",{inspection:"inspection"}),{regionDistrictId:function(){return this.district_id||this.region_id?this.district_id?this.district_id:this.region_id:null},modalTitle:function(){return"send_to_manager"===this.workflow_type?"Send to Manager":"request_amendment"===this.workflow_type?"Request Amendment":"close"===this.workflow_type?"Close Inspection":"endorse"===this.workflow_type?"Endorse and Close Inspection":void 0},groupPermission:function(){return"send_to_manager"===this.workflow_type?"manager":"request_amendment"===this.workflow_type?"officer":null}}),filters:{formatDate:function(t){return t?e(t).format("DD/MM/YYYY HH:mm:ss"):""}},methods:(0,c.default)({},(0,m.mapActions)("inspectionStore",{saveInspection:"saveInspection",loadInspection:"loadInspection",setInspection:"setInspection"}),(0,m.mapActions)({loadAllocatedGroup:"loadAllocatedGroup"}),{updateAllocatedGroupId:function(){function e(){return t.apply(this,arguments)}var t=(0,r.default)(s.default.mark(function e(){var t,a;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("updateAllocatedGroup"),t=null,this.errorResponse="",!this.regionDistrictId||!this.groupPermission){e.next=10;break}return e.next=6,this.loadAllocatedGroup({region_district_id:this.regionDistrictId,group_permission:this.groupPermission});case 6:a=e.sent,a.ok?this.allocated_group_id=a.body.group_id:this.errorResponse=a.statusText,e.next=10;break;case 10:case"end":return e.stop()}},e,this)}));return e}(),ok:function(){function e(){return t.apply(this,arguments)}var t=(0,r.default)(s.default.mark(function e(){var t;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sendData();case 2:t=e.sent,console.log(t),t.ok&&(this.close(),this.$router.push({name:"internal-inspection-dash"}));case 5:case"end":return e.stop()}},e,this)}));return e}(),cancel:function(){function e(){return t.apply(this,arguments)}var t=(0,r.default)(s.default.mark(function e(){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.$refs.comms_log_file.cancel();case 2:this.isModalOpen=!1,this.close();case 4:case"end":return e.stop()}},e,this)}));return e}(),close:function(){this.isModalOpen=!1},sendData:function(){function e(){return t.apply(this,arguments)}var t=(0,r.default)(s.default.mark(function e(){var t,a,n,i;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t="/api/inspection/"+this.inspection.id+"/workflow_action/",a=new FormData,a.append("details",this.workflowDetails),this.$refs.comms_log_file.commsLogId&&a.append("inspection_comms_log_id",this.$refs.comms_log_file.commsLogId),this.workflow_type&&a.append("workflow_type",this.workflow_type),this.allocated_group_id&&a.append("allocated_group_id",this.allocated_group_id),e.next=8,this.saveInspection({create:!1,internal:!0});case 8:if(n=e.sent,!n.ok){e.next=22;break}return e.prev=10,e.next=13,u.default.http.post(t,a);case 13:if(i=e.sent,console.log(i),!i.ok){e.next=17;break}return e.abrupt("return",i);case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(10),this.errorResponse=e.t0.statusText;case 22:case"end":return e.stop()}},e,this,[[10,19]])}));return e}(),createDocumentActionUrl:function(){function e(e){return t.apply(this,arguments)}var t=(0,r.default)(s.default.mark(function e(t){var a;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.inspection.id){e.next=6;break}return e.next=3,this.saveInspection({create:!0,internal:!0});case 3:return a=e.sent,e.next=6,this.loadInspection({inspection_id:a.body.id});case 6:return this.$refs.comms_log_file.document_action_url=this.inspection.createInspectionProcessCommsLogsDocumentUrl,e.abrupt("return",t(!0));case 8:case"end":return e.stop()}},e,this)}));return e}()}),mounted:function(){function e(){return t.apply(this,arguments)}var t=(0,r.default)(s.default.mark(function e(){var t=this;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.$nextTick(function(){console.log("update group id"),t.updateAllocatedGroupId()});case 1:case"end":return e.stop()}},e,this)}));return e}(),created:function(){this.inspection&&this.inspection.id&&(this.region_id=this.inspection.region_id,this.district_id=this.inspection.district_id)}}}).call(t,a(0))},function(e,t,a){"use strict";(function(e){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(11),s=n(i),o=a(8),r=n(o),l=a(7),c=n(l),d=a(16),u=n(d),p=a(5),_=n(p),m=a(4),f=n(m),v=a(18),h=n(v),g=a(6),b=a(3),y=a(28),C=n(y),x=a(135);t.default={name:"CreateInspection",data:function(){return{officers:[],isModalOpen:!1,processingDetails:!1,form:null,regions:[],regionDistricts:[],availableDistricts:[],legalCasePriorities:[],externalOrganisations:[],legalCaseDetails:"",errorResponse:"",region_id:null,district_id:null,assigned_to_id:null,advice_details:"",allocatedGroup:[],allocated_group_id:null,documentActionUrl:"",temporary_document_collection_id:null,legal_case_priority_id:null}},components:{modal:h.default,filefield:C.default},validations:{region_id:{required:x.required},assigned_to_id:{required:x.required},legal_case_priority_id:{required:x.required}},computed:(0,_.default)({},(0,g.mapGetters)("legalCaseStore",{inspection:"legal_case"}),(0,g.mapGetters)("callemailStore",{call_email:"call_email"}),{parent_call_email:function(){if(this.call_email&&this.call_email.id)return!0},regionDistrictId:function(){return this.district_id||this.region_id?this.district_id?this.district_id:this.region_id:null}}),filters:{formatDate:function(t){return t?e(t).format("DD/MM/YYYY HH:mm:ss"):""}},methods:(0,_.default)({},(0,g.mapActions)("legalCaseStore",{saveInspection:"saveLegalCase",loadInspection:"loadLegalCase",setInspection:"setLegalCase"}),(0,g.mapActions)({loadAllocatedGroup:"loadAllocatedGroup"}),(0,g.mapActions)("callemailStore",{loadCallEmail:"loadCallEmail"}),{setTemporaryDocumentCollectionId:function(e){this.temporary_document_collection_id=e},updateDistricts:function(){this.availableDistricts=[];var e=!0,t=!1,a=void 0;try{for(var n,i=(0,u.default)(this.regionDistricts);!(e=(n=i.next()).done);e=!0){var s=n.value;if(this.region_id===s.id){var o=!0,r=!1,l=void 0;try{for(var c,d=(0,u.default)(s.districts);!(o=(c=d.next()).done);o=!0){var p=c.value,_=!0,m=!1,f=void 0;try{for(var v,h=(0,u.default)(this.regionDistricts);!(_=(v=h.next()).done);_=!0){var g=v.value;g.id===p&&this.availableDistricts.push(g)}}catch(e){m=!0,f=e}finally{try{!_&&h.return&&h.return()}finally{if(m)throw f}}}}catch(e){r=!0,l=e}finally{try{!o&&d.return&&d.return()}finally{if(r)throw l}}}}}catch(e){t=!0,a=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw a}}console.log(this.availableDistricts),this.availableDistricts.splice(0,0,{id:"",display_name:"",district:"",districts:[],region:null}),this.updateAllocatedGroup()},updateAllocatedGroup:function(){function e(){return t.apply(this,arguments)}var t=(0,c.default)(r.default.mark(function e(){var t;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("updateAllocatedGroup"),this.errorResponse="",!this.regionDistrictId){e.next=10;break}return e.next=5,this.loadAllocatedGroup({region_district_id:this.regionDistrictId,group_permission:"officer"});case 5:t=e.sent,t.ok?(console.log(t.body.allocated_group),f.default.set(this,"allocatedGroup",t.body.allocated_group),this.allocated_group_id=t.body.group_id):this.errorResponse=t.statusText,!this.errorResponse&&this.allocatedGroup&&this.allocatedGroup.length<=1&&(this.errorResponse="This group has no members"),e.next=11;break;case 10:this.allocatedGroup=[];case 11:case"end":return e.stop()}},e,this)}));return e}(),ok:function(){function e(){return t.apply(this,arguments)}var t=(0,c.default)(r.default.mark(function e(){var t,a;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this.isValidForm())){e.next=13;break}return e.next=4,this.sendData();case 4:if(a=e.sent,console.log(a),!a.ok){e.next=13;break}if(this.$parent.$refs.legal_case_table&&this.$parent.$refs.legal_case_table.vmDataTable.ajax.reload(),!this.parent_call_email){e.next=11;break}return e.next=11,this.loadCallEmail({call_email_id:this.call_email.id});case 11:this.$parent.$refs.related_items_table&&this.$parent.constructRelatedItemsTable(),this.close();case 13:case"end":return e.stop()}},e,this)}));return e}(),isValidForm:function(){return console.log("performValidation"),this.$v.$touch(),!this.$v.$invalid||(this.errorResponse="Invalid form:\n",this.$v.region_id.$invalid&&(this.errorResponse+="Region is required\n"),this.$v.assigned_to_id.$invalid&&(this.errorResponse+="Officer must be assigned\n"),this.$v.legal_case_priority_id.$invalid&&(this.errorResponse+="Choose Case Priority\n"),!1)},cancel:function(){function e(){return t.apply(this,arguments)}var t=(0,c.default)(r.default.mark(function e(){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.$refs.comms_log_file.cancel();case 2:this.isModalOpen=!1,this.close();case 4:case"end":return e.stop()}},e,this)}));return e}(),close:function(){this.isModalOpen=!1},sendData:function(){function e(){return t.apply(this,arguments)}var t=(0,c.default)(r.default.mark(function e(){var t,a,n;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t="/api/legal_case/",a=new FormData,a.append("details",this.legalCaseDetails),this.$refs.comms_log_file.commsLogId&&a.append("legal_case_comms_log_id",this.$refs.comms_log_file.commsLogId),this.parent_call_email&&a.append("call_email_id",this.call_email.id),this.district_id&&a.append("district_id",this.district_id),this.assigned_to_id&&a.append("assigned_to_id",this.assigned_to_id),this.inspection_type_id&&a.append("legal_case_priority_id",this.legal_case_priority_id),this.region_id&&a.append("region_id",this.region_id),this.allocated_group_id&&a.append("allocated_group_id",this.allocated_group_id),this.temporary_document_collection_id&&a.append("temporary_document_collection_id",this.temporary_document_collection_id),e.prev=11,e.next=14,f.default.http.post(t,a);case 14:if(n=e.sent,console.log(n),!n.ok){e.next=18;break}return e.abrupt("return",n);case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(11),this.errorResponse="Error:"+e.t0.statusText;case 23:case"end":return e.stop()}},e,this,[[11,20]])}));return e}()}),created:function(){function e(){return t.apply(this,arguments)}var t=(0,c.default)(r.default.mark(function e(){var t,a,n,i,o,l,c,d,p;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.cache_helper.getSetCacheList("Regions","/api/region_district/get_regions/");case 2:return t=e.sent,(0,s.default)(this.regions,t),this.regions.splice(0,0,{id:"",display_name:"",district:"",districts:[],region:null}),e.next=7,b.cache_helper.getSetCacheList("RegionDistricts",b.api_endpoints.region_district);case 7:return a=e.sent,(0,s.default)(this.regionDistricts,a),e.next=11,b.cache_helper.getSetCacheList("LegalCasePriorities",b.api_endpoints.legal_case_priorities);case 11:if(n=e.sent,(0,s.default)(this.legalCasePriorities,n),this.legalCasePriorities.splice(0,0,{id:"",description:""}),this.parent_call_email&&(this.region_id=this.call_email.region_id,this.district_id=this.call_email.district_id),this.regionDistrictId){e.next=35;break}for(i=!0,o=!1,l=void 0,e.prev=19,c=(0,u.default)(this.regionDistricts);!(i=(d=c.next()).done);i=!0)p=d.value,"KENSINGTON"===p.district&&(this.district_id=null,this.region_id=p.id);e.next=27;break;case 23:e.prev=23,e.t0=e.catch(19),o=!0,l=e.t0;case 27:e.prev=27,e.prev=28,!i&&c.return&&c.return();case 30:if(e.prev=30,!o){e.next=33;break}throw l;case 33:return e.finish(30);case 34:return e.finish(27);case 35:return this.updateDistricts(),e.next=38,this.updateAllocatedGroup();case 38:case"end":return e.stop()}},e,this,[[19,23,27,35],[28,,30,34]])}));return e}()}}).call(t,a(0))},function(e,t,a){"use strict";(function(e){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(11),s=n(i),o=a(66),r=n(o),l=a(8),c=n(l),d=a(7),u=n(d),p=a(16),_=n(p),m=a(5),f=n(m),v=a(4),h=n(v),g=a(47),b=n(g),y=a(20),C=n(y),x=a(10),w=n(x),k=a(3),A=a(31),I=(n(A),a(6)),D=a(0),T=n(D);a(15),a(77);var S=a(98),P=n(S),M=a(99),O=n(M),N=a(133),R=n(N),Y=a(28),E=n(Y),L=a(80),j=n(L),B=a(63),F=n(B),W=a(762),z=n(W);a(40),a(39),t.default={name:"ViewLegalCase",data:function(){return{uuid:0,objectHash:null,runTab:"runTab"+this._uid,rTab:"rTab"+this._uid,cTab:"cTab"+this._uid,current_schema:[],workflowBindId:"",workflow_type:"",comms_url:k.helpers.add_endpoint_json(k.api_endpoints.legal_case,this.$route.params.legal_case_id+"/comms_log"),comms_add_url:k.helpers.add_endpoint_json(k.api_endpoints.legal_case,this.$route.params.legal_case_id+"/add_comms_log"),logs_url:k.helpers.add_endpoint_json(k.api_endpoints.legal_case,this.$route.params.legal_case_id+"/action_log"),sanctionOutcomeInitialised:!1,offenceInitialised:!1,inspectionInitialised:!1,hashAttributeWhitelist:["allocated_group_id","case_created_date","case_created_time","details","title","legal_case_priority_id","region_id","district_id"],magicKeyPressed:!1,magicKey2Pressed:!1,magicValue:null,magic:!0}},components:{CommsLogs:C.default,FormSection:b.default,datatable:w.default,Offence:P.default,SanctionOutcome:O.default,filefield:E.default,RelatedItems:j.default,Inspection:R.default,Magic:z.default},computed:(0,f.default)({},(0,I.mapGetters)("legalCaseStore",{legal_case:"legal_case"}),{csrf_token:function(){return k.helpers.getCookie("csrftoken")},statusDisplay:function(){return this.legal_case.status?this.legal_case.status.name:""},statusId:function(){return this.legal_case.status?this.legal_case.status.id:""},readonlyForm:function(){return!1},canUserAction:function(){return this.legal_case.can_user_action},offenceExists:function(){var e=!0,t=!1,a=void 0;try{for(var n,i=(0,_.default)(this.legal_case.related_items);!(e=(n=i.next()).done);e=!0){if("offence"===n.value.model_name.toLowerCase())return!0}}catch(e){t=!0,a=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw a}}return!1},offenceVisibility:function(){var e=!1;return this.legal_case.status&&this.legal_case.can_user_action&&(e="open"===this.legal_case.status.id),e},sanctionOutcomeVisibility:function(){var e=!1;return this.legal_case.status&&this.offenceExists&&this.legal_case.can_user_action&&(e="open"===this.legal_case.status.id),e},relatedItemsBindId:function(){var e=Date.now();return this.legal_case&&this.legal_case.id?"legal_case_"+this.legal_case.id+"_"+this._uid:e.toString()},relatedItemsVisibility:function(){var e=!1;return this.legal_case&&this.legal_case.id&&(e=!0),e},offenceBindId:function(){return"offence"+parseInt(this.uuid)},sanctionOutcomeBindId:function(){return"sanction_outcome"+parseInt(this.uuid)},inspectionBindId:function(){return"inspection"+parseInt(this.uuid)}}),watch:{magicValue:{handler:function(){this.magicValue&&this.magicValue.toLowerCase().includes("shibaken")&&this.magic&&this.magicMethod()}}},filters:{formatDate:function(e){return e?(0,T.default)(e).format("DD/MM/YYYY HH:mm:ss"):""}},methods:(0,f.default)({},(0,I.mapActions)("legalCaseStore",{loadLegalCase:"loadLegalCase",saveLegalCase:"saveLegalCase",setLegalCase:"setLegalCase",setRelatedItems:"setRelatedItems"}),{openInspection:function(){var e=this;this.uuid+=1,this.inspectionInitialised=!0,this.$nextTick(function(){e.$refs.inspection.isModalOpen=!0})},openSanctionOutcome:function(){var e=this;this.uuid+=1,this.sanctionOutcomeInitialised=!0,this.$nextTick(function(){e.$refs.sanction_outcome.isModalOpen=!0})},openOffence:function(){var e=this;this.uuid+=1,this.offenceInitialised=!0,this.$nextTick(function(){e.$refs.offence.isModalOpen=!0})},updateWorkflowBindId:function(){var e=Date.now();this.workflow_type?this.workflowBindId=this.workflow_type+"_"+e.toString():this.workflowBindId=e.toString()},addWorkflow:function(e){var t=this;this.workflow_type=e,this.updateWorkflowBindId(),this.$nextTick(function(){t.$refs.legal_case_workflow.isModalOpen=!0})},save:function(){function e(e){return t.apply(this,arguments)}var t=(0,u.default)(c.default.mark(function e(t){var a;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(t),a=null,!this.legal_case.id){e.next=8;break}return e.next=5,this.saveLegalCase({create:!1,internal:!1});case 5:a=e.sent,e.next=11;break;case 8:return e.next=10,this.saveLegalCase({create:!0,internal:!1});case 10:a=e.sent;case 11:this.calculateHash(),a&&a.ok&&"exit"===t&&(window.removeEventListener("beforeunload",this.leaving),window.removeEventListener("onblur",this.leaving),this.$router.push({name:"internal-legal-case-dash"}));case 13:case"end":return e.stop()}},e,this)}));return e}(),magicMethod:function(){console.log("magic method"),this.$refs.magic.isModalOpen=!0,this.magic=!1},test1:function(e){49===e.which&&this.magicKeyPressed?(console.log("open modal"),this.openInspection(),this.magicKeyPressed=!1):49===e.which?this.magicKeyPressed=!0:50===e.which&&this.magicKey2Pressed?(console.log("open modal"),this.openOffence(),this.magicKey2Pressed=!1):50===e.which?this.magicKey2Pressed=!0:16===e.which||(this.magicValue&&this.magicValue.toLowerCase().includes("shibaken")&&this.magic?this.magicMethod():(this.magicKeyPressed=!1,this.magicKey2Pressed=!1))},addEventListeners:function(){var t=this;e("#test1").on("keydown",function(e){t.test1(e)}),window.addEventListener("beforeunload",this.leaving),window.addEventListener("onblur",this.leaving)},leaving:function(e){if(this.formChanged())return e.returnValue="",""},formChanged:function(){var e=this,t=!1,a={};return(0,r.default)(this.legal_case).forEach(function(t,n,i){e.hashAttributeWhitelist.includes(t)&&(a[t]=e.legal_case[t])}),this.addHashAttributes(a),this.objectHash!==(0,F.default)(a)&&(t=!0),t},calculateHash:function(){var e=this,t={};(0,r.default)(this.legal_case).forEach(function(a,n,i){e.hashAttributeWhitelist.includes(a)&&(t[a]=e.legal_case[a])}),this.addHashAttributes(t),this.objectHash=(0,F.default)(t)},addHashAttributes:function(e){var t=(0,s.default)({},this.renderer_form_data);return e.renderer_form_data=t,e},updateAssignedToId:function(){function e(e){return t.apply(this,arguments)}var t=(0,u.default)(c.default.mark(function e(t){var a,n,i,s=this;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=k.helpers.add_endpoint_join(k.api_endpoints.legal_case,this.legal_case.id+"/update_assigned_to_id/"),n=null,n="current_user"===t&&this.legal_case.user_in_group?{current_user:!0}:"blank"===t?{blank:!0}:{assigned_to_id:this.legal_case.assigned_to_id},e.next=5,h.default.http.post(a,n);case 5:return i=e.sent,e.next=8,this.setLegalCase(i.body);case 8:this.$nextTick(function(){s.constructInspectionTeamTable()});case 9:case"end":return e.stop()}},e,this)}));return e}()}),created:function(){function e(){return t.apply(this,arguments)}var t=(0,u.default)(c.default.mark(function e(){return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.$route.params.legal_case_id){e.next=3;break}return e.next=3,this.loadLegalCase({legal_case_id:this.$route.params.legal_case_id});case 3:console.log(this),this.calculateHash();case 5:case"end":return e.stop()}},e,this)}));return e}(),destroyed:function(){window.removeEventListener("beforeunload",this.leaving),window.removeEventListener("onblur",this.leaving)},mounted:function(){var e=this;this.$nextTick((0,u.default)(c.default.mark(function t(){return c.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.addEventListeners();case 1:case"end":return t.stop()}},t,e)})))}}}).call(t,a(1))},function(e,t,a){"use strict";(function(e){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(5),s=n(i),o=a(11),r=n(o),l=a(8),c=n(l),d=a(7),u=n(d),p=a(1),_=n(p),m=a(10),f=n(m),v=a(4),h=(n(v),a(3)),g=a(6),b=a(47),y=n(b),C=a(342),x=n(C);t.default={name:"LegalCaseTableDash",data:function(){return{filterStatus:"All",filterCaseCreatedFrom:"",filterCaseCreatedTo:"",statusChoices:[],dateFormat:"DD/MM/YYYY",legalCaseInitialised:!1,createLegalCaseBindId:"",dtOptions:{serverSide:!0,searchDelay:1e3,lengthMenu:[[10,25,50,100,-1],[10,25,50,100,"All"]],order:[[0,"desc"]],autoWidth:!1,rowCallback:function(e,t){(0,_.default)(e).addClass("appRecordRow")},language:{processing:"<i class='fa fa-4x fa-spinner fa-spin'></i>"},responsive:!0,processing:!0,ajax:{url:"/api/legal_case_paginated/get_paginated_datatable/?format=datatables"},columns:[{data:"number",searchable:!1},{data:"title",searchable:!1,orderable:!0},{data:"status.name",searchable:!1,orderable:!0},{data:"created_date",searchable:!1,orderable:!0},{data:"assigned_to",searchable:!1,orderable:!1,mRender:function(e,t,a){return e?e.full_name:""}},{data:"user_action",searchable:!1,orderable:!1}]},dtHeaders:["Number","Title","Status","Created Date","Assigned to","Action"]}},beforeRouteEnter:function(e,t,a){var n=this;a(function(){var e=(0,u.default)(c.default.mark(function e(t){return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e,n)}));return function(t){return e.apply(this,arguments)}}())},created:function(){function e(){return t.apply(this,arguments)}var t=(0,u.default)(c.default.mark(function e(){var t;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.cache_helper.getSetCacheList("LegalCase_StatusChoices","/api/legal_case/status_choices");case 2:t=e.sent,(0,r.default)(this.statusChoices,t),this.statusChoices.splice(0,0,{id:"all",display:"All"});case 5:case"end":return e.stop()}},e,this)}));return e}(),watch:{filterStatus:function(){this.$refs.legal_case_table.vmDataTable.draw()},filterCaseCreatedFrom:function(){this.$refs.legal_case_table.vmDataTable.draw()},filterCaseCreatedTo:function(){this.$refs.legal_case_table.vmDataTable.draw()}},components:{datatable:f.default,FormSection:y.default,CreateLegalCaseModal:x.default},computed:{},methods:(0,s.default)({},(0,g.mapActions)("legalCaseStore",{saveInspection:"saveLegalCase"}),{createLegalCase:function(){var e=this;this.setCreateLegalCaseBindId(),this.legalCaseInitialised=!0,this.$nextTick(function(){e.$refs.add_legal_case.isModalOpen=!0})},setCreateLegalCaseBindId:function(){var e=Date.now();this.createLegalCaseBindId="legal_case"+e.toString()},createLegalCaseUrl:function(){function e(){return t.apply(this,arguments)}var t=(0,u.default)(c.default.mark(function e(){var t;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.saveLegalCase({create:!0});case 2:t=e.sent,this.$router.push({name:"view-legal-case",params:{legal_case_id:t}});case 4:case"end":return e.stop()}},e,this)}));return e}(),addEventListeners:function(){var e=this;(0,_.default)(e.$refs.caseCreatedDateToPicker).datetimepicker(e.datepickerOptions),(0,_.default)(e.$refs.caseCreatedDateToPicker).on("dp.change",function(t){(0,_.default)(e.$refs.caseCreatedDateToPicker).data("DateTimePicker").date()?e.filterCaseCreatedTo=t.date.format("DD/MM/YYYY"):""===(0,_.default)(e.$refs.plannedDateToPicker).data("date")&&(e.filterCaseCreatedTo="")}),(0,_.default)(e.$refs.caseCreatedDateFromPicker).datetimepicker(e.datepickerOptions),(0,_.default)(e.$refs.caseCreatedDateFromPicker).on("dp.change",function(t){(0,_.default)(e.$refs.caseCreatedDateFromPicker).data("DateTimePicker").date()?e.filterCaseCreatedFrom=t.date.format("DD/MM/YYYY"):""===(0,_.default)(e.$refs.caseCreatedDateFromPicker).data("date")&&(e.filterCaseCreatedFrom="")})},initialiseSearch:function(){this.dateSearch()},dateSearch:function(){var t=this;t.$refs.legal_case_table.table.dataTableExt.afnFiltering.push(function(a,n,i,s){var o=t.filterCaseCreatedFrom,r=t.filterCaseCreatedTo,l=s.case_created_date;return""==o&&""==r||(""!=o&&""!=r?null!=l&&""!=l&&e().range(e(o,t.dateFormat),e(r,t.dateFormat)).contains(e(l)):""==o&&""!=r?null!=l&&""!=l&&e(r,t.dateFormat).diff(e(l))>=0:""==r&&""!=o&&(null!=l&&""!=l&&e(l).diff(e(o,t.dateFormat))>=0))})}}),mounted:function(){function e(){return t.apply(this,arguments)}var t=(0,u.default)(c.default.mark(function e(){var t,a=this;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=this,(0,_.default)('a[data-toggle="collapse"]').on("click",function(){var e=(0,_.default)(this).children()[0];window.setTimeout(function(){(0,_.default)(e).toggleClass("glyphicon-chevron-down glyphicon-chevron-up")},100)}),this.$nextTick((0,u.default)(c.default.mark(function e(){return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.initialiseSearch();case 2:return e.next=4,t.addEventListeners();case 4:case"end":return e.stop()}},e,a)})));case 3:case"end":return e.stop()}},e,this)}));return e}()}}).call(t,a(0))},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(8),s=n(i),o=a(7),r=n(o),l=a(4),c=(n(l),a(18)),d=n(c);t.default={name:"Magic",data:function(){return{isModalOpen:!1}},components:{modal:d.default},methods:{cancel:function(){this.isModalOpen=!1},ok:function(){this.isModalOpen=!1},close:function(){this.isModalOpen=!1}},created:function(){function e(){return t.apply(this,arguments)}var t=(0,r.default)(s.default.mark(function e(){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e,this)}));return e}()}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(96),i=function(e){return e&&e.__esModule?e:{default:e}}(n),s=a(3);t.default={name:"InternalLicenceDashboard",data:function(){return{licences_url:s.helpers.add_endpoint_join(s.api_endpoints.licences_paginated,"internal_datatable_list/?format=datatables")}},watch:{},components:{LicenceDashTable:i.default},computed:{},methods:{},mounted:function(){}}},function(e,t,a){"use strict";(function(e){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(5),s=n(i),o=a(52),r=n(o);a(124),a(62);var l=a(35),c=n(l),d=a(6),u=a(43);a(15),a(29),a(59),a(119),a(58),t.default={name:"map-leaflet",data:function(){var e=[13775786.985667605,-2871569.067879858],t=this,n={shadowUrl:a(42),shadowSize:[41,41],shadowAnchor:[12,41],iconSize:[32,32],iconAnchor:[16,32],popupAnchor:[0,-20]};return t.icon_default=r.default.icon((0,s.default)({iconUrl:a(93)},n)),t.guid=(0,u.guid)(),{defaultCenter:e,projection:null,mapOffence:null,popup:null,element:null,base_layer:"osm",awe:null,suggest_list:[],feature_marker:null,cursor_location:null,idMap:t.guid+"mapLeaf",idLocationFieldsAddress:t.guid+"LocationFieldsAddress",idLocationFieldsDetails:t.guid+"LocationFieldsDetails",idSearchInput:t.guid+"SearchInput",idBasemapSat:t.guid+"BasemapSat",idBasemapOsm:t.guid+"BasemapOsm"}},computed:(0,s.default)({},(0,d.mapGetters)("callemailStore",{call_email:"call_email"}),(0,d.mapGetters)("offenceStore",{offence:"offence",offence_latitude:"offence_latitude",offence_longitude:"offence_longitude"})),watch:{call_email:{handler:function(){this.setMarkerIcon()},deep:!0},offence_latitude:{handler:function(){this.setMarkerLocation()}},offence_longitude:{handler:function(){this.setMarkerLocation()}}},mounted:function(){var e=this;e.$nextTick(function(){e.initMap(),e.setBaseLayer("osm"),e.initAwesomplete(),e.offence.location&&e.offence.location&&e.offence.location.geometry&&e.offence.location.geometry.coordinates&&e.offence.location.geometry.coordinates.length>0&&(e.addMarker([e.offence.location.geometry.coordinates[1],e.offence.location.geometry.coordinates[0]]),e.refreshMarkerLocation()),e.showHideAddressDetailsFields(!1,!1)})},methods:(0,s.default)({},(0,d.mapActions)("offenceStore",{setLocationPoint:"setLocationPoint",setLocationAddress:"setLocationAddress",setLocationAddressEmpty:"setLocationAddressEmpty",setLocationDetailsFieldEmpty:"setLocationDetailsFieldEmpty"}),{setMarkerCentre:function(){var e=this,t=e.offence.location.geometry.coordinates[1],a=e.offence.location.geometry.coordinates[0];e.mapOffence.flyTo({lat:t,lng:a},12,{animate:!0,duration:1.5})},mapTabClicked:function(){var e=this;setTimeout(function(){e.mapOffence.invalidateSize()},300)},setMarkerLocation:function(){var e=this,t=e.offence.location.geometry.coordinates[1],a=e.offence.location.geometry.coordinates[0];if(-90<t&&t<90&&-180<a<180){var n=[a,t];e.feature_marker.setLatLng({lat:t,lng:a}),e.mapOffence.flyTo({lat:t,lng:a},12,{animate:!0,duration:1.5}),e.reverseGeocoding(n)}},setMarkerIcon:function(){var e=this;e.feature_marker&&e.feature_marker.setIcon(e.icon_default)},addMarker:function(e){var t=this;t.feature_marker=r.default.marker({lon:e[1],lat:e[0]},{icon:t.icon_default}).on("click",function(e){}),t.feature_marker.addTo(t.mapOffence),t.setMarkerIcon()},reverseGeocoding:function(t){var a=this;console.log("reverseGeocoding"),console.log("coordinates_4326"),console.log(t),e.ajax({url:"https://mapbox.dpaw.wa.gov.au/geocoding/v5/mapbox.places/"+t[0]+","+t[1]+".json?"+e.param({limit:1,types:"address"}),dataType:"json",success:function(e,t,n){var i=!1;if(e.features&&e.features.length>0)for(var s=0;s<e.features.length;s++)e.features[s].place_type.includes("address")&&(a.updateAddressFields(e.features[s]),i=!0);i?(a.showHideAddressDetailsFields(!0,!1),a.setLocationDetailsFieldEmpty()):(a.showHideAddressDetailsFields(!1,!0),a.setLocationAddressEmpty())}})},search:function(t){var a=this,n=this.mapOffence.getCenter();e.ajax({url:"https://mapbox.dpaw.wa.gov.au/geocoding/v5/mapbox.places/"+encodeURIComponent(t)+".json?"+e.param({country:"au",limit:10,proximity:n.lng+","+n.lat,bbox:"112.920934,-35.191991,129.0019283,-11.9662455",types:"region,postcode,district,place,locality,neighborhood,address,poi"}),dataType:"json",success:function(e,t,n){if(a.suggest_list=[],e.features&&e.features.length>0)for(var i=0;i<e.features.length;i++)a.suggest_list.push({label:e.features[i].place_name,value:e.features[i].place_name,feature:e.features[i]});a.awe.list=a.suggest_list,a.awe.evaluate()}})},initAwesomplete:function(){var t=this,a=document.getElementById(t.idSearchInput);this.awe=new c.default(a),e(a).on("keyup",function(e){var a=e.keyCode||e.which;if(48<=a&&a<=90||96<=a&&a<=105||8==a||46==a)return t.search(e.target.value),!1}).on("awesomplete-selectcomplete",function(e){e.preventDefault(),e.stopPropagation();for(var a=0;a<t.suggest_list.length;a++)if(t.suggest_list[a].value==e.target.value){var n={lat:t.suggest_list[a].feature.geometry.coordinates[1],lng:t.suggest_list[a].feature.geometry.coordinates[0]};t.mapOffence.flyTo(n,13,{animate:!0,duration:1.5}),t.feature_marker||t.addMarker([n.lat,n.lng]),t.relocateMarker(n),t.suggest_list[a].feature.place_type.includes("address")?(t.showHideAddressDetailsFields(!0,!1),t.updateAddressFields(t.suggest_list[a].feature),t.setLocationDetailsFieldEmpty()):(t.showHideAddressDetailsFields(!1,!0),t.setLocationAddressEmpty())}return!1})},updateAddressFields:function(e){var t=new Object,a={"New South Wales":"NSW",Queensland:"QLD","South Australia":"SA",Tasmania:"TAS",Victoria:"VIC","Western Australia":"WA","Northern Territory":"NT","Australian Capital Territory":"ACT"},n=e.place_name.split(",");t.street=n[0];var i=/^([a-zA-Z0-9\s]*)\s(New South Wales|Queensland|South Australia|Tasmania|Victoria|Western Australia|Northern Territory|Australian Capital Territory){1}\s+(\d{4})$/gi,s=i.exec(n[1]);t.town_suburb=s[1].trim();var o=a[s[2].trim()];t.state=o,t.postcode=s[3].trim(),t.country="Australia",this.setLocationAddress(t)},setBaseLayer:function(t){"sat"==t?(this.mapOffence.removeLayer(this.tileLayer),this.mapOffence.addLayer(this.tileLayerSat),e("#"+this.idBasemapSat).hide(),e("#"+this.idBasemapOsm).show()):(this.mapOffence.removeLayer(this.tileLayerSat),this.mapOffence.addLayer(this.tileLayer),e("#"+this.idBasemapOsm).hide(),e("#"+this.idBasemapSat).show())},showHideAddressDetailsFields:function(t,a){t?e("#"+this.idLocationFieldsAddress).fadeIn():e("#"+this.idLocationFieldsAddress).fadeOut(),a?e("#"+this.idLocationFieldsDetails).fadeIn():e("#"+this.idLocationFieldsDetails).fadeOut()},refreshMarkerLocation:function(){this.offence.location.geometry&&(this.feature_marker.setLatLng({lat:this.offence.location.geometry.coordinates[1],lng:this.offence.location.geometry.coordinates[0]}),this.offence.location.geometry&&this.reverseGeocoding(this.offence.location.geometry.coordinates))},initMap:function(){this.mapOffence=r.default.map(this.idMap).setView([-31.9505,115.8605],4),this.tileLayer=r.default.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>, contributiors'}),this.tileLayerSat=r.default.tileLayer.wmts("https://kmi.dpaw.wa.gov.au/geoserver/gwc/service/wmts",{layer:"public:mapbox-satellite",tilematrixSet:"mercator",format:"image/png"}),this.mapOffence.on("click",this.onClick).on("mousemove",this.onMouseMove).on("mouseout",this.onMouseOut),this.setBaseLayer("osm"),new r.default.Control.Measure({position:"topleft",primaryLengthUnit:"meters",activeColor:"#ff7f50",completedColor:"#228b22"}).addTo(this.mapOffence),r.default.control.locate().addTo(this.mapOffence)},relocateMarker:function(e){var t=[e.lng,e.lat];this.setLocationPoint(t),this.refreshMarkerLocation(),this.reverseGeocoding(t)},onMouseMove:function(e){var t=this;t.cursor_location=t.mapOffence.mouseEventToLatLng(e.originalEvent)},onMouseOut:function(e){this.cursor_location=null},onClick:function(e){var t=this,a=this.mapOffence.mouseEventToLatLng(e.originalEvent);t.feature_marker||t.addMarker([a.lat,a.lng]),this.relocateMarker(a)}})}}).call(t,a(1))},function(e,t,a){"use strict";(function(e,n){function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var s=a(17),o=i(s),r=a(66),l=i(r),c=a(8),d=i(c),u=a(7),p=i(u),_=a(5),m=i(_),f=a(4),v=i(f),h=a(47),g=i(h),b=a(10),y=i(b),C=a(23),x=i(C),w=a(3),k=a(6),A=a(20),I=i(A),D=a(28),T=(i(D),a(768)),S=i(T),P=a(97),M=i(P),O=a(323),N=i(O),R=a(99),Y=i(R);a(15),a(29);var E=a(80),L=i(E),j=a(0),B=i(j),F=a(320),W=i(F),z=a(63),U=i(z);t.default={name:"ViewOffence",data:function(){var t=this;return t.STATUS_DRAFT="draft",t.STATUS_CLOSING="closing",t.STATUS_CLOSED="closed",t.STATUS_OPEN="open",t.STATUS_DISCARDED="discarded",t.max_items=20,t.ajax_for_alleged_offence=null,t.ajax_for_offender=null,t.suggest_list=[],t.suggest_list_offender=[],t.awe=null,{uuid:0,workflow_type:"",workflowBindId:"",offender_search_type:"individual",offenceTab:"offenceTab"+t._uid,detailsTab:"detailsTab"+t._uid,offenderTab:"offenderTab"+t._uid,locationTab:"locationTab"+t._uid,relatedItemsTab:"relatedItemsTab"+t._uid,displayCreateNewPerson:!1,idLocationFieldsAddress:t.guid+"LocationFieldsAddress",idLocationFieldsDetails:t.guid+"LocationFieldsDetails",sanctionOutcomeInitialised:!1,objectHash:null,hashAttributeWhitelist:["alleged_offences","allocated_group_id","date_of_issue","details","district_id","identifier","location","lodgement_number","occurrence_date_from","occurrence_date_to","occurrence_time_from","occurrence_time_to","occurrence_from_to","offenders","region_id"],current_alleged_offence:{id:null,act:"",name:"",offence_text:""},current_offender:null,comms_url:w.helpers.add_endpoint_json(w.api_endpoints.offence,this.$route.params.offence_id+"/comms_log"),comms_add_url:w.helpers.add_endpoint_json(w.api_endpoints.offence,this.$route.params.offence_id+"/add_comms_log"),logs_url:w.helpers.add_endpoint_json(w.api_endpoints.offence,this.$route.params.offence_id+"/action_log"),dtHeadersOffender:["id","Individual/Organisation","Details","Action","Reason for removal"],dtHeadersAllegedOffence:["id","Act","Section/Regulation","Alleged Offence","Action","Reason for removal"],dtOptionsOffender:{columns:[{visible:!1,mRender:function(e,t,a){return a.offender.id}},{mRender:function(e,t,a){var n="";return n=a.offender.person?"individual":"organisation",a.offender.removed&&(n="<strike>"+n+"</strike>"),n}},{mRender:function(e,t,a){if(a.offender.person){var n=[a.offender.person.first_name,a.offender.person.last_name].filter(Boolean).join(" "),i=a.offender.person.email?"E:"+a.offender.person.email:"",s=a.offender.person.phone_number?"P:"+a.offender.person.phone_number:"",o=a.offender.person.mobile_number?"M:"+a.offender.person.mobile_number:"",r=a.offender.person.dob?"DOB:"+a.offender.person.dob:"DOB: ---",l=["<strong>"+n+"</strong>",i,s,o,r].filter(Boolean).join("<br />");return a.offender.removed&&(l="<strike>"+l+"</strike>"),l}if(a.offender.organisation){var c=a.offender.organisation.name?a.offender.organisation.name:"",d=a.offender.organisation.abn?"ABN:"+a.offender.organisation.abn:"",u=["<strong>"+c+"</strong>",d].filter(Boolean).join("<br />");return a.offender.removed&&(u="<strike>"+u+"</strike>"),u}}},{mRender:function(e,t,a){var n=a.offender.number_linked_sanction_outcomes_active+"("+a.offender.number_linked_sanction_outcomes_total+")";return a.offence.in_editable_status&&a.offence.can_user_action&&(a.offender.removed?n=n+'<a href="#" class="restore_button" data-offender-uuid="'+a.offender.uuid+'">Restore</a>':a.offender.number_linked_sanction_outcomes_active||(n=n+'<a href="#" class="remove_button" data-offender-uuid="'+a.offender.uuid+'">Remove</a>')),n}},{mRender:function(e,t,a){var n="";return a.offender.removed&&(a.offender.reason_for_removal?n+=a.offender.reason_for_removal:n=n+'<textarea class="reason_element" data-offender-uuid="'+a.offender.uuid+'">'+a.offender.reason_for_removal+"</textarea>"),n}}]},dtOptionsAllegedOffence:{columns:[{visible:!1,mRender:function(e,t,a){return a.allegedOffence.id}},{mRender:function(e,t,a){var n=a.allegedOffence.section_regulation.act;return a.allegedOffence.removed&&(n="<strike>"+n+"</strike>"),n}},{mRender:function(e,t,a){var n=a.allegedOffence.section_regulation.name;return a.allegedOffence.removed&&(n="<strike>"+n+"</strike>"),n}},{mRender:function(e,t,a){var n=a.allegedOffence.section_regulation.offence_text;return a.allegedOffence.removed&&(n="<strike>"+n+"</strike>"),n}},{mRender:function(e,t,a){var n=a.allegedOffence.number_linked_sanction_outcomes_active+"("+a.allegedOffence.number_linked_sanction_outcomes_total+")";return a.offence.in_editable_status&&a.offence.can_user_action&&(a.allegedOffence.removed?n=n+'<a href="#" class="restore_button" data-alleged-offence-uuid="'+a.allegedOffence.uuid+'">Restore</a>':a.allegedOffence.number_linked_sanction_outcomes_active||(n=n+'<a href="#" class="remove_button" data-alleged-offence-uuid="'+a.allegedOffence.uuid+'">Remove</a>')),n}},{mRender:function(t,a,n){var i="";if(n.allegedOffence.removed)if(n.allegedOffence.reason_for_removal){var s=n.allegedOffence.reason_for_removal,o=s.length>20?'<span title="'+s+'">'+e.trim(s).substring(0,20).split(" ").slice(0,-1).join(" ")+"...</span>":s;i+=o}else i=i+'<textarea class="reason_element" data-alleged-offence-uuid="'+n.allegedOffence.uuid+'">'+n.allegedOffence.reason_for_removal+"</textarea>";return i}}]}}},components:{FormSection:g.default,OffenceWorkflow:S.default,CommsLogs:I.default,datatable:y.default,SearchPersonOrganisation:M.default,MapLocation:N.default,RelatedItems:L.default,SanctionOutcome:Y.default},computed:(0,m.default)({},(0,k.mapGetters)("offenceStore",{offence:"offence"}),{readonlyForm:function(){return!this.canUserEdit},canUserEdit:function(){var e=!1;return this.canUserAction&&(this.offence.status.id!==this.STATUS_DRAFT&&this.offence.status.id!==this.STATUS_OPEN||(e=!0)),e},updateSearchPersonOrganisationBindId:function(){return this.uuid+=1,"offender"+this.uuid},occurrenceDateLabel:function(){return this.offence.occurrence_from_to?"Occurrence date from":"Occurrence date"},occurrenceTimeLabel:function(){return this.offence.occurrence_from_to?"Occurrence time from":"Occurrence time"},statusDisplay:function(){var e="";return this.offence&&this.offence.status&&(e=this.offence.status.name),e},displayLodgementNumber:function(){var e="";return this.offence&&(e=this.offence.lodgement_number),e},canUserAction:function(){return this.offence.can_user_action},visibilitySaveButton:function(){var e=!1;return this.canUserAction&&(this.offence.status.id!==this.STATUS_DRAFT&&this.offence.status.id!==this.STATUS_OPEN||(e=!0)),e},visibilitySanctionOutcomeButton:function(){var e=!1;return this.canUserAction&&this.offence.status.id===this.STATUS_OPEN&&(e=!0),e},visibilityCloseButton:function(){var e=!1;return this.canUserAction&&this.offence.status.id===this.STATUS_OPEN&&(e=!0),e},relatedItemsBindId:function(){var e=Date.now();return this.offence&&this.offence.id?"offence_"+this.offence.id+"_"+this._uid:e.toString()}}),methods:(0,m.default)({},(0,k.mapActions)("offenceStore",{loadOffenceVuex:"loadOffence",saveOffence:"saveOffence",setAssignedToId:"setAssignedToId",setCanUserAction:"setCanUserAction",setRelatedItems:"setRelatedItems"}),{constructOffenceDedicatedPage:function(){function e(){return t.apply(this,arguments)}var t=(0,p.default)(d.default.mark(function e(){return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadOffenceVuex({offence_id:this.$route.params.offence_id});case 2:this.constructAllegedOffencesTable(),this.constructOffendersTable(),this.updateObjectHash();case 5:case"end":return e.stop()}},e,this)}));return e}(),updateObjectHash:function(){this.objectHash=this.calculateHash()},calculateHash:function(){var e=this,t={};return(0,l.default)(this.offence).forEach(function(a,n,i){e.hashAttributeWhitelist.includes(a)&&(t[a]=e.offence[a])}),(0,U.default)(t)},formChanged:function(){var e=!1;return this.readonlyForm||this.objectHash!==this.calculateHash()&&(e=!0),e},save:function(){function e(){return t.apply(this,arguments)}var t=(0,p.default)(d.default.mark(function e(){return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.saveOffence();case 3:return e.next=5,n("Saved","The record has been saved","success");case 5:this.constructOffendersTable(),this.constructAllegedOffencesTable(),this.updateObjectHash(),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),this.processError(e.t0);case 13:case"end":return e.stop()}},e,this,[[0,10]])}));return e}(),leaving:function(e){var t=this;if(t.formChanged())return e.returnValue="You have some unsaved changes.","You have some unsaved changes."},destroyed:function(){window.removeEventListener("beforeunload",this.leaving),window.removeEventListener("onblur",this.leaving)},saveExit:function(){function e(){return t.apply(this,arguments)}var t=(0,p.default)(d.default.mark(function e(){return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.saveOffence();case 3:return e.next=5,n("Saved","The record has been saved","success");case 5:window.removeEventListener("beforeunload",this.leaving),window.removeEventListener("onblur",this.leaving),this.$router.push({name:"internal-offence-dash"}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),this.processError(e.t0);case 13:case"end":return e.stop()}},e,this,[[0,10]])}));return e}(),processError:function(){function e(e){return t.apply(this,arguments)}var t=(0,p.default)(d.default.mark(function e(t){var a,i,s,o,r;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a="",t.body.non_field_errors)for(i=0;i<t.body.non_field_errors.length;i++)a+=t.body.non_field_errors[i]+"<br />";else if(Array.isArray(t.body))for(s=0;s<t.body.length;s++)a+=t.body[s]+"<br />";else for(o in t.body)if(t.body.hasOwnProperty(o))for(a+=o+":<br />",r=0;r<t.body[o].length;r++)a+=t.body[o][r]+"<br />";return e.next=4,n("Error",a,"error");case 4:case"end":return e.stop()}},e,this)}));return e}(),updateAssignedToId:function(){function e(e){return t.apply(this,arguments)}var t=(0,p.default)(d.default.mark(function e(t){var a,n,i;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("updateAssignedToId"),a=w.helpers.add_endpoint_join(w.api_endpoints.offence,this.offence.id+"/update_assigned_to_id/"),n=null,n="current_user"===t&&this.offence.user_in_group?{current_user:!0}:"blank"===t?{blank:!0}:{assigned_to_id:this.offence.assigned_to_id},e.next=6,v.default.http.post(a,n);case 6:i=e.sent,this.setAssignedToId(i.body.assigned_to_id),this.setCanUserAction(i.body.can_user_action),this.constructOffendersTable(),this.constructAllegedOffencesTable(),this.updateObjectHash();case 12:case"end":return e.stop()}},e,this)}));return e}(),openSanctionOutcome:function(){var e=this;this.sanctionOutcomeInitialised=!0,this.$nextTick(function(){e.$refs.sanction_outcome.isModalOpen=!0})},updateWorkflowBindId:function(){var e=Date.now();this.workflow_type?this.workflowBindId=this.workflow_type+"_"+e.toString():this.workflowBindId=e.toString()},addWorkflow:function(e){var t=this;this.workflow_type=e,this.updateWorkflowBindId(),this.$nextTick(function(){t.$refs.add_workflow.isModalOpen=!0})},showHideAddressDetailsFields:function(t,a){t?e("#"+this.idLocationFieldsAddress).fadeIn():e("#"+this.idLocationFieldsAddress).fadeOut(),a?e("#"+this.idLocationFieldsDetails).fadeIn():e("#"+this.idLocationFieldsDetails).fadeOut()},reverseGeocoding:function(t){var a=this;e.ajax({url:"https://mapbox.dpaw.wa.gov.au/geocoding/v5/mapbox.places/"+t.lng+","+t.lat+".json?"+e.param({limit:1,types:"address"}),dataType:"json",success:function(e,t,n){var i=!1;if(e.features&&e.features.length>0)for(var s=0;s<e.features.length;s++)e.features[s].place_type.includes("address")&&(a.setAddressFields(e.features[s]),i=!0);i?(a.showHideAddressDetailsFields(!0,!1),a.setLocationDetailsFieldEmpty()):(a.showHideAddressDetailsFields(!1,!0),a.setLocationAddressEmpty())}})},setAddressFields:function(e){if(this.offence.location){var t={"New South Wales":"NSW",Queensland:"QLD","South Australia":"SA",Tasmania:"TAS",Victoria:"VIC","Western Australia":"WA","Northern Territory":"NT","Australian Capital Territory":"ACT"},a=e.place_name.split(",");this.offence.location.properties.street=a[0];var n=/^([a-zA-Z0-9\s]*)\s(New South Wales|Queensland|South Australia|Tasmania|Victoria|Western Australia|Northern Territory|Australian Capital Territory){1}\s+(\d{4})$/gi,i=n.exec(a[1]);this.offence.location.properties.town_suburb=i[1].trim();var s=t[i[2].trim()];this.offence.location.properties.state=s,this.offence.location.properties.postcode=i[3].trim(),this.offence.location.properties.country="Australia"}},setLocationAddressEmpty:function(){this.offence.location&&(this.offence.location.properties.town_suburb="",this.offence.location.properties.street="",this.offence.location.properties.state="",this.offence.location.properties.postcode="",this.offence.location.properties.country="")},setLocationDetailsFieldEmpty:function(){this.offence.location&&(this.offence.location.properties.details="")},locationUpdated:function(e){this.offence.location.geometry.coordinates[1]=e.lat,this.offence.location.geometry.coordinates[0]=e.lng,this.reverseGeocoding(e)},mapOffenceClicked:function(){this.$refs.mapLocationComponent&&this.$refs.mapLocationComponent.invalidateSize()},personSelected:function(e){console.log("personSelected"),this.setCurrentOffender(e.data_type,e.id)},createNewPersonClicked:function(){var e=this;e.newPersonBeingCreated=!0,e.displayCreateNewPerson=!e.displayCreateNewPerson},cancelCreateNewPersonClicked:function(){this.newPersonBeingCreated=!1},saveNewPersonClicked:function(){this.newPersonBeingCreated=!1},reasonOffenderLostFocus:function(e){console.log("reason lost focus");for(var t=e.target.getAttribute("data-offender-uuid"),a=0;a<this.offence.offenders.length;a++){var n=this.offence.offenders[a];n.uuid==t&&(n.reason_for_removal=e.target.value)}},reasonAllegedOffenceLostFocus:function(e){console.log("reason lost focus");for(var t=e.target.getAttribute("data-alleged-offence-uuid"),a=0;a<this.offence.alleged_offences.length;a++){var n=this.offence.alleged_offences[a];n.uuid==t&&(n.reason_for_removal=e.target.value)}},removeOffenderClicked:function(e){console.log("removeOffenderClicked");for(var t=e.target.getAttribute("data-offender-uuid"),a=0;a<this.offence.offenders.length;a++){var n=this.offence.offenders[a];n.uuid==t&&(n.id?(console.log("existing"),n.removed=!0):(console.log("new"),this.offence.offenders.splice(a,1)))}this.constructOffendersTable()},restoreOffenderClicked:function(e){console.log("restoreOffenderClicked");for(var t=e.target.getAttribute("data-offender-uuid"),a=0;a<this.offence.offenders.length;a++){var n=this.offence.offenders[a];n.uuid==t&&n.id&&(console.log("existing"),n.removed=!1)}this.constructOffendersTable()},restoreAllegedOffenceClicked:function(e){console.log("restoreAllegedOffenceClicked");for(var t=e.target.getAttribute("data-alleged-offence-uuid"),a=0;a<this.offence.alleged_offences.length;a++){var n=this.offence.alleged_offences[a];n.uuid==t&&n.id&&(console.log("existing"),n.removed=!1)}this.constructAllegedOffencesTable()},removeAllegedOffenceClicked:function(e){console.log("removeAllegedOffenceClicked");for(var t=e.target.getAttribute("data-alleged-offence-uuid"),a=0;a<this.offence.alleged_offences.length;a++){var n=this.offence.alleged_offences[a];n.uuid==t&&(n.id?(console.log("existing"),n.removed=!0):(console.log("new"),this.offence.alleged_offences.splice(a,1)))}this.constructAllegedOffencesTable()},addOffenderClicked:function(){function e(){return t.apply(this,arguments)}var t=(0,p.default)(d.default.mark(function e(){var t,a,n,i;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("addOffenderClicked"),!(this.current_offender&&this.current_offender.id&&this.current_offender.data_type)){e.next=7;break}return e.next=4,this.$refs.search_offender.parentSave();case 4:for(t=!1,a=0;a<this.offence.offenders.length;a++)n=this.offence.offenders[a],"individual"==this.current_offender.data_type?n.person&&(n.removed||n.person.id!=this.current_offender.id||(t=!0)):"organisation"==this.current_offender.data_type&&n.organisation&&(n.removed||n.organisation.id!=this.current_offender.id||(t=!0));t||(i={id:"",can_user_action:!0,removed:!1,reason_for_removal:"",person:null,organisation:null,number_linked_sanction_outcomes_total:0,number_linked_sanction_outcomes_active:0,uuid:(0,W.default)()},"individual"==this.current_offender.data_type?i.person=this.current_offender:"organisation"==this.current_offender.data_type&&(i.organisation=this.current_offender),this.offence.offenders.push(i));case 7:this.constructOffendersTable(),this.setCurrentOffenderEmpty();case 9:case"end":return e.stop()}},e,this)}));return e}(),addAllegedOffenceClicked:function(){if(console.log("addAllegedOffenceClicked"),this.current_alleged_offence&&this.current_alleged_offence.id){for(var e=!1,t=0;t<this.offence.alleged_offences.length;t++){this.offence.alleged_offences[t].section_regulation.id==this.current_alleged_offence.id&&(e=!0)}if(!e){var a={id:"",removed:!1,reason_for_removal:"",removed_by_id:null,section_regulation:this.current_alleged_offence,number_linked_sanction_outcomes_total:0,number_linked_sanction_outcomes_active:0,uuid:(0,W.default)()};this.offence.alleged_offences.push(a)}}this.constructAllegedOffencesTable(),this.setCurrentAllegedOffenceEmpty()},constructAllegedOffencesTable:function(){if(this.$refs.alleged_offence_table.vmDataTable.clear().draw(),this.offence.alleged_offences)for(var e=0;e<this.offence.alleged_offences.length;e++)this.addAllegedOffenceToTable(this.offence.alleged_offences[e])},addAllegedOffenceToTable:function(e){e.uuid=(0,W.default)(),this.$refs.alleged_offence_table.vmDataTable.row.add({allegedOffence:e,offence:this.offence}).draw()},constructOffendersTable:function(){if(console.log("constructOffendersTable"),this.$refs.offender_table.vmDataTable.clear().draw(),this.offence.offenders)for(var e=0;e<this.offence.offenders.length;e++)this.addOffenderToTable(this.offence.offenders[e])},addOffenderToTable:function(e){console.log("addOffenderTotable"),console.log(e.reason_for_removal),e.uuid=(0,W.default)(),this.$refs.offender_table.vmDataTable.row.add({offender:e,offence:this.offence}).draw()},markMatchedText:function(e,t){return e.replace(new RegExp(t,"gi"),function(e,t){return"<mark>"+e+"</mark>"})},initAwesompleteAllegedOffence:function(){var t=this,a=document.getElementById("alleged-offence");t.awe=new Awesomplete(a,{maxItems:t.max_items,sort:!1,filter:function(){return!0},item:function(e,t){return Awesomplete.ITEM(e,"")},data:function(e,a){var n=e.act?e.act:"",i=e.name?e.name:"",s=e.offence_text?e.offence_text:"",o=t.markMatchedText(n,a),r=t.markMatchedText(i,a),l=t.markMatchedText(s,a),c=["<strong>"+o+", "+r+"</strong>",l].filter(Boolean).join("<br />");return c='<div data-item-id="'+e.id+'">'+c+"</div>",{label:c,value:[n,i,s].filter(Boolean).join(", "),id:e.id}}}),e(a).on("keyup",function(e){var a=e.keyCode||e.which;if(48<=a&&a<=90||96<=a&&a<=105||8==a||46==a)return t.search(e.target.value),!1}).on("awesomplete-selectcomplete",function(e){return e.preventDefault(),e.stopPropagation(),!1}).on("awesomplete-select",function(a){var n=e(a.originalEvent.origin);"DIV"!=n[0].tagName&&(n=n.parent());for(var i=n[0].getAttribute("data-item-id"),s=0;s<t.suggest_list.length;s++)if(t.suggest_list[s].id==parseInt(i)){t.setCurrentOffenceSelected(t.suggest_list[s]);break}})},search:function(t){var a=this;a.suggest_list=[],a.suggest_list.length=0,a.awe.list=[],null!=a.ajax_for_alleged_offence&&(a.ajax_for_alleged_offence.abort(),a.ajax_for_alleged_offence=null),a.ajax_for_alleged_offence=e.ajax({type:"GET",url:"/api/search_alleged_offences/?search="+t,success:function(e){if(e&&e.results)for(var t=e.results,n=Math.min(a.max_items,t.length),i=0;i<n;i++)a.suggest_list.push(t[i]);a.awe.list=a.suggest_list,a.awe.evaluate()},error:function(e){}})},searchOrganisation:function(e){return new o.default(function(t,a){v.default.http.get("/api/search_organisation/"+e).then(function(e){t(e.body)},function(e){a(e)})})},setCurrentOffender:function(e,t){var a=this;if(t){if("individual"==e){var n=[x.default.fetchUser(t)];o.default.all(n).then(function(e){a.current_offender=e[0],a.current_offender.data_type="individual"})}else if("organisation"==e){var i=[a.searchOrganisation(t)];o.default.all(i).then(function(e){a.current_offender=e[0],a.current_offender.data_type="organisation"})}}else this.current_offender=null},setCurrentOffenceSelected:function(e){var t=this;e.id?(t.current_alleged_offence.id=e.id,t.current_alleged_offence.act=e.act,t.current_alleged_offence.name=e.name,t.current_alleged_offence.offence_text=e.offence_text):t.setCurrentAllegedOffenceEmpty()},setCurrentOffenderEmpty:function(){this.current_offender={},e("#offender_input").val(""),this.$refs.search_offender.clearInput()},setCurrentAllegedOffenceEmpty:function(){this.current_alleged_offence={},e("#alleged-offence").val("")},addEventListeners:function(){var t=this,a=e(t.$refs.occurrenceDateFromPicker),n=e(t.$refs.occurrenceTimeFromPicker),i=e(t.$refs.occurrenceDateToPicker),s=e(t.$refs.occurrenceTimeToPicker);a.datetimepicker({format:"DD/MM/YYYY",maxDate:(0,B.default)().millisecond(0).second(0).minute(0).hour(0),showClear:!0}),a.on("dp.change",function(e){a.data("DateTimePicker").date()?t.offence.occurrence_date_from=e.date.format("DD/MM/YYYY"):""===a.data("date")&&(t.offence.occurrence_date_from=null)}),n.datetimepicker({format:"LT",showClear:!0}),n.on("dp.change",function(e){n.data("DateTimePicker").date()?t.offence.occurrence_time_from=e.date.format("LT"):""===n.data("date")&&(t.offence.occurrence_time_from=null)}),i.datetimepicker({format:"DD/MM/YYYY",maxDate:(0,B.default)().millisecond(0).second(0).minute(0).hour(0),showClear:!0}),i.on("dp.change",function(e){i.data("DateTimePicker").date()?t.offence.occurrence_date_to=e.date.format("DD/MM/YYYY"):""===i.data("date")&&(t.offence.occurrence_date_to=null)}),s.datetimepicker({format:"LT",showClear:!0}),s.on("dp.change",function(e){s.data("DateTimePicker").date()?t.offence.occurrence_time_to=e.date.format("LT"):""===s.data("date")&&(t.offence.occurrence_time_to=null)}),e("#alleged-offence-table").on("click",".remove_button",t.removeAllegedOffenceClicked),e("#alleged-offence-table").on("click",".restore_button",t.restoreAllegedOffenceClicked),e("#alleged-offence-table").on("blur",".reason_element",t.reasonAllegedOffenceLostFocus),e("#offender-table").on("click",".remove_button",t.removeOffenderClicked),e("#offender-table").on("click",".restore_button",t.restoreOffenderClicked),e("#offender-table").on("blur",".reason_element",t.reasonOffenderLostFocus),window.addEventListener("beforeunload",this.leaving),window.addEventListener("onblur",this.leaving)}}),created:function(){function e(){return t.apply(this,arguments)}var t=(0,p.default)(d.default.mark(function e(){return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.$route.params.offence_id){e.next=3;break}return e.next=3,this.constructOffenceDedicatedPage();case 3:this.$nextTick(function(){this.initAwesompleteAllegedOffence()});case 4:case"end":return e.stop()}},e,this)}));return e}(),mounted:function(){var e=this;e.$nextTick(function(){e.addEventListeners()})}}}).call(t,a(1),a(9))},function(e,t,a){"use strict";(function(e){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(11),s=n(i),o=a(8),r=n(o),l=a(7),c=n(l),d=a(4),u=n(d),p=a(1),_=n(p),m=a(10),f=n(m),v=a(325),h=n(v),g=a(3),b=a(98),y=n(b),C=a(767),x=n(C);t.default={name:"OffenceTableDash",data:function(){var t=this;return{offence_types:[],offence_statuses:[],filterType:"all",filterStatus:"all",filterDateFromPicker:"",filterDateToPicker:"",offenceInitialised:!1,canUserCreateNewOffence:!1,dtOptions:{serverSide:!0,searchDelay:1e3,lengthMenu:[[10,25,50,100,-1],[10,25,50,100,"All"]],order:[[0,"desc"]],language:{processing:"<i class='fa fa-4x fa-spinner fa-spin'></i>"},responsive:!0,processing:!0,ajax:{url:"/api/offence_paginated/get_paginated_datatable/?format=datatables",dataSrc:"data",data:function(e){e.type=t.filterType,e.status=t.filterStatus,e.date_from=t.filterDateFromPicker,e.date_to=t.filterDateToPicker}},columns:[{data:"lodgement_number",searchable:!0,orderable:!0},{data:"identifier",searchable:!0,orderable:!0},{data:"occurrence_date_from",searchable:!0,orderable:!0,mRender:function(t,a,n){return""!=t&&null!=t?e(t).format("DD/MM/YYYY"):""}},{data:"offenders",searchable:!0,orderable:!1,mRender:function(e,t,a){for(var n="",i=0;i<e.length;i++){var s="";e&&e[i].person?s=e[i].person.first_name+" "+e[i].person.last_name:e[i]&&e[i].organisation&&(s=e[i].organisation.name);n=n+(s.length>30?'<span title="'+s+'">'+_.default.trim(s).substring(0,30).split(" ").slice(0,-1).join(" ")+"...</span>":s)+"<br />"}return n}},{data:"status.name",searchable:!0,orderable:!0},{data:"user_action",searchable:!1,orderable:!1,mRender:function(e,t,a){return e||"---"}}]},dtHeaders:["Number","Identifier","Date","Offender(s)","Status","Action"]}},computed:{current_region_id:function(){return this.filterRegionId},visibilityCreateNewButton:function(){return this.canUserCreateNewOffence}},watch:{current_region_id:function(){this.updateDistricts()},filterType:function(){this.$refs.offence_table.vmDataTable.draw()},filterStatus:function(){this.$refs.offence_table.vmDataTable.draw()},filterPaymentStatus:function(){this.$refs.offence_table.vmDataTable.draw()},filterDateFromPicker:function(){this.$refs.offence_table.vmDataTable.draw()},filterDateToPicker:function(){this.$refs.offence_table.vmDataTable.draw()},filterRegionId:function(){this.$refs.offence_table.vmDataTable.draw()},filterDistrictId:function(){this.$refs.offence_table.vmDataTable.draw()}},mounted:function(){var e=this;e.$nextTick(function(){e.addEventListeners()})},created:function(){function e(){return t.apply(this,arguments)}var t=(0,c.default)(r.default.mark(function e(){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.constructOptionsType(),this.constructOptionsStatus(),this.getUserCanCreate();case 3:case"end":return e.stop()}},e,this)}));return e}(),methods:{getUserCanCreate:function(){function e(){return t.apply(this,arguments)}var t=(0,c.default)(r.default.mark(function e(){var t,a;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=g.helpers.add_endpoint_join(g.api_endpoints.offence,"can_user_create/"),e.next=3,u.default.http.get(t);case 3:a=e.sent,this.canUserCreateNewOffence=a.body;case 5:case"end":return e.stop()}},e,this)}));return e}(),createOffence:function(){var e=this;this.setCreateOffenceBindId(),this.offenceInitialised=!0,this.$nextTick(function(){e.$refs.add_offence.isModalOpen=!0})},setCreateOffenceBindId:function(){var e=Date.now();this.createOffenceBindId="inspection"+e.toString(),console.log("setCreateOffenceBindId"),console.log(this.createOffenceBindId)},addEventListeners:function(){this.attachFromDatePicker(),this.attachToDatePicker()},attachFromDatePicker:function(){var t=this,a=(0,_.default)(t.$refs.issueDateFromPicker),n=(0,_.default)(t.$refs.issueDateToPicker);a.datetimepicker({format:"DD/MM/YYYY",maxDate:e().millisecond(0).second(0).minute(0).hour(0),showClear:!0}),a.on("dp.change",function(e){a.data("DateTimePicker").date()?(t.filterDateFromPicker=e.date.format("DD/MM/YYYY"),n.data("DateTimePicker").minDate(e.date)):""===a.data("date")&&(t.filterDateFromPicker="")})},attachToDatePicker:function(){var t=this,a=(0,_.default)(t.$refs.issueDateFromPicker),n=(0,_.default)(t.$refs.issueDateToPicker);n.datetimepicker({format:"DD/MM/YYYY",maxDate:e().millisecond(0).second(0).minute(0).hour(0),showClear:!0}),n.on("dp.change",function(e){n.data("DateTimePicker").date()?(t.filterDateToPicker=e.date.format("DD/MM/YYYY"),a.data("DateTimePicker").maxDate(e.date)):""===n.data("date")&&(t.filterDateToPicker="")})},constructOptionsType:function(){function e(){return t.apply(this,arguments)}var t=(0,c.default)(r.default.mark(function e(){var t;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("constructOptionsType"),e.next=3,g.cache_helper.getSetCacheList("OffenceTypes","/api/offence/types.json");case 3:t=e.sent,(0,s.default)(this.offence_types,t),this.offence_types.splice(0,0,{id:"all",display:"All"});case 6:case"end":return e.stop()}},e,this)}));return e}(),constructOptionsStatus:function(){function e(){return t.apply(this,arguments)}var t=(0,c.default)(r.default.mark(function e(){var t;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("constructOptionsStatus"),e.next=3,g.cache_helper.getSetCacheList("OffenceStatuses","/api/offence/statuses.json");case 3:t=e.sent,(0,s.default)(this.offence_statuses,t),this.offence_statuses.splice(0,0,{id:"all",display:"All"});case 6:case"end":return e.stop()}},e,this)}));return e}()},components:{datatable:f.default,FormSection:h.default,OffenceModal:y.default,MapLocations:x.default}}}).call(t,a(0))},function(e,t,a){"use strict";(function(t,n){function i(e){return e&&e.__esModule?e:{default:e}}var s=a(8),o=i(s),r=a(11),l=i(r),c=a(7),d=i(c),u=a(52),p=i(u);a(125),a(62);var _=a(35),m=i(_),f=a(3);a(6);a(59),a(121),a(120),a(58),a(15),a(29),p.default.TileLayer.WMTS=p.default.TileLayer.extend({defaultWmtsParams:{service:"WMTS",request:"GetTile",version:"1.0.0",layers:"",styles:"",tilematrixSet:"",format:"image/jpeg"},initialize:function(e,t){this._url=e;var a=p.default.extend({},this.defaultWmtsParams),n=t.tileSize||this.options.tileSize;t.detectRetina&&p.default.Browser.retina?a.width=a.height=2*n:a.width=a.height=n;for(var i in t)this.options.hasOwnProperty(i)||"matrixIds"==i||(a[i]=t[i]);this.wmtsParams=a,this.matrixIds=t.matrixIds||this.getDefaultMatrix(),p.default.setOptions(this,t)},onAdd:function(e){this._crs=this.options.crs||e.options.crs,p.default.TileLayer.prototype.onAdd.call(this,e)},getTileUrl:function(e){var t=this.options.tileSize,a=e.multiplyBy(t);a.x+=1,a.y-=1;var n=a.add(new p.default.Point(t,t)),i=this._tileZoom,s=this._crs.project(this._map.unproject(a,i)),o=this._crs.project(this._map.unproject(n,i)),r=o.x-s.x,l=this.matrixIds[i].identifier,c=this.wmtsParams.tilematrixSet+":"+l,d=this.matrixIds[i].topLeftCorner.lng,u=this.matrixIds[i].topLeftCorner.lat,_=Math.floor((s.x-d)/r),m=-Math.floor((s.y-u)/r),f=p.default.Util.template(this._url,{s:this._getSubdomain(e)});return f+p.default.Util.getParamString(this.wmtsParams,f)+"&tilematrix="+c+"&tilerow="+m+"&tilecol="+_},setParams:function(e,t){return p.default.extend(this.wmtsParams,e),t||this.redraw(),this},getDefaultMatrix:function(){for(var e=new Array(22),t=0;t<22;t++)e[t]={identifier:""+t,topLeftCorner:new p.default.LatLng(20037508.3428,-20037508.3428)};return e}}),p.default.tileLayer.wmts=function(e,t){return new p.default.TileLayer.WMTS(e,t)},delete p.default.Icon.Default.prototype._getIconUrl,p.default.Icon.Default.mergeOptions({iconRetinaUrl:a(130),iconUrl:a(131),shadowUrl:a(42)}),e.exports={data:function(){var e=this;return e.layers=[],e.mcg=p.default.markerClusterGroup(),e.datetime_pattern=/^\d{2}\/\d{2}\/\d{4}$/gi,e.ajax_for_location=null,{map:null,tileLayer:null,tileLayerSat:null,popup:null,opt_url:f.helpers.add_endpoint_json(f.api_endpoints.offence,"optimised"),filterStatus:"all",filterDateFrom:"",filterDateTo:"",filterSanctionOutcomeType:"all",status_choices:[],sanction_outcome_type_choices:[],cursor_location:null}},created:function(){function e(){return a.apply(this,arguments)}var a=(0,d.default)(o.default.mark(function e(){var a,n;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("moment()"),console.log(t().toString()),console.log("moment()..."),console.log(t().millisecond(0).second(0).minute(0).hour(0).toString()),e.next=6,f.cache_helper.getSetCacheList("Offence_StatusChoices","/api/offence/status_choices");case 6:return a=e.sent,(0,l.default)(this.status_choices,a),this.status_choices.splice(0,0,{id:"all",display:"All"}),e.next=11,f.cache_helper.getSetCacheList("SanctionOutcome_TypeChoices","/api/sanction_outcome/types");case 11:n=e.sent,(0,l.default)(this.sanction_outcome_type_choices,n),this.sanction_outcome_type_choices.splice(0,0,{id:"all",display:"All"});case 14:case"end":return e.stop()}},e,this)}));return e}(),mounted:function(){var e=this;e.initMap(),e.loadLocations(),e.initAwesomplete(),e.$nextTick(function(){e.addEventListeners()})},watch:{filterStatus:function(){this.loadLocations()},filterSanctionOutcomeType:function(){this.loadLocations()},filterDateFrom:function(){if(this.filterDateFrom){this.datetime_pattern.exec(this.filterDateFrom)&&this.loadLocations()}else this.loadLocations()},filterDateTo:function(){if(this.filterDateTo){this.datetime_pattern.exec(this.filterDateTo)&&this.loadLocations()}else this.loadLocations()}},computed:{},methods:{addEventListeners:function(){var e=this,a=n(e.$refs.lodgementDateFromPicker),i=n(e.$refs.lodgementDateToPicker);a.datetimepicker({format:"DD/MM/YYYY",maxDate:t().millisecond(0).second(0).minute(0).hour(0),showClear:!0}),a.on("dp.change",function(t){a.data("DateTimePicker").date()?(e.filterDateFrom=t.date.format("DD/MM/YYYY"),i.data("DateTimePicker").minDate(t.date)):""===a.data("date")&&(e.filterDateFrom="")}),i.datetimepicker({format:"DD/MM/YYYY",maxDate:t().millisecond(0).second(0).minute(0).hour(0),showClear:!0}),i.on("dp.change",function(t){i.data("DateTimePicker").date()?(e.filterDateTo=t.date.format("DD/MM/YYYY"),a.data("DateTimePicker").maxDate(t.date)):""===i.data("date")&&(e.filterDateTo="")})},initAwesomplete:function(){var e=this,t=document.getElementById("search-input");this.awe=new m.default(t),n(t).on("keyup",function(t){var a=t.keyCode||t.which;if(48<=a&&a<=90||96<=a&&a<=105)return e.search(t.target.value),!1}).on("awesomplete-selectcomplete",function(t){t.preventDefault(),t.stopPropagation();for(var a=0;a<e.suggest_list.length;a++)if(e.suggest_list[a].value==t.target.value){var n={lat:e.suggest_list[a].feature.geometry.coordinates[1],lng:e.suggest_list[a].feature.geometry.coordinates[0]};e.map.flyTo(n,13,{animate:!0,duration:1.5})}return!1})},search:function(e){var t=this,a=this.map.getCenter();n.ajax({url:"https://mapbox.dpaw.wa.gov.au/geocoding/v5/mapbox.places/"+encodeURIComponent(e)+".json?"+n.param({country:"au",limit:10,proximity:a.lng+","+a.lat,bbox:"112.920934,-35.191991,129.0019283,-11.9662455",types:"region,postcode,district,place,locality,neighborhood,address,poi"}),dataType:"json",success:function(e,a,n){if(t.suggest_list=[],e.features&&e.features.length>0)for(var i=0;i<e.features.length;i++)t.suggest_list.push({label:e.features[i].place_name,value:e.features[i].place_name,feature:e.features[i]});t.awe.list=t.suggest_list,t.awe.evaluate()}})},setBaseLayer:function(e){"sat"==e?(this.map.removeLayer(this.tileLayer),this.map.addLayer(this.tileLayerSat),n("#basemap_sat").hide(),n("#basemap_osm").show()):(this.map.removeLayer(this.tileLayerSat),this.map.addLayer(this.tileLayer),n("#basemap_osm").hide(),n("#basemap_sat").show())},onClick:function(e){console.log(e.latlng.toString())},onMouseMove:function(e){this.cursor_location=this.map.mouseEventToLatLng(e.originalEvent)},onMouseOut:function(e){this.cursor_location=null},initMap:function(){console.log("Start initMap()"),this.map=p.default.map("mapLeaf").setView([-24.9505,122.8605],5),this.tileLayer=p.default.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>, contributiors'}),this.tileLayerSat=p.default.tileLayer.wmts("https://kmi.dpaw.wa.gov.au/geoserver/gwc/service/wmts",{layer:"public:mapbox-satellite",tilematrixSet:"mercator",format:"image/png"}),this.popup=p.default.popup(),this.map.on("click",this.onClick).on("mousemove",this.onMouseMove).on("mouseout",this.onMouseOut),this.setBaseLayer("osm"),this.addOtherLayers(),this.map.addLayer(this.mcg),p.default.control.locate().addTo(this.map)},addOtherLayers:function(){var e=this,t={};this.$http.get("/api/map_layers/").then(function(a){for(var n=a.body.results,i=0;i<n.length;i++){var s=p.default.tileLayer.wmts("https://kmi.dpaw.wa.gov.au/geoserver/gwc/service/wmts",{layer:n[i].layer_name.trim(),tilematrixSet:"mercator",format:"image/png"});t[n[i].display_name]=s}p.default.control.layers(null,t,{position:"topleft"}).addTo(e.map)})},loadLocations:function(){var e=this;null!=e.ajax_for_location&&(e.ajax_for_location.abort(),e.ajax_for_location=null);var t={status:e.filterStatus,date_from:e.filterDateFrom,date_to:e.filterDateTo,sanction_outcome_type:e.filterSanctionOutcomeType};e.ajax_for_location=n.ajax({type:"GET",data:t,url:e.opt_url,success:function(t){e.addMarkers(t)},error:function(e){console.log(e)}})},addMarkers:function(e){console.log("addMarkers");var t=this;if(t.mcg.clearLayers(),e&&e.length>0)for(var n=0;n<e.length;n++)e[n].location&&function(){var i=e[n],s=i.location.geometry.coordinates,o="marker-gray-locked.svg";i.status&&("open"==i.status?o="marker-green-locked.svg":"discarded"==i.status?o="marker-blue-locked.svg":"closing"==i.status?o="marker-orange-locked.svg":"closed"==i.status&&(o="marker-red-locked.svg"));var r=p.default.icon({iconUrl:a(136)("./"+o),shadowUrl:a(42),shadowSize:[41,41],shadowAnchor:[12,41],iconSize:[32,32],iconAnchor:[16,32],popupAnchor:[0,-20]}),l=p.default.marker([s[1],s[0]],{icon:r}),c=p.default.popup();l.bindPopup(c),t.mcg.addLayer(l),l.on("click",function(e){var a=e.target.getPopup();t.$http.get("/api/offence/"+i.id).then(function(e){var n=e.body;a.setContent(t.construct_content(n,s))})})}()},construct_content:function(e,t){var a="---";e.classification&&(a=e.classification.name);var n="---";e.report_type&&(n=e.report_type.report_type);var i='<div class="popup-title-main">'+e.number+"</div>";return i+='<div class="popup-title">Classification</div><div class="popup-coords">'+a+"</div>",i+='<div class="popup-title">Report Type</div><div class="popup-address">'+n+"</div>",e.location.properties.street?i+='<div class="popup-title">Address</div><div class="popup-address">'+e.location.properties.street+"<br />"+e.location.properties.town_suburb+"<br />"+e.location.properties.state+"<br />"+e.location.properties.postcode+"</div>":i+='<div class="popup-title">Details</div><div class="popup-address">'+e.location.properties.details.substring(0,10)+"</div>",i+='<div class="popup-link"><a href="/internal/offence/'+e.id+'">View</a></div>'}}}}).call(t,a(0),a(1))},function(e,t,a){"use strict";(function(e,n){function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var s=a(16),o=i(s),r=a(17),l=i(r),c=a(8),d=i(c),u=a(11),p=i(u),_=a(7),m=i(_),f=a(5),v=i(f),h=a(4),g=i(h),b=a(35),y=i(b),C=a(18),x=i(C),w=a(10),k=i(w),A=a(6),I=a(3),D=a(764),T=i(D),S=a(97),P=i(S),M=a(23),O=i(M),N=a(1),R=i(N);a(15),a(29);var Y=a(320),E=i(Y);t.default={name:"Offence",data:function(){var e=this;return e.max_items=20,e.ajax_for_alleged_offence=null,e.ajax_for_offender=null,e.suggest_list=[],e.suggest_list_offender=[],e.awe=null,{uuid:0,displayCreateNewPerson:!1,updatingContact:!1,newPersonBeingCreated:!1,officers:[],isModalOpen:!1,processingDetails:!1,current_alleged_offence:{id:null,act:"",section_regulation:"",offence_text:""},current_offender:null,offender_search_type:"individual",oTab:"oTab"+e._uid,dTab:"dTab"+e._uid,pTab:"pTab"+e._uid,lTab:"lTab"+e._uid,errorResponse:"",regionDistricts:[],regions:[],availableDistricts:[],dtHeadersOffender:["id","Individual/Organisation","Details","Action"],dtHeadersAllegedOffence:["id","Act","Section/Regulation","Alleged Offence","Action"],dtOptionsOffender:{columns:[{data:"id",visible:!1},{data:"data_type",visible:!0},{data:"",mRender:function(e,t,a){if("individual"==a.data_type){return["<strong>"+[a.first_name,a.last_name].filter(Boolean).join(" ")+"</strong>",a.email?"E:"+a.email:"",a.phone_number?"P:"+a.phone_number:"",a.mobile_number?"M:"+a.mobile_number:"",a.dob?"DOB:"+a.dob:"DOB: ---"].filter(Boolean).join("<br />")}if("organisation"==a.data_type){return["<strong>"+(a.name?a.name:"")+"</strong>",a.abn?"ABN:"+a.abn:""].filter(Boolean).join("<br />")}}},{data:"Action",mRender:function(e,t,a){return'<a href="#" class="remove_button" data-offender-id="'+a.id+'">Remove</a>'}}]},dtOptionsAllegedOffence:{columns:[{visible:!1,mRender:function(e,t,a){return a.allegedOffence.id}},{mRender:function(e,t,a){return a.allegedOffence.section_regulation.act}},{mRender:function(e,t,a){return a.allegedOffence.section_regulation.name}},{mRender:function(e,t,a){return a.allegedOffence.section_regulation.offence_text}},{mRender:function(e,t,a){return'<a href="#" class="remove_button" data-alleged-offence-uuid="'+a.allegedOffence.uuid+'">Remove</a>'}}]}}},components:{modal:x.default,datatable:k.default,MapLocationOffence:T.default,SearchPersonOrganisation:P.default},props:{parent_update_function:{type:Function},region_id:{required:!1,default:null},district_id:{required:!1,default:null},allocated_group_id:{required:!1,default:null}},computed:(0,v.default)({},(0,A.mapGetters)("offenceStore",{offence:"offence"}),(0,A.mapGetters)("inspectionStore",{inspection:"inspection"}),(0,A.mapGetters)("legalCaseStore",{legal_case:"legal_case"}),(0,A.mapGetters)("callemailStore",{call_email:"call_email"}),{parent_legal_case:function(){if(this.legal_case&&this.legal_case.id)return!0},parent_call_email:function(){if(this.call_email&&this.call_email.id)return!0},parent_inspection:function(){if(this.inspection&&this.inspection.id)return!0},modalTitle:function(){return"Identify Offence"},occurrenceDateLabel:function(){return this.offence.occurrence_from_to?"Occurrence date from":"Occurrence date"},occurrenceTimeLabel:function(){return this.offence.occurrence_from_to?"Occurrence time from":"Occurrence time"},updateSearchPersonOrganisationBindId:function(){return this.uuid+=1,"offender"+this.uuid},parentEntity:function(){return{id:1,data_type:"individual"}}}),filters:{formatDate:function(t){return t?e(t).format("DD/MM/YYYY HH:mm:ss"):""}},methods:(0,v.default)({},(0,A.mapActions)("offenceStore",{setAllegedOffenceIds:"setAllegedOffenceIds",setOffenders:"setOffenders",setCallEmailId:"setCallEmailId",setRegionId:"setRegionId",setDistrictId:"setDistrictId",setAllocatedGroupId:"setAllocatedGroupId",setInspectionId:"setInspectionId",setLegalCaseId:"setLegalCaseId",createOffence:"createOffence",setOffenceEmpty:"setOffenceEmpty"}),{constructRegionsAndDistricts:function(){function e(){return t.apply(this,arguments)}var t=(0,m.default)(d.default.mark(function e(){var t,a;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.cache_helper.getSetCacheList("Offence_Regions","/api/region_district/get_regions/");case 2:return t=e.sent,(0,p.default)(this.regions,t),this.regions.splice(0,0,{id:"",display_name:"",district:"",districts:[],region:null}),e.next=7,I.cache_helper.getSetCacheList("Offence_RegionDistricts",I.api_endpoints.region_district);case 7:a=e.sent,(0,p.default)(this.regionDistricts,a);case 9:case"end":return e.stop()}},e,this)}));return e}(),newPersonCreated:function(e){if(e.person){this.setCurrentOffender("individual",e.person.id);var t=[e.person.first_name,e.person.last_name].filter(Boolean).join(" "),a=e.person.dob?"DOB:"+e.person.dob:"DOB: ---",n=[t,a].filter(Boolean).join(", ");this.$refs.person_search.setInput(n)}else e.err&&console.log(err)},personSelected:function(e){this.setCurrentOffender(e.data_type,e.id)},removeOffenderClicked:function(e){var t=this,a=parseInt(e.target.getAttribute("data-offender-id"));t.$refs.offender_table.vmDataTable.rows(function(e,n,i){n.id===a&&t.$refs.offender_table.vmDataTable.row(e).remove().draw()})},removeClicked:function(e){for(var t=e.target.getAttribute("data-alleged-offence-uuid"),a=0;a<this.offence.alleged_offences.length;a++){var n=this.offence.alleged_offences[a];n.uuid==t&&(n.id?(console.log("existing"),n.removed=!0):(console.log("new"),this.offence.alleged_offences.splice(a,1)))}this.constructAllegedOffencesTable()},createNewPersonClicked:function(){var e=this;e.newPersonBeingCreated=!0,e.displayCreateNewPerson=!e.displayCreateNewPerson},cancelCreateNewPersonClicked:function(){this.newPersonBeingCreated=!1},saveNewPersonClicked:function(){this.newPersonBeingCreated=!1},addOffenderClicked:function(){function e(){return t.apply(this,arguments)}var t=(0,m.default)(d.default.mark(function e(){var t,a,n,i,s;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this,!(t.current_offender&&t.current_offender.id&&t.current_offender.data_type)){e.next=16;break}return e.next=4,this.$refs.search_offender.parentSave();case 4:a=!1,n=t.$refs.offender_table.vmDataTable.columns(0).data()[0],i=t.$refs.offender_table.vmDataTable.columns(1).data()[0],s=0;case 8:if(!(s<n.length)){e.next=15;break}if(n[s]!=t.current_offender.id||i[s]!=t.current_offender.data_type){e.next=12;break}return a=!0,e.abrupt("break",15);case 12:s++,e.next=8;break;case 15:a||("individual"==t.current_offender.data_type?t.$refs.offender_table.vmDataTable.row.add({data_type:t.current_offender.data_type,id:t.current_offender.id,first_name:t.current_offender.first_name,last_name:t.current_offender.last_name,email:t.current_offender.email,p_number:t.current_offender.p_number,m_number:t.current_offender.m_numberum,dob:t.current_offender.dob}).draw():"organisation"==t.current_offender.data_type&&t.$refs.offender_table.vmDataTable.row.add({data_type:t.current_offender.data_type,id:t.current_offender.id,name:t.current_offender.name,abn:t.current_offender.abn}).draw());case 16:t.setCurrentOffenderEmpty();case 17:case"end":return e.stop()}},e,this)}));return e}(),addAllegedOffenceClicked:function(){if(this.current_alleged_offence&&this.current_alleged_offence.id){for(var e=!1,t=0;t<this.offence.alleged_offences.length;t++){this.offence.alleged_offences[t].section_regulation.id==this.current_alleged_offence.id&&(e=!0)}if(!e){var a={id:"",removed:!1,reason_for_removal:"",removed_by_id:null,section_regulation:{},number_linked_sanction_outcomes_total:0,number_linked_sanction_outcomes_active:0,uuid:(0,E.default)()};(0,p.default)(a.section_regulation,this.current_alleged_offence),this.offence.alleged_offences.push(a)}}this.setCurrentAllegedOffenceEmpty(),this.constructAllegedOffencesTable()},constructAllegedOffencesTable:function(){if(this.$refs.alleged_offence_table.vmDataTable.clear().draw(),this.offence.alleged_offences)for(var e=0;e<this.offence.alleged_offences.length;e++)this.addAllegedOffenceToTable(this.offence.alleged_offences[e])},addAllegedOffenceToTable:function(e){e.uuid=(0,E.default)(),this.$refs.alleged_offence_table.vmDataTable.row.add({allegedOffence:e,offence:this.offence}).draw()},ok:function(){function e(){return t.apply(this,arguments)}var t=(0,m.default)(d.default.mark(function e(){var t,a;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.processingDetails=!0,e.next=4,this.sendData();case 4:if(t=e.sent,!t.ok){e.next=13;break}return this.$parent.$refs.offence_table&&this.$parent.$refs.offence_table.vmDataTable.ajax.reload(),a=null,this.parent_call_email&&(a={call_email_id:this.call_email.id}),this.parent_inspection&&(a={inspection_id:this.inspection.id}),this.parent_legal_case&&(a={legal_case_id:this.legal_case.id}),e.next=13,this.parent_update_function(a);case 13:this.$parent.$refs.related_items_table&&this.$parent.constructRelatedItemsTable(),this.setOffenceEmpty(),this.close(),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(0),this.processError(e.t0);case 21:return e.prev=21,this.processingDetails=!1,e.finish(21);case 24:case"end":return e.stop()}},e,this,[[0,18,21,24]])}));return e}(),processError:function(){function e(e){return t.apply(this,arguments)}var t=(0,m.default)(d.default.mark(function e(t){var a,i,s,o,r;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a="",t.body.non_field_errors)for(i=0;i<t.body.non_field_errors.length;i++)a+=t.body.non_field_errors[i]+"<br />";else if(Array.isArray(t.body))for(s=0;s<t.body.length;s++)a+=t.body[s]+"<br />";else for(o in t.body)if(t.body.hasOwnProperty(o))for(a+=o+":<br />",r=0;r<t.body[o].length;r++)a+=t.body[o][r]+"<br />";return e.next=4,n("Error",a,"error");case 4:case"end":return e.stop()}},e,this)}));return e}(),cancel:function(){this.$parent.call_email&&this.$parent.updateUuid(),this.processingDetails=!1,this.close()},close:function(){this.processingDetails=!1,this.isModalOpen=!1,this.setOffenceEmpty(),this.constructAllegedOffencesTable(),this.errorResponse=""},mapOffenceClicked:function(){this.$refs.mapOffenceComponent.mapTabClicked()},sendData:function(){function e(){return t.apply(this,arguments)}var t=(0,m.default)(d.default.mark(function e(){var t,a,n;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this,this.$parent.call_email&&this.$parent.call_email.id&&t.setCallEmailId(this.$parent.call_email.id),this.$parent.inspection&&this.$parent.inspection.id&&t.setInspectionId(this.$parent.inspection.id),this.$parent.legal_case&&this.$parent.legal_case.id&&t.setLegalCaseId(this.$parent.legal_case.id),a=t.$refs.offender_table.vmDataTable.rows().data().toArray(),t.setOffenders(a),e.next=8,t.createOffence();case 8:return n=e.sent,e.abrupt("return",n);case 11:case"end":return e.stop()}},e,this)}));return e}(),addEventListeners:function(){var e=this,t=(0,R.default)(e.$refs.occurrenceDateFromPicker),a=(0,R.default)(e.$refs.occurrenceTimeFromPicker),n=(0,R.default)(e.$refs.occurrenceDateToPicker),i=(0,R.default)(e.$refs.occurrenceTimeToPicker);t.datetimepicker({format:"DD/MM/YYYY",maxDate:"now",showClear:!0}),t.on("dp.change",function(a){t.data("DateTimePicker").date()?e.offence.occurrence_date_from=a.date.format("DD/MM/YYYY"):""===t.data("date")&&(e.offence.occurrence_date_from=null)}),a.datetimepicker({format:"LT",showClear:!0}),a.on("dp.change",function(t){a.data("DateTimePicker").date()?e.offence.occurrence_time_from=t.date.format("LT"):""===a.data("date")&&(e.offence.occurrence_time_from=null)}),n.datetimepicker({format:"DD/MM/YYYY",maxDate:"now",showClear:!0}),n.on("dp.change",function(t){n.data("DateTimePicker").date()?e.offence.occurrence_date_to=t.date.format("DD/MM/YYYY"):""===n.data("date")&&(e.offence.occurrence_date_to=null)}),i.datetimepicker({format:"LT",showClear:!0}),i.on("dp.change",function(t){i.data("DateTimePicker").date()?e.offence.occurrence_time_to=t.date.format("LT"):""===i.data("date")&&(e.offence.occurrence_time_to=null)}),(0,R.default)("#alleged-offence-table").on("click",".remove_button",e.removeClicked),(0,R.default)("#offender-table").on("click",".remove_button",e.removeOffenderClicked)},search:function(e){var t=this;t.suggest_list=[],t.suggest_list.length=0,t.awe.list=[],null!=t.ajax_for_alleged_offence&&(t.ajax_for_alleged_offence.abort(),t.ajax_for_alleged_offence=null),t.ajax_for_alleged_offence=R.default.ajax({type:"GET",url:"/api/search_alleged_offences/?search="+e,success:function(e){if(e&&e.results)for(var a=e.results,n=Math.min(t.max_items,a.length),i=0;i<n;i++)t.suggest_list.push(a[i]);t.awe.list=t.suggest_list,t.awe.evaluate()},error:function(e){}})},markMatchedText:function(e,t){return e.replace(new RegExp(t,"gi"),function(e,t){return"<mark>"+e+"</mark>"})},initAwesompleteAllegedOffence:function(){var e=this,t=document.getElementById("alleged-offence");e.awe=new y.default(t,{maxItems:e.max_items,sort:!1,filter:function(){return!0},item:function(e,t){return y.default.ITEM(e,"")},data:function(t,a){var n=t.act?t.act:"",i=t.name?t.name:"",s=t.offence_text?t.offence_text:"",o=e.markMatchedText(n,a),r=e.markMatchedText(i,a),l=e.markMatchedText(s,a),c=["<strong>"+o+", "+r+"</strong>",l].filter(Boolean).join("<br />");return c='<div data-item-id="'+t.id+'">'+c+"</div>",{label:c,value:[n,i,s].filter(Boolean).join(", "),id:t.id}}}),(0,R.default)(t).on("keyup",function(t){var a=t.keyCode||t.which;if(48<=a&&a<=90||96<=a&&a<=105||8==a||46==a)return e.search(t.target.value),!1}).on("awesomplete-selectcomplete",function(e){return e.preventDefault(),e.stopPropagation(),!1}).on("awesomplete-select",function(t){var a=(0,R.default)(t.originalEvent.origin);console.log("alleged offence selected"),"DIV"!=a[0].tagName&&(a=a.parent());for(var n=a[0].getAttribute("data-item-id"),i=0;i<e.suggest_list.length;i++)if(e.suggest_list[i].id==parseInt(n)){e.setCurrentOffenceSelected(e.suggest_list[i]);break}})},searchOrganisation:function(e){return new l.default(function(t,a){g.default.http.get("/api/search_organisation/"+e).then(function(e){t(e.body)},function(e){a(e)})})},setCurrentOffender:function(e,t){var a=this;if(t){if("individual"==e){var n=[O.default.fetchUser(t)];l.default.all(n).then(function(e){a.current_offender=e[0],a.current_offender.data_type="individual"})}else if("organisation"==e){var i=[a.searchOrganisation(t)];l.default.all(i).then(function(e){a.current_offender=e[0],a.current_offender.data_type="organisation"})}}else this.current_offender=null},setCurrentOffenceSelected:function(e){var t=this;e.id?(t.current_alleged_offence.id=e.id,t.current_alleged_offence.act=e.act,t.current_alleged_offence.name=e.name,t.current_alleged_offence.offence_text=e.offence_text):t.setCurrentAllegedOffenceEmpty()},setCurrentOffenderEmpty:function(){var e=this;e.current_offender=null,(0,R.default)("#offender_input").val(""),e.$refs.search_offender.clearInput()},setCurrentAllegedOffenceEmpty:function(){var e=this;e.current_alleged_offence.id=null,e.current_alleged_offence.act="",e.current_alleged_offence.name="",e.current_alleged_offence.offence_text="",(0,R.default)("#alleged-offence").val("")},currentRegionIdChanged:function(){this.updateDistricts()},updateDistricts:function(e){console.log("updateDistricts"),e&&(this.offence.district_id=null),this.availableDistricts=[];var t=!0,a=!1,n=void 0;try{for(var i,s=(0,o.default)(this.regionDistricts);!(t=(i=s.next()).done);t=!0){var r=i.value;if(this.offence.region_id==r.id){var l=!0,c=!1,d=void 0;try{for(var u,p=(0,o.default)(r.districts);!(l=(u=p.next()).done);l=!0){var _=u.value,m=!0,f=!1,v=void 0;try{for(var h,g=(0,o.default)(this.regionDistricts);!(m=(h=g.next()).done);m=!0){var b=h.value;b.id==_&&this.availableDistricts.push(b)}}catch(e){f=!0,v=e}finally{try{!m&&g.return&&g.return()}finally{if(f)throw v}}}}catch(e){c=!0,d=e}finally{try{!l&&p.return&&p.return()}finally{if(c)throw d}}}}}catch(e){a=!0,n=e}finally{try{!t&&s.return&&s.return()}finally{if(a)throw n}}this.availableDistricts.splice(0,0,{id:"",display_name:"",district:"",districts:[],region:null})}}),created:function(){function e(){return t.apply(this,arguments)}var t=(0,m.default)(d.default.mark(function e(){var t;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("created"),t=this,t.setOffenceEmpty(),t.$nextTick(function(){t.initAwesompleteAllegedOffence()}),e.next=6,this.constructRegionsAndDistricts();case 6:this.setRegionId(this.region_id),this.setDistrictId(this.district_id),this.setAllocatedGroupId(this.allocated_group_id);case 9:case"end":return e.stop()}},e,this)}));return e}(),mounted:function(){console.log("mounted");var e=this;e.$nextTick(function(){e.addEventListeners()})}}}).call(t,a(0),a(9))},function(e,t,a){"use strict";(function(e){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(8),s=n(i),o=a(7),r=n(o),l=a(5),c=n(l),d=a(4),u=n(d),p=a(18),_=n(p),m=a(6),f=(a(3),a(28)),v=n(f);a(40),a(39),t.default={name:"OffenceWorkflow",data:function(){return{isModalOpen:!1,files:[{file:null,name:""}],workflowDetails:"",errorResponse:"",allocatedGroup:[],allocated_group_id:null}},components:{modal:_.default,filefield:v.default},props:{workflow_type:{type:String,default:""}},computed:(0,c.default)({},(0,m.mapGetters)("offenceStore",{offence:"offence"}),{modalTitle:function(){switch(this.workflow_type){case"close":return"Close";default:return"---"}},regionDistrictId:function(){return this.offence.district||this.offence.region?this.offence.district?this.offence.district:this.offence.region:null}}),methods:(0,c.default)({},(0,m.mapActions)({loadAllocatedGroup:"loadAllocatedGroup"}),{ok:function(){function e(){return t.apply(this,arguments)}var t=(0,r.default)(s.default.mark(function e(){var t;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sendData();case 2:t=e.sent,t.ok&&(this.close(),this.$router.push({name:"internal-offence-dash"}));case 4:case"end":return e.stop()}},e,this)}));return e}(),cancel:function(){function e(){return t.apply(this,arguments)}var t=(0,r.default)(s.default.mark(function e(){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.$refs.comms_log_file.cancel();case 2:this.isModalOpen=!1,this.close();case 4:case"end":return e.stop()}},e,this)}));return e}(),close:function(){var t=this;this.isModalOpen=!1;var a=t.files.length;this.files=[];for(var n=0;n<a;n++)t.$nextTick(function(){e(".file-row-"+n).remove()});this.attachAnother()},sendData:function(){function e(){return t.apply(this,arguments)}var t=(0,r.default)(s.default.mark(function e(){var t,a,n;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t="/api/offence/"+this.offence.id+"/workflow_action/",a=new FormData,a.append("details",this.workflowDetails),this.$refs.comms_log_file.commsLogId&&a.append("comms_log_id",this.$refs.comms_log_file.commsLogId),this.workflow_type&&a.append("workflow_type",this.workflow_type),console.log("payload"),console.log(a),e.prev=7,e.next=10,u.default.http.post(t,a);case 10:if(n=e.sent,console.log(n),!n.ok){e.next=14;break}return e.abrupt("return",n);case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(7),this.errorResponse=e.t0.statusText;case 19:case"end":return e.stop()}},e,this,[[7,16]])}));return e}(),uploadFile:function(t,a){var n=null,i=e("."+t)[0];if(i.files&&i.files[0]){var s=new FileReader;s.readAsDataURL(i.files[0]),s.onload=function(e){n=e.target.result},n=i.files[0]}a.file=n,a.name=n.name},removeFile:function(t){var a=this,n=this.files.length;e(".file-row-"+t).remove(),this.files.splice(t,1),this.$nextTick(function(){1==n&&a.attachAnother()})},attachAnother:function(){this.files.push({file:null,name:""})}})}}).call(t,a(1))},function(e,t,a){"use strict";(function(e,n,i,o){function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var l=a(12),c=r(l),d=a(4),u=r(d),p=a(10),_=r(p),m=a(20),f=r(m),v=a(65),h=(r(v),a(3));t.default={name:"OrganisationAccess",data:function(){var t=this;return{loading:[],access:{requester:{},status:{}},initialisedSelects:!1,DATE_TIME_FORMAT:"DD/MM/YYYY HH:mm:ss",organisation_access_group_members:[],logs_url:h.helpers.add_endpoint_json(h.api_endpoints.organisation_requests,t.$route.params.access_id+"/action_log"),comms_url:h.helpers.add_endpoint_json(h.api_endpoints.organisation_requests,t.$route.params.access_id+"/comms_log"),actionDtOptions:{language:{processing:"<i class='fa fa-4x fa-spinner fa-spin'></i>"},responsive:!0,deferRender:!0,autowidth:!0,order:[[2,"desc"]],dom:"<'row'<'col-sm-5'l><'col-sm-6'f>><'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",processing:!0,ajax:{url:h.helpers.add_endpoint_json(h.api_endpoints.organisation_requests,t.$route.params.access_id+"/action_log"),dataSrc:""},columns:[{data:"who"},{data:"what"},{data:"when",mRender:function(a,n,i){return e(a).format(t.DATE_TIME_FORMAT)}}]},dtHeaders:["Who","What","When"],actionsTable:null,commsDtOptions:{language:{processing:"<i class='fa fa-4x fa-spinner fa-spin'></i>"},responsive:!0,deferRender:!0,autowidth:!0,order:[[0,"desc"]],processing:!0,ajax:{url:h.helpers.add_endpoint_json(h.api_endpoints.organisation_requests,t.$route.params.access_id+"/comms_log"),dataSrc:""},columns:[{title:"Date",data:"created",render:function(a){return e(a).format(t.DATE_TIME_FORMAT)}},{title:"Type",data:"type"},{title:"Reference",data:"reference"},{title:"To",data:"to",render:t.commaToNewline},{title:"CC",data:"cc",render:t.commaToNewline},{title:"From",data:"fromm",render:t.commaToNewline},{title:"Subject/Desc.",data:"subject"},{title:"Text",data:"text",render:function(e){var t=n.truncate(e,{length:100,omission:"...",separator:" "}),a="<span>"+t+"</span>",i=n.template('<a href="#" role="button" data-toggle="popover" data-trigger="click" data-placement="top auto"data-html="true" data-content="<%= text %>" >more</a>');return n.endsWith(t,"...")&&(a+=i({text:e})),a},createdCell:function(e){i(e).popover()}},{title:"Documents",data:"documents",render:function(e){var t="";return n.forEach(e,function(e){var a="",i="";n.isArray(e)&&e.length>1&&(a=e[0],i=e[1]),"string"==typeof s&&(i=e,a=n.last(e.split("/")),a=n.truncate(a,{length:18,omission:"...",separator:" "})),t+='<a href="'+i+'" target="_blank"><p>'+a+"</p></a><br>"}),t}}]},commsTable:null,requestType:null}},watch:{},filters:{formatDate:function(t){return e(t).format("DD/MM/YYYY HH:mm:ss")}},beforeRouteEnter:function(e,t,a){u.default.http.get(h.helpers.add_endpoint_json(h.api_endpoints.organisation_requests,e.params.access_id)).then(function(e){a(function(t){t.access=e.body,t.requestType="employee"==t.access.role?"(Administrator)":"(Consultant)"})},function(e){console.log(e)})},components:{datatable:_.default,CommsLogs:f.default},computed:{isLoading:function(){return this.loading.length>0},isFinalised:function(){return"approved"==this.access.status.id||"declined"==this.access.status.id},isAmendmentRequested:function(){return"amendment_requested"==this.access.status.id},officerCanProcess:function(){return!(!this.access||!this.access.can_be_processed||this.isFinalised||!this.access.user_can_process_org_access_requests)}},methods:{commaToNewline:function(e){return e.replace(/[,;]/g,"\n")},fetchAccessGroupMembers:function(){var e=this;e.loading.push("Loading Access Group Members"),e.$http.get(h.api_endpoints.organisation_access_group_members).then(function(t){e.organisation_access_group_members=t.body,e.loading.splice("Loading Access Group Members",1)},function(t){console.log(t),e.loading.splice("Loading Access Group Members",1)})},assignToMe:function(){var e=this;e.$http.get(h.helpers.add_endpoint_json(h.api_endpoints.organisation_requests,e.access.id+"/assign_to_me")).then(function(t){e.access=t.body,e.updateAssignedOfficerSelect()},function(t){e.updateAssignedOfficerSelect(),o("Application Error",h.helpers.apiVueResourceError(t),"error")})},assignOfficer:function(){var e=this,t=!0,a={};t=null==e.access.assigned_officer||"undefined"==e.access.assigned_officer,a={officer_id:e.access.assigned_officer},t?e.$http.get(h.helpers.add_endpoint_json(h.api_endpoints.organisation_requests,e.access.id+"/unassign_officer")).then(function(t){e.access=t.body,e.updateAssignedOfficerSelect()},function(t){e.updateAssignedOfficerSelect(),o("Application Error",h.helpers.apiVueResourceError(t),"error")}):e.$http.post(h.helpers.add_endpoint_json(h.api_endpoints.organisation_requests,e.access.id+"/assign_officer"),(0,c.default)(a),{emulateJSON:!0}).then(function(t){e.access=t.body,e.updateAssignedOfficerSelect()},function(t){e.updateAssignedOfficerSelect(),o("Application Error",h.helpers.apiVueResourceError(t),"error")})},updateAssignedOfficerSelect:function(){var e=this;i(e.$refs.assigned_officer).val(e.access.assigned_officer),i(e.$refs.assigned_officer).trigger("change")},acceptRequest:function(){var e=this;o({title:"Accept Organisation Request",text:"Are you sure you want to accept this organisation request?",type:"question",showCancelButton:!0,confirmButtonText:"Accept"}).then(function(t){t.value&&e.$http.get(h.helpers.add_endpoint_json(h.api_endpoints.organisation_requests,e.access.id+"/accept")).then(function(t){o({title:"Accept Organisation Request",text:"The organisation access request has been accepted.",type:"success"}),e.access=t.body},function(e){o({title:"Accept Organisation Request",text:"There was an error accepting the organisation access request.",type:"error"}),console.log(e)})},function(e){})},amendmentRequest:function(){var e=this;o({title:"Amendment Request",text:"Request a new letter from the user.",type:"question",input:"textarea",inputPlaceholder:"Type your reason for your amendment request here",showCancelButton:!0,confirmButtonText:"Send Request"}).then(function(t){t.value&&e.$http.get(h.helpers.add_endpoint_json(h.api_endpoints.organisation_requests,e.access.id+"/amendment_request/?reason="+t.value)).then(function(t){o({title:"Amendment Request",text:"A new letter has been requested.",type:"success"}),e.access=t.body},function(e){o({title:"Amendment Request",text:"There was an error sending the amendment request request.",type:"error"}),console.log(e)})},function(e){})},declineRequest:function(){var e=this;o({title:"Decline Organisation Request",text:"Are you sure you want to decline this organisation request?",type:"question",showCancelButton:!0,confirmButtonText:"Accept"}).then(function(t){t.value&&e.$http.get(h.helpers.add_endpoint_json(h.api_endpoints.organisation_requests,e.access.id+"/decline")).then(function(t){o({title:"Decline Organisation Request",text:"The organisation access request has been declined.",type:"success"}),e.access=t.body},function(e){o({title:"Decline Organisation Request",text:"There was an error declining the organisation access request.",type:"error"})})},function(e){})},initialiseAssignedOfficerSelect:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this;e&&i(t.$refs.assigned_officer).data("select2")&&i(t.$refs.assigned_officer).select2("destroy"),i(t.$refs.assigned_officer).select2({theme:"bootstrap",allowClear:!0,placeholder:"Select Officer"}).on("select2:select",function(e){var a=i(e.currentTarget);t.access.assigned_officer=a.val(),t.assignOfficer()}).on("select2:unselecting",function(e){var t=i(this);setTimeout(function(){t.select2("close")},0)}).on("select2:unselect",function(e){i(e.currentTarget);t.access.assigned_officer=null,t.assignOfficer()})},initialiseSelects:function(){var e=this;e.initialisedSelects||(e.initialiseAssignedOfficerSelect(),e.initialisedSelects=!0)}},mounted:function(){this.fetchAccessGroupMembers()},updated:function(){var e=this;this.$nextTick(function(){e.initialiseSelects()})}}}).call(t,a(0),a(90),a(1),a(9))},function(e,t,a){"use strict";(function(e){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(1),s=n(i),o=a(10),r=n(o),l=a(3);t.default={name:"OrganisationAccessDashboard",data:function(){var t=this;return{filterOrganisation:"All",filterApplicant:"All",filterRole:"All",filterStatus:"All",organisationChoices:[],applicantChoices:[],roleChoices:[],statusChoices:[],org_access_request_headers:["Request Number","Organisation","Applicant","Role","Status","Lodged on","Assigned To","Action"],org_access_request_options:{serverSide:!0,searchDelay:1e3,lengthMenu:[[10,25,50,100,-1],[10,25,50,100,"All"]],order:[[0,"desc"]],language:{processing:"<i class='fa fa-4x fa-spinner fa-spin'></i>"},responsive:!0,processing:!0,ajax:{url:l.helpers.add_endpoint_join(l.api_endpoints.organisation_requests_paginated,"datatable_list/?format=datatables"),dataSrc:"data"},columns:[{data:"lodgement_number"},{data:"name"},{data:"requester"},{data:"role"},{data:"status.name"},{data:"lodgement_date",mRender:function(t,a,n){return e(t).format("DD/MM/YYYY")}},{data:"assigned_officer"},{data:"id",mRender:function(e,t,a){var n="";return n+=a.can_be_processed&&a.user_can_process_org_access_requests?"<a href='/internal/organisations/access/"+a.id+"'>Process</a><br/>":"<a href='/internal/organisations/access/"+a.id+"'>View</a><br/>"}}],initComplete:function(){t.$refs.org_access_table.vmDataTable.columns(1).data().unique().sort().each(function(e,a){var n=[];s.default.each(e,function(e,t){null!=t&&n.indexOf(t)<0&&n.push(t)}),t.organisationChoices=n}),t.$refs.org_access_table.vmDataTable.columns(2).data().unique().sort().each(function(e,a){var n=[];s.default.each(e,function(e,t){null!=t&&n.indexOf(t)<0&&n.push(t)}),t.applicantChoices=n}),t.$refs.org_access_table.vmDataTable.columns(3).data().unique().sort().each(function(e,a){var n=[];s.default.each(e,function(e,t){null!=t&&n.indexOf(t)<0&&n.push(t)}),t.roleChoices=n}),t.$refs.org_access_table.vmDataTable.columns(4).data().unique().sort().each(function(e,a){var n=[];s.default.each(e,function(e,t){null!=t&&n.indexOf(t)<0&&n.push(t)}),t.statusChoices=n})}}}},watch:{filterOrganisation:function(){var e=this;"All"!=e.filterOrganisation?e.$refs.org_access_table.vmDataTable.columns(1).search(e.filterOrganisation).draw():e.$refs.org_access_table.vmDataTable.columns(1).search("").draw()},filterApplicant:function(){var e=this;"All"!=e.filterApplicant?e.$refs.org_access_table.vmDataTable.columns(2).search(e.filterApplicant).draw():e.$refs.org_access_table.vmDataTable.columns(2).search("").draw()},filterRole:function(){var e=this;"All"!=e.filterRole?e.$refs.org_access_table.vmDataTable.columns(3).search(e.filterRole).draw():e.$refs.org_access_table.vmDataTable.columns(3).search("").draw()},filterStatus:function(){var e=this;"All"!=e.filterStatus?e.$refs.org_access_table.vmDataTable.columns(4).search(e.filterStatus).draw():e.$refs.org_access_table.vmDataTable.columns(4).search("").draw()}},components:{datatable:r.default},computed:{isLoading:function(){return 0==this.loading.length}},methods:{},mounted:function(){}}}).call(t,a(0))},function(e,t,a){"use strict";(function(e,n){function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var s=a(12),o=i(s),r=a(17),l=i(r),c=a(4),d=(i(c),a(3)),u=a(10),p=i(u),_=a(94),m=i(_),f=a(95),v=i(f),h=a(96),g=i(h),b=a(81),y=i(b),C=a(20),x=i(C),w=a(23),k=i(w),A=a(83);i(A);t.default={name:"Organisation",data:function(){var e=this;return{adBody:"adBody"+e._uid,aBody:"aBody"+e._uid,pdBody:"pdBody"+e._uid,pBody:"pBody"+e._uid,cdBody:"cdBody"+e._uid,cBody:"cBody"+e._uid,oBody:"oBody"+e._uid,dTab:"dTab"+e._uid,oTab:"oTab"+e._uid,idBody:"idBody"+e._uid,org:{address:{}},myorgperms:null,loading:[],countries:[],updatingDetails:!1,updatingAddress:!1,updatingContact:!1,uploadingID:!1,uploadedID:null,empty_list:"/api/empty_list",logsTable:null,DATE_TIME_FORMAT:"DD/MM/YYYY HH:mm:ss",activate_tables:!1,comms_url:d.helpers.add_endpoint_json(d.api_endpoints.organisations,e.$route.params.org_id+"/comms_log"),logs_url:d.helpers.add_endpoint_json(d.api_endpoints.organisations,e.$route.params.org_id+"/action_log"),contacts_headers:["Name","Phone","Mobile","Fax","Email","Action"],contacts_headers_ref:["Name","Role","Email","Status"],applications_url:d.api_endpoints.applications_paginated+"internal_datatable_list?org_id="+e.$route.params.org_id,licences_url:d.api_endpoints.licences_paginated+"internal_datatable_list?org_id="+e.$route.params.org_id,returns_url:d.api_endpoints.returns+"?org_id="+e.$route.params.org_id,contacts_options:{language:{processing:"<i class='fa fa-4x fa-spinner fa-spin'></i>"},responsive:!0,ajax:{url:d.helpers.add_endpoint_json(d.api_endpoints.organisations,e.$route.params.org_id+"/contacts"),dataSrc:""},columns:[{mRender:function(e,t,a){return a.first_name+" "+a.last_name}},{data:"phone_number"},{data:"mobile_number"},{data:"fax_number"},{data:"email"},{mRender:function(e,t,a){var n="",i=a.first_name+" "+a.last_name;return"draft"==a.user_status.id&&(n+="<a data-email='"+a.email+"' data-name='"+i+"' data-id='"+a.id+'\' class="remove-contact">Remove</a><br/>'),n}}],processing:!0},contacts_options_ref:{language:{processing:"<i class='fa fa-4x fa-spinner fa-spin'></i>"},responsive:!0,ajax:{url:d.helpers.add_endpoint_json(d.api_endpoints.organisations,e.$route.params.org_id+"/contacts_exclude"),dataSrc:""},columns:[{mRender:function(e,t,a){return a.first_name+" "+a.last_name}},{data:"user_role"},{data:"email"},{data:"user_status"}],processing:!0}}},components:{datatable:p.default,ApplicationDashTable:v.default,LicenceDashTable:g.default,ReturnDashTable:y.default,AddContact:m.default,CommsLogs:x.default},computed:{isLoading:function(){return 0==this.loading.length},uploadedIDFileName:function(){return null!=this.uploadedID?this.uploadedID.name:""}},beforeRouteEnter:function(e,t,a){var n=[k.default.fetchCountries(),k.default.fetchOrganisation(e.params.org_id),k.default.fetchOrganisationPermissions(e.params.org_id)];l.default.all(n).then(function(e){a(function(t){t.countries=e[0],t.org=e[1],t.myorgperms=e[2],t.org.address=null!=t.org.address?t.org.address:{},t.org.pins=null!=t.org.pins?t.org.pins:{}})})},beforeRouteUpdate:function(e,t,a){var n=[k.default.fetchOrganisation(e.params.org_id),k.default.fetchOrganisationPermissions(e.params.org_id)];l.default.all(n).then(function(e){a(function(t){t.org=e[0],t.myorgperms=e[1],t.org.address=null!=t.org.address?t.org.address:{},t.org.pins=null!=t.org.pins?t.org.pins:{}})})},methods:{addContact:function(){this.$refs.add_contact.isModalOpen=!0},eventListeners:function(){var t=this;t.$refs.contacts_datatable.vmDataTable.on("click",".remove-contact",function(a){a.preventDefault();var i=e(a.target).data("name"),s=e(a.target).data("email"),o=e(a.target).data("id");n({title:"Delete Contact",text:"Are you sure you want to remove "+i+"("+s+") as a contact  ?",type:"error",showCancelButton:!0,confirmButtonText:"Accept"}).then(function(e){e.value&&t.deleteContact(o)},function(e){})}),e('a[href="#'+t.oTab+'"]').on("shown.bs.tab",function(e){t.$refs.applications_table.$refs.application_datatable.vmDataTable.columns.adjust().responsive.recalc(),t.$refs.licences_table.$refs.application_datatable.vmDataTable.columns.adjust().responsive.recalc(),t.$refs.returns_table.$refs.application_datatable.vmDataTable.columns.adjust().responsive.recalc()})},updateDetails:function(){var e=this;e.updatingDetails=!0,e.$http.post(d.helpers.add_endpoint_json(d.api_endpoints.organisations,e.org.id+"/update_details"),(0,o.default)(e.org),{emulateJSON:!0}).then(function(t){e.updatingDetails=!1,e.org=t.body,null==e.org.address&&(e.org.address={}),n("Saved","Organisation details have been saved","success")},function(t){console.log(t),e.updatingDetails=!1})},addedContact:function(){var e=this;n("Added","The contact has been successfully added.","success"),e.$refs.contacts_datatable.vmDataTable.ajax.reload()},deleteContact:function(e){var t=this;t.$http.delete(d.helpers.add_endpoint_json(d.api_endpoints.organisation_contacts,e),{emulateJSON:!0}).then(function(e){n("Contact Deleted","The contact was successfully deleted","success"),t.$refs.contacts_datatable.vmDataTable.ajax.reload()},function(e){console.log(e),n("Contact Deleted","The contact could not be deleted because of the following error "+e,"error")})},updateAddress:function(){var e=this;e.updatingAddress=!0,e.$http.post(d.helpers.add_endpoint_json(d.api_endpoints.organisations,e.org.id+"/update_address"),(0,o.default)(e.org.address),{emulateJSON:!0}).then(function(t){e.updatingAddress=!1,e.org=t.body,n("Saved","Address details have been saved","success"),null==e.org.address&&(e.org.address={})},function(t){console.log(t),e.updatingAddress=!1})},readFileID:function(){var t=this,a=null,n=e(t.$refs.uploadedID)[0];if(n.files&&n.files[0]){var i=new FileReader;i.readAsDataURL(n.files[0]),i.onload=function(e){a=e.target.result},a=n.files[0]}t.uploadedID=a},uploadID:function(){var e=this;e.uploadingID=!0;var t=new FormData;t.append("identification",e.uploadedID),null==e.uploadedID?(e.uploadingID=!1,n({title:"Upload ID",html:"Please select a file to upload.",type:"error"})):e.$http.post(d.helpers.add_endpoint_json(d.api_endpoints.organisations,e.org.id+"/upload_id"),t,{emulateJSON:!0}).then(function(t){e.uploadingID=!1,e.uploadedID=null,n({title:"Upload ID",html:"The organisation ID has been successfully uploaded.",type:"success"}).then(function(){window.location.reload(!0)})},function(t){console.log(t),e.uploadingID=!1;var a="<br/>";for(var i in t.body)a+=i+": "+t.body[i]+"<br/>";n({title:"Upload ID",html:"There was an error uploading the organisation ID.<br/>"+a,type:"error"})})}},mounted:function(){this.personal_form=document.forms.personal_form,this.eventListeners()}}}).call(t,a(1),a(9))},function(e,t,a){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=a(10),i=function(e){return e&&e.__esModule?e:{default:e}}(n),s=a(3);t.default={name:"OrganisationDashTable",data:function(){var e=this;return{oBody:"oBody"+e._uid,datatable_id:"organisation-datatable-"+e._uid,organisation_headers:["Name","ABN","Address","Action"],organisation_options:{serverSide:!0,searchDelay:1e3,lengthMenu:[[10,25,50,100,-1],[10,25,50,100,"All"]],order:[[0,"asc"]],tableID:"organisation-datatable-"+e._uid,language:{processing:"<i class='fa fa-4x fa-spinner fa-spin'></i>"},responsive:!0,ajax:{url:s.helpers.add_endpoint_join(s.api_endpoints.organisations_paginated,"datatable_list/?format=datatables"),dataSrc:"data"},columns:[{data:"name",name:"organisation__name"},{data:"abn",name:"organisation__abn"},{data:"address_string",mRender:function(e,t,a){return e||""},orderable:!1,searchable:!1},{mRender:function(e,t,a){var n="";return n+="<a href='/internal/organisations/"+a.id+"'>View</a><br/>"},orderable:!1,searchable:!1}],processing:!0,initComplete:function(){}}}},components:{datatable:i.default},watch:{},computed:{},methods:{},mounted:function(){e('a[data-toggle="collapse"]').on("click",function(){var t=e(this).children()[0];window.setTimeout(function(){e(t).toggleClass("glyphicon-chevron-down glyphicon-chevron-up")},100)})}}}).call(t,a(1))},function(e,t,a){"use strict";(function(e,n){function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var s=a(12),o=i(s),r=a(5),l=i(r),c=a(4),d=(i(c),a(18)),u=i(d),p=a(30),_=i(p),m=a(3),f=a(6);t.default={name:"amendment-request",components:{modal:u.default,alert:_.default},props:{},data:function(){return{isModalOpen:!1,form:null,amendment:{reason:"",amendingReturn:!1,a_return:null,text:null,activity_list:[]},reason_choices:{},errors:!1,errorString:"",validation_form:null}},computed:(0,l.default)({},(0,f.mapGetters)(["isReturnsLoaded","returns","is_external"]),{showError:function(){return this.errors},amendableActivities:function(){var e=this;return this.licenceActivities(["with_officer","with_assessor","with_officer_conditions"]).filter(function(t){return e.hasRole("licensing_officer",t.id)})}}),methods:{ok:function(){var t=this;e(t.form).valid()&&t.sendData()},cancel:function(){this.isModalOpen=!1,this.amendment={reason:"",a_return:this.returns.id,text:null,licence_activity:null,activity_list:[]}},close:function(){this.isModalOpen=!1,this.amendment={reason:"",application:this.application_id,text:null,licence_activity:null,activity_list:[]},this.errors=!1,e(this.$refs.reason).val(null).trigger("change"),e(".has-error").removeClass("has-error"),this.validation_form.resetForm()},fetchAmendmentChoices:function(){var e=this;e.$http.get("/api/return_amendment_request_reason_choices.json").then(function(t){e.reason_choices=t.body},function(e){console.log(e)})},sendData:function(){var e=this;e.errors=!1,e.amendment.a_return=this.returns;var t=JSON.parse((0,o.default)(e.amendment));e.$http.post("/api/returns_amendment.json",(0,o.default)(t),{emulateJSON:!0}).then(function(t){n("Sent","An email has been sent to the Licensee with the request to amend this Return.","success"),e.close()},function(e){console.log(e),vm.errors=!0,vm.errorString=m.helpers.apiVueResourceError(e)})},addFormValidations:function(){var t=this;t.validation_form=e(t.form).validate({rules:{reason:"required"},messages:{reason:"field is required"},showErrors:function(t,a){e.each(this.validElements(),function(t,a){e(a).attr("data-original-title","").parents(".form-group").removeClass("has-error")}),e("."+this.settings.validClass).tooltip("destroy");for(var n=0;n<a.length;n++){var i=a[n];e(i.element).tooltip({trigger:"focus"}).attr("data-original-title",i.message).parents(".form-group").addClass("has-error")}}})},eventListerners:function(){}},mounted:function(){var e=this;e.form=document.forms.amendForm,e.fetchAmendmentChoices(),e.addFormValidations(),this.$nextTick(function(){e.eventListerners()})}}}).call(t,a(1),a(9))},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(81),i=function(e){return e&&e.__esModule?e:{default:e}}(n),s=a(3);t.default={name:"InternalReturnsDashboard",data:function(){return{returns_url:s.helpers.add_endpoint_join(s.api_endpoints.returns_paginated,"user_datatable_list/?format=datatables")}},watch:{},components:{ReturnDashTable:i.default},computed:{},methods:{},mounted:function(){}}},function(e,t,a){"use strict";(function(e){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(5),s=n(i),o=a(4),r=(n(o),a(6)),l=a(134),c=n(l),d=a(327),u=n(d),p=a(328),_=n(p),m=a(326),f=n(m),v=a(20),h=n(v),g=a(65),b=(n(g),a(3));t.default={name:"internal-returns",filters:{formatDate:function(t){return t?e(t).format("DD/MM/YYYY HH:mm:ss"):""}},data:function(){var e=this;return{pdBody:"pdBody"+e._uid,assignTo:!1,loading:[],isLoading:!1,DATE_TIME_FORMAT:"DD/MM/YYYY HH:mm:ss",members:[],logs_url:b.helpers.add_endpoint_json(b.api_endpoints.returns,e.$route.params.return_id+"/action_log"),comms_url:b.helpers.add_endpoint_json(b.api_endpoints.returns,e.$route.params.return_id+"/comms_log"),comms_add_url:b.helpers.add_endpoint_json(b.api_endpoints.returns,e.$route.params.return_id+"/add_comms_log")}},components:{Returns:c.default,CommsLogs:h.default,ReturnQuestion:u.default,ReturnSheet:_.default,ReturnData:f.default},methods:(0,s.default)({},(0,r.mapActions)({load:"loadReturns"}),(0,r.mapActions)(["setReturns"]),{save:function(e){console.log("ENTERED Save");new FormData}}),computed:(0,s.default)({},(0,r.mapGetters)(["isReturnsLoaded","returns","is_external"]),{isWithCurator:function(){return!0}}),beforeRouteEnter:function(e,t,a){a(function(t){t.load({url:"/api/returns/"+e.params.return_id+".json"})})}}}).call(t,a(0))},function(e,t,a){"use strict";(function(e,n,i){function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(66),r=s(o),l=a(5),c=s(l),d=a(8),u=s(d),p=a(7),_=s(p),m=a(4),f=s(m),v=a(47),h=s(v),g=a(10),b=s(g),y=a(31),C=(s(y),a(3)),x=a(6),w=a(20),k=s(w),A=a(28),I=s(A),D=a(778),T=s(D);a(15);var S=a(63),P=s(S),M=a(80),O=s(M);t.default={name:"ViewSanctionOutcome",data:function(){var e=this;return e.STATUS_DRAFT="draft",e.STATUS_AWAITING_ENDORSEMENT="awaiting_endorsement",e.STATUS_AWAITING_REVIEW="awaiting_review",e.STATUS_AWAITING_AMENDMENT="awaiting_amendment",e.STATUS_AWAITING_PAYMENT="awaiting_payment",e.STATUS_DECLINED="declined",{temporary_document_collection_id:null,workflow_type:"",workflowBindId:"",soTab:"soTab"+this._uid,deTab:"deTab"+this._uid,reTab:"reTab"+this._uid,objectHash:null,hashAttributeWhitelist:["alleged_committed_offences","allocated_group_id","date_of_issue","description","district_id","identifier","issued_on_paper","offence","offender","paper_id","paper_notices","region_id","time_of_issue","type"],comms_url:C.helpers.add_endpoint_json(C.api_endpoints.sanction_outcome,this.$route.params.sanction_outcome_id+"/comms_log"),comms_add_url:C.helpers.add_endpoint_json(C.api_endpoints.sanction_outcome,this.$route.params.sanction_outcome_id+"/add_comms_log"),logs_url:C.helpers.add_endpoint_json(C.api_endpoints.sanction_outcome,this.$route.params.sanction_outcome_id+"/action_log"),dtHeadersAllegedOffence:["id","Act","Section/Regulation","Alleged Offence","Action"],dtOptionsAllegedOffence:{columns:[{data:"id",visible:!1},{data:"Act",mRender:function(e,t,a){var n=e.alleged_offence.section_regulation.act;return e.included||(n="<strike>"+n+"</strike>"),n}},{data:"Section/Regulation",mRender:function(e,t,a){var n=e.alleged_offence.section_regulation.name;return e.included||(n="<strike>"+n+"</strike>"),n}},{data:"Alleged Offence",mRender:function(e,t,a){var n=e.alleged_offence.section_regulation.offence_text;return e.included||(n="<strike>"+n+"</strike>"),n}},{data:"Action",mRender:function(t,a,n){var i="";if(!e.readonlyForm&&t.in_editable_status){var s="";"infringement_notice"==e.sanction_outcome.type.id?("radio",' name="aco_radio_group" ',t.included?('checked="checked"',s=""):("",s="Restore")):("checkbox","",t.included?('checked="checked"',s="Remove"):("",s="Restore")),i='<a><span class="include_alleged_committed_offence" data-alleged-committed-offence-id="'+t.id+'"/>'+s+"</span></a>"}return i}}]}}},components:{FormSection:h.default,SanctionOutcomeWorkflow:T.default,CommsLogs:k.default,datatable:b.default,filefield:I.default,RelatedItems:O.default},created:function(){function e(){return t.apply(this,arguments)}var t=(0,_.default)(u.default.mark(function e(){return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.$route.params.sanction_outcome_id){e.next=6;break}return e.next=3,this.loadSanctionOutcome({sanction_outcome_id:this.$route.params.sanction_outcome_id});case 3:this.createStorageAllegedCommittedOffences(),this.constructAllegedCommittedOffencesTable(),this.updateObjectHash();case 6:case"end":return e.stop()}},e,this)}));return e}(),mounted:function(){var e=this;this.$nextTick(function(){e.addEventListeners()})},computed:(0,c.default)({},(0,x.mapGetters)("sanctionOutcomeStore",{sanction_outcome:"sanction_outcome"}),{relatedItemsBindId:function(){var e=Date.now();return this.sanction_outcome&&this.sanction_outcome.id?"sanction_outcome_"+this.sanction_outcome.id+"_"+this._uid:e.toString()},readonlyForm:function(){return!this.canUserEditForm},canUserEditForm:function(){var e=!1;return this.sanction_outcome.can_user_action&&(this.sanction_outcome.status.id!==this.STATUS_AWAITING_AMENDMENT&&this.sanction_outcome.status.id!==this.STATUS_DRAFT||(e=!0)),e},statusDisplay:function(){var e="";return this.sanction_outcome&&this.sanction_outcome.status&&(e=this.sanction_outcome.status.name),e},typeDisplay:function(){var e="";return this.sanction_outcome&&this.sanction_outcome.type&&(e=this.sanction_outcome.type.name),e},displayOffence:function(){var e="";return this.sanction_outcome&&this.sanction_outcome.offence&&(e=this.sanction_outcome.offence.lodgement_number),e},displayOffender:function(){var e="";return this.sanction_outcome&&this.sanction_outcome.offender&&(this.sanction_outcome.offender.person?e=[this.sanction_outcome.offender.person.first_name,this.sanction_outcome.offender.person.last_name].filter(Boolean).join(" "):this.sanction_outcome.offender.organisation&&(e=[this.sanction_outcome.offender.organisation.name,this.sanction_outcome.offender.organisation.abn].filter(Boolean).join(" "))),e},displayLodgementNumber:function(){var e="";return this.sanction_outcome&&(e=this.sanction_outcome.lodgement_number),e},visibilitySaveButton:function(){var e=!1;return this.sanction_outcome.can_user_action&&(this.sanction_outcome.status.id!==this.STATUS_DRAFT&&this.sanction_outcome.status.id!==this.STATUS_AWAITING_AMENDMENT||(e=!0)),e},visibilityWithdrawButtonForManager:function(){var e=!1;return this.sanction_outcome.can_user_action&&"infringement_notice"==this.sanction_outcome.type.id&&this.sanction_outcome.status.id===this.STATUS_AWAITING_ENDORSEMENT&&this.sanction_outcome.issued_on_paper&&(e=!0),e},visibilityWithdrawButtonForInc:function(){var e=!1;return this.sanction_outcome.can_user_action&&"infringement_notice"==this.sanction_outcome.type.id&&this.sanction_outcome.status.id===this.STATUS_AWAITING_PAYMENT&&(e=!0),e},visibilitySendToManagerButton:function(){var e=!1;return this.sanction_outcome.can_user_action&&(this.sanction_outcome.status.id!==this.STATUS_DRAFT&&this.sanction_outcome.status.id!==this.STATUS_AWAITING_AMENDMENT||(e=!0)),e},visibilityEndorseButton:function(){var e=!1;return this.sanction_outcome.can_user_action&&(this.sanction_outcome.status.id!==this.STATUS_AWAITING_ENDORSEMENT&&this.sanction_outcome.status.id!==this.STATUS_AWAITING_REVIEW||(e=!0)),e},visibilityDeclineButton:function(){var e=!1;return this.sanction_outcome.can_user_action&&(this.sanction_outcome.status.id!==this.STATUS_AWAITING_ENDORSEMENT&&this.sanction_outcome.status.id!==this.STATUS_AWAITING_REVIEW||this.sanction_outcome.issued_on_paper||(e=!0)),e},visibilityReturnToOfficerButton:function(){var e=!1;return this.sanction_outcome.can_user_action&&this.sanction_outcome.status.id===this.STATUS_AWAITING_REVIEW&&(e=!0),e}}),methods:(0,c.default)({},(0,x.mapActions)("sanctionOutcomeStore",{loadSanctionOutcome:"loadSanctionOutcome",saveSanctionOutcome:"saveSanctionOutcome",setAssignedToId:"setAssignedToId",setCanUserAction:"setCanUserAction",setRelatedItems:"setRelatedItems"}),{updateObjectHash:function(){this.objectHash=this.calculateHash()},calculateHash:function(){var e=this,t={};return(0,r.default)(this.sanction_outcome).forEach(function(a,n,i){e.hashAttributeWhitelist.includes(a)&&(t[a]=e.sanction_outcome[a])}),(0,P.default)(t)},formChanged:function(){var e=!1;return this.readonlyForm||this.objectHash!==this.calculateHash()&&(e=!0),e},sanctionOutcomeDocumentUploaded:function(){console.log("sanctionOutcomeDocumentUploaded")},createStorageAllegedCommittedOffences:function(){if(this.sanction_outcome&&this.sanction_outcome.alleged_committed_offences)for(var e=0;e<this.sanction_outcome.alleged_committed_offences.length;e++)this.sanction_outcome.alleged_committed_offences[e].already_included=this.sanction_outcome.alleged_committed_offences[e].included},save:function(){function t(){return a.apply(this,arguments)}var a=(0,_.default)(u.default.mark(function t(){return u.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.saveSanctionOutcome();case 3:return t.next=5,e("Saved","The record has been saved","success");case 5:this.constructAllegedCommittedOffencesTable(),this.updateObjectHash(),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),this.processError(t.t0);case 12:case"end":return t.stop()}},t,this,[[0,9]])}));return t}(),saveExit:function(){function t(){return a.apply(this,arguments)}var a=(0,_.default)(u.default.mark(function t(){return u.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.saveSanctionOutcome();case 3:return t.next=5,e("Saved","The record has been saved","success");case 5:window.removeEventListener("beforeunload",this.leaving),window.removeEventListener("onblur",this.leaving),this.$router.push({name:"internal-offence-dash"}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),this.processError(t.t0);case 13:case"end":return t.stop()}},t,this,[[0,10]])}));return t}(),processError:function(){function t(e){return a.apply(this,arguments)}var a=(0,_.default)(u.default.mark(function t(a){var n,i,s,o,r;return u.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n="",a.body.non_field_errors)for(i=0;i<a.body.non_field_errors.length;i++)n+=a.body.non_field_errors[i]+"<br />";else if(Array.isArray(a.body))for(s=0;s<a.body.length;s++)n+=a.body[s]+"<br />";else for(o in a.body)if(a.body.hasOwnProperty(o))for(n+=o+":<br />",r=0;r<a.body[o].length;r++)n+=a.body[o][r]+"<br />";return t.next=4,e("Error",n,"error");case 4:case"end":return t.stop()}},t,this)}));return t}(),destroyed:function(){window.removeEventListener("beforeunload",this.leaving),window.removeEventListener("onblur",this.leaving)},setUpDateTimePicker:function(){var e=this,t=n(e.$refs.dateOfIssuePicker),a=n(e.$refs.timeOfIssuePicker);t.datetimepicker({format:"DD/MM/YYYY",maxDate:i().millisecond(0).second(0).minute(0).hour(0),showClear:!0}),t.on("dp.change",function(a){t.data("DateTimePicker").date()?e.sanction_outcome.date_of_issue=a.date.format("DD/MM/YYYY"):""===t.data("date")&&(e.sanction_outcome.date_of_issue=null)}),a.datetimepicker({format:"LT",showClear:!0}),a.on("dp.change",function(t){a.data("DateTimePicker").date()?e.sanction_outcome.time_of_issue=t.date.format("LT"):""===a.data("date")&&(e.sanction_outcome.time_of_issue=null)})},addEventListeners:function(){this.setUpDateTimePicker(),n("#alleged-committed-offence-table").on("click",".remove_alleged_committed_offence",this.removeAllegedOffenceClicked),n("#alleged-committed-offence-table").on("click",".restore_alleged_committed_offence",this.restoreAllegedOffenceClicked),n("#alleged-committed-offence-table").on("click",".include_alleged_committed_offence",this.includeAllegedOffenceClicked),window.addEventListener("beforeunload",this.leaving),window.addEventListener("onblur",this.leaving)},leaving:function(e){console.log("leaving");var t=this;if(t.formChanged())return e.returnValue="You have some unsaved changes.","You have some unsaved changes."},removeAllegedOffenceClicked:function(e){for(var t=parseInt(e.target.getAttribute("data-alleged-committed-offence-id")),a=0;a<this.sanction_outcome.alleged_committed_offences.length;a++)t==this.sanction_outcome.alleged_committed_offences[a].id&&(this.sanction_outcome.alleged_committed_offences[a].included=!1);this.constructAllegedCommittedOffencesTable()},includeAllegedOffenceClicked:function(e){var t=parseInt(e.target.getAttribute("data-alleged-committed-offence-id"));if("infringement_notice"==this.sanction_outcome.type.id){for(var a=0;a<this.sanction_outcome.alleged_committed_offences.length;a++)this.sanction_outcome.alleged_committed_offences[a].included=!1;for(var n=0;n<this.sanction_outcome.alleged_committed_offences.length;n++)t==this.sanction_outcome.alleged_committed_offences[n].id&&(this.sanction_outcome.alleged_committed_offences[n].included=!0)}else for(var i=0;i<this.sanction_outcome.alleged_committed_offences.length;i++)t==this.sanction_outcome.alleged_committed_offences[i].id&&(this.sanction_outcome.alleged_committed_offences[i].included=!this.sanction_outcome.alleged_committed_offences[i].included);this.constructAllegedCommittedOffencesTable()},restoreAllegedOffenceClicked:function(e){for(var t=parseInt(e.target.getAttribute("data-alleged-committed-offence-id")),a=0;a<this.sanction_outcome.alleged_committed_offences.length;a++)t==this.sanction_outcome.alleged_committed_offences[a].id&&(this.sanction_outcome.alleged_committed_offences[a].included=!0);this.constructAllegedCommittedOffencesTable()},constructAllegedCommittedOffencesTable:function(){if(this.$refs.alleged_committed_offence_table.vmDataTable.clear().draw(),this.sanction_outcome.alleged_committed_offences)for(var e=0;e<this.sanction_outcome.alleged_committed_offences.length;e++)this.addAllegedOffenceToTable(this.sanction_outcome.alleged_committed_offences[e])},addAllegedOffenceToTable:function(e){this.$refs.alleged_committed_offence_table.vmDataTable.row.add({id:e,Act:e,"Section/Regulation":e,"Alleged Offence":e,Action:e}).draw()},addWorkflow:function(e){var t=this;this.workflow_type=e,this.updateWorkflowBindId(),this.$nextTick(function(){t.$refs.add_workflow.isModalOpen=!0})},updateWorkflowBindId:function(){var e=Date.now();this.workflow_type?this.workflowBindId=this.workflow_type+"_"+e.toString():this.workflowBindId=e.toString()},updateAssignedToId:function(){function e(e){return t.apply(this,arguments)}var t=(0,_.default)(u.default.mark(function e(t){var a,n,i;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=C.helpers.add_endpoint_join(C.api_endpoints.sanction_outcome,this.sanction_outcome.id+"/update_assigned_to_id/"),n=null,n="current_user"===t&&this.sanction_outcome.user_in_group?{current_user:!0}:"blank"===t?{blank:!0}:{assigned_to_id:this.sanction_outcome.assigned_to_id},e.next=5,f.default.http.post(a,n);case 5:i=e.sent,this.setAssignedToId(i.body.assigned_to_id),this.setCanUserAction(i.body.can_user_action),this.updateObjectHash();case 9:case"end":return e.stop()}},e,this)}));return e}()})}}).call(t,a(9),a(1),a(0))},function(e,t,a){"use strict";(function(e){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(11),s=n(i),o=a(16),r=n(o),l=a(8),c=n(l),d=a(7),u=n(d),p=a(1),_=n(p),m=a(10),f=n(m),v=a(325),h=n(v),g=a(3);t.default={name:"SanctionOutcomeTableDash",data:function(){var t=this;return{sanction_outcome_types:[],sanction_outcome_statuses:[],sanction_outcome_payment_statuses:[],sanction_outcome_regions:[],sanction_outcome_regionDistricts:[],sanction_outcome_availableDistricts:[],filterType:"all",filterStatus:"all",filterPaymentStatus:"all",filterDateFromPicker:"",filterDateToPicker:"",filterRegionId:"all",filterDistrictId:"all",dtOptions:{serverSide:!0,searchDelay:1e3,lengthMenu:[[10,25,50,100,-1],[10,25,50,100,"All"]],order:[[0,"desc"]],language:{processing:"<i class='fa fa-4x fa-spinner fa-spin'></i>"},responsive:!0,processing:!0,ajax:{url:"/api/sanction_outcome_paginated/get_paginated_datatable/?format=datatables",dataSrc:"data",data:function(e){e.type=t.filterType,e.status=t.filterStatus,e.payment_status=t.filterPaymentStatus,e.date_from=t.filterDateFromPicker,e.date_to=t.filterDateToPicker,e.region_id=t.filterRegionId,e.district_id=t.filterDistrictId}},columns:[{data:"lodgement_number",searchable:!0,orderable:!0},{data:"type",searchable:!1,orderable:!0,mRender:function(e,t,a){return e.name}},{data:"identifier",searchable:!0,orderable:!0},{data:"date_of_issue",searchable:!0,orderable:!0,mRender:function(t,a,n){return""!=t&&null!=t?e(t).format("DD/MM/YYYY"):""}},{data:"offender",searchable:!0,orderable:!0,mRender:function(e,t,a){var n="";return e&&e.person?n=e.person.first_name+" "+e.person.last_name:e&&e.organisation&&(n=e.organisation.name),n.length>30?'<span title="'+n+'">'+_.default.trim(n).substring(0,30).split(" ").slice(0,-1).join(" ")+"...</span>":n}},{data:"status.name",searchable:!0,orderable:!0},{data:"payment_status.name",searchable:!0,orderable:!1},{data:"paper_notices",searchable:!0,orderable:!1,mRender:function(e,t,a){var n="";if(e.length>0)for(var i=0;i<e.length;i++)n+='<a href="'+e[i][1]+'">'+e[i][0]+"</a><br />";return n}},{data:"user_action",searchable:!1,orderable:!1,mRender:function(e,t,a){return e||"---"}}]},dtHeaders:["Number","Type","Identifier","Date","Offender","Status","Payment Status","Sanction Outcome","Action"]}},mounted:function(){var e=this;e.$nextTick(function(){e.addEventListeners()})},computed:{current_region_id:function(){return this.filterRegionId}},watch:{current_region_id:function(){this.updateDistricts()},filterType:function(){this.$refs.sanction_outcome_table.vmDataTable.draw()},filterStatus:function(){this.$refs.sanction_outcome_table.vmDataTable.draw()},filterPaymentStatus:function(){this.$refs.sanction_outcome_table.vmDataTable.draw()},filterDateFromPicker:function(){this.$refs.sanction_outcome_table.vmDataTable.draw()},filterDateToPicker:function(){this.$refs.sanction_outcome_table.vmDataTable.draw()},filterRegionId:function(){this.$refs.sanction_outcome_table.vmDataTable.draw()},filterDistrictId:function(){this.$refs.sanction_outcome_table.vmDataTable.draw()}},created:function(){function e(){return t.apply(this,arguments)}var t=(0,u.default)(c.default.mark(function e(){return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.constructOptionsType(),this.constructOptionsStatus(),this.constructOptionsPaymentStatus(),this.constructOptionsRegion(),this.constructOptionsDistrict();case 5:case"end":return e.stop()}},e,this)}));return e}(),methods:{updateDistricts:function(e){this.sanction_outcome_availableDistricts=[];var t=!0,a=!1,n=void 0;try{for(var i,s=(0,r.default)(this.sanction_outcome_regionDistricts);!(t=(i=s.next()).done);t=!0){var o=i.value;if(this.filterRegionId==o.id){var l=!0,c=!1,d=void 0;try{for(var u,p=(0,r.default)(o.districts);!(l=(u=p.next()).done);l=!0){var _=u.value,m=!0,f=!1,v=void 0;try{for(var h,g=(0,r.default)(this.sanction_outcome_regionDistricts);!(m=(h=g.next()).done);m=!0){var b=h.value;b.id==_&&this.sanction_outcome_availableDistricts.push(b)}}catch(e){f=!0,v=e}finally{try{!m&&g.return&&g.return()}finally{if(f)throw v}}}}catch(e){c=!0,d=e}finally{try{!l&&p.return&&p.return()}finally{if(c)throw d}}}}}catch(e){a=!0,n=e}finally{try{!t&&s.return&&s.return()}finally{if(a)throw n}}this.sanction_outcome_availableDistricts.splice(0,0,{id:"all",display_name:"All",district:"",districts:[],region:null}),this.filterDistrictId="all"},addEventListeners:function(){this.attachFromDatePicker(),this.attachToDatePicker()},attachFromDatePicker:function(){var t=this,a=(0,_.default)(t.$refs.issueDateFromPicker),n=(0,_.default)(t.$refs.issueDateToPicker);a.datetimepicker({format:"DD/MM/YYYY",maxDate:e().millisecond(0).second(0).minute(0).hour(0),showClear:!0}),a.on("dp.change",function(e){a.data("DateTimePicker").date()?(t.filterDateFromPicker=e.date.format("DD/MM/YYYY"),n.data("DateTimePicker").minDate(e.date)):""===a.data("date")&&(t.filterDateFromPicker="")})},attachToDatePicker:function(){var t=this,a=(0,_.default)(t.$refs.issueDateFromPicker),n=(0,_.default)(t.$refs.issueDateToPicker);n.datetimepicker({format:"DD/MM/YYYY",maxDate:e().millisecond(0).second(0).minute(0).hour(0),showClear:!0}),n.on("dp.change",function(e){n.data("DateTimePicker").date()?(t.filterDateToPicker=e.date.format("DD/MM/YYYY"),a.data("DateTimePicker").maxDate(e.date)):""===n.data("date")&&(t.filterDateToPicker="")})},constructOptionsType:function(){function e(){return t.apply(this,arguments)}var t=(0,u.default)(c.default.mark(function e(){var t;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.cache_helper.getSetCacheList("SanctionOutcomeTypes","/api/sanction_outcome/types.json");case 2:t=e.sent,(0,s.default)(this.sanction_outcome_types,t),this.sanction_outcome_types.splice(0,0,{id:"all",display:"All"});case 5:case"end":return e.stop()}},e,this)}));return e}(),constructOptionsStatus:function(){function e(){return t.apply(this,arguments)}var t=(0,u.default)(c.default.mark(function e(){var t;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.cache_helper.getSetCacheList("SanctionOutcomeStatuses","/api/sanction_outcome/statuses.json");case 2:t=e.sent,(0,s.default)(this.sanction_outcome_statuses,t),this.sanction_outcome_statuses.splice(0,0,{id:"all",display:"All"});case 5:case"end":return e.stop()}},e,this)}));return e}(),constructOptionsPaymentStatus:function(){function e(){return t.apply(this,arguments)}var t=(0,u.default)(c.default.mark(function e(){var t;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.cache_helper.getSetCacheList("SanctionOutcomePaymentStatuses","/api/sanction_outcome/payment_statuses.json");case 2:t=e.sent,(0,s.default)(this.sanction_outcome_payment_statuses,t),this.sanction_outcome_payment_statuses.splice(0,0,{id:"all",display:"All"});case 5:case"end":return e.stop()}},e,this)}));return e}(),constructOptionsRegion:function(){function e(){return t.apply(this,arguments)}var t=(0,u.default)(c.default.mark(function e(){var t;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("constructOptionsRegion()"),e.next=3,g.cache_helper.getSetCacheList("CallEmail_Regions","/api/region_district/get_regions/");case 3:t=e.sent,(0,s.default)(this.sanction_outcome_regions,t),this.sanction_outcome_regions.splice(0,0,{id:"all",display_name:"All",district:"",districts:[],region:null});case 6:case"end":return e.stop()}},e,this)}));return e}(),constructOptionsDistrict:function(){function e(){return t.apply(this,arguments)}var t=(0,u.default)(c.default.mark(function e(){var t;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("constructOptionsDistrict()"),e.next=3,g.cache_helper.getSetCacheList("CallEmail_RegionDistricts",g.api_endpoints.region_district);case 3:t=e.sent,(0,s.default)(this.sanction_outcome_regionDistricts,t),console.log(this.sanction_outcome_regionDistricts),this.updateDistricts();case 7:case"end":return e.stop()}},e,this)}));return e}()},components:{datatable:f.default,FormSection:h.default}}}).call(t,a(0))},function(e,t,a){"use strict";(function(e,n){function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var s=a(11),o=i(s),r=a(16),l=i(r),c=a(8),d=i(c),u=a(7),p=i(u),_=a(5),m=i(_),f=a(4),v=i(f),h=a(18),g=i(h),b=a(10),y=i(b),C=a(28),x=i(C),w=a(6),k=a(3),A=a(23),I=(i(A),a(1)),D=i(I);a(661),a(15),a(29),t.default={name:"SanctionOutcome",data:function(){var e=this;return{temporary_document_collection_id:null,nTab:"nTab"+e._uid,aTab:"aTab"+e._uid,dTab:"dTab"+e._uid,isModalOpen:!1,processingDetails:!1,regionDistricts:[],regions:[],availableDistricts:[],documentActionUrl:null,elem_paper_id_notice:null,errorResponse:"",offenceReadonly:!1,sanction_outcome:{type:"",region_id:null,district_id:null,identifier:"",current_offence:{},current_offender:{},issued_on_paper:!1,paper_id:"",description:"",date_of_issue:null,time_of_issue:null,remediation_actions:[]},current_remediation_action:{action:"",due_date:null},options_for_types:[],options_for_offences:[],dtHeadersAllegedOffence:["id","Act","Section/Regulation","Alleged Offence","Include"],dtOptionsAllegedOffence:{columns:[{data:"id",visible:!1},{data:"Act"},{data:"Section/Regulation"},{data:"Alleged Offence"},{data:"Include",mRender:function(t,a,n){console.log("data"),console.log(t),console.log("row"),console.log(n);return"infringement_notice"==e.sanction_outcome.type?'<input type="radio" name="infringement_radio_button" class="alleged_offence_include" value="'+t+'"></input>':""==e.sanction_outcome.type||null==e.sanction_outcome.type?"":'<input type="checkbox" class="alleged_offence_include" value="'+t+'" checked="checked"></input>'}}]},dtHeadersRemediationActions:["id","Due Date","Action","Action"],dtOptionsRemediationActions:{columns:[{data:"id",visible:!1},{data:"due_date"},{data:"action_text"},{data:"action",mRender:function(e,t,a){return'<a href="#" class="remove_button" data-remediation-action-id="'+a.id+'">Remove</a>'}}]}}},props:{parent_update_function:{type:Function},workflow_type:{type:String,default:"send_to_manager"}},components:{modal:g.default,datatable:y.default,filefield:x.default},watch:{issued_on_paper:{handler:function(){var e=this;e.sanction_outcome.issued_on_paper?e.elem_paper_id_notice.slideDown(500):(e.sanction_outcome.date_of_issue=null,e.sanction_outcome.time_of_issue=null,e.elem_paper_id_notice.slideUp(500))}},current_type:{handler:function(){this.typeChanged()}},current_offence:{handler:function(){this.currentOffenceChanged()}},current_offender:{handler:function(){this.currentOffenderChanged()}},current_region_id:{handler:function(){this.currentRegionIdChanged()}}},computed:(0,m.default)({},(0,w.mapGetters)("offenceStore",{offence:"offence"}),{issued_on_paper:function(){return this.sanction_outcome.issued_on_paper},current_offence:function(){return this.sanction_outcome.current_offence},current_offender:function(){return this.sanction_outcome.current_offender},current_region_id:function(){return this.sanction_outcome.region_id},current_type:function(){return this.sanction_outcome.type},modalTitle:function(){return"Identify Sanction Outcome"},firstTabTitle:function(){for(var e=0;e<this.options_for_types.length;e++)if(this.options_for_types[e].id==this.sanction_outcome.type)return this.options_for_types[e].display;return""},displayTabs:function(){return""!=this.sanction_outcome.type},displaySendToManagerButton:function(){return!0},displayRemediationActions:function(){return"remediation_notice"==this.sanction_outcome.type},regionDistrictId:function(){return this.sanction_outcome.district_id||this.sanction_outcome.region_id?this.sanction_outcome.district_id?this.sanction_outcome.district_id:this.sanction_outcome.region_id:null},groupPermission:function(){return"manager"}}),methods:(0,m.default)({},(0,w.mapActions)("offenceStore",{}),{setTemporaryDocumentCollectionId:function(e){this.temporary_document_collection_id=e},ok:function(){function e(){return t.apply(this,arguments)}var t=(0,p.default)(d.default.mark(function e(){var t;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.processingDetails=!0,e.next=4,this.sendData();case 4:if(t=e.sent,!t.ok){e.next=9;break}if(!this.$parent.offence){e.next=9;break}return e.next=9,this.parent_update_function();case 9:this.close(),this.processingDetails=!1,e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),this.processError(e.t0),this.processingDetails=!1;case 17:case"end":return e.stop()}},e,this,[[0,13]])}));return e}(),processError:function(){function t(e){return a.apply(this,arguments)}var a=(0,p.default)(d.default.mark(function t(a){var n,i,s,o,r;return d.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n="",a.body.non_field_errors)for(i=0;i<a.body.non_field_errors.length;i++)n+=a.body.non_field_errors[i]+"<br />";else if(Array.isArray(a.body))for(s=0;s<a.body.length;s++)n+=a.body[s]+"<br />";else for(o in a.body)if(a.body.hasOwnProperty(o))for(n+=o+":<br />",r=0;r<a.body[o].length;r++)n+=a.body[o][r]+"<br />";return t.next=4,e("Error",n,"error");case 4:case"end":return t.stop()}},t,this)}));return t}()},(0,w.mapActions)({loadAllocatedGroup:"loadAllocatedGroup"}),{cancel:function(){function e(){return t.apply(this,arguments)}var t=(0,p.default)(d.default.mark(function e(){return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.$refs.sanction_outcome_file){e.next=3;break}return e.next=3,this.$refs.sanction_outcome_file.cancel();case 3:this.close();case 4:case"end":return e.stop()}},e,this)}));return e}(),typeChanged:function(){this.constructAllegedOffencesTable()},makeModalsDraggable:function(){this.elem_modal=(0,D.default)(".modal > .modal-dialog");for(var e=0;e<this.elem_modal.length;e++)(0,D.default)(this.elem_modal[e]).draggable()},close:function(){this.$parent.sanctionOutcomeInitialised=!1,this.isModalOpen=!1},loadDefaultData:function(){if(console.log("loadDefaultData"),this.$parent.call_email&&(this.sanction_outcome.region_id=this.$parent.call_email.region_id,this.sanction_outcome.district_id=this.$parent.call_email.district_id),this.$parent.inspection&&(this.sanction_outcome.region_id=this.$parent.inspection.region_id,this.sanction_outcome.district_id=this.$parent.inspection.district_id),this.$parent.offence){this.sanction_outcome.region_id=this.$parent.offence.region_id,this.sanction_outcome.district_id=this.$parent.offence.district_id;for(var e=0;e<this.options_for_offences.length;e++)this.options_for_offences[e].id==this.$parent.offence.id&&(this.sanction_outcome.current_offence=this.options_for_offences[e],this.offenceReadonly=!0)}this.clearTableRemediationActions()},currentRegionIdChanged:function(){this.updateDistricts()},addRemediationActionClicked:function(){var e=this;e.current_remediation_action&&(e.$refs.tbl_remediation_actions.vmDataTable.row.add({id:k.helpers.guid(),due_date:e.current_remediation_action.due_date,action_text:e.current_remediation_action.action}).draw(),e.current_remediation_action.action="",e.current_remediation_action.due_date=null)},updateDistricts:function(e){console.log("updateDistricts"),e&&(this.sanction_outcome.district_id=null),this.availableDistricts=[];var t=!0,a=!1,n=void 0;try{for(var i,s=(0,l.default)(this.regionDistricts);!(t=(i=s.next()).done);t=!0){var o=i.value;if(this.sanction_outcome.region_id==o.id){var r=!0,c=!1,d=void 0;try{for(var u,p=(0,l.default)(o.districts);!(r=(u=p.next()).done);r=!0){var _=u.value,m=!0,f=!1,v=void 0;try{for(var h,g=(0,l.default)(this.regionDistricts);!(m=(h=g.next()).done);m=!0){var b=h.value;b.id==_&&this.availableDistricts.push(b)}}catch(e){f=!0,v=e}finally{try{!m&&g.return&&g.return()}finally{if(f)throw v}}}}catch(e){c=!0,d=e}finally{try{!r&&p.return&&p.return()}finally{if(c)throw d}}}}}catch(e){a=!0,n=e}finally{try{!t&&s.return&&s.return()}finally{if(a)throw n}}this.availableDistricts.splice(0,0,{id:"",display_name:"",district:"",districts:[],region:null})},addEventListeners:function(){var e=this,t=(0,D.default)(e.$refs.dateOfIssuePicker),a=(0,D.default)(e.$refs.dueDatePicker),n=(0,D.default)(e.$refs.timeOfIssuePicker);t.datetimepicker({format:"DD/MM/YYYY",maxDate:"now",showClear:!0}),t.on("dp.change",function(a){t.data("DateTimePicker").date()?e.sanction_outcome.date_of_issue=a.date.format("DD/MM/YYYY"):""===t.data("date")&&(e.sanction_outcome.date_of_issue=null)}),n.datetimepicker({format:"LT",showClear:!0}),n.on("dp.change",function(t){n.data("DateTimePicker").date()?e.sanction_outcome.time_of_issue=t.date.format("LT"):""===n.data("date")&&(e.sanction_outcome.time_of_issue=null)}),a.datetimepicker({format:"DD/MM/YYYY",showClear:!0}),a.on("dp.change",function(t){a.data("DateTimePicker").date()?e.current_remediation_action.due_date=t.date.format("DD/MM/YYYY"):""===a.data("date")&&(e.current_remediation_action.due_date=null)}),(0,D.default)("#tbl_remediation_actions").on("click",".remove_button",e.removeClicked)},removeClicked:function(e){var t=this,a=e.target.getAttribute("data-remediation-action-id");t.$refs.tbl_remediation_actions.vmDataTable.rows(function(e,n,i){n.id==a&&t.$refs.tbl_remediation_actions.vmDataTable.row(e).remove().draw()})},offenceSelected:function(e){console.log("offenceSelected");for(var t=this,a=parseInt(e.target.value),n=0;n<t.options_for_offences.length;n++)if(t.options_for_offences[n].id==a)return void(t.sanction_outcome.current_offence=t.options_for_offences[n]);t.sanction_outcome.current_offence={}},offenderSelected:function(e){console.log("offenderSelected");for(var t=this,a=parseInt(e.target.value),n=0;n<t.sanction_outcome.current_offence.offenders.length;n++)if(t.sanction_outcome.current_offence.offenders[n].id==a)return void(t.sanction_outcome.current_offender=t.sanction_outcome.current_offence.offenders[n]);t.sanction_outcome.current_offender={}},typeSelected:function(e){this.sanction_outcome.type=e.target.value},constructRegionsAndDistricts:function(){function e(){return t.apply(this,arguments)}var t=(0,p.default)(d.default.mark(function e(){var t,a;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.cache_helper.getSetCacheList("CallEmail_Regions","/api/region_district/get_regions/");case 2:return t=e.sent,(0,o.default)(this.regions,t),this.regions.splice(0,0,{id:"",display_name:"",district:"",districts:[],region:null}),e.next=7,k.cache_helper.getSetCacheList("CallEmail_RegionDistricts",k.api_endpoints.region_district);case 7:a=e.sent,(0,o.default)(this.regionDistricts,a);case 9:case"end":return e.stop()}},e,this)}));return e}(),sendData:function(){function e(){return t.apply(this,arguments)}var t=(0,p.default)(d.default.mark(function e(){var t,a,i,s,r,l,c,u,p,_;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(t=this,a=[],i=[],s=(0,D.default)(".alleged_offence_include"),r=0;r<s.length;r++)s[r].checked?a.push(s[r].value):i.push(s[r].value);for(l=k.api_endpoints.sanction_outcome,c=new Object,(0,o.default)(c,t.sanction_outcome),c.date_of_issue&&(c.date_of_issue=n(c.date_of_issue,"DD/MM/YYYY").format("YYYY-MM-DD")),c.alleged_offence_ids_included=a,c.alleged_offence_ids_excluded=i,this.temporary_document_collection_id&&(c.temporary_document_collection_id=this.temporary_document_collection_id),u=t.$refs.tbl_remediation_actions.vmDataTable.rows().data().toArray(),c.remediation_actions=u,p=0;p<c.remediation_actions.length;p++)c.remediation_actions[p].due_date=n(c.remediation_actions[p].due_date,"DD/MM/YYYY").format("YYYY-MM-DD");return c.call_email_id=this.$parent.call_email?this.$parent.call_email.id:null,c.inspection_id=this.$parent.inspection?this.$parent.inspection.id:null,c.workflow_type="send_to_manager",e.next=20,v.default.http.post(l,c);case 20:return _=e.sent,e.abrupt("return",_);case 22:case"end":return e.stop()}},e,this)}));return e}(),currentOffenderChanged:function(){console.log("currentOffenderChanged")},clearTableAllegedOffence:function(){this.$refs.tbl_alleged_offence.vmDataTable.rows().remove().draw()},clearTableRemediationActions:function(){this.$refs.tbl_remediation_actions.vmDataTable.rows().remove().draw()},currentOffenceChanged:function(){this.sanction_outcome.current_offender={},this.constructAllegedOffencesTable()},constructAllegedOffencesTable:function(){if(this.clearTableAllegedOffence(),this.sanction_outcome.current_offence&&this.sanction_outcome.current_offence.alleged_offences)for(var e=0;e<this.sanction_outcome.current_offence.alleged_offences.length;e++){var t=this.sanction_outcome.current_offence.alleged_offences[e];this.$refs.tbl_alleged_offence.vmDataTable.row.add({id:t.id,Act:t.section_regulation.act,"Section/Regulation":t.section_regulation.name,"Alleged Offence":t.section_regulation.offence_text,Include:t.id}).draw()}},updateOptionsForOffences:function(){function e(){return t.apply(this,arguments)}var t=(0,p.default)(d.default.mark(function e(){var t;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("updateOptionsForOffences"),t=null,!this.$parent.call_email||!this.$parent.call_email.id){e.next=9;break}return e.next=5,v.default.http.get("/api/offence/filter_by_call_email.json",{params:{call_email_id:this.$parent.call_email.id}});case 5:t=e.sent,this.options_for_offences=t.body,e.next=25;break;case 9:if(!this.$parent.inspection||!this.$parent.inspection.id){e.next=16;break}return e.next=12,v.default.http.get("/api/offence/filter_by_inspection.json",{params:{inspection_id:this.$parent.inspection.id}});case 12:t=e.sent,this.options_for_offences=t.body,e.next=25;break;case 16:if(!this.$parent.offence||!this.$parent.offence.id){e.next=20;break}this.options_for_offences=[this.$parent.offence],e.next=25;break;case 20:if(!this.$parent.legal_case||!this.$parent.legal_case.id){e.next=25;break}return e.next=23,v.default.http.get("/api/offence/filter_by_legal_case.json",{params:{legal_case_id:this.$parent.legal_case.id}});case 23:t=e.sent,this.options_for_offences=t.body;case 25:case"end":return e.stop()}},e,this)}));return e}(),createDocumentActionUrl:function(){function e(){return t.apply(this,arguments)}var t=(0,p.default)(d.default.mark(function e(){var t;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.default.http.post(k.api_endpoints.sanction_outcome);case 2:return t=e.sent,this.sanction_outcome.id=t.body.id,e.abrupt("return",k.helpers.add_endpoint_join(k.api_endpoints.sanction_outcome,this.sanction_outcome.id+"/process_default_document/"));case 5:case"end":return e.stop()}},e,this)}));return e}()}),created:function(){function e(){return t.apply(this,arguments)}var t=(0,p.default)(d.default.mark(function e(){var t,a,n;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this,e.next=3,k.cache_helper.getSetCacheList("SanctionOutcome_Types","/api/sanction_outcome/types.json");case 3:for(a=e.sent,t.options_for_types.push({id:"",display:""}),n=0;n<a.length;n++)t.options_for_types.push(a[n]);return e.next=8,t.updateOptionsForOffences();case 8:return e.next=10,t.constructRegionsAndDistricts();case 10:t.loadDefaultData();case 11:case"end":return e.stop()}},e,this)}));return e}(),mounted:function(){var e=this;this.$nextTick(function(){console.log("mounted sanction"),e.addEventListeners(),e.elem_paper_id_notice=(0,D.default)("#paper_id_notice"),e.makeModalsDraggable()})}}}).call(t,a(9),a(0))},function(e,t,a){"use strict";(function(e){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(8),s=n(i),o=a(7),r=n(o),l=a(5),c=n(l),d=a(4),u=n(d),p=a(18),_=n(p),m=a(6),f=(a(3),a(28)),v=n(f);a(40),a(39),t.default={name:"SanctionOutcomeWorkflow",data:function(){return{processingDetails:!1,isModalOpen:!1,files:[{file:null,name:""}],workflowDetails:"",errorResponse:"",allocatedGroup:[],allocated_group_id:null}},components:{modal:_.default,filefield:v.default},props:{workflow_type:{type:String,default:""}},computed:(0,c.default)({},(0,m.mapGetters)("sanctionOutcomeStore",{sanction_outcome:"sanction_outcome"}),{modalTitle:function(){switch(this.workflow_type){case"withdraw_by_manager":case"withdraw_by_inc":return"Withdraw";case"send_to_manager":return"Send to Manager";case"endorse":return"Endorse";case"decline":return"Decline";case"return_to_officer":return"Return to Officer";default:return"---"}},regionDistrictId:function(){return this.sanction_outcome.district||this.sanction_outcome.region?this.sanction_outcome.district?this.sanction_outcome.district:this.sanction_outcome.region:null}}),methods:(0,c.default)({},(0,m.mapActions)({loadAllocatedGroup:"loadAllocatedGroup"}),{ok:function(){function e(){return t.apply(this,arguments)}var t=(0,r.default)(s.default.mark(function e(){var t;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.processingDetails=!0,e.next=4,this.sendData();case 4:t=e.sent,this.close(),this.$router.push({name:"internal-sanction-outcome-dash"}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),this.processError(e.t0);case 12:return e.prev=12,this.processingDetails=!1,e.finish(12);case 15:case"end":return e.stop()}},e,this,[[0,9,12,15]])}));return e}(),processError:function(){function e(e){return t.apply(this,arguments)}var t=(0,r.default)(s.default.mark(function e(t){var a,n,i,o,r;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a="",t.body.non_field_errors)for(n=0;n<t.body.non_field_errors.length;n++)a+=t.body.non_field_errors[n]+"<br />";else if(Array.isArray(t.body))for(i=0;i<t.body.length;i++)a+=t.body[i]+"<br />";else for(o in t.body)if(t.body.hasOwnProperty(o))for(a+=o+":<br />",r=0;r<t.body[o].length;r++)a+=t.body[o][r]+"<br />";this.errorResponse=a;case 3:case"end":return e.stop()}},e,this)}));return e}(),cancel:function(){function e(){return t.apply(this,arguments)}var t=(0,r.default)(s.default.mark(function e(){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.$refs.comms_log_file.cancel();case 2:this.isModalOpen=!1,this.close();case 4:case"end":return e.stop()}},e,this)}));return e}(),close:function(){var t=this;this.isModalOpen=!1;var a=t.files.length;this.files=[];for(var n=0;n<a;n++)t.$nextTick(function(){e(".file-row-"+n).remove()});this.attachAnother()},sendData:function(){function e(){return t.apply(this,arguments)}var t=(0,r.default)(s.default.mark(function e(){var t,a,n;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t="/api/sanction_outcome/"+this.sanction_outcome.id+"/workflow_action/",a=new FormData,a.append("details",this.workflowDetails),this.$refs.comms_log_file.commsLogId&&a.append("comms_log_id",this.$refs.comms_log_file.commsLogId),this.workflow_type&&a.append("workflow_type",this.workflow_type),e.next=7,u.default.http.post(t,a);case 7:return n=e.sent,e.abrupt("return",n);case 9:case"end":return e.stop()}},e,this)}));return e}(),uploadFile:function(t,a){var n=null,i=e("."+t)[0];if(i.files&&i.files[0]){var s=new FileReader;s.readAsDataURL(i.files[0]),s.onload=function(e){n=e.target.result},n=i.files[0]}a.file=n,a.name=n.name},removeFile:function(t){var a=this,n=this.files.length;e(".file-row-"+t).remove(),this.files.splice(t,1),this.$nextTick(function(){1==n&&a.attachAnother()})},attachAnother:function(){this.files.push({file:null,name:""})}})}}).call(t,a(1))},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(17),s=n(i),o=a(1),r=n(o),l=a(10),c=n(l),d=a(30),u=n(d),p=a(324),_=n(p),m=a(772),f=n(m);a(904);var v=a(3),h=a(23),g=n(h);t.default={name:"SearchDashboard",data:function(){var e=this;return{users_url:v.helpers.add_endpoint_join(v.api_endpoints.users_paginated,"datatable_list/?format=datatables"),rBody:"rBody"+e._uid,oBody:"oBody"+e._uid,cBody:"cBody"+e._uid,kBody:"kBody"+e._uid,loading:[],searchKeywords:[],hasSearchKeywords:!1,selected_organisation:"",organisations:null,searchApplication:!0,searchLicence:!1,searchReturn:!1,referenceWord:"",keyWord:null,results:[],errors:!1,errorString:"",datatable_id:"keyword-search-datatable-"+e._uid,keyword_search_headers:["Number","Type","Applicant","Text Found","Action"],keyword_search_options:{language:{processing:"<i class='fa fa-4x fa-spinner fa-spin'></i>"},responsive:!0,data:e.results,columns:[{data:"number"},{data:"record_type"},{data:"applicant"},{data:"text",className:"normal-white-space",mRender:function(e,t,a){return e.value?e.value:e}},{data:"record_id",mRender:function(e,t,a){var n="";return"Application"==a.type&&(n+="<a href='/internal/application/"+a.id+"'>View</a><br/>"),"Licence"==a.type&&(n+='<a href="'+a.licence_document+'" target="_blank">View</a>'),"Return"==a.type&&(n+="<a href='/internal/return/"+a.id+"'>View</a><br/>"),n}}],processing:!0}}},watch:{searchKeywords:function(){this.searchKeywords.length>0?this.hasSearchKeywords=!0:this.hasSearchKeywords=!1}},components:{alert:u.default,datatable:c.default,UserDashTable:_.default,OrganisationDashTable:f.default},beforeRouteEnter:function(e,t,a){var n=[g.default.fetchOrganisations()];s.default.all(n).then(function(e){a(function(t){t.organisations=e[0].results})})},computed:{isLoading:function(){return 0==this.loading.length},showError:function(){return this.errors}},methods:{addListeners:function(){var e=this;(0,r.default)(e.$refs.searchOrg).select2({theme:"bootstrap",allowClear:!0,placeholder:"Select Organisation"}).on("select2:select",function(t){var a=(0,r.default)(t.currentTarget);e.selected_organisation=a.val()}).on("select2:unselect",function(t){var a=(0,r.default)(t.currentTarget);e.selected_organisation=a.val()})},search_reference:function(){var e=this;e.referenceWord&&e.$http.post("/api/search_reference.json",{reference_number:e.referenceWord}).then(function(t){console.log(t),e.errors=!1,e.errorString="",window.location.href=t.body.url_string},function(t){console.log(t),e.errors=!0,e.errorString=v.helpers.apiVueResourceError(t)})},addKeyword:function(){var e=this;null!=e.keyWord&&e.searchKeywords.push(e.keyWord)},removeKeyword:function(e){var t=this;e>-1&&t.searchKeywords.splice(e,1)},clearKeywordSearch:function(){var e=this;null!=e.keyWord&&(e.searchKeywords=[]),e.keyWord=null,e.results=[],e.$refs.keyword_search_datatable.vmDataTable.clear(),e.$refs.keyword_search_datatable.vmDataTable.draw()},searchKeyword:function(){var e=this;this.searchKeywords.length>0&&e.$http.post("/api/search_keywords.json",{searchKeywords:e.searchKeywords,searchApplication:e.searchApplication,searchLicence:e.searchLicence,searchReturn:e.searchReturn,is_internal:!0}).then(function(t){e.results=t.body,e.$refs.keyword_search_datatable.vmDataTable.clear(),e.$refs.keyword_search_datatable.vmDataTable.rows.add(e.results),e.$refs.keyword_search_datatable.vmDataTable.draw()},function(e){console.log(e)})}},mounted:function(){var e=this;e.keyword_search_options.data=e.results,e.$refs.keyword_search_datatable.vmDataTable.draw(),(0,r.default)('a[data-toggle="collapse"]').on("click",function(){var e=(0,r.default)(this).children()[0];window.setTimeout(function(){(0,r.default)(e).toggleClass("glyphicon-chevron-down glyphicon-chevron-up")},100)})},updated:function(){var e=this;this.$nextTick(function(){e.addListeners()})}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(324),i=function(e){return e&&e.__esModule?e:{default:e}}(n),s=a(3);t.default={name:"InternalUserDashboard",data:function(){return{users_url:s.api_endpoints.users}},watch:{},components:{UserDashTable:i.default},computed:{},methods:{},mounted:function(){}}},function(e,t,a){"use strict";(function(e,n){function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var s=a(12),o=i(s),r=a(17),l=i(r),c=a(4),d=(i(c),a(3)),u=a(10),p=i(u),_=a(94),m=(i(_),a(95)),f=i(m),v=a(96),h=i(v),g=a(81),b=i(g),y=a(20),C=i(y),x=a(23),w=i(x),k=a(83);i(k);t.default={name:"User",data:function(){var e=this;return{adBody:"adBody"+e._uid,pdBody:"pdBody"+e._uid,cdBody:"cdBody"+e._uid,odBody:"odBody"+e._uid,idBody:"idBody"+e._uid,dTab:"dTab"+e._uid,oTab:"oTab"+e._uid,user:{residential_address:{},wildlifecompliance_organisations:[]},loading:[],countries:[],updatingPersonal:!1,updatingAddress:!1,updatingContact:!1,uploadingID:!1,uploadedID:null,empty_list:"/api/empty_list",logsTable:null,DATE_TIME_FORMAT:"DD/MM/YYYY HH:mm:ss",activate_tables:!1,comms_url:d.helpers.add_endpoint_json(d.api_endpoints.users,e.$route.params.user_id+"/comms_log"),logs_url:d.helpers.add_endpoint_json(d.api_endpoints.users,e.$route.params.user_id+"/action_log"),applications_url:d.api_endpoints.applications_paginated+"internal_datatable_list?user_id="+e.$route.params.user_id,licences_url:d.api_endpoints.licences_paginated+"internal_datatable_list?user_id="+e.$route.params.user_id,returns_url:d.api_endpoints.returns+"?user_id="+e.$route.params.user_id,orgRequest_pending:[]}},components:{datatable:p.default,ApplicationDashTable:f.default,LicenceDashTable:h.default,ReturnDashTable:b.default,CommsLogs:C.default},computed:{isLoading:function(){return 0==this.loading.length},uploadedIDFileName:function(){return null!=this.uploadedID?this.uploadedID.name:""}},beforeRouteEnter:function(e,t,a){var n=[w.default.fetchCountries(),w.default.fetchUser(e.params.user_id),w.default.fetchOrgRequestPending(e.params.user_id)];l.default.all(n).then(function(e){a(function(t){t.countries=e[0],t.user=e[1],t.user.residential_address=null!=t.user.residential_address?t.user.residential_address:{},t.orgRequest_pending=e[2]})})},beforeRouteUpdate:function(e,t,a){var n=[w.default.fetchUser(e.params.user_id)];l.default.all(n).then(function(e){a(function(t){t.user=e[0],t.user.residential_address=null!=t.user.residential_address?t.user.residential_address:{}})})},methods:{eventListeners:function(){var t=this;e('a[href="#'+t.oTab+'"]').on("shown.bs.tab",function(e){t.$refs.applications_table.$refs.application_datatable.vmDataTable.columns.adjust().responsive.recalc(),t.$refs.licences_table.$refs.application_datatable.vmDataTable.columns.adjust().responsive.recalc(),t.$refs.returns_table.$refs.application_datatable.vmDataTable.columns.adjust().responsive.recalc()})},updatePersonal:function(){var e=this;e.updatingPersonal=!0,null==e.user.residential_address&&(e.user.residential_address={});var t="?";if(t+="&first_name="+e.user.first_name,t+="&last_name="+e.user.last_name,t+="&dob="+e.user.dob,""==e.user.first_name||""==e.user.last_name||null==e.user.dob||""==e.user.dob){return void n({title:"Update Personal Details",html:"There was an error updating the user personal details.<br/>Please ensure all fields are filled in.",type:"error"}).then(function(){e.updatingPersonal=!1})}e.$http.post(d.helpers.add_endpoint_json(d.api_endpoints.users,e.user.id+"/update_personal"),(0,o.default)(e.user),{emulateJSON:!0}).then(function(t){n({title:"Update Personal Details",html:"User personal details has been successfully updated.",type:"success"}).then(function(){e.updatingPersonal=!1})},function(t){e.updatingPersonal=!1;var a="<br/>";for(var i in t.body)a+="dob"===i?"dob: Please enter a valid date.<br/>":i+": "+t.body[i]+"<br/>";n({title:"Update Personal Details",html:"There was an error updating the user personal details.<br/>"+a,type:"error"})})},updateContact:function(){var e=this;e.updatingContact=!0,e.$http.post(d.helpers.add_endpoint_json(d.api_endpoints.users,e.user.id+"/update_contact"),(0,o.default)(e.user),{emulateJSON:!0}).then(function(t){e.updatingContact=!1,e.user=t.body,null==e.user.residential_address&&(e.user.residential_address={}),n({title:"Update Contact Details",html:"User contact details has been successfully updated.",type:"success"})},function(t){e.updatingContact=!1;var a="<br/>";for(var i in t.body)a+=i+": "+t.body[i]+"<br/>";n({title:"Update Contact Details",html:"There was an error updating the user contact details.<br/>"+a,type:"error"})})},updateAddress:function(){var e=this;e.updatingAddress=!0,e.$http.post(d.helpers.add_endpoint_json(d.api_endpoints.users,e.user.id+"/update_address"),(0,o.default)(e.user.residential_address),{emulateJSON:!0}).then(function(t){e.updatingAddress=!1,e.user=t.body,null==e.user.residential_address&&(e.user.residential_address={}),n({title:"Update Address Details",html:"User address details has been successfully updated.",type:"success"})},function(t){e.updatingAddress=!1;var a="<br/>";for(var i in t.body)a+=i+": "+t.body[i]+"<br/>";n({title:"Update Address Details",html:"There was an error updating the user address details.<br/>"+a,type:"error"})})},unlinkUser:function(e){var t=this,a=e.name;n({title:"Unlink From Organisation",text:"Are you sure you want to unlink this user from "+e.name+" ?",type:"question",showCancelButton:!0,confirmButtonText:"Accept"}).then(function(i){i.value&&t.$http.post(d.helpers.add_endpoint_json(d.api_endpoints.organisations,e.id+"/unlink_user"),(0,o.default)(t.user),{emulateJSON:!0}).then(function(e){t.$http.get(d.helpers.add_endpoint_json(d.api_endpoints.users,t.user.id)).then(function(e){t.user=e.body,null==t.user.residential_address&&(t.user.residential_address={}),t.user.wildlifecompliance_organisations&&t.user.wildlifecompliance_organisations.length>0&&(t.managesOrg="Yes"),n("Unlink","The user has been successfully unlinked from "+a+".","success")},function(e){})},function(e){n("Unlink","There was an error unlinking the user from "+a+".","error")})},function(e){})},readFileID:function(){var t=this,a=null,n=e(t.$refs.uploadedID)[0];if(n.files&&n.files[0]){var i=new FileReader;i.readAsDataURL(n.files[0]),i.onload=function(e){a=e.target.result},a=n.files[0]}t.uploadedID=a},uploadID:function(){var e=this;console.log("uploading id"),e.uploadingID=!0;var t=new FormData;t.append("identification",e.uploadedID),console.log(t),null==e.uploadedID?(e.uploadingID=!1,n({title:"Upload ID",html:"Please select a file to upload.",type:"error"})):e.$http.post(d.helpers.add_endpoint_json(d.api_endpoints.users,e.user.id+"/upload_id"),t,{emulateJSON:!0}).then(function(t){e.uploadingID=!1,e.uploadedID=null,n({title:"Upload ID",html:"The user ID has been successfully uploaded.",type:"success"}).then(function(){window.location.reload(!0)})},function(t){console.log(t),e.uploadingID=!1;var a="<br/>";for(var i in t.body)a+=i+": "+t.body[i]+"<br/>";n({title:"Upload ID",html:"There was an error uploading the user ID.<br/>"+a,type:"error"})})}},mounted:function(){this.personal_form=document.forms.personal_form,this.eventListeners()}}}).call(t,a(1),a(9))},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(4),s=(n(i),a(3),a(102));n(s);a(82);var o=a(716),r=n(o);a(15),a(160),a(101),t.default={components:{ReturnsRendererForm:r.default},props:{form_width:{type:String,default:"col-md-8"}}}},function(e,t,a){"use strict";(function(e){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(12),s=n(i),o=a(4),r=n(o),l=a(1),c=n(l),d=a(3);t.default={name:"MyUserDetails",data:function(){var e=this;return{adBody:"adBody"+e._uid,pBody:"pBody"+e._uid,idBody:"idBody"+e._uid,cBody:"cBody"+e._uid,oBody:"oBody"+e._uid,current_user:{first_name:"",last_name:"",dob:"",wildlifecompliance_organisations:[],residential_address:{}},newOrg:{name:"",abn:"",detailsChecked:!1,exists:!1},countries:[],loading:[],registeringOrg:!1,validatingPins:!1,uploadingID:!1,checkingDetails:!1,addingCompany:!1,managesOrg:"No",managesOrgConsultant:"No",uploadedFile:null,uploadedID:null,updatingPersonal:!1,updatingAddress:!1,updatingContact:!1,role:null,orgRequest_pending:[],orgRequest_amendment_requested:[],new_user:!1}},watch:{managesOrg:function(){"Yes"==this.managesOrg?(this.newOrg.detailsChecked=!1,this.role="employee"):"Consultant"==this.managesOrg?(this.newOrg.detailsChecked=!1,this.role="consultant"):(this.role=null,this.newOrg.detailsChecked=!1),"Yes"==this.managesOrg&&!this.hasOrgs&&this.newOrg?this.addCompany():"No"==this.managesOrg&&this.newOrg?(this.resetNewOrg(),this.uploadedFile=null,this.addingCompany=!1):"Consultant"==this.managesOrg&&this.newOrg?this.addCompany():(this.addCompany(),this.addingCompany=!1)}},computed:{hasOrgs:function(){return!!(this.current_user.wildlifecompliance_organisations&&this.current_user.wildlifecompliance_organisations.length>0)},uploadedFileName:function(){return null!=this.uploadedFile?this.uploadedFile.name:""},uploadedIDFileName:function(){return null!=this.uploadedID?this.uploadedID.name:""},showCompletion:function(){return"first-time"==this.$route.name},completedProfile:function(){return this.current_user.contact_details&&this.current_user.personal_details&&this.current_user.address_details}},methods:{readFile:function(){var e=this,t=null,a=(0,c.default)(e.$refs.uploadedFile)[0];if(a.files&&a.files[0]){var n=new FileReader;n.readAsDataURL(a.files[0]),n.onload=function(e){t=e.target.result},t=a.files[0]}e.uploadedFile=t},readFileID:function(){var e=this,t=null,a=(0,c.default)(e.$refs.uploadedID)[0];if(a.files&&a.files[0]){var n=new FileReader;n.readAsDataURL(a.files[0]),n.onload=function(e){t=e.target.result},t=a.files[0]}e.uploadedID=t},addCompany:function(){this.newOrg.push={name:"",abn:""},this.addingCompany=!0},resetNewOrg:function(){this.newOrg={detailsChecked:!1,exists:!1}},deleteUserLogout:function(){var e=this;e.$http.delete(d.helpers.add_endpoint_json(d.api_endpoints.users,e.current_user.id)).then(function(e){window.location.href="/ledger/logout"},function(e){})},updatePersonal:function(){var t=this;t.updatingPersonal=!0,console.log(t.current_user.residential_address),null==t.current_user.residential_address&&(t.current_user.residential_address={});var a="?";if(a+="&first_name="+t.current_user.first_name,a+="&last_name="+t.current_user.last_name,a+="&dob="+t.current_user.dob,""==t.current_user.first_name||""==t.current_user.last_name||null==t.current_user.dob||""==t.current_user.dob){return void e({title:"Update Personal Details",html:"There was an error updating your personal details.<br/>Please ensure all fields are filled in.",type:"error"}).then(function(){t.updatingPersonal=!1,t.current_user.personal_details=!1})}"True"==t.new_user?e({title:"Update Personal Details",html:"If you already have a Parks and Wildlife customer account under another email address, please <strong>log out and sign in again with that account</strong> and instead add <strong>"+t.current_user.email+"</strong> as a new Profile.<br/><br/>If this is a new account, please proceed to update your details.",type:"question",allowOutsideClick:!1,allowEscapeKey:!1,confirmButtonText:"Okay",showCancelButton:!0,cancelButtonText:"Logout",cancelButtonClass:"btn btn-danger"}).then(function(a){if(a.value)t.$http.post(d.helpers.add_endpoint_json(d.api_endpoints.users,t.current_user.id+"/update_personal"),(0,s.default)(t.current_user),{emulateJSON:!0}).then(function(a){e({title:"Update Personal Details",html:"Your personal details has been successfully updated.",type:"success"}).then(function(){t.updatingPersonal=!1,t.current_user.personal_details=!0,t.completedProfile&&t.$http.get(d.api_endpoints.user_profile_completed).then(function(e){},function(e){})})},function(a){t.updatingPersonal=!1,t.current_user.personal_details=!1;var n="<br/>";for(var i in a.body)n+="dob"===i?"dob: Please enter a valid date.<br/>":i+": "+a.body[i]+"<br/>";e({title:"Update Personal Details",html:"There was an error updating your personal details.<br/>"+n,type:"error"})});else if(a.dismiss===e.DismissReason.cancel)return t.updatingPersonal=!1,void t.deleteUserLogout()},function(a){t.updatingPersonal=!1,t.current_user.personal_details=!1,e({title:"Update Personal Details",html:"There was an error updating your personal details.",type:"error"})}):t.$http.post(d.helpers.add_endpoint_json(d.api_endpoints.users,t.current_user.id+"/update_personal"),(0,s.default)(t.current_user),{emulateJSON:!0}).then(function(a){e({title:"Update Personal Details",html:"Your personal details has been successfully updated.",type:"success"}).then(function(){t.updatingPersonal=!1,t.current_user.personal_details=!0,t.completedProfile&&t.$http.get(d.api_endpoints.user_profile_completed).then(function(e){},function(e){})})},function(a){t.updatingPersonal=!1,t.current_user.personal_details=!1;var n="<br/>";for(var i in a.body)n+="dob"===i?"dob: Please enter a valid date.<br/>":i+": "+a.body[i]+"<br/>";e({title:"Update Personal Details",html:"There was an error updating your personal details.<br/>"+n,type:"error"})})},updateContact:function(){var t=this;t.updatingContact=!0,t.$http.post(d.helpers.add_endpoint_json(d.api_endpoints.users,t.current_user.id+"/update_contact"),(0,s.default)(t.current_user),{emulateJSON:!0}).then(function(a){t.updatingContact=!1,t.current_user=a.body,null==t.current_user.residential_address&&(t.current_user.residential_address={}),e({title:"Update Contact Details",html:"Your contact details has been successfully updated.",type:"success"}),t.completedProfile&&t.$http.get(d.api_endpoints.user_profile_completed).then(function(e){},function(e){})},function(a){t.updatingContact=!1,t.current_user.contact_details=!1;var n="<br/>";for(var i in a.body)n+=i+": "+a.body[i]+"<br/>";e({title:"Update Contact Details",html:"There was an error updating your contact details.<br/>"+n,type:"error"})})},updateAddress:function(){var t=this;t.updatingAddress=!0,t.$http.post(d.helpers.add_endpoint_json(d.api_endpoints.users,t.current_user.id+"/update_address"),(0,s.default)(t.current_user.residential_address),{emulateJSON:!0}).then(function(a){t.updatingAddress=!1,t.current_user=a.body,null==t.current_user.residential_address&&(t.current_user.residential_address={}),e({title:"Update Address Details",html:"Your address details has been successfully updated.",type:"success"})},function(a){t.updatingAddress=!1,t.current_user.address_details=!1;var n="<br/>";for(var i in a.body)n+=i+": "+a.body[i]+"<br/>";e({title:"Update Address Details",html:"There was an error updating your address details.<br/>"+n,type:"error"}),t.completedProfile&&t.$http.get(d.api_endpoints.user_profile_completed).then(function(e){},function(e){})})},checkOrganisation:function(){var t=this;console.log("Entered CheckOrg");var a=this,n=a.newOrg;for(var i in a.current_user.wildlifecompliance_organisations)if(n.abn&&a.current_user.wildlifecompliance_organisations[i].abn==n.abn)return e({title:"Checking Organisation",html:"You are already associated with this organisation.",type:"info"}),a.registeringOrg=!1,a.uploadedFile=null,a.addingCompany=!1,void a.resetNewOrg();a.$http.post(d.helpers.add_endpoint_json(d.api_endpoints.organisations,"existance"),(0,s.default)(this.newOrg),{emulateJSON:!0}).then(function(e){t.newOrg.exists=e.body.exists,t.newOrg.id=e.body.id,t.newOrg.detailsChecked=!1,e.body.first_five&&(t.newOrg.first_five=e.body.first_five,t.newOrg.detailsChecked=!0),t.newOrg.detailsChecked=!t.newOrg.exists||t.newOrg.detailsChecked},function(a){t.newOrg.detailsChecked=!1;var n="<br/>";for(var i in a.body)n+="non_field_errors"===i?a.body[i]+"<br/>":i+": "+a.body[i]+"<br/>";e({title:"Checking Organisation",html:"There was an error checking this organisation.<br/>"+n,type:"error"})})},validatePins:function(){var t=this;t.validatingPins=!0,t.$http.post(d.helpers.add_endpoint_json(d.api_endpoints.organisations,t.newOrg.id+"/validate_pins"),(0,s.default)(this.newOrg),{emulateJSON:!0}).then(function(a){a.body.valid?(e("Validate Pins","The pins you entered have been validated and your request will be processed by Organisation Administrator.","success"),t.registeringOrg=!1,t.uploadedFile=null,t.addingCompany=!1,t.resetNewOrg(),r.default.http.get(d.api_endpoints.my_user_details).then(function(e){t.current_user=e.body,null==t.current_user.residential_address&&(t.current_user.residential_address={}),t.current_user.wildlifecompliance_organisations&&t.current_user.wildlifecompliance_organisations.length>0&&(t.managesOrg="Yes")},function(e){})):e("Validate Pins","The pins you entered were incorrect","error"),t.validatingPins=!1},function(e){t.validatingPins=!1})},uploadID:function(){var t=this;console.log("uploading id"),t.uploadingID=!0;var a=new FormData;a.append("identification",t.uploadedID),console.log(a),null==t.uploadedID?(t.uploadingID=!1,e({title:"Upload ID",html:"Please select a file to upload.",type:"error"})):t.$http.post(d.helpers.add_endpoint_json(d.api_endpoints.users,t.current_user.id+"/upload_id"),a,{emulateJSON:!0}).then(function(a){t.uploadingID=!1,t.uploadedID=null,e({title:"Upload ID",html:"Your ID has been successfully uploaded.",type:"success"}).then(function(){window.location.reload(!0)})},function(a){console.log(a),t.uploadingID=!1;var n="<br/>";for(var i in a.body)n+=i+": "+a.body[i]+"<br/>";e({title:"Upload ID",html:"There was an error uploading your ID.<br/>"+n,type:"error"})})},orgRequest:function(){var t=this,a=this;a.registeringOrg=!0;var n=new FormData;n.append("name",a.newOrg.name),n.append("abn",a.newOrg.abn),n.append("identification",a.uploadedFile),n.append("role",a.role),a.newOrg.name=null==a.newOrg.name?"":a.newOrg.name,a.newOrg.abn=null==a.newOrg.abn?"":a.newOrg.abn,""==a.newOrg.name||""==a.newOrg.abn||null==a.uploadedFile?(a.registeringOrg=!1,e("Error submitting organisation request","Please enter the organisation details and attach a file before submitting your request.","error")):a.$http.post(d.api_endpoints.organisation_requests,n,{emulateJSON:!0}).then(function(n){a.registeringOrg=!1,a.uploadedFile=null,a.addingCompany=!1,a.resetNewOrg(),e({title:"Sent",html:"Your organisation request has been successfully submitted.",type:"success"}).then(function(){"account"==t.$route.name&&window.location.reload(!0)})},function(t){a.registeringOrg=!1;var n="<br/>";for(var i in t.body)n+="non_field_errors"===i?t.body[i]+"<br/>":i+": "+t.body[i]+"<br/>";e("Error submitting organisation request",n,"error")})},orgConsultRequest:function(){var t=this,a=this;a.registeringOrg=!0;var n=new FormData,i=a.newOrg;for(var s in a.current_user.wildlifecompliance_organisations)if(i.abn&&a.current_user.wildlifecompliance_organisations[s].abn==i.abn)return e({title:"Checking Organisation",html:"You are already associated with this organisation.",type:"info"}),a.registeringOrg=!1,a.uploadedFile=null,a.addingCompany=!1,void a.resetNewOrg();n.append("name",a.newOrg.name),n.append("abn",a.newOrg.abn),n.append("identification",a.uploadedFile),n.append("role",a.role),a.newOrg.name=null==a.newOrg.name?"":a.newOrg.name,a.newOrg.abn=null==a.newOrg.abn?"":a.newOrg.abn,""==a.newOrg.name||""==a.newOrg.abn||null==a.uploadedFile?(a.registeringOrg=!1,e("Error submitting organisation request","Please enter the organisation details and attach a file before submitting your request.","error")):a.$http.post(d.api_endpoints.organisation_requests,n,{emulateJSON:!0}).then(function(n){a.registeringOrg=!1,a.uploadedFile=null,a.addingCompany=!1,a.resetNewOrg(),e({title:"Sent",html:"Your organisation request has been successfully submitted.",type:"success"}).then(function(){"account"==t.$route.name&&window.location.reload(!0)})},function(t){a.registeringOrg=!1;var n="<br/>";for(var i in t.body)n+="non_field_errors"===i?t.body[i]+"<br/>":i+": "+t.body[i]+"<br/>";e("Error submitting organisation request",n,"error")})},uploadNewFileUpdateOrgRequest:function(t){var a=this;a.readFile();var n=new FormData;n.append("identification",a.uploadedFile),a.$http.put(d.helpers.add_endpoint_json(d.api_endpoints.organisation_requests,t.id+"/reupload_identification_amendment_request"),n,{emulateJSON:!0}).then(function(t){a.uploadedFile=null,a.resetNewOrg(),e({title:"Sent",html:"Your organisation request has been successfully submitted.",type:"success"}).then(function(){window.location.reload(!0)})},function(t){console.log(t),a.registeringOrg=!1;var n="<br/>";for(var i in t.body)n+=i+": "+t.body[i]+"<br/>";e("Error submitting organisation request",n,"error")})},toggleSection:function(e){var t=e.target,a=null;(0,c.default)(t).on("click",function(e){a=(0,c.default)(this),(0,c.default)(a).toggleClass("glyphicon-chevron-down glyphicon-chevron-up")})},fetchCountries:function(){var e=this;e.loading.push("fetching countries"),e.$http.get(d.api_endpoints.countries).then(function(t){e.countries=t.body,e.loading.splice("fetching countries",1)},function(t){e.loading.splice("fetching countries",1)})},fetchOrgRequestPending:function(){var e=this;e.$http.get(d.helpers.add_endpoint_json(d.api_endpoints.organisation_requests,"get_pending_requests")).then(function(t){e.orgRequest_pending=t.body,e.loading.splice("fetching pending organisation requests",1)},function(t){e.loading.splice("fetching pending organisation requests",1)})},fetchOrgRequestAmendmentRequested:function(){var e=this;e.$http.get(d.helpers.add_endpoint_json(d.api_endpoints.organisation_requests,"get_amendment_requested_requests")).then(function(t){e.orgRequest_amendment_requested=t.body,e.loading.splice("fetching amendment requested organisation requests",1)},function(t){e.loading.splice("fetching amendment requested organisation requests",1)})},unlinkUser:function(t){var a=this,n=t.name;e({title:"Unlink From Organisation",text:"Are you sure you want to be unlinked from "+t.name+" ?",type:"question",showCancelButton:!0,confirmButtonText:"Accept"}).then(function(i){i.value&&a.$http.post(d.helpers.add_endpoint_json(d.api_endpoints.organisations,t.id+"/unlink_user"),(0,s.default)(a.current_user),{emulateJSON:!0}).then(function(t){r.default.http.get(d.api_endpoints.my_user_details).then(function(e){a.current_user=e.body,null==a.current_user.residential_address&&(a.current_user.residential_address={}),a.current_user.wildlifecompliance_organisations&&a.current_user.wildlifecompliance_organisations.length>0&&(a.managesOrg="Yes")},function(e){}),e("Unlink","You have been successfully unlinked from "+n+".","success")},function(t){var a="<br/>";for(var i in t.body)"non_field_errors"==i&&(a+=t.body[i]+"<br/>");e("Unlink","There was an error unlinking you from "+n+"."+a,"error")})},function(e){})},userProfileCompleted:function(){this.$http.get(d.api_endpoints.user_profile_completed).then(function(e){window.location.href="/"},function(e){})}},beforeRouteEnter:function(e,t,a){r.default.http.get(d.api_endpoints.my_user_details).then(function(t){t.body.address_details&&t.body.personal_details&&t.body.contact_details&&"first-time"==e.name?window.location.href="/":a(function(e){e.current_user=t.body,null==e.current_user.residential_address&&(e.current_user.residential_address={}),e.current_user.wildlifecompliance_organisations&&e.current_user.wildlifecompliance_organisations.length>0&&(e.managesOrg="Yes")})},function(e){})},mounted:function(){var e=this;this.fetchCountries(),this.fetchOrgRequestPending(),this.fetchOrgRequestAmendmentRequested(),this.personal_form=document.forms.personal_form,(0,c.default)('.panelClicker[data-toggle="collapse"]').on("click",function(){var e=(0,c.default)(this).children()[0];window.setTimeout(function(){(0,c.default)(e).toggleClass("glyphicon-chevron-down glyphicon-chevron-up")},100)}),r.default.http.get(d.api_endpoints.is_new_user).then(function(t){e.new_user=t.body})}}}).call(t,a(9))},function(e,t,a){"use strict";(function(e){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(17),s=n(i),o=a(12),r=n(o),l=a(4),c=(n(l),a(1)),d=(n(c),a(3)),u=a(23),p=n(u);t.default={name:"CreateProfile",data:function(){return{pBody:"pBody"+this._uid,current_user:{},profile:{postal_address:{}},countries:[],loading:[],creatingProfile:!1,role:null}},watch:{},computed:{},methods:{createProfile:function(){var t=this;t.creatingProfile=!0,t.profile.user=t.current_user.id,t.profile.auth_identity=!0;var a="?email="+encodeURIComponent(t.profile.email)+"&exclude_user="+t.current_user.id;t.$http.get(d.helpers.add_endpoint_join(d.api_endpoints.emailidentities,a),(0,r.default)(t.profile),{emulateJSON:!0}).then(function(a){if(console.log(a),a.body.length>0)return t.creatingProfile=!1,void e({title:"Create Profile",html:"This email address is already associated with an existing account or profile.",type:"error"});t.$http.post(d.api_endpoints.my_profiles+"/",(0,r.default)(t.profile),{emulateJSON:!0}).then(function(a){t.creatingProfile=!1,t.profile=a.body,null==t.profile.postal_address&&(t.profile.postal_address={}),e({title:"Create Profile",html:"Your profile has been successfully created.<br/><br/>"+t.profile.name+"<br/>"+t.profile.email,type:"success",onClose:t.$router.push("/profiles")})},function(a){t.creatingProfile=!1;var n="<br/>";for(var i in a.body)if("postal_address"===i)for(var s in a.body[i])n+=s+": "+a.body[i][s]+"<br/>";else n+=i+": "+a.body[i]+"<br/>";e({title:"Create Profile",html:"There was an error creating the profile.<br/>"+n,type:"error"})})},function(a){t.creatingProfile=!1,e({title:"Create Profile",html:"There was an error creating the profile.",type:"error"})})}},beforeRouteEnter:function(e,t,a){var n=[p.default.fetchCountries(),p.default.fetchCurrentUser()];s.default.all(n).then(function(e){a(function(t){t.countries=e[0],t.current_user=e[1]})})}}}).call(t,a(9))},function(e,t,a){"use strict";(function(e,n){Object.defineProperty(t,"__esModule",{value:!0});var i=a(10),s=function(e){return e&&e.__esModule?e:{default:e}}(i),o=a(3);t.default={name:"ProfileDashTable",props:{level:{type:String,required:!0,validator:function(e){return-1!=["internal"].indexOf(e)}},url:{type:String,required:!0}},data:function(){var e=this;return{pBody:"pBody"+e._uid,datatable_id:"profile-datatable-"+e._uid,dateFormat:"DD/MM/YYYY",datepickerOptions:{format:"DD/MM/YYYY",showClear:!0,useCurrent:!1,keepInvalid:!0,allowInputToggle:!0},profile_headers:["Profile Name","Email","Institution","Postal Address","Actions"],profile_options:{language:{processing:"<i class='fa fa-4x fa-spinner fa-spin'></i>"},responsive:!0,ajax:{url:o.api_endpoints.my_profiles,dataSrc:""},columns:[{data:"name"},{data:"email"},{data:"institution"},{mRender:function(e,t,a){return a.postal_address.line1+" "+a.postal_address.line2+" "+a.postal_address.line3+" "+a.postal_address.locality+" "+a.postal_address.state+" "+a.postal_address.country+" "+a.postal_address.postcode}},{mRender:function(e,t,a){var n="";return n+="<a href='/profiles/"+a.id+'\' class="editProfile">Edit</a><br/>',n+="<a data-name='"+a.name+"' data-email='"+a.email+"' data-id='"+a.id+'\' class="delete_profile">Delete</a><br/>'},orderable:!1}],processing:!0,initComplete:function(){e.$refs.profile_datatable.vmDataTable.columns.adjust().responsive.recalc()}}}},components:{datatable:s.default},watch:{},computed:{status:function(){return[]},is_external:function(){return"external"==this.level}},methods:{deleteProfile:function(t,a,n){var i=this;i.$http.delete(o.api_endpoints.profiles+"/"+t+"/").then(function(t){e("Delete Profile","Your profile, "+a+" ("+n+") has been successfully deleted.","success"),i.$refs.profile_datatable.vmDataTable.ajax.reload()},function(t){console.log(t),e("Delete Profile","There was an error deleting the profile, "+a+" ("+n+").","error")})},eventListeners:function(){var t=this;t.$refs.profile_datatable.vmDataTable.on("click",".delete_profile",function(a){a.preventDefault();var i=n(a.target).data("name"),s=n(a.target).data("email"),o=n(a.target).data("id");e({title:"Delete Profile",text:"Are you sure you want to delete this profile, "+i+" ("+s+")?",type:"error",showCancelButton:!0,confirmButtonText:"Delete",focusCancel:!0}).then(function(a){if(a.value)t.deleteProfile(o,i,s);else if(a.dismiss===e.DismissReason.cancel)return},function(e){console.log(e)})})}},mounted:function(){var e=this;this.$nextTick(function(){e.eventListeners()})}}}).call(t,a(9),a(1))},function(e,t,a){"use strict";(function(e){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(17),s=n(i),o=a(12),r=n(o),l=a(4),c=(n(l),a(1)),d=(n(c),a(3)),u=a(23),p=n(u);t.default={name:"EditProfile",data:function(){return{adBody:"adBody"+this._uid,current_user:{},profile:{postal_address:{}},countries:[],loading:[],uploadedFile:null,updatingProfile:!1}},watch:{},computed:{},methods:{updateProfile:function(){var t=this;t.updatingProfile=!0;var a="?email="+t.profile.email+"&exclude_user="+t.current_user.id;t.$http.get(d.helpers.add_endpoint_join(d.api_endpoints.users,a),(0,r.default)(t.profile),{emulateJSON:!0}).then(function(a){if(a.body.length>0)return t.updatingProfile=!1,void e({title:"Update Profile",html:"This email address is already associated with an existing account or profile.",type:"error"});t.$http.put(d.api_endpoints.profiles+"/"+t.profile.id+"/",(0,r.default)(t.profile),{emulateJSON:!0}).then(function(a){t.updatingProfile=!1,t.profile=a.body,null==t.profile.postal_address&&(t.profile.postal_address={}),e("Update Profile","Your profile has been successfully updated.","success")},function(a){t.updatingProfile=!1;var n="<br/>";for(var i in a.body)if("postal_address"===i)for(var s in a.body[i])n+=s+": "+a.body[i][s]+"<br/>";else n+=i+": "+a.body[i]+"<br/>";e({title:"Update Profile",html:"There was an error updating the profile.<br/>"+n,type:"error"})})},function(a){t.updatingProfile=!1,e({title:"Update Profile",html:"There was an error updating the profile.",type:"error"})})}},beforeRouteEnter:function(e,t,a){var n=[p.default.fetchCountries(),p.default.fetchProfile(e.params.profile_id),p.default.fetchCurrentUser()];s.default.all(n).then(function(e){a(function(t){t.countries=e[0],t.profile=e[1],t.current_user=e[2]})})},beforeRouteUpdate:function(e,t,a){var n=[p.default.fetchProfile(e.params.profile_id)];s.default.all(n).then(function(e){a(function(t){t.org=e[0],t.org.address=null!=t.org.address?t.org.address:{},t.org.pins=null!=t.org.pins?t.org.pins:{}})})}}}).call(t,a(9))},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:{type:{type:String},dismissable:{type:Boolean,default:!1},show:{type:Boolean,default:!0},duration:{type:Number,default:0},width:{type:String},placement:{type:String}},watch:{show:function(e){var t=this;this._timeout&&clearTimeout(this._timeout),e&&Boolean(this.duration)&&(this._timeout=setTimeout(function(){t.show=!1},this.duration))}}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:{title:{type:String,default:"Modal"},small:{type:Boolean,default:!1},large:{type:Boolean,default:!1},full:{type:Boolean,default:!1},force:{type:Boolean,default:!1},showOk:{type:Boolean,default:!0},transition:{type:String,default:"modal"},okText:{type:String,default:"OK"},cancelText:{type:String,default:"Cancel"},okClass:{type:String,default:"btn btn-default"},cancelClass:{type:String,default:"btn btn-default"},closeWhenOK:{type:Boolean,default:!1}},data:function(){return{duration:null}},computed:{modalClass:function(){return{"modal-lg":this.large,"modal-sm":this.small,"modal-full":this.full}},show:function(){return this.$parent.isModalOpen}},created:function(){this.show&&(document.body.className+=" modal-open")},beforeDestroy:function(){document.body.className=document.body.className.replace(/\s?modal-open/,"")},watch:{show:function(e){e?document.body.className+=" modal-open":window.setTimeout(function(){document.body.className=document.body.className.replace(/\s?modal-open/,"")},this.duration||0)}},methods:{ok:function(){this.$emit("ok"),this.closeWhenOK&&(this.show=!1)},cancel:function(){this.$emit("cancel"),this.$parent.close()},clickMask:function(){this.force||this.cancel()}}}},function(e,t,a){"use strict";(function(t){function n(e){return e&&e.__esModule?e:{default:e}}var i=a(11),s=n(i),o=a(65);n(o);e.exports={name:"DataTable",props:{dtHeaders:{type:Array,required:!0},dtOptions:{type:Object,required:!0},id:{required:!0},onMount:{type:Function,default:function(){}},parentStyle:{type:String}},data:function(){return{table:null,vmDataTable:null}},computed:{stylingClass:function(){return this.parentStyle?"compact hover table table-striped table-bordered dt-responsive parentClass"+this.parentStyle:"compact hover table table-striped table-bordered dt-responsive parentClass nowrap"}},methods:{initEvents:function(){var e=this,a=(0,s.default)(e.dtOptions);e.vmDataTable=t(e.table).DataTable(a),t(e.table).on("page.dt",function(){e.vmDataTable.columns.adjust().responsive.recalc()})}},mounted:function(){this.table=t("#"+this.id),t.fn.dataTable.ext.errMode="throw",this.initEvents(),this.onMount()}}}).call(t,a(1))},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(726),s=n(i),o=a(727),r=n(o),l=a(721),c=n(l),d=a(722),u=n(d),p=a(724),_=n(p),m=a(723),f=n(m),v=a(725),h=n(v),g=a(728),b=n(g),y=a(730),C=n(y);t.default={path:"/external",component:{render:function(e){return e("router-view")}},children:[{path:"/",component:s.default,name:"external-applications-dash"},{path:"sanction_outcome",component:r.default,name:"external-sanction-outcome-dash"},{path:"organisations/manage/:org_id",component:b.default},{path:"return/:return_id",component:C.default},{path:"application",component:{render:function(e){return e("router-view")}},children:[{path:"/",component:u.default,name:"apply_application"},{path:"org_select",component:_.default,name:"apply_application_organisation"},{path:"licence_select",component:f.default,name:"apply_application_licence"},{path:"submit",component:h.default,name:"submit_application"},{path:":application_id",component:c.default,name:"draft_application"}]}]}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(755),s=n(i),o=a(779),r=n(o),l=a(770),c=n(l),d=a(769),u=n(d),p=a(771),_=n(p),m=a(780),f=n(m),v=a(781),h=n(v),g=a(741),b=n(g),y=a(763),C=n(y),x=a(751),w=n(x),k=a(750),A=n(k),I=a(774),D=n(I),T=a(775),S=n(T),P=a(757),M=n(P),O=a(761),N=n(O),R=a(760),Y=n(R),E=a(756),L=n(E),j=a(777),B=n(j),F=a(776),W=n(F),z=a(766),U=n(z),$=a(765),G=n($);t.default={path:"/internal",component:{render:function(e){return e("router-view")}},children:[{path:"/",component:s.default},{path:"licences",component:C.default,name:"internal-licences-dash"},{path:"inspection",component:{render:function(e){return e("router-view")}},children:[{path:"/",component:M.default,name:"internal-inspection-dash"},{path:":inspection_id",component:L.default,name:"view-inspection"}]},{path:"legal_case",component:{render:function(e){return e("router-view")}},children:[{path:"/",component:N.default,name:"internal-legal-case-dash"},{path:":legal_case_id",component:Y.default,name:"view-legal-case"}]},{path:"offence",component:{render:function(e){return e("router-view")}},children:[{path:"/",component:U.default,name:"internal-offence-dash"},{path:":offence_id",component:G.default,name:"view-offence"}]},{path:"sanction_outcome",component:{render:function(e){return e("router-view")}},children:[{path:"/",component:B.default,name:"internal-sanction-outcome-dash"},{path:":sanction_outcome_id",component:W.default,name:"view-sanction-outcome"}]},{path:"call_email",component:{render:function(e){return e("router-view")}},children:[{path:"/",component:w.default,name:"internal-call-email-dash"},{path:":call_email_id",component:A.default,name:"view-call-email"}]},{path:"returns",component:D.default,name:"internal-returns-dash"},{path:"search",component:r.default,name:"internal-search"},{path:"return/:return_id",component:S.default},{path:"users",component:{render:function(e){return e("router-view")}},children:[{path:"/",component:f.default,name:"internal-users-dash"},{path:":user_id",component:h.default,name:"internal-user-detail"}]},{path:"organisations",component:{render:function(e){return e("router-view")}},children:[{path:"access",component:c.default,name:"org-access-dash"},{path:"access/:access_id",component:u.default,name:"org-access"},{path:":org_id",component:_.default,name:"internal-org-detail"}]},{path:"application",component:{render:function(e){return e("router-view")}},children:[{path:":application_id",component:{render:function(e){return e("router-view")}},children:[{path:"/",component:b.default,name:"internal-application"}]}]}]}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var i=a(4),s=n(i),o=a(356),r=n(o),l=a(353),c=n(l),d=a(350),u=n(d),p=a(102),_=(n(p),a(43)),m=n(_),f=a(349),v=(n(f),a(137)),h=n(v),g=a(351),b=n(g),y=a(355),C=n(y),x=a(354),w=n(x),k=a(357),A=n(k),I=a(352),D=n(I),T=a(358),S=n(T);a(15),a(101),s.default.config.productionTip=!1,s.default.use(r.default),s.default.use(A.default),s.default.use(D.default),s.default.use(S.default),s.default.component("renderer-block",C.default),s.default.component("compliance-renderer-block",w.default),s.default.http.interceptors.push(function(e,t){e.url!=h.default.countries&&e.headers.set("X-CSRFToken",m.default.getCookie("csrftoken")),t()}),s.default.filter("toCurrency",function(e){return"number"!=typeof e?e:new Intl.NumberFormat("en-AU",{style:"currency",currency:"AUD",minimumFractionDigits:2}).format(e)}),s.default.prototype.current_tab="",window.vue=new s.default({el:"#app",store:b.default,router:u.default,template:"<App/>",components:{App:c.default}}),s.default.config.devtools=!0},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.applicationStore=void 0;var i,s=a(16),o=n(s),r=a(17),l=n(r),c=a(36),d=n(c),u=a(5),p=n(u),_=a(44),m=n(_),f=a(4),v=n(f),h=a(64);t.applicationStore={state:{original_application:{},application:{schema:[],licence_type_data:{activity:[]}}},getters:{application:function(e){return e.application},original_application:function(e){return e.original_application},amendment_requests:function(e){return e.application.amendment_requests},application_id:function(e){return e.application.id},licence_type_data:function(e){return e.application.licence_type_data},org_address:function(e){return null!=e.application.org_applicant&&null!=e.application.org_applicant.address?e.application.org_applicant.address:{}},proxy_address:function(e){return null!=e.application.proxy_applicant&&null!=e.application.proxy_applicant.address?e.application.proxy_applicant.address:{}},application_readonly:function(e){return e.application.readonly},applicant_type:function(e){return e.application.org_applicant?"org":e.application.proxy_applicant?"proxy":"submitter"},checkActivityStatus:function(e,t,a,n){return function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return e.constructor!==Array&&(e=[e]),t.licence_type_data.activity.filter(function(t){return e.includes(t.processing_status.id)&&(null===i||n.hasRole(i,t.id))}).length>=a}},isFinalised:function(e,t){return t.checkActivityStatus(["declined","accepted"],t.licence_type_data.activity.length)},isPartiallyFinalised:function(e,t){var a=["declined","accepted"],n=t.licence_type_data.activity.length;return t.checkActivityStatus(a)&&!t.checkActivityStatus(a,n)},isApplicationLoaded:function(e){return(0,m.default)(e.application).length&&e.application.licence_type_data.activity.length},isApplicationActivityVisible:function(e,t,a,n){return function(a){var n=a.activity_id,i=a.exclude_statuses,s=a.exclude_processing_statuses,o=a.for_user_role,r=a.only_processing_statuses;return e.application.activities?t.filterActivityList({activity_list:e.application.activities,activity_id:n,only_processing_statuses:r,exclude_statuses:i,exclude_processing_statuses:s,for_user_role:o,licence_activity_id_key:"licence_activity"}).length:0}},licenceActivities:function(e,t){return function(e,a){return t.filterActivityList({activity_list:t.licence_type_data.activity,only_processing_statuses:e,for_user_role:a})}},filterActivityList:function(e,t,a,n){return function(e){var t=e.activity_list,a=e.activity_id,i=e.exclude_statuses,s=e.only_processing_statuses,o=e.exclude_processing_statuses,r=e.for_user_role,l=e.licence_activity_id_key,c=void 0===l?"licence_activity":l;return t.length?t.filter(function(e){return(!a||e[c]==a)&&(!i||!(i.constructor===Array?i:[i]).includes(e.decision_action))&&(!s||(s.constructor===Array?s:[s]).includes(e.processing_status.id?e.processing_status.id:e.processing_status))&&(!o||!(o.constructor===Array?o:[o]).includes(e.processing_status.id?e.processing_status.id:e.processing_status))&&(!r||n.hasRole(r,e[c]))}):[]}}},mutations:(i={},(0,d.default)(i,h.UPDATE_APPLICATION,function(e,t){v.default.set(e,"application",(0,p.default)({},t))}),(0,d.default)(i,h.UPDATE_ORIGINAL_APPLICATION,function(e,t){v.default.set(e,"original_application",(0,p.default)({},t))}),(0,d.default)(i,h.UPDATE_ORG_APPLICANT,function(e,t){var a=t.key,n=t.value;null==e.application.org_applicant&&v.default.set(e.application,"org_applicant",{}),v.default.set(e.application.org_applicant,a,n)}),(0,d.default)(i,h.UPDATE_PROXY_APPLICANT,function(e,t){var a=t.key,n=t.value;null==e.application.proxy_applicant&&v.default.set(e.application,"proxy_applicant",{}),v.default.set(e.application.proxy_applicant,a,n)}),i),actions:{refreshAddresses:function(e){var t=e.commit,a=e.state,n=e.getters;"org"===n.applicant_type&&t(h.UPDATE_ORG_APPLICANT,{key:"address",value:a.org_address}),"proxy"===n.applicant_type&&t(h.UPDATE_PROXY_APPLICANT,{key:"address",value:a.proxy_address})},loadApplication:function(e,t){var a=e.dispatch,n=(e.commit,t.url);return new l.default(function(e,t){v.default.http.get(n).then(function(t){a("setOriginalApplication",t.body),a("setApplication",t.body),a("refreshApplicationFees");var n=!0,i=!1,s=void 0;try{for(var r,l=(0,o.default)(t.body.data);!(n=(r=l.next()).done);n=!0){var c=r.value;a("setFormValue",{key:c.field_name,value:{value:c.value,officer_comment:c.officer_comment,assessor_comment:c.assessor_comment,deficiency_value:c.deficiency,schema_name:c.schema_name,component_type:c.component_type,instance_name:c.instance_name,licence_activity_id:c.licence_activity_id,licence_purpose_id:c.licence_purpose_id}})}}catch(e){i=!0,s=e}finally{try{!n&&l.return&&l.return()}finally{if(i)throw s}}e()},function(e){console.log(e),t()})})},revertApplication:function(e){var t=e.dispatch,a=e.commit,n=e.state;a(h.UPDATE_APPLICATION,n.original_application),t("refreshAddresses")},setOriginalApplication:function(e,t){(0,e.commit)(h.UPDATE_ORIGINAL_APPLICATION,t)},setApplication:function(e,t){var a=e.dispatch;(0,e.commit)(h.UPDATE_APPLICATION,t),a("refreshAddresses")},refreshApplicationFees:function(e){var t=e.dispatch,a=e.state,n=e.getters,i=e.rootGetters;v.default.http.post("/api/application/estimate_price/",{application_id:n.application_id,field_data:i.renderer_form_data}).then(function(e){t("setApplication",(0,p.default)({},a.application,{application_fee:e.body.fees.application,licence_fee:e.body.fees.licence}))},function(e){console.log(e)})}}}},function(e,t,a){"use strict";(function(e){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.callemailStore=void 0;var i=a(11),s=n(i),o=a(8),r=n(o),l=a(16),c=n(l),d=a(7),u=n(d),p=a(5),_=n(p),m=a(4),f=n(m),v=a(3),h=a(0),g=n(h);t.callemailStore={namespaced:!0,state:{call_email:{schema:[],classification:{id:null},location:{type:"Feature",properties:{town_suburb:null,street:null,state:"WA",postcode:null,country:"Australia",details:""},geometry:{type:"Point",coordinates:[]}},report_type:{id:null},allocated_group:[],volunteer_list:[]},classification_types:[],report_types:[],referrers:[],status_choices:[]},getters:{call_email:function(e){return e.call_email},classification_types:function(e){return e.classification_types},report_types:function(e){return e.report_types},status_choices:function(e){return e.status_choices},referrers:function(e){return e.referrers},call_latitude:function(e){return e.call_email.location&&e.call_email.location.geometry&&e.call_email.location.geometry.coordinates.length>0?e.call_email.location.geometry.coordinates[1]:""},call_longitude:function(e){return e.call_email.location&&e.call_email.location.geometry&&e.call_email.location.geometry.coordinates.length>0?e.call_email.location.geometry.coordinates[0]:""}},mutations:{updateStatusChoices:function(e,t){for(var a=0;a<t.length;a++)e.status_choices.push(t[a])},updateClassificationChoices:function(e,t){for(var a=0;a<t.length;a++)e.classification_types.push(t[a])},updateCallEmail:function(e,t){t.location||(t.location={type:"Feature",properties:{town_suburb:null,street:null,state:null,postcode:null,country:null},id:null,geometry:{type:"Point",coordinates:[]}}),t.email_user?t.email_user.residential_address||(t.email_user.residential_address={line1:"",locality:"",state:"WA",postcode:"",country:"AU"}):t.email_user={first_name:"",last_name:"",dob:null,residential_address:{line1:"",locality:"",state:"WA",postcode:"",country:"AU"}},f.default.set(e,"call_email",(0,_.default)({},t)),e.call_email.occurrence_date_from&&(e.call_email.occurrence_date_from=(0,g.default)(e.call_email.occurrence_date_from,"YYYY-MM-DD").format("DD/MM/YYYY")),e.call_email.occurrence_date_to&&(e.call_email.occurrence_date_to=(0,g.default)(e.call_email.occurrence_date_to,"YYYY-MM-DD").format("DD/MM/YYYY")),e.call_email.date_of_call&&(e.call_email.date_of_call=(0,g.default)(e.call_email.date_of_call,"YYYY-MM-DD").format("DD/MM/YYYY")),e.call_email.volunteer_id||(e.call_email.volunteer_id=e.call_email.current_user_id);var a=v.helpers.add_endpoint_join(v.api_endpoints.call_email,e.call_email.id+"/process_renderer_document/");f.default.set(e.call_email,"rendererDocumentUrl",a);var n=v.helpers.add_endpoint_join(v.api_endpoints.call_email,e.call_email.id+"/process_comms_log_document/");f.default.set(e.call_email,"commsLogsDocumentUrl",n)},updateSchema:function(e,t){f.default.set(e.call_email,"schema",t)},updateClassificationTypes:function(e,t){t?e.classification_types.push(t):e.classification_types=[]},updateReferrers:function(e,t){t?e.referrers.push(t):e.referrers=[]},updateReportTypes:function(e,t){t?e.report_types.push(t):e.report_types=[]},updateClassification:function(e,t){t&&f.default.set(e.call_email,"classification",t)},updateReportType:function(e,t){t&&f.default.set(e.call_email,"report_type",t)},updateEmailUser:function(e,t){t&&f.default.set(e.call_email,"email_user",t)},updateEmailUserEmpty:function(e){var t={first_name:"",last_name:"",dob:null,residential_address:{line1:"",locality:"",state:"WA",postcode:"",country:"AU"}};f.default.set(e.call_email,"email_user",t)},updateResidentialAddress:function(e,t){console.log("updateResidentialAddress"),console.log(t),f.default.set(e.call_email.email_user,"residential_address",t)},updateLocation:function(e,t){f.default.set(e.call_email,"location",t)},updateLocationPoint:function(e,t){console.log("point"),console.log(t),e.call_email.location.geometry.coordinates=t},updateLocationAddress:function(e,t){e.call_email.location.properties=t},updateLocationAddressEmpty:function(e){e.call_email.location.properties.town_suburb="",e.call_email.location.properties.street="",e.call_email.location.properties.state="",e.call_email.location.properties.postcode="",e.call_email.location.properties.country=""},updateLocationDetailsFieldEmpty:function(e){e.call_email.location.properties.details=""},updateAllocatedGroupList:function(e,t){f.default.set(e.call_email,"allocated_group",{}),console.log(t),f.default.set(e.call_email,"allocated_group",t)},updateAllocatedGroupId:function(e,t){e.call_email.allocated_group_id=t},updateRegionId:function(e,t){e.call_email.region_id=t},updateOccurrenceTimeStart:function(e,t){f.default.set(e.call_email,"occurrence_time_start",t)},updateOccurrenceTimeEnd:function(e,t){f.default.set(e.call_email,"occurrence_time_end",t)},updateTimeOfCall:function(e,t){f.default.set(e.call_email,"time_of_call",t)},updateDateOfCall:function(e,t){f.default.set(e.call_email,"date_of_call",t)},updateRelatedItems:function(e,t){f.default.set(e.call_email,"related_items",t)},updateCaller:function(e,t){"individual"===t.data_type&&f.default.set(e.call_email,"email_user_id",t.id)}},actions:{loadCallEmail:function(){function e(e,a){return t.apply(this,arguments)}var t=(0,u.default)(r.default.mark(function e(t,a){var n,i,s,o,l,d,u,p=t.dispatch,_=(t.commit,a.call_email_id);return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("loadCallEmail"),console.log(_),e.prev=2,e.next=5,f.default.http.get(v.helpers.add_endpoint_json(v.api_endpoints.call_email,_));case 5:return n=e.sent,e.next=8,p("setCallEmail",n.body);case 8:i=!0,s=!1,o=void 0,e.prev=11,l=(0,c.default)(n.body.data);case 13:if(i=(d=l.next()).done){e.next=20;break}return u=d.value,e.next=17,p("setFormValue",{key:u.field_name,value:{value:u.value,comment_value:u.comment,deficiency_value:u.deficiency}},{root:!0});case 17:i=!0,e.next=13;break;case 20:e.next=26;break;case 22:e.prev=22,e.t0=e.catch(11),s=!0,o=e.t0;case 26:e.prev=26,e.prev=27,!i&&l.return&&l.return();case 29:if(e.prev=29,!s){e.next=32;break}throw o;case 32:return e.finish(29);case 33:return e.finish(26);case 34:e.next=39;break;case 36:e.prev=36,e.t1=e.catch(2),console.log(e.t1);case 39:case"end":return e.stop()}},e,this,[[2,36],[11,22,26,34],[27,,29,33]])}));return e}(),saveCallEmailPerson:function(){function t(e){return a.apply(this,arguments)}var a=(0,u.default)(r.default.mark(function t(a){var n,i,s=a.dispatch,o=a.state;return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n=v.helpers.add_endpoint_join(v.api_endpoints.call_email,o.call_email.id+"/call_email_save_person/"),t.next=4,f.default.http.post(n,o.call_email);case 4:return i=t.sent,t.next=7,s("setEmailUser",i.body);case 7:return t.next=9,e("Saved","The record has been saved","success");case 9:t.next=21;break;case 11:if(t.prev=11,t.t0=t.catch(0),console.log(t.t0),!t.t0.body.non_field_errors){t.next=19;break}return t.next=17,e("Error",t.t0.body.non_field_errors[0],"error");case 17:t.next=21;break;case 19:return t.next=21,e("Error","There was an error saving the record","error");case 21:case"end":return t.stop()}},t,this,[[0,11]])}));return t}(),saveCallEmail:function(){function t(e,t){return a.apply(this,arguments)}var a=(0,u.default)(r.default.mark(function t(a,n){var i,o,l,c,d=a.dispatch,u=a.state,p=a.rootGetters,_=n.crud,m=n.internal;return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(console.log("saveCallEmail"),console.log("internal"),console.log(m),i=null,o=null,t.prev=5,l=new Object,(0,s.default)(l,u.call_email),l.occurrence_date_from?l.occurrence_date_from=(0,g.default)(l.occurrence_date_from,"DD/MM/YYYY").format("YYYY-MM-DD"):""===l.occurrence_date_from&&(l.occurrence_date_from=null),l.occurrence_date_to?l.occurrence_date_to=(0,g.default)(l.occurrence_date_to,"DD/MM/YYYY").format("YYYY-MM-DD"):""===l.occurrence_date_to&&(l.occurrence_date_to=null),l.date_of_call?l.date_of_call=(0,g.default)(l.date_of_call,"DD/MM/YYYY").format("YYYY-MM-DD"):""===l.date_of_call&&(l.date_of_call=null),"duplicate"==_&&(l.id=null,l.location_id=null,l.location&&(l.location.id=null)),u.call_email.schema&&u.call_email.schema.length>0&&(l.renderer_data=p.renderer_form_data),c=null,"create"!==_&&"duplicate"!==_){t.next=21;break}return c=v.api_endpoints.call_email,t.next=18,f.default.http.post(c,l);case 18:o=t.sent,t.next=25;break;case 21:return c=v.helpers.add_endpoint_join(v.api_endpoints.call_email,u.call_email.id+"/"),t.next=24,f.default.http.put(c,l);case 24:o=t.sent;case 25:return t.next=27,d("setCallEmail",o.body);case 27:i=o.body.id,t.next=39;break;case 30:if(t.prev=30,t.t0=t.catch(5),console.log(t.t0),!m){t.next=37;break}return t.abrupt("return",t.t0);case 37:return t.next=39,e("Error","There was an error saving the record","error");case 39:if("duplicate"!==_){t.next=43;break}return t.abrupt("return",window.location.href="/internal/call_email/"+i);case 43:if("create"===_){t.next=50;break}if(m){t.next=49;break}return t.next=47,e("Saved","The record has been saved","success");case 47:t.next=50;break;case 49:case 50:return t.abrupt("return",o);case 51:case"end":return t.stop()}},t,this,[[5,30]])}));return t}(),setAllocatedGroupList:function(e,t){(0,e.commit)("updateAllocatedGroupList",t)},setRegionId:function(e,t){(0,e.commit)("updateRegionId",t)},setAllocatedGroupId:function(e,t){(0,e.commit)("updateAllocatedGroupId",t)},setCallID:function(e,t){var a=e.commit;console.log("setCallID"),a("updateCallID",t)},setSchema:function(e,t){var a=e.commit;console.log("setSchema"),a("updateSchema",t)},setEmailUser:function(e,t){(0,e.commit)("updateEmailUser",t)},setEmailUserEmpty:function(e){(0,e.commit)("updateEmailUserEmpty")},setResidentialAddress:function(e,t){(0,e.commit)("updateResidentialAddress",t)},setLocation:function(e,t){(0,e.commit)("updateLocation",t)},setLocationAddress:function(e,t){(0,e.commit)("updateLocationAddress",t)},setLocationAddressEmpty:function(e){(0,e.commit)("updateLocationAddressEmpty")},setLocationDetailsFieldEmpty:function(e){(0,e.commit)("updateLocationDetailsFieldEmpty")},setLocationPoint:function(e,t){var a=e.commit;console.log("setLocationPoint"),a("updateLocationPoint",t)},setClassificationEntry:function(e,t){(0,e.commit)("updateClassificationTypes",t)},setReferrerEntry:function(e,t){(0,e.commit)("updateReferrers",t)},setReportTypeEntry:function(e,t){(0,e.commit)("updateReportTypes",t)},setCallEmail:function(e,t){(0,e.commit)("updateCallEmail",t)},setReportType:function(e,t){(0,e.commit)("updateReportType",t)},setClassification:function(e,t){(0,e.commit)("updateClassification",t)},setOccurrenceTimeStart:function(e,t){(0,e.commit)("updateOccurrenceTimeStart",t)},setOccurrenceTimeEnd:function(e,t){(0,e.commit)("updateOccurrenceTimeEnd",t)},setTimeOfCall:function(e,t){(0,e.commit)("updateTimeOfCall",t)},setDateOfCall:function(e,t){(0,e.commit)("updateDateOfCall",t)},setRelatedItems:function(e,t){(0,e.commit)("updateRelatedItems",t)},setCaller:function(e,t){(0,e.commit)("updateCaller",t)}}}}).call(t,a(9))},function(e,t,a){"use strict";(function(e){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.inspectionStore=void 0;var i=a(11),s=n(i),o=a(8),r=n(o),l=a(16),c=n(l),d=a(7),u=n(d),p=a(5),_=n(p),m=a(4),f=n(m),v=a(3),h=a(0),g=n(h);t.inspectionStore={namespaced:!0,state:{inspection:{}},getters:{inspection:function(e){return e.inspection},inspection_latitude:function(e){return e.inspection.location&&e.inspection.location.geometry&&e.inspection.location.geometry.coordinates.length>0?e.inspection.location.geometry.coordinates[1]:""},inspection_longitude:function(e){return e.inspection.location&&e.inspection.location.geometry&&e.inspection.location.geometry.coordinates.length>0?e.inspection.location.geometry.coordinates[0]:""}},mutations:{updateInspection:function(e,t){f.default.set(e,"inspection",(0,_.default)({},t)),console.log("updateInspection"),t.location||f.default.set(e.inspection,"location",{type:"Feature",properties:{town_suburb:null,street:null,state:null,postcode:null,country:null},id:null,geometry:{type:"Point",coordinates:[]}}),e.inspection.planned_for_date&&(e.inspection.planned_for_date=(0,g.default)(e.inspection.planned_for_date,"YYYY-MM-DD").format("DD/MM/YYYY"));var a=v.helpers.add_endpoint_join(v.api_endpoints.inspection,e.inspection.id+"/process_inspection_report_document/");f.default.set(e.inspection,"inspectionReportDocumentUrl",a);var n=v.helpers.add_endpoint_join(v.api_endpoints.inspection,e.inspection.id+"/process_renderer_document/");f.default.set(e.inspection,"rendererDocumentUrl",n);var i=v.helpers.add_endpoint_join(v.api_endpoints.inspection,e.inspection.id+"/process_comms_log_document/");f.default.set(e.inspection,"commsLogsDocumentUrl",i);var s=v.helpers.add_endpoint_join(v.api_endpoints.inspection,e.inspection.id+"/create_inspection_process_comms_log_document/");f.default.set(e.inspection,"createInspectionProcessCommsLogsDocumentUrl",s)},updatePlannedForTime:function(e,t){f.default.set(e.inspection,"planned_for_time",t)},updatePartyInspected:function(e,t){"individual"===t.data_type&&(f.default.set(e.inspection,"party_inspected",t.data_type),f.default.set(e.inspection,"individual_inspected_id",t.id),e.inspection.organisation_inspected_id&&(e.inspection.organisation_inspected_id=null)),"organisation"===t.data_type&&(f.default.set(e.inspection,"party_inspected",t.data_type),f.default.set(e.inspection,"organisation_inspected_id",t.id),e.inspection.individual_inspected_id&&(e.inspection.individual_inspected_id=null))},updateRelatedItems:function(e,t){f.default.set(e.inspection,"related_items",t)},updateLocationPoint:function(e,t){e.inspection.location.geometry.coordinates=t},updateLocationAddress:function(e,t){e.inspection.location.properties=t},updateLocationAddressEmpty:function(e){e.inspection.location.properties.town_suburb="",e.inspection.location.properties.street="",e.inspection.location.properties.state="",e.inspection.location.properties.postcode="",e.inspection.location.properties.country=""},updateLocationDetailsFieldEmpty:function(e){e.inspection.location.properties.details=""}},actions:{loadInspection:function(){function e(e,a){return t.apply(this,arguments)}var t=(0,u.default)(r.default.mark(function e(t,a){var n,i,s,o,l,d,u,p=t.dispatch,_=(t.commit,a.inspection_id);return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.default.http.get(v.helpers.add_endpoint_json(v.api_endpoints.inspection,_));case 3:return n=e.sent,e.next=6,p("setInspection",n.body);case 6:i=!0,s=!1,o=void 0,e.prev=9,l=(0,c.default)(n.body.data);case 11:if(i=(d=l.next()).done){e.next=18;break}return u=d.value,e.next=15,p("setFormValue",{key:u.field_name,value:{value:u.value,comment_value:u.comment,deficiency_value:u.deficiency}},{root:!0});case 15:i=!0,e.next=11;break;case 18:e.next=24;break;case 20:e.prev=20,e.t0=e.catch(9),s=!0,o=e.t0;case 24:e.prev=24,e.prev=25,!i&&l.return&&l.return();case 27:if(e.prev=27,!s){e.next=30;break}throw o;case 30:return e.finish(27);case 31:return e.finish(24);case 32:e.next=37;break;case 34:e.prev=34,e.t1=e.catch(0),console.log(e.t1);case 37:case"end":return e.stop()}},e,this,[[0,34],[9,20,24,32],[25,,27,31]])}));return e}(),saveInspection:function(){function t(e,t){return a.apply(this,arguments)}var a=(0,u.default)(r.default.mark(function t(a,n){var i,o,l,c,d=a.dispatch,u=a.state,p=a.rootGetters,_=n.create,m=n.internal;return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=null,o=null,t.prev=2,l=new Object,(0,s.default)(l,u.inspection),console.log(l),l.planned_for_date?l.planned_for_date=(0,g.default)(l.planned_for_date,"DD/MM/YYYY").format("YYYY-MM-DD"):""===l.planned_for_date&&(l.planned_for_date=null),u.inspection.schema&&u.inspection.schema.length>0&&(l.renderer_data=p.renderer_form_data),c=null,!_){t.next=16;break}return c=v.api_endpoints.inspection,t.next=13,f.default.http.post(c,l);case 13:o=t.sent,t.next=20;break;case 16:return c=v.helpers.add_endpoint_join(v.api_endpoints.inspection,u.inspection.id+"/"),t.next=19,f.default.http.put(c,l);case 19:o=t.sent;case 20:return t.next=22,d("setInspection",o.body);case 22:i=o.body.id,t.next=34;break;case 25:if(t.prev=25,t.t0=t.catch(2),console.log(t.t0),!m){t.next=32;break}return t.abrupt("return",t.t0);case 32:return t.next=34,e("Error","There was an error saving the record","error");case 34:if(!m){t.next=38;break}console.log("modal file create"),t.next=41;break;case 38:if(_){t.next=41;break}return t.next=41,e("Saved","The record has been saved","success");case 41:return t.abrupt("return",o);case 42:case"end":return t.stop()}},t,this,[[2,25]])}));return t}(),setInspection:function(e,t){(0,e.commit)("updateInspection",t)},setPlannedForTime:function(e,t){(0,e.commit)("updatePlannedForTime",t)},setPartyInspected:function(e,t){(0,e.commit)("updatePartyInspected",t)},setRelatedItems:function(e,t){(0,e.commit)("updateRelatedItems",t)}}}}).call(t,a(9))},function(e,t,a){"use strict";(function(e){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.legalCaseStore=void 0;var i=a(11),s=n(i),o=a(8),r=n(o),l=a(7),c=n(l),d=a(5),u=n(d),p=a(4),_=n(p),m=a(3),f=a(0),v=n(f);t.legalCaseStore={namespaced:!0,state:{legal_case:{}},getters:{legal_case:function(e){return e.legal_case}},mutations:{updateLegalCase:function(e,t){_.default.set(e,"legal_case",(0,u.default)({},t)),console.log("updateLegalCase"),e.legal_case.case_created_date&&(e.legal_case.case_created_date=(0,v.default)(e.legal_case.case_created_date,"YYYY-MM-DD").format("DD/MM/YYYY"));var a=m.helpers.add_endpoint_join(m.api_endpoints.legal_case,e.legal_case.id+"/process_default_document/");_.default.set(e.legal_case,"defaultDocumentUrl",a);var n=m.helpers.add_endpoint_join(m.api_endpoints.legal_case,e.legal_case.id+"/process_comms_log_document/");_.default.set(e.legal_case,"commsLogsDocumentUrl",n);var i=m.helpers.add_endpoint_join(m.api_endpoints.legal_case,e.legal_case.id+"/create_legal_case_process_comms_log_document/");_.default.set(e.legal_case,"createLegalCaseProcessCommsLogsDocumentUrl",i)},updateRelatedItems:function(e,t){_.default.set(e.legal_case,"related_items",t)}},actions:{loadLegalCase:function(){function e(e,a){return t.apply(this,arguments)}var t=(0,c.default)(r.default.mark(function e(t,a){var n,i=t.dispatch,s=(t.commit,a.legal_case_id);return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_.default.http.get(m.helpers.add_endpoint_json(m.api_endpoints.legal_case,s));case 3:return n=e.sent,e.next=6,i("setLegalCase",n.body);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}},e,this,[[0,8]])}));return e}(),saveLegalCase:function(){function t(e,t){return a.apply(this,arguments)}var a=(0,c.default)(r.default.mark(function t(a,n){var i,o,l,c,d=a.dispatch,u=a.state,p=(a.rootGetters,n.create),f=n.internal;return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=null,o=null,t.prev=2,l=new Object,(0,s.default)(l,u.legal_case),console.log(l),l.case_created_date?l.case_created_date=(0,v.default)(l.planned_for_date,"DD/MM/YYYY").format("YYYY-MM-DD"):""===l.case_created_date&&(l.case_created_date=null),c=null,!p){t.next=15;break}return c=m.api_endpoints.legal_case,t.next=12,_.default.http.post(c,l);case 12:o=t.sent,t.next=19;break;case 15:return c=m.helpers.add_endpoint_join(m.api_endpoints.legal_case,u.legal_case.id+"/"),t.next=18,_.default.http.put(c,l);case 18:o=t.sent;case 19:return t.next=21,d("setLegalCase",o.body);case 21:i=o.body.id,t.next=33;break;case 24:if(t.prev=24,t.t0=t.catch(2),console.log(t.t0),!f){t.next=31;break}return t.abrupt("return",t.t0);case 31:return t.next=33,e("Error","There was an error saving the record","error");case 33:if(!f){t.next=37;break}console.log("modal file create"),t.next=40;break;case 37:if(p){t.next=40;break}return t.next=40,e("Saved","The record has been saved","success");case 40:return t.abrupt("return",o);case 41:case"end":return t.stop()}},t,this,[[2,24]])}));return t}(),setLegalCase:function(e,t){(0,e.commit)("updateLegalCase",t)},setRelatedItems:function(e,t){(0,e.commit)("updateRelatedItems",t)}}}}).call(t,a(9))},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.offenceStore=void 0;var i=a(11),s=n(i),o=a(8),r=n(o),l=a(7),c=n(l),d=a(4),u=n(d),p=a(3),_=a(0),m=n(_);t.offenceStore={namespaced:!0,state:{offence:{}},getters:{offence:function(e){return e.offence},offence_latitude:function(e){return e.offence.location&&e.offence.location.geometry&&e.offence.location.geometry.coordinates.length>0?e.offence.location.geometry.coordinates[1]:""},offence_longitude:function(e){return e.offence.location&&e.offence.location.geometry&&e.offence.location.geometry.coordinates.length>0?e.offence.location.geometry.coordinates[0]:""}},mutations:{updateAllegedOffenceIds:function(e,t){u.default.set(e.offence,"alleged_offences",t)},updateOffenders:function(e,t){u.default.set(e.offence,"offenders",t)},updateCallEmailId:function(e,t){e.offence.call_email_id=t},updateLegalCaseId:function(e,t){e.offence.legal_case_id=t},updateRegionId:function(e,t){e.offence.region_id=t},updateDistrictId:function(e,t){e.offence.district_id=t},updateAllocatedGroupId:function(e,t){e.offence.allocated_group_id=t},updateInspectionId:function(e,t){e.offence.inspection_id=t},updateOffence:function(e,t){t.location||(t.location={type:"Feature",properties:{town_suburb:null,street:null,state:null,postcode:null,country:null},id:null,geometry:{type:"Point",coordinates:[]}}),t.occurrence_date_from&&(t.occurrence_date_from=(0,m.default)(t.occurrence_date_from,"YYYY-MM-DD").format("DD/MM/YYYY")),t.occurrence_date_to&&(t.occurrence_date_to=(0,m.default)(t.occurrence_date_to,"YYYY-MM-DD").format("DD/MM/YYYY")),u.default.set(e,"offence",t)},updateOffenceEmpty:function(e){var t={id:null,call_email_id:null,inspection_id:null,identifier:"",status:"draft",offenders:[],alleged_offences:[],location:{type:"Feature",properties:{town_suburb:null,street:null,state:"WA",postcode:null,country:"Australia",details:""},geometry:{type:"Point",coordinates:[]}},occurrence_from_to:!0,occurrence_date_from:null,occurrence_date_to:null,occurrence_time_from:null,occurrence_time_to:null,details:"",region_id:null,district_id:null,assigned_to_id:null,allocated_group:[],allocated_group_id:null,lodgement_number:""};u.default.set(e,"offence",t)},updateLocationPoint:function(e,t){e.offence.location.geometry.coordinates=t},updateLocationAddress:function(e,t){e.offence.location.properties=t},updateLocationAddressEmpty:function(e){e.offence.location.properties.town_suburb="",e.offence.location.properties.street="",e.offence.location.properties.state="",e.offence.location.properties.postcode="",e.offence.location.properties.country=""},updateLocationDetailsFieldEmpty:function(e){e.offence.location.properties.details=""},updateAssignedToId:function(e,t){u.default.set(e.offence,"assigned_to_id",t)},updateCanUserAction:function(e,t){u.default.set(e.offence,"can_user_action",t)},updateRelatedItems:function(e,t){u.default.set(e.offence,"related_items",t)}},actions:{loadOffence:function(){function e(e,a){return t.apply(this,arguments)}var t=(0,c.default)(r.default.mark(function e(t,a){var n,i=t.dispatch,s=a.offence_id;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!s){e.next=9;break}return e.next=4,u.default.http.get(p.helpers.add_endpoint_json(p.api_endpoints.offence,s));case 4:return n=e.sent,e.next=7,i("setOffence",n.body);case 7:e.next=10;break;case 9:i("setOffenceEmpty");case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}},e,this,[[0,12]])}));return e}(),saveOffence:function(){function e(e){return t.apply(this,arguments)}var t=(0,c.default)(r.default.mark(function e(t){var a,n,i,o=(t.dispatch,t.state),l=t.commit;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("try in offence.js"),a=p.helpers.add_endpoint_join(p.api_endpoints.offence,o.offence.id+"/"),n=new Object,(0,s.default)(n,o.offence),n.occurrence_date_from&&(n.occurrence_date_from=(0,m.default)(n.occurrence_date_from,"DD/MM/YYYY").format("YYYY-MM-DD")),n.occurrence_date_to&&(n.occurrence_date_to=(0,m.default)(n.occurrence_date_to,"DD/MM/YYYY").format("YYYY-MM-DD")),console.log("payload offence"),console.log(n),n.status="open",e.next=11,u.default.http.put(a,n);case 11:return i=e.sent,l("updateOffence",i.body),e.abrupt("return",i);case 14:case"end":return e.stop()}},e,this)}));return e}(),createOffence:function(){function e(e){return t.apply(this,arguments)}var t=(0,c.default)(r.default.mark(function e(t){var a,n,i,o=t.dispatch,l=t.state;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a="/api/offence/",n=new Object,(0,s.default)(n,l.offence),n.occurrence_date_from?n.occurrence_date_from=(0,m.default)(n.occurrence_date_from,"DD/MM/YYYY").format("YYYY-MM-DD"):n.occurrence_date_from=null,n.occurrence_date_to?n.occurrence_date_to=(0,m.default)(n.occurrence_date_to,"DD/MM/YYYY").format("YYYY-MM-DD"):n.occurrence_date_to=null,n.occurrence_time_from||(n.occurrence_time_from=null),n.occurrence_time_to||(n.occurrence_time_to=null),e.next=9,u.default.http.post(a,n);case 9:return i=e.sent,e.next=12,o("setOffence",i.body);case 12:return e.abrupt("return",i);case 13:case"end":return e.stop()}},e,this)}));return e}(),setOffence:function(e,t){(0,e.commit)("updateOffence",t)},setOffenceEmpty:function(e){(0,e.commit)("updateOffenceEmpty")},setLocationPoint:function(e,t){(0,e.commit)("updateLocationPoint",t)},setLocationAddress:function(e,t){(0,e.commit)("updateLocationAddress",t)},setLocationAddressEmpty:function(e){(0,e.commit)("updateLocationAddressEmpty")},setLocationDetailsFieldEmpty:function(e){(0,e.commit)("updateLocationDetailsFieldEmpty")},setAllegedOffenceIds:function(e,t){(0,e.commit)("updateAllegedOffenceIds",t)},setOffenders:function(e,t){(0,e.commit)("updateOffenders",t)},setCallEmailId:function(e,t){(0,e.commit)("updateCallEmailId",t)},setLegalCaseId:function(e,t){(0,e.commit)("updateLegalCaseId",t)},setRegionId:function(e,t){(0,e.commit)("updateRegionId",t)},setDistrictId:function(e,t){(0,e.commit)("updateDistrictId",t)},setAllocatedGroupId:function(e,t){(0,e.commit)("updateAllocatedGroupId",t)},setInspectionId:function(e,t){(0,e.commit)("updateInspectionId",t)},setAssignedToId:function(e,t){(0,e.commit)("updateAssignedToId",t)},setCanUserAction:function(e,t){(0,e.commit)("updateCanUserAction",t)},setRelatedItems:function(e,t){(0,e.commit)("updateRelatedItems",t)}}}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.rendererStore=void 0;var i,s=a(11),o=n(s),r=a(17),l=n(r),c=a(36),d=n(c),u=a(5),p=n(u),_=a(4),m=n(_),f=a(64);t.rendererStore={state:{tabs:[],sections:{},visible_components:[],visibility:{exclude_decisions:["issued","declined"],exclude_processing_status:["discarded"]},form_data:{}},getters:{renderer_tabs:function(e){return e.tabs},renderer_form_data:function(e){return e.form_data},visibleActivities:function(e,t,a,n){return function(e,a,i){return n.application.schema.filter(function(n){return t.isActivityVisible(n.id,e,a,i)})}},isActivityVisible:function(e,t,a,n){return function(e,t,a,i){return n.isApplicationActivityVisible({activity_id:e,exclude_statuses:t,exclude_processing_statuses:a,for_user_role:i})}},unfinishedActivities:function(e,t,a,n){return t.visibleActivities(e.visibility.exclude_decisions,e.visibility.exclude_processing_status).filter(function(e){return!n.application.has_amendment||n.application.amendment_requests.find(function(t){return t.licence_activity.id==e.id})})},allCurrentActivities:function(e,t,a,n){return t.visibleActivities([],e.visibility.exclude_processing_status)},isComponentVisible:function(e){return function(t){return!!e.visible_components[t]}},sectionsForTab:function(e){return function(t){return e.sections[t]?e.sections[t]:[]}},getFormValue:function(e){return function(t){return e.form_data[t]?e.form_data[t].value:null}}},mutations:(i={},(0,d.default)(i,f.UPDATE_RENDERER_TABS,function(e,t){m.default.set(e,"tabs",t)}),(0,d.default)(i,f.UPDATE_RENDERER_SECTIONS,function(e,t){m.default.set(e,"sections",(0,p.default)({},t))}),(0,d.default)(i,f.UPDATE_VISIBLE_COMPONENT,function(e,t){var a=t.key,n=t.value;m.default.set(e.visible_components,a,n)}),(0,d.default)(i,f.TOGGLE_FINALISED_TABS,function(e,t){m.default.set(e.visibility,"exclude_decisions",t?[]:["issued","declined"])}),(0,d.default)(i,f.UPDATE_FORM_DATA,function(e,t){null==t?m.default.set(e,"form_data",{}):m.default.set(e,"form_data",(0,p.default)({},t))}),(0,d.default)(i,f.UPDATE_FORM_FIELD,function(e,t){var a=t.key,n=t.value,i=e.form_data[a]?(0,p.default)({},e.form_data[a]):{};for(var s in n)i[s]=n[s];m.default.set(e.form_data,a,i)}),(0,d.default)(i,f.REMOVE_FORM_FIELD,function(e,t){m.default.delete(e.form_data,t)}),i),actions:{setRendererTabs:function(e,t){(0,e.commit)(f.UPDATE_RENDERER_TABS,t)},setRendererSections:function(e,t){(0,e.commit)(f.UPDATE_RENDERER_SECTIONS,t)},toggleVisibleComponent:function(e,t){var a=e.commit,n=(e.getters,t.component_id),i=t.visible;a(f.UPDATE_VISIBLE_COMPONENT,{key:n,value:i})},toggleFinalisedTabs:function(e,t){(0,e.commit)(f.TOGGLE_FINALISED_TABS,t)},setFormData:function(e,t){(0,e.commit)(f.UPDATE_FORM_DATA,t)},setFormValue:function(e,t){(0,e.commit)(f.UPDATE_FORM_FIELD,t)},removeFormInstance:function(e,t){var a=e.state,n=e.commit;for(var i in a.form_data)i.includes(t)&&n(f.REMOVE_FORM_FIELD,i)},saveFormData:function(e,t){var a=(e.dispatch,e.commit,e.getters),n=t.url,i=t.draft;return new l.default(function(e,t){var s=(0,o.default)({__draft:i},a.renderer_form_data);m.default.http.post(n,s).then(function(t){e(t)},function(e){console.log(e),t(e)})})}}}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.returnsStore=void 0;var i=a(16),s=n(i),o=a(17),r=n(o),l=a(36),c=n(l),d=a(5),u=n(d),p=a(44),_=n(p),m=a(4),f=n(m),v=a(64);t.returnsStore={state:{returns:{submitter:"",processing_status:""}},getters:{return_id:function(e){return e.returns.id},returns:function(e){return e.returns},isReturnsLoaded:function(e){return(0,_.default)(e.returns).length&&null!=e.returns.table}},mutations:(0,c.default)({},v.UPDATE_RETURNS,function(e,t){f.default.set(e,"returns",(0,u.default)({},t))}),actions:{loadReturns:function(e,t){var a=e.dispatch,n=(e.commit,t.url);return new r.default(function(e,t){f.default.http.get(n).then(function(t){if("sheet"!==t.body.format){var n=t.body.table[0].data[0],i=!0,o=!1,r=void 0;try{for(var l,c=(0,s.default)((0,_.default)(n));!(i=(l=c.next()).done);i=!0){var d=l.value;a("setFormValue",{key:d,value:{value:n[d]}})}}catch(e){o=!0,r=e}finally{try{!i&&c.return&&c.return()}finally{if(o)throw r}}}a("setReturns",t.body),e()},function(e){console.log(e),t()})})},setReturns:function(e,t){e.dispatch;(0,e.commit)(v.UPDATE_RETURNS,t)}}}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.returnsRendererStore=void 0;var i,s=a(36),o=n(s),r=a(4),l=n(r),c=a(64);t.returnsRendererStore={state:{tabs:[],external_user:!1,selected_returns_tab_id:0,species:{},selected_species:{},transfer_species:{}},getters:{returns_tabs:function(e){return e.tabs},selected_returns_tab_id:function(e){return e.selected_returns_tab_id},species_list:function(e){return e.species},returns_access:function(e){return e.access},species_cache:function(e){return e.selected_species},is_external:function(e){return e.external_user},species_transfer:function(e){return e.transfer_species}},mutations:(i={},(0,o.default)(i,c.UPDATE_RETURNS_TABS,function(e,t){l.default.set(e,"tabs",t)}),(0,o.default)(i,c.UPDATE_SELECTED_TAB_ID,function(e,t){e.selected_returns_tab_id=t}),(0,o.default)(i,c.UPDATE_RETURNS_SPECIES,function(e,t){l.default.set(e,"species",t)}),(0,o.default)(i,c.UPDATE_RETURNS_EXTERNAL,function(e,t){l.default.set(e,"external_user",t)}),(0,o.default)(i,c.UPDATE_RETURNS_SELECTED_SPECIES,function(e,t){l.default.set(e,"selected_species",t)}),(0,o.default)(i,c.UPDATE_RETURNS_TRANSFER_SPECIES,function(e,t){l.default.set(e,"transfer_species",t)}),i),actions:{setReturnsTabs:function(e,t){var a=e.commit,n=t.tabs;a(c.UPDATE_RETURNS_TABS,n)},setReturnsSpecies:function(e,t){var a=e.commit,n=t.species;a(c.UPDATE_RETURNS_SPECIES,n)},setReturnsExternal:function(e,t){var a=e.commit,n=t.external;a(c.UPDATE_RETURNS_EXTERNAL,n)},setSpeciesCache:function(e,t){var a=e.commit,n=t.species_cache;a(c.UPDATE_RETURNS_SELECTED_SPECIES,n)},setSpeciesTransfer:function(e,t){var a=e.commit,n=t.species_transfer;a(c.UPDATE_RETURNS_TRANSFER_SPECIES,n)}}}},function(e,t,a){"use strict";(function(e){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.sanctionOutcomeStore=void 0;var i=a(11),s=n(i),o=a(8),r=n(o),l=a(7),c=n(l),d=a(5),u=n(d),p=a(4),_=n(p),m=a(3);t.sanctionOutcomeStore={namespaced:!0,state:{sanction_outcome:{}},getters:{sanction_outcome:function(e){return e.sanction_outcome}},mutations:{updateSanctionOutcome:function(t,a){_.default.set(t,"sanction_outcome",(0,u.default)({},a)),t.sanction_outcome.date_of_issue&&(t.sanction_outcome.date_of_issue=e(t.sanction_outcome.date_of_issue,"YYYY-MM-DD").format("DD/MM/YYYY"));var n=m.helpers.add_endpoint_join(m.api_endpoints.sanction_outcome,t.sanction_outcome.id+"/process_default_document/");_.default.set(t.sanction_outcome,"sanctionOutcomeDocumentUrl",n);var i=m.helpers.add_endpoint_join(m.api_endpoints.sanction_outcome,t.sanction_outcome.id+"/process_comms_log_document/");_.default.set(t.sanction_outcome,"commsLogsDocumentUrl",i)},updateAssignedToId:function(e,t){_.default.set(e.sanction_outcome,"assigned_to_id",t)},updateCanUserAction:function(e,t){_.default.set(e.sanction_outcome,"can_user_action",t)},updateRelatedItems:function(e,t){_.default.set(e.sanction_outcome,"related_items",t)}},actions:{loadSanctionOutcome:function(){function e(e,a){return t.apply(this,arguments)}var t=(0,c.default)(r.default.mark(function e(t,a){var n,i=t.dispatch,s=a.sanction_outcome_id;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("loadSanctionOutcome"),e.prev=1,e.next=4,_.default.http.get(m.helpers.add_endpoint_json(m.api_endpoints.sanction_outcome,s));case 4:return n=e.sent,e.next=7,i("setSanctionOutcome",n.body);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:case"end":return e.stop()}},e,this,[[1,9]])}));return e}(),saveSanctionOutcome:function(){function t(e){return a.apply(this,arguments)}var a=(0,c.default)(r.default.mark(function t(a){var n,i,o,l=a.dispatch,c=a.state;return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("saveSanctionOutcome"),n=m.helpers.add_endpoint_join(m.api_endpoints.sanction_outcome,c.sanction_outcome.id+"/"),i={},(0,s.default)(i,c.sanction_outcome),i.date_of_issue&&(i.date_of_issue=e(i.date_of_issue,"DD/MM/YYYY").format("YYYY-MM-DD")),i.type=i.type.id,t.next=8,_.default.http.put(n,i);case 8:return o=t.sent,t.next=11,l("setSanctionOutcome",o.body);case 11:return t.abrupt("return",o);case 12:case"end":return t.stop()}},t,this)}));return t}(),setSanctionOutcome:function(e,t){(0,e.commit)("updateSanctionOutcome",t)},setAssignedToId:function(e,t){(0,e.commit)("updateAssignedToId",t)},setCanUserAction:function(e,t){(0,e.commit)("updateCanUserAction",t)},setRelatedItems:function(e,t){(0,e.commit)("updateRelatedItems",t)}}}}).call(t,a(0))},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.userStore=void 0;var i,s=a(8),o=n(s),r=a(495),l=n(r),c=a(7),d=n(c),u=a(17),p=n(u),_=a(36),m=n(_),f=a(5),v=n(f),h=a(4),g=n(h),b=a(3),y=a(64);t.userStore={state:{selected_activity_tab_id:0,selected_activity_tab_name:"",selected_apply_org_id:null,selected_apply_proxy_id:null,selected_apply_licence_select:null,application_workflow_state:!1,current_user:{}},getters:{current_user:function(e){return e.current_user},compliance_allocated_group:function(e){return e.compliance_allocated_group},selected_activity_tab_id:function(e){return e.selected_activity_tab_id},selected_activity_tab_name:function(e){return e.selected_activity_tab_name},selected_apply_org_id:function(e){return e.selected_apply_org_id},selected_apply_proxy_id:function(e){return e.selected_apply_proxy_id},selected_apply_licence_select:function(e){return e.selected_apply_licence_select},application_workflow_state:function(e){return e.application_workflow_state},hasRole:function(e,t,a,n){return function(e,t){return null!=n.application.user_roles&&n.application.user_roles.find(function(a){return(e.constructor===Array?e:[e]).includes(a.role)&&(!t||t==a.activity_id)})}},visibleConditionsFor:function(e,t,a,n){return function(e,a,i){return n.licence_type_data.activity.filter(function(n){return n.name&&n.processing_status.id==a&&t.hasRole(e,n.id)&&(!i||i==n.id)})}},canViewDeficiencies:function(e,t){return t.hasRole("licensing_officer")||t.application.can_current_user_edit},canEditDeficiencies:function(e,t){return t.hasRole("licensing_officer")},canViewComments:function(e,t){return t.hasRole("licensing_officer")||t.hasRole("assessor")}},mutations:(i={},(0,m.default)(i,y.UPDATE_SELECTED_TAB_ID,function(e,t){e.selected_activity_tab_id=t}),(0,m.default)(i,y.UPDATE_SELECTED_TAB_NAME,function(e,t){e.selected_activity_tab_name=t}),(0,m.default)(i,y.UPDATE_CURRENT_USER,function(e,t){g.default.set(e,"current_user",(0,v.default)({},t))}),(0,m.default)(i,y.UPDATE_SELECTED_APPLY_ORG_ID,function(e,t){e.selected_apply_org_id=t}),(0,m.default)(i,y.UPDATE_SELECTED_APPLY_PROXY_ID,function(e,t){e.selected_apply_proxy_id=t}),(0,m.default)(i,y.UPDATE_SELECTED_APPLY_LICENCE_SELECT,function(e,t){e.selected_apply_licence_select=t}),(0,m.default)(i,y.UPDATE_APPLICATION_WORKFLOW_STATE,function(e,t){e.application_workflow_state=t}),i),actions:{setActivityTab:function(e,t){var a=e.commit,n=t.id,i=t.name;a(y.UPDATE_SELECTED_TAB_ID,n),a(y.UPDATE_SELECTED_TAB_NAME,i)},setApplyOrgId:function(e,t){var a=e.commit,n=t.id;a(y.UPDATE_SELECTED_APPLY_ORG_ID,n)},setApplyProxyId:function(e,t){var a=e.commit,n=t.id;a(y.UPDATE_SELECTED_APPLY_PROXY_ID,n)},setApplyLicenceSelect:function(e,t){var a=e.commit,n=t.licence_select;a(y.UPDATE_SELECTED_APPLY_LICENCE_SELECT,n)},setApplicationWorkflowState:function(e,t){var a=e.commit,n=t.bool;a(y.UPDATE_APPLICATION_WORKFLOW_STATE,n)},loadCurrentUser:function(e,t){var a=e.dispatch,n=(e.commit,t.url);return new p.default(function(e,t){g.default.http.get(n).then(function(t){a("setCurrentUser",t.body),e()},function(e){console.log(e),t()})})},setCurrentUser:function(e,t){e.dispatch;(0,e.commit)(y.UPDATE_CURRENT_USER,t)},loadAllocatedGroup:function(){function e(e,a){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t,a){var n,i,s=a.region_district_id,r=a.group_permission;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(0,l.default)(t),n=b.helpers.add_endpoint_join(b.api_endpoints.region_district,s+"/get_compliance_group_by_region_district/"),e.next=4,g.default.http.post(n,{group_permission:r});case 4:return i=e.sent,e.abrupt("return",i);case 6:case"end":return e.stop()}},e,this)}));return e}()}}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var i=a(8),s=n(i),o=a(16),r=n(o),l=a(7),c=n(l),d=a(679),u=n(d),p=a(4),_=n(p),m=Date.now(),f=864e5;e.exports={getSetCache:function(){function e(e,a,n,i){return t.apply(this,arguments)}var t=(0,c.default)(s.default.mark(function e(t,a,n,i){var o,l,c,d,p,v,h,g,b,y,C,x,w,k,A,I;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=u.default.createInstance({name:"WildlifeCompliance",storeName:t}),i&&(f=i),e.next=4,o.ready();case 4:return e.prev=4,e.next=7,o.getItem(a);case 7:if(!(l=e.sent)){e.next=14;break}if(!((c=m-l[0])<f)){e.next=12;break}return e.abrupt("return",l[1]);case 12:e.next=24;break;case 14:return e.next=16,_.default.http.get(n);case 16:if(d=e.sent,!d.body.id){e.next=24;break}return p=[m,d.body],e.next=21,o.setItem(d.body.id.toString(),p);case 21:if(!(v=e.sent)){e.next=24;break}return e.abrupt("return",v[1]);case 24:return e.next=26,o.keys();case 26:if(h=e.sent,!(h.length>0)){e.next=59;break}g=!0,b=!1,y=void 0,e.prev=31,C=(0,r.default)(h);case 33:if(g=(x=C.next()).done){e.next=45;break}return w=x.value,e.next=37,o.getItem(w);case 37:if(k=e.sent,!((A=m-k[0])>7*f)){e.next=42;break}return e.next=42,o.removeItem(w);case 42:g=!0,e.next=33;break;case 45:e.next=51;break;case 47:e.prev=47,e.t0=e.catch(31),b=!0,y=e.t0;case 51:e.prev=51,e.prev=52,!g&&C.return&&C.return();case 54:if(e.prev=54,!b){e.next=57;break}throw y;case 57:return e.finish(54);case 58:return e.finish(51);case 59:e.next=67;break;case 61:return e.prev=61,e.t1=e.catch(4),e.next=65,_.default.http.get(n);case 65:return I=e.sent,e.abrupt("return",I.body);case 67:case"end":return e.stop()}},e,void 0,[[4,61],[31,47,51,59],[52,,54,58]])}));return e}(),getSetCacheList:function(){function e(e,a,n){return t.apply(this,arguments)}var t=(0,c.default)(s.default.mark(function e(t,a,n){var i,o,l,c,d,p,v,h,g,b,y,C,x,w,k,A,I,D,T,S,P,M,O,N,R,Y,E,L,j;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i=[],n&&(f=n),o=u.default.createInstance({name:"WildlifeCompliance",storeName:t}),e.next=6,o.keys();case 6:if(l=e.sent,!(l.length>0)){e.next=44;break}return e.next=10,o.getItem(l[0]);case 10:if(c=e.sent,!((d=m-c[0])>f)){e.next=16;break}o.clear(),e.next=44;break;case 16:p=!0,v=!1,h=void 0,e.prev=19,g=(0,r.default)(l);case 21:if(p=(b=g.next()).done){e.next=30;break}return y=b.value,e.next=25,o.getItem(y);case 25:C=e.sent,C&&i.push(C[1]);case 27:p=!0,e.next=21;break;case 30:e.next=36;break;case 32:e.prev=32,e.t0=e.catch(19),v=!0,h=e.t0;case 36:e.prev=36,e.prev=37,!p&&g.return&&g.return();case 39:if(e.prev=39,!v){e.next=42;break}throw h;case 42:return e.finish(39);case 43:return e.finish(36);case 44:return e.next=46,o.keys();case 46:if(x=e.sent,0!==x.length){e.next=112;break}return e.next=50,_.default.http.get(a);case 50:return w=e.sent,e.next=53,o.clear();case 53:if(!w.body.results){e.next=84;break}k=!0,A=!1,I=void 0,e.prev=57,D=(0,r.default)(w.body.results);case 59:if(k=(T=D.next()).done){e.next=68;break}return S=T.value,e.next=63,o.setItem(S.id.toString(),[m,S]);case 63:P=e.sent,i.push(P[1]);case 65:k=!0,e.next=59;break;case 68:e.next=74;break;case 70:e.prev=70,e.t1=e.catch(57),A=!0,I=e.t1;case 74:e.prev=74,e.prev=75,!k&&D.return&&D.return();case 77:if(e.prev=77,!A){e.next=80;break}throw I;case 80:return e.finish(77);case 81:return e.finish(74);case 82:e.next=112;break;case 84:M=!0,O=!1,N=void 0,e.prev=87,R=(0,r.default)(w.body);case 89:if(M=(Y=R.next()).done){e.next=98;break}return E=Y.value,e.next=93,o.setItem(E.id.toString(),[m,E]);case 93:L=e.sent,i.push(L[1]);case 95:M=!0,e.next=89;break;case 98:e.next=104;break;case 100:e.prev=100,e.t2=e.catch(87),O=!0,N=e.t2;case 104:e.prev=104,e.prev=105,!M&&R.return&&R.return();case 107:if(e.prev=107,!O){e.next=110;break}throw N;case 110:return e.finish(107);case 111:return e.finish(104);case 112:return e.abrupt("return",i);case 115:return e.prev=115,e.t3=e.catch(0),e.next=119,_.default.http.get(a);case 119:if(j=e.sent,!j.body.results){e.next=124;break}return e.abrupt("return",j.body.results);case 124:return e.abrupt("return",j.body);case 125:case"end":return e.stop()}},e,void 0,[[0,115],[19,32,36,44],[37,,39,43],[57,70,74,82],[75,,77,81],[87,100,104,112],[105,,107,111]])}));return e}()}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){t=e.exports=a(88)(!1),t.push([e.i,"td.normal-white-space{white-space:normal !important}tr:not(.child){cursor:pointer}tr.dark-row{background-color:#eeeeee}table.child-row-table{width:90%;float:right}.assessment-button{margin-top:10px;margin-left:20px}.assessment-action{display:block;padding:0px;margin:0px;cursor:pointer}.conditions-table{margin-top:20px}.width_0pc{width:0% !important}.width_5pc{width:5% !important}.width_10pc{width:10% !important}.width_15pc{width:15% !important}.width_20pc{width:20% !important}.width_25pc{width:25% !important}.width_30pc{width:30% !important}.width_35pc{width:35% !important}.width_40pc{width:40% !important}.width_45pc{width:45% !important}.width_50pc{width:50% !important}.width_55pc{width:55% !important}.width_60pc{width:60% !important}.width_65pc{width:65% !important}.width_70pc{width:70% !important}.width_75pc{width:75% !important}.width_80pc{width:80% !important}.width_85pc{width:85% !important}.width_90pc{width:90% !important}.width_95pc{width:95% !important}.width_100pc{width:100% !important}\n",""])},function(e,t,a){t=e.exports=a(88)(!1),t.push([e.i,'td.capitalise,td [data-dt-column="8"] .dtr-data{text-transform:capitalize}td.normal-white-space{white-space:normal !important}\n',""])},function(e,t,a){t=e.exports=a(88)(!1),t.push([e.i,".expander-label{margin-bottom:10px}.expander-table{border-bottom:1px solid #ddd}.expander-table:nth-of-type(odd){background-color:#efefef}.expander-table:nth-of-type(even){background-color:#fafafa}.header-titles-row{padding-left:15px;padding-right:15px;font-weight:600}.header-titles-row div{padding-top:8px;padding-bottom:8px;border-bottom:1px solid #ddd}.header-row{padding-left:10px;padding-right:10px;padding-top:15px}.header-row .expand-icon{display:inline-block;cursor:pointer;width:10%;padding-right:10px}.header-row .expand-icon:before{height:14px;width:14px;display:block;color:white;border:2px solid white;border-radius:14px;box-shadow:0 0 3px #444;box-sizing:content-box;text-align:center;text-indent:0 !important;font-family:'Courier New', Courier, monospace;line-height:14px;content:'+';background-color:#337ab7}.header-row .expand-icon.collapse:before{background-color:#d33333;content:'-'}.header-row .delete-icon{cursor:pointer;color:red;width:5%;display:inline-block;padding-left:5px}.expander-row{padding-left:20px;padding-right:20px;background:#dddddd;margin-left:0px;margin-right:0px}.header-contents{width:85%;display:inline-block}.add-new-button{float:left;margin-left:15px;margin-top:10px}.form-value,.hidden{display:none}\n",""])},function(e,t,a){t=e.exports=a(88)(!1),t.push([e.i,'.amendment-highlight{color:red !important}.amendment-highlight:after{font-family:"FontAwesome";content:"\\F06A";margin-left:5px}.sections-menu{width:249px}@media only screen and (max-width: 991px){.sections-dropdown{display:none}}.sections-dropdown a{color:#000;cursor:pointer}.sections-dropdown .section-list .menu-row{text-transform:capitalize;padding-left:20px;padding-top:4px;padding-bottom:4px;cursor:pointer}.sections-dropdown .section-list .menu-row:hover,.sections-dropdown .section-list .menu-row :focus{color:#262626;text-decoration:none;background-color:#f5f5f5}.sections-dropdown .section-list .menu-row div{display:grid;grid-template-columns:10px auto;grid-column-gap:5px}.sections-dropdown .section-list .menu-row i{font-size:6px;margin-top:6px}.sections-dropdown .section-list .menu-row span{padding-right:5px}.sections-dropdown .dropdown-panel{max-height:calc(100vh - 150px);overflow-y:auto}.nav-tabs{cursor:pointer}.missing-field{background-color:rgba(255,0,0,0.1) !important}.inline-block{display:inline-block}\n',""])},,,function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},,,,,,function(e,t){},function(e,t){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){function n(e){return a(i(e))}function i(e){var t=s[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}var s={"./af":179,"./af.js":179,"./ar":186,"./ar-dz":180,"./ar-dz.js":180,"./ar-kw":181,"./ar-kw.js":181,"./ar-ly":182,"./ar-ly.js":182,"./ar-ma":183,"./ar-ma.js":183,"./ar-sa":184,"./ar-sa.js":184,"./ar-tn":185,"./ar-tn.js":185,"./ar.js":186,"./az":187,"./az.js":187,"./be":188,"./be.js":188,"./bg":189,"./bg.js":189,"./bm":190,"./bm.js":190,"./bn":191,"./bn.js":191,"./bo":192,"./bo.js":192,"./br":193,"./br.js":193,"./bs":194,"./bs.js":194,"./ca":195,"./ca.js":195,"./cs":196,"./cs.js":196,"./cv":197,"./cv.js":197,"./cy":198,"./cy.js":198,"./da":199,"./da.js":199,"./de":202,"./de-at":200,"./de-at.js":200,"./de-ch":201,"./de-ch.js":201,"./de.js":202,"./dv":203,"./dv.js":203,"./el":204,"./el.js":204,"./en-SG":205,"./en-SG.js":205,"./en-au":206,"./en-au.js":206,"./en-ca":207,"./en-ca.js":207,"./en-gb":208,"./en-gb.js":208,"./en-ie":209,"./en-ie.js":209,"./en-il":210,"./en-il.js":210,"./en-nz":211,"./en-nz.js":211,"./eo":212,"./eo.js":212,"./es":215,"./es-do":213,"./es-do.js":213,"./es-us":214,"./es-us.js":214,"./es.js":215,"./et":216,"./et.js":216,"./eu":217,"./eu.js":217,"./fa":218,"./fa.js":218,"./fi":219,"./fi.js":219,"./fo":220,"./fo.js":220,"./fr":223,"./fr-ca":221,"./fr-ca.js":221,"./fr-ch":222,"./fr-ch.js":222,"./fr.js":223,"./fy":224,"./fy.js":224,"./ga":225,"./ga.js":225,"./gd":226,"./gd.js":226,"./gl":227,"./gl.js":227,"./gom-latn":228,"./gom-latn.js":228,"./gu":229,"./gu.js":229,"./he":230,"./he.js":230,"./hi":231,"./hi.js":231,"./hr":232,"./hr.js":232,"./hu":233,"./hu.js":233,"./hy-am":234,"./hy-am.js":234,"./id":235,"./id.js":235,"./is":236,"./is.js":236,"./it":238,"./it-ch":237,"./it-ch.js":237,"./it.js":238,"./ja":239,"./ja.js":239,"./jv":240,"./jv.js":240,"./ka":241,"./ka.js":241,"./kk":242,"./kk.js":242,"./km":243,"./km.js":243,"./kn":244,"./kn.js":244,"./ko":245,"./ko.js":245,"./ku":246,"./ku.js":246,"./ky":247,"./ky.js":247,"./lb":248,"./lb.js":248,"./lo":249,"./lo.js":249,"./lt":250,"./lt.js":250,"./lv":251,"./lv.js":251,"./me":252,"./me.js":252,"./mi":253,"./mi.js":253,"./mk":254,"./mk.js":254,"./ml":255,"./ml.js":255,"./mn":256,"./mn.js":256,"./mr":257,"./mr.js":257,"./ms":259,"./ms-my":258,"./ms-my.js":258,"./ms.js":259,"./mt":260,"./mt.js":260,"./my":261,"./my.js":261,"./nb":262,"./nb.js":262,"./ne":263,"./ne.js":263,"./nl":265,"./nl-be":264,"./nl-be.js":264,"./nl.js":265,"./nn":266,"./nn.js":266,"./pa-in":267,"./pa-in.js":267,"./pl":268,"./pl.js":268,"./pt":270,"./pt-br":269,"./pt-br.js":269,"./pt.js":270,"./ro":271,"./ro.js":271,"./ru":272,"./ru.js":272,"./sd":273,"./sd.js":273,"./se":274,"./se.js":274,"./si":275,"./si.js":275,"./sk":276,"./sk.js":276,"./sl":277,"./sl.js":277,"./sq":278,"./sq.js":278,"./sr":280,"./sr-cyrl":279,"./sr-cyrl.js":279,"./sr.js":280,"./ss":281,"./ss.js":281,"./sv":282,"./sv.js":282,"./sw":283,"./sw.js":283,"./ta":284,"./ta.js":284,"./te":285,"./te.js":285,"./tet":286,"./tet.js":286,"./tg":287,"./tg.js":287,"./th":288,"./th.js":288,"./tl-ph":289,"./tl-ph.js":289,"./tlh":290,"./tlh.js":290,"./tr":291,"./tr.js":291,"./tzl":292,"./tzl.js":292,"./tzm":294,"./tzm-latn":293,"./tzm-latn.js":293,"./tzm.js":294,"./ug-cn":295,"./ug-cn.js":295,"./uk":296,"./uk.js":296,"./ur":297,"./ur.js":297,"./uz":299,"./uz-latn":298,"./uz-latn.js":298,"./uz.js":299,"./vi":300,"./vi.js":300,"./x-pseudo":301,"./x-pseudo.js":301,"./yo":302,"./yo.js":302,"./zh-cn":303,"./zh-cn.js":303,"./zh-hk":304,"./zh-hk.js":304,"./zh-tw":305,"./zh-tw.js":305};n.keys=function(){return Object.keys(s)},n.resolve=i,e.exports=n,n.id=681},,,,,,,,,,,,,,,,,,,,,,function(e,t,a){e.exports=a.p+"wildlifecompliance_vue/img/satellite_icon.34f7eba.png"},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyNpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDE0IDc5LjE1Njc5NywgMjAxNC8wOC8yMC0wOTo1MzowMiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OTk2QkI4RkE3NjE2MTFFNUE4NEU4RkIxNjQ5MTYyRDgiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OTk2QkI4Rjk3NjE2MTFFNUE4NEU4RkIxNjQ5MTYyRDgiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChNYWNpbnRvc2gpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NjU2QTEyNzk3NjkyMTFFMzkxODk4RDkwQkY4Q0U0NzYiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NjU2QTEyN0E3NjkyMTFFMzkxODk4RDkwQkY4Q0U0NzYiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5WHowqAAAXNElEQVR42uxda4xd1XVe53XvvD2eGQ/lXQcKuDwc2eFlCAGnUn7kT6T86J/+aNTgsWPchJJYciEOCQ8hF+G0hFCIHRSEqAuJBCqRaUEIEbmBppAIBGnESwZje8COZ+y587j3PLq+ffadGJix53HvPevcuz60xPjec89ZZ+39nf04+9vLSZKEFArFzHA1BAqFEkShUIIoFEoQhUIJolAoQRQKJYhCoQRRKJQgCoUSRKFQKEEUCiWIQrFo+Gv/8/YH+f/nsMWSHHMChyhxqPTTdyncWyJ3ScD/ztipiB3wXSqu6P17avN+TyFC5ggv4tRnmoxWTP1+5F+Mz17GPvPl49EKBWd3UsfXllPiso8VcYtmPba3fNuKrBVXrGFCbrdPwXndFL49ltI367roOpSUI4pGypv9s7q+ltj6JxqOQ07Bo/DgxGb2/a8cX0CnAWXJ5etz2TqdHiXHKlKj9w6i9XX8Ic41DmI8FVHhmmXk85MmRhCzJoiTWnig9LfJRHihgydxzAxJhBr7Bh/hK3yu+p9568FliTJF2aKMZfVd/kQOcKP6OBmS9+Rjm4zJ6faoeN0gOUn61MncLX4CJ+MRhe+P/dRxhfew2Df4CF/hs4jWg8vQYUKYMuWyRRkLjeHQ8YP0Z9mekVjA8Qj3VVcuoeDiXu63lkUE0ym6FA5PXBaNVr7qtPumGyPR4Bt8hK/wWUR5chn6XJYoU5StUHL8l+XEx2axhkS6yk+chJuP4rXLyOkIKJkS0B67adcqfL/0Y4pixxSysK6V8Yl9Mz7i3272NRFlhzJsu24Z5l9E9Ahmwfrpoj7uw3fZtktsRZKjIXnndlLxin7+W8ZTBwPf6I+Tg9HwxK2Ob8citbCoBoaxBxMCvsFH+CqjHCtUvLzflKWUcpwB91gupG5f9/Rtx39ZZBtmWyJtphKzHTQW0diP36b4aJmcLj/zGaSkHJPb4SWFi/tOJd8bTqd9s48VBRh4RKeUX/vjgXg8cpyCmz05xkJylxSoa8M5RF0eJaVIIkGOsg2yTc3UgpD94psiWxEOqDNYoOIXuHnGwE5AXUTFi46FTnRw4l/dwEm7/pSxcYnCF/gE3zInh52RRJkVP7/MlKFQcgCbjifHTAQBfsb2qsgBO3e1Cpf3UXBej3nRJKKrxU/rcH/pKzz4vNIQuRJTEmZklbg6EL4SPsE3GQPzinmfhbJDGQolB+r8w58abs5y8DqRt4ABeptLRR7koY9NleybEYw/MPisvF/ayT1/SvDewcnIcG32wfiCAbEvoCZyGaGsitdyz6XdTctQJq6fcT5mloNfYvu5yFZkpEz+RT0UrFoqpxVBV+vQxIrkaPnrbqdvXs6hcjbU+Jq4Nvvwd/BFRNeq2npwWfkX95iyE9p6PM72P/MhCPANTBSKu5WITHcC074Y9CUTkYglKBgcV/aVtlM5Kpp/RHFjDdfka7MP/2wG6m72661QNigjlBXKTGBtsjWKNs5atCf44Uds3xc5YD8Wknd2BxWuGjCzIxLWQzlFj+IjU108OL7bafM5sm5DDdfka/8T+9AJXyTMpqFsUEYoK5SZ0NbjVlvX500Q4Ha2A+JuCcEvhVS8qp/8MzspHhMSfO7mVPaP35BMRp9JsCQldbX+hmvxNfnamzJfqVvtWnGZoGxQRigroYs6UbfvOGHn4ORVkTaIbEWwtqg3MNO+Zql0JGCdVuCayhDuG9uJB7vp+oR17FbZc+NauCauLWLmKkqXr6NsUEYoK6GtxwY6CXXnEs0n2faIHLCPhhR8bikFKwRN+xZddHWu5a7Ol9yCZ2ZwHKdOxufGNeKRqS/hmnLWW1VMmQSrl5oyEkqOPbZu02IJAsic9sU7B+5uF9cOmqUfeLOdOaAZYb/CA+M/Ic9NxUoYMNfD/PT84f7xB807EAnrrbgMUBZt1w1SEpCIqfjF1Om5EuQNth0iu1r8tPLP76LCpX2yWpHDk2dGH018p6brtD5hOHf04cR3okOTZ0lqPVAW3gVdlMhdrfsTW6drRhDgRrYJcbeKZQxTkenvegNt6YBQwrQvOxG+P3ZHEia9TuClS9Br1XKge8XnxLlxjelzZ/2w4tijDMxyoHIsVQg1zvYPcy7KeZx4jG2zyFakFJF7Whu1XT2QvhfJeryeVNdplYPo4Pi9hKd7VVxVC8O5cH4+N65hXgoKuGfEHmWAskjGxI49Ntu6XHOCAD9ie1PcLSepjDNY00fB8m6KpSyJx/jgg9LfJEfLK40818w+LXY5e5zKaMfKl+DcIlSCZp0cd3U59igDI4+WOa2LunvfvDoD9RrcNLqAjDy3yzfrtKqbAkggSDIZmSlYxzz9a8BaJ101zF2rh3BuSTJaCKGMDEGujHbedXch0X2ebbdEkkDC6a9cQoWVguS53P0JP5xcHY1W/tppD9KxgrdAw5QxnwPn4nOukrPeqkzBJb0m9oJltLtt3a07QYD1IkMAeS7/hw0BXMhzJwXJc/eV7kuiyIN8OOGuUhLP06JUeoxz4FxiZLRouTsDM9WO2OdBRtsIgrzHtk3kgH00JO+cTipc2S9jqyCaluf2xwcnfuB6LndHuEsSzdP4N/gtzoFzSZHRIsaQQiPmidyXgttsnW0YQYDvsh2ROGBPxkMqXjNA/qlCFsnZ8UdlX+kfk0pymlnMWH2JOBfz0sWI+C3OMS1dzPphhPVWHOPC5wdMzIUOzFFHb1lwB2ARF+ZOPt0gshWBPLe/wCRZlu6CIkSei/cE0fD4g2ZbVWceyxH5WPwGvzXrrSTJaDnG7oBoGS3qaCULggCPsv1W5IAd8tzLllJwvpx1WthMIfyg9OVotHy1WVQ4V37wsfgNfkuSZLQcW8Q4lruU/RVbRykrggDXiwwN3uQWnXTa1xMkz2W/on2lndNajpNtAGePw2/MOicBMlqs+8K7GBNbjrFgGe2iX0nUgiAvs+0S2YpgndaFPVRc3SdmVanZlfGjifOiw5PrT/oGvPpG/vDkEH4jZ70Vt86rl5rYimmdP41/s3Uzc4Isup9XNxwvz+0tyNAlONPrtO6hctR+QnluKqNt52O3pxvtClhvxTH0egtmEwbBMlrUxU21OFGtCHKYbavIATv3j90z26kIea4QZRtahfhIuT0anrjH7O3rpjNVHzPIaLG3Lh8Tj5TbRQihjlNyehxTwTLarbZOiiEIcBfbPnGhMtroChXW9JN/VqeYdyPEY4nwwPj6ZCL8C1T+T61JhDqRv8MxZgwlJG2BxzEsrBmgeEzseqt9ti6SNIIA8t6wm901eFDZ66d7M4UkQ56LVgTTvvtKaRqFqoTWymjxGb6LpUzrImYcuzaOIWKJmAptPWpaB2sd+V+yvSB1wB6s7qXgwiUyBpbJdBqFq6MjU18mKCKhRsTyEbx558/wnRmYJzLiV+DYBat6JQ/MX7B1UCxBAKHy3IQrH6W7MhY9MWkUMNAN948/8Mm35/jMDIKlpC3gmBWQtsAjifkE61b36kGQP7DdL7KrVZXnXiYpjYKZxj09Gh7f4kB4yIa/8ZmU1brIIYiYIXaJ3Nbjflv3xBME+DZbSVwIzfIIK89dJkSea18Ihu+XflD9yPztCJnW5Ri5VRntpNh8giVb5ygvBIHu9yaRrchYRO6fFU0CSTPQlDLte6zshx9O3g3D3yJajySd4EDaAsQMsRPaetxk61zty+YTCXRqjf9jO19cOLnyYV+p8QffpcreMXJ7BeRgh77Ds6SIYhGbMBgB2tld1DW0nGL4VxbZfKBbdUHdhol1dl7mOi0MOjttGgWT11lAwU9r1mMSsX0oxwSxgYyWOvKXtiAvBPkV239I7GqZdVqX9FDw2V5+UoYipn2nt/WRMK3LMQlW9poYCZ7WfcrWsdwSBNggMrRYdcLdhjas0+q28lzJOc8bOU7jWLh2AwzEyLxclYm6Z2ZuBEE+YLtTZEVA9tzPdBh5biJ3q5rGD8yRjXbNAPkcm0RuyjTUqf3NQBDge2yHJFaGeDyi4tUD5J3WIXmzs8Y9NDgG3un80OCYIDZCHxqHbJ2iZiEIGmnB8twgzYIkd7vMxiBON59GLJyBQLKMdiM1qOPXyMn2f2f7X5EDdshzkUbhAtED0oZMXCAGiIXgtAW/YXusURdr9NsoufLcgmP20zKy2ErrNSNGRuunMUAshL7zABq61q/RBPkd2yNSn57+X3ZTQZA8t7H3H5p7RwwEt6KP2DrUtAQBIIUsiwt99Kf+tydFntuocVhVRltNWyBTRlumGslopRNkhO1mkRVlLCT3jHYzqyU48WSN+1ZWRou0BZDRyp3Ju9nWnaYnCHA3216JlQWy0gKy557dJSaNQn0nKNL1VrhnwTLavbbOUKsQBBApzzVpFHqsPFdIGoW6AfeG7cMwrcv3TC0io80LQZ5me07kU3WkYqSlhYvkpFGoz8C8bO7RyGjlpi14ztaVliMIIFOeizQKbpI+WdsDGfLcWvcmsaK53b4gdUW3lENZXjxrgrzNdq/IAftohbzzOql4eV/zjUUcu96K7w33KFhGi7rxVisTBEBSxWPiiqYqz71mGfmDQuS5tSIHstHyPZnd7+XKaI+RgKSxEggySWmKaXkVaSwi5xSbRmGiSdZpxVZGy/eEexMso73R1o2WJwiwk+11kQNZrNO6oo+Cc7vz39Wy07q4l+CKfnNvQu/ndVsnSAkifcCOAXq7R8W1y9JdRvI87QvfnTRtgdPeujLavBLkv9meEPnUHS2Tf1EPFT67lOKRnE77munrsrkH/+IeydPXqAO/VoLMDMhz5T2irTzXpFHoKeRPnluV0XYX0mlduTLamIRJtKUR5CDbbSIrGPfX/eUdVFyTQ3luku6OaNIW/HmH5LQFt9k6oAQ5Ab7PNiyxkmGndUhRvTNyJM9F1wrZaM9IZbQmG63MocewxIejRIKg+DaKbEXGI3KWBtT2hUFKyonUZeEfB3xkX4vsM3wXvIx/IwmMqCu0WH/B9qLIpzG6Wp/rpWBFj/x1WnaCAb4G7LPgad0XbZmTEmTukDnti0yzgZvKcwNPtDzXyGjZR5ONFincVEbbVAR5je0hkU/lkTL5F3TZzQ2EvjysJr1hH/0LuiVPTz9ky1oJsgB8iwQsN5hplISns5Hn9hXl9eurMlr2zUzrVsQuk5m0ZUxKkIXhKNsWkQN2yHNPhzx3WbqQMRZGYCOjXWZ8FDzjtsWWsRJkEfgh2zvyOvhWnovsucu75GTPtdlo4RN8i+W+s3nHli0pQRaPIXEeVeW53V46YJciz2Uf4IvxiX0juW/9h/JQ8fJCkGfZnpE5YK9QsHIJBZcIkOdW141d3Gt8EiyjfcaWqRKk6Z84kOc6duODjmzluUZGyz4g6Q18UhltaxHkXbbtIgfsRyvknQt5bobZc6dltP3Gl0SudmW7LUslSJ1mPUbFeWVUepDnDpB3SgazRtW0BXxt+ABfhE7rypyVbCKCTLF9U2QrgjQKg3b7zskGv3eI0+XsuDZ8EJy2YJMtQyVIHfEztldFDtghz728j4LzGphGoZq2gK9ZMDuwiH3ngTJ7OG+VLY8EAeTKc9ts9lwk42zEOi2st+JrYZIA1xYso12Xx4qWV4K8xPZzka3ISCrPDVY1YJ1WtfVYZWW0ctdbPW7LTAnSQHyDJCoykEYhTNdpuUsK6YDZqQ85cG5cw6y3CsWmLYBXG/NayfJMkI8oVR/KG7AfC8k7u4MKVw2kM1r1eB2RpDNXuAauJVhGe6stKyVIBrid7YA4r6o5N5BG4cxOI3mtaeWtymj53LiG4FwmKJs78lzB8k4QVIsN4ryqynN7AzP1ShXIc2tYg3GuSpJO6/aKltHK3KWmhQgCPMm2R+SAfTSkANlzV9Rw2rc6MDcyWtHZaPfYsiElSPaQOYVYiSnxiIprB8kpeGn+v8U2mZD8FjxzTpybKjqtqwQ5Od5g2yGyq4Xsued3UeHSvsW3IlUZLZ8L5xSctmCHLRMliCBgN/AJcV7F6SpbjBe8gUWkUaimLeBzmOUsU2JltOMkcbd+JQiNkYB8ErNVbPe0Nmq72i4kXMiwNUnfe+AcOJfgfCWbbVkoQQTiR2xvivPKynODNX0ULF9AGoVq2gL+Lc4hWEaL2N/XTBWq2Qgic3BYled2+ekeVfOV51az0WKNF59DsIx2XbNVpmYkyPNsuyWSBBJYf+USKsxHnlvNRsu/8WXLaHfb2CtBcoD1Ir2CPJf/wxSt2xmkupGT9c6QtoCPNdO66FfJldGub8aK1KwEeY9tm8gB+2hI3jmdVLii/+RbBdktfHAsfpPIfSm4zcZcCZIjfJftiMQBO1IQQBrrn3qCRYZ20SOOMTLacbHrrRDjW5q1EjUzQbiTTzeIbEUgz+232XNne59RfX+CbLT9omW0iHFFCZJPPMr2W5EDdshzL1tKwfkzrNOqrrfi73CMYBntKzbGpATJL64X6RXWZRVtxlnP+VgaBZO2wEu/wzGatkAJUk+8zLZLZCuCdVoXciux+rhVuXYVMD7Dd7Hc9Va7bGyVIE0Amf3kaXnuIHm9qTwXhr/xmWAZbUXk+E4JsmAcZtsqcsAOee6Z7VS08lwY/sZngmW0W21MlSBNhLvY9onzCqtIxipUuKqf3L6iMfyNz4RO6+6zsWwJ+NRawNvep8S1IhMxucie+8VT0o+6PIqPiB17rG+lCtNqBPkl2wts14gbsCONwqVLzT8Fr7d6wcawZeBS60Hm1GSSTu+a6d5EY6cEyQ5/YLtf4oCd4iQ1ma3H/TZ2SpAWwLfZSqSYK0o2ZqQEaQ1AN32T1vs54yYbMyVIC+GBVuwyLLBL+kCr3rzb4oV/vdZ/jZESZHb8iqS9F5GFp2yMlCAtjCENgcZGCTI79rPdqWH4FO60sVGCKOh7bIc0DNM4ZGNCShAFEFKOsyDVARttTJQgGoJpPMb2Gw2DicFjGgYlyExYpyHQGChBZsfv2B5p4ft/xMZAoQSZFZso3TKo1VC2965QgpwQI2w3t+B932zvXaEEOSnuZtvbQve7196zQgkyZ6zXe1UoQWbH02zPtcB9PmfvVaEEmTeG9B6VIIrZ8RbbvU18f/fae1QoQRYMJKU81oT3dYwkJj1VguQOk9REaY2Pw4323hRKkEVjJ9vrTXQ/r9t7UihBaobr9V6UIIrZ8Wu2J5rgPp6w96JQgtQcG2jmhGl5QWzvQaEEqQsOst2WY/9vs/egUILUtZIN59Dv4ZyTWwmSEyDnUx7luRtJar4qJUjT4RdsL+bI3xetzwolSMOwTn1Vgihmx2tsD+XAz4esrwolSMPxLZK9XGPS+qhQgmSCo2xbBPu3xfqoUIJkhh+yvSPQr3esbwolSOYYUp+UIIrZ8SzbM4L8ecb6pFCC6BNbWw8lSB7wLtt2AX5st74olCDikPWskfRZNSVIi2OKst2+c5P1QaEEEYuH2V7N4Lqv2msrlCDisa5FrqkEUSwIL7E93sDrPW6vqVCC5AaN0l/kVZ+iBGlxfMR2awOuc6u9lkIJkjvcwXagjuc/YK+hUILkEgnVdxeRDfYaCiVIbvEk2546nHePPbdCCZJ7rMvJORVKkEzwBtuOGp5vhz2nQgnSNMBu6uM1OM84Nedu80qQFscY1SYfx2Z7LoUSpOlwH9ubi/j9m/YcCiWIDth1YK4EaUU8z7Z7Ab/bbX+rUII0PdY36DcKJUgu8R7btnkcv83+RqEEaRncwnZkDscdsccqlCAthQrbDXM47gZ7rEIJ0nJ4lO2VE3z/ij1GoQRpWaxb4HcKJUhL4GW2XTN8vst+p1CCtDw+Oc6Y6/hEoQRpCRxm23rcv7fazxRKEIXFXZRuwBDZvxUC4GsIREHflguDkyQqaVYotIulUChBFAoliEKhBFEolCAKhRJEoVCCKBRKEIVCCaJQKJQgCoUSRKFQgigUShCFIhP8vwADACog5YM65zugAAAAAElFTkSuQmCC"},function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgoKPHN2ZwogICB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iCiAgIHhtbG5zOmNjPSJodHRwOi8vY3JlYXRpdmVjb21tb25zLm9yZy9ucyMiCiAgIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyIKICAgeG1sbnM6c3ZnPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIKICAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxuczpzb2RpcG9kaT0iaHR0cDovL3NvZGlwb2RpLnNvdXJjZWZvcmdlLm5ldC9EVEQvc29kaXBvZGktMC5kdGQiCiAgIHhtbG5zOmlua3NjYXBlPSJodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy9uYW1lc3BhY2VzL2lua3NjYXBlIgogICB3aWR0aD0iMzIiCiAgIGhlaWdodD0iMzIiCiAgIHZpZXdCb3g9IjAgMCAzMiAzMi4wMDAwMDEiCiAgIGlkPSJzdmc0NTEzIgogICB2ZXJzaW9uPSIxLjEiCiAgIGlua3NjYXBlOnZlcnNpb249IjAuOTIuMyAoMjQwNTU0NiwgMjAxOC0wMy0xMSkiCiAgIHNvZGlwb2RpOmRvY25hbWU9Im1hcmtlci1ibHVlLWxvY2tlZC5zdmciPgogIDxkZWZzCiAgICAgaWQ9ImRlZnM0NTE1IiAvPgogIDxzb2RpcG9kaTpuYW1lZHZpZXcKICAgICBpZD0iYmFzZSIKICAgICBwYWdlY29sb3I9IiNmZmZmZmYiCiAgICAgYm9yZGVyY29sb3I9IiM2NjY2NjYiCiAgICAgYm9yZGVyb3BhY2l0eT0iMS4wIgogICAgIGlua3NjYXBlOnBhZ2VvcGFjaXR5PSIwLjAiCiAgICAgaW5rc2NhcGU6cGFnZXNoYWRvdz0iMiIKICAgICBpbmtzY2FwZTp6b29tPSI0LjUyNDA4NzMiCiAgICAgaW5rc2NhcGU6Y3g9Ii02Ny44ODQyODQiCiAgICAgaW5rc2NhcGU6Y3k9Ii04LjQ5MTU1NzUiCiAgICAgaW5rc2NhcGU6ZG9jdW1lbnQtdW5pdHM9InB4IgogICAgIGlua3NjYXBlOmN1cnJlbnQtbGF5ZXI9ImxheWVyMSIKICAgICBzaG93Z3JpZD0idHJ1ZSIKICAgICB1bml0cz0icHgiCiAgICAgaW5rc2NhcGU6d2luZG93LXdpZHRoPSIxOTIwIgogICAgIGlua3NjYXBlOndpbmRvdy1oZWlnaHQ9IjExMzciCiAgICAgaW5rc2NhcGU6d2luZG93LXg9Ii04IgogICAgIGlua3NjYXBlOndpbmRvdy15PSItOCIKICAgICBpbmtzY2FwZTp3aW5kb3ctbWF4aW1pemVkPSIxIgogICAgIGlua3NjYXBlOnNuYXAtZ2xvYmFsPSJmYWxzZSIKICAgICBpbmtzY2FwZTpzbmFwLW90aGVycz0idHJ1ZSIKICAgICBpbmtzY2FwZTpvYmplY3Qtbm9kZXM9InRydWUiCiAgICAgaW5rc2NhcGU6c25hcC1ub2Rlcz0idHJ1ZSIKICAgICBpbmtzY2FwZTpzbmFwLXBhZ2U9InRydWUiCiAgICAgb2JqZWN0dG9sZXJhbmNlPSIxMCIKICAgICBzaG93Z3VpZGVzPSJ0cnVlIgogICAgIGlua3NjYXBlOnNuYXAtYmJveD0idHJ1ZSIKICAgICBpbmtzY2FwZTpiYm94LXBhdGhzPSJ0cnVlIgogICAgIGlua3NjYXBlOmJib3gtbm9kZXM9InRydWUiCiAgICAgaW5rc2NhcGU6c25hcC1iYm94LWVkZ2UtbWlkcG9pbnRzPSJ0cnVlIgogICAgIGlua3NjYXBlOnNuYXAtYmJveC1taWRwb2ludHM9InRydWUiCiAgICAgaW5rc2NhcGU6b2JqZWN0LXBhdGhzPSJ0cnVlIgogICAgIGlua3NjYXBlOnNuYXAtaW50ZXJzZWN0aW9uLXBhdGhzPSJ0cnVlIgogICAgIGlua3NjYXBlOnNuYXAtc21vb3RoLW5vZGVzPSJ0cnVlIgogICAgIGlua3NjYXBlOnNuYXAtbWlkcG9pbnRzPSJ0cnVlIgogICAgIGlua3NjYXBlOnNuYXAtb2JqZWN0LW1pZHBvaW50cz0idHJ1ZSIKICAgICBpbmtzY2FwZTpzbmFwLWNlbnRlcj0idHJ1ZSIKICAgICBpbmtzY2FwZTpzbmFwLXRleHQtYmFzZWxpbmU9InRydWUiPgogICAgPGlua3NjYXBlOmdyaWQKICAgICAgIHR5cGU9Inh5Z3JpZCIKICAgICAgIGlkPSJncmlkNTA2MSIKICAgICAgIHNwYWNpbmd4PSIxIgogICAgICAgc3BhY2luZ3k9IjEiIC8+CiAgPC9zb2RpcG9kaTpuYW1lZHZpZXc+CiAgPG1ldGFkYXRhCiAgICAgaWQ9Im1ldGFkYXRhNDUxOCI+CiAgICA8cmRmOlJERj4KICAgICAgPGNjOldvcmsKICAgICAgICAgcmRmOmFib3V0PSIiPgogICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2Uvc3ZnK3htbDwvZGM6Zm9ybWF0PgogICAgICAgIDxkYzp0eXBlCiAgICAgICAgICAgcmRmOnJlc291cmNlPSJodHRwOi8vcHVybC5vcmcvZGMvZGNtaXR5cGUvU3RpbGxJbWFnZSIgLz4KICAgICAgICA8ZGM6dGl0bGU+PC9kYzp0aXRsZT4KICAgICAgPC9jYzpXb3JrPgogICAgPC9yZGY6UkRGPgogIDwvbWV0YWRhdGE+CiAgPGcKICAgICBpbmtzY2FwZTpsYWJlbD0iTGF5ZXIgMSIKICAgICBpbmtzY2FwZTpncm91cG1vZGU9ImxheWVyIgogICAgIGlkPSJsYXllcjEiCiAgICAgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCwtMTAyMC4zNjIyKSIKICAgICBzdHlsZT0iZGlzcGxheTppbmxpbmUiPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOiM4Mzk3ZDY7ZmlsbC1vcGFjaXR5OjE7c3Ryb2tlOiMzYTNkYzc7c3Ryb2tlLXdpZHRoOjEuMjYzMTU3NjE7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Im0gMTUuOTk5OTk4LDEwMjAuOTk4OSBjIC02LjE5MjczNTMsMCAtMTEuMTkyMzEzOSw1LjA3NTkgLTExLjE5MzQwNTksMTEuMzYzNiAwLjAwNDk4LDIuMzgxIDAuNzQ1Njc2LDQuNzAwOSAyLjEwODkzMTEsNi42MzE3IGwgOS4wODQ0NzQ4LDEyLjMxMjQgOS4wODY0NTgsLTEyLjMxMjQgYyAxLjM2MzU4OSwtMS45MzA4IDIuMTAzMTU4LC00LjI1MDIgMi4xMDY5NDcsLTYuNjI5NiAwLC02LjI4ODcgLTQuOTk5OTk0LC0xMS4zNjU3IC0xMS4xOTM0MDUsLTExLjM2NTcgeiBtIDAsNS4xNzcyIGEgNi4wOTQ2NzI0LDYuMTg4NDQyMiAwIDAgMSA2LjA5NDY3Miw2LjE4ODUgNi4wOTQ2NzI0LDYuMTg4NDQyMiAwIDAgMSAtNi4wOTQ2NzIsNi4xODgzIDYuMDk0NjcyNCw2LjE4ODQ0MjIgMCAwIDEgLTYuMDk0NjczLC02LjE4ODMgNi4wOTQ2NzI0LDYuMTg4NDQyMiAwIDAgMSA2LjA5NDY3MywtNi4xODg1IHoiCiAgICAgICBpZD0icGF0aDM2ODAtMyIKICAgICAgIGlua3NjYXBlOmNvbm5lY3Rvci1jdXJ2YXR1cmU9IjAiIC8+CiAgPC9nPgo8L3N2Zz4K"},function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgoKPHN2ZwogICB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iCiAgIHhtbG5zOmNjPSJodHRwOi8vY3JlYXRpdmVjb21tb25zLm9yZy9ucyMiCiAgIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyIKICAgeG1sbnM6c3ZnPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIKICAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxuczpzb2RpcG9kaT0iaHR0cDovL3NvZGlwb2RpLnNvdXJjZWZvcmdlLm5ldC9EVEQvc29kaXBvZGktMC5kdGQiCiAgIHhtbG5zOmlua3NjYXBlPSJodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy9uYW1lc3BhY2VzL2lua3NjYXBlIgogICB3aWR0aD0iMzIiCiAgIGhlaWdodD0iMzIiCiAgIHZpZXdCb3g9IjAgMCAzMiAzMi4wMDAwMDEiCiAgIGlkPSJzdmc0NTEzIgogICB2ZXJzaW9uPSIxLjEiCiAgIGlua3NjYXBlOnZlcnNpb249IjAuOTIuMyAoMjQwNTU0NiwgMjAxOC0wMy0xMSkiCiAgIHNvZGlwb2RpOmRvY25hbWU9Im1hcmtlci1ncmVlbi11bmxvY2tlZC5zdmciPgogIDxkZWZzCiAgICAgaWQ9ImRlZnM0NTE1IiAvPgogIDxzb2RpcG9kaTpuYW1lZHZpZXcKICAgICBpZD0iYmFzZSIKICAgICBwYWdlY29sb3I9IiNmZmZmZmYiCiAgICAgYm9yZGVyY29sb3I9IiM2NjY2NjYiCiAgICAgYm9yZGVyb3BhY2l0eT0iMS4wIgogICAgIGlua3NjYXBlOnBhZ2VvcGFjaXR5PSIwLjAiCiAgICAgaW5rc2NhcGU6cGFnZXNoYWRvdz0iMiIKICAgICBpbmtzY2FwZTp6b29tPSI0LjUyNDA4NzMiCiAgICAgaW5rc2NhcGU6Y3g9Ii02Ny44ODQyODQiCiAgICAgaW5rc2NhcGU6Y3k9Ii04LjQ5MTU1NzUiCiAgICAgaW5rc2NhcGU6ZG9jdW1lbnQtdW5pdHM9InB4IgogICAgIGlua3NjYXBlOmN1cnJlbnQtbGF5ZXI9ImxheWVyMiIKICAgICBzaG93Z3JpZD0idHJ1ZSIKICAgICB1bml0cz0icHgiCiAgICAgaW5rc2NhcGU6d2luZG93LXdpZHRoPSIxOTIwIgogICAgIGlua3NjYXBlOndpbmRvdy1oZWlnaHQ9IjEwMDEiCiAgICAgaW5rc2NhcGU6d2luZG93LXg9IjEyMjEiCiAgICAgaW5rc2NhcGU6d2luZG93LXk9IjE0OTEiCiAgICAgaW5rc2NhcGU6d2luZG93LW1heGltaXplZD0iMSIKICAgICBpbmtzY2FwZTpzbmFwLWdsb2JhbD0iZmFsc2UiCiAgICAgaW5rc2NhcGU6c25hcC1vdGhlcnM9InRydWUiCiAgICAgaW5rc2NhcGU6b2JqZWN0LW5vZGVzPSJ0cnVlIgogICAgIGlua3NjYXBlOnNuYXAtbm9kZXM9InRydWUiCiAgICAgaW5rc2NhcGU6c25hcC1wYWdlPSJ0cnVlIgogICAgIG9iamVjdHRvbGVyYW5jZT0iMTAiCiAgICAgc2hvd2d1aWRlcz0idHJ1ZSIKICAgICBpbmtzY2FwZTpzbmFwLWJib3g9InRydWUiCiAgICAgaW5rc2NhcGU6YmJveC1wYXRocz0idHJ1ZSIKICAgICBpbmtzY2FwZTpiYm94LW5vZGVzPSJ0cnVlIgogICAgIGlua3NjYXBlOnNuYXAtYmJveC1lZGdlLW1pZHBvaW50cz0idHJ1ZSIKICAgICBpbmtzY2FwZTpzbmFwLWJib3gtbWlkcG9pbnRzPSJ0cnVlIgogICAgIGlua3NjYXBlOm9iamVjdC1wYXRocz0idHJ1ZSIKICAgICBpbmtzY2FwZTpzbmFwLWludGVyc2VjdGlvbi1wYXRocz0idHJ1ZSIKICAgICBpbmtzY2FwZTpzbmFwLXNtb290aC1ub2Rlcz0idHJ1ZSIKICAgICBpbmtzY2FwZTpzbmFwLW1pZHBvaW50cz0idHJ1ZSIKICAgICBpbmtzY2FwZTpzbmFwLW9iamVjdC1taWRwb2ludHM9InRydWUiCiAgICAgaW5rc2NhcGU6c25hcC1jZW50ZXI9InRydWUiCiAgICAgaW5rc2NhcGU6c25hcC10ZXh0LWJhc2VsaW5lPSJ0cnVlIj4KICAgIDxpbmtzY2FwZTpncmlkCiAgICAgICB0eXBlPSJ4eWdyaWQiCiAgICAgICBpZD0iZ3JpZDUwNjEiCiAgICAgICBzcGFjaW5neD0iMSIKICAgICAgIHNwYWNpbmd5PSIxIiAvPgogIDwvc29kaXBvZGk6bmFtZWR2aWV3PgogIDxtZXRhZGF0YQogICAgIGlkPSJtZXRhZGF0YTQ1MTgiPgogICAgPHJkZjpSREY+CiAgICAgIDxjYzpXb3JrCiAgICAgICAgIHJkZjphYm91dD0iIj4KICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3N2Zyt4bWw8L2RjOmZvcm1hdD4KICAgICAgICA8ZGM6dHlwZQogICAgICAgICAgIHJkZjpyZXNvdXJjZT0iaHR0cDovL3B1cmwub3JnL2RjL2RjbWl0eXBlL1N0aWxsSW1hZ2UiIC8+CiAgICAgICAgPGRjOnRpdGxlPjwvZGM6dGl0bGU+CiAgICAgIDwvY2M6V29yaz4KICAgIDwvcmRmOlJERj4KICA8L21ldGFkYXRhPgogIDxnCiAgICAgaW5rc2NhcGU6Z3JvdXBtb2RlPSJsYXllciIKICAgICBpZD0ibGF5ZXIyIgogICAgIGlua3NjYXBlOmxhYmVsPSJMb2NrIgogICAgIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAsLTEwMjAuMzYyMikiCiAgICAgc3R5bGU9ImRpc3BsYXk6aW5saW5lIj4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDojOGJlMjMzO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTojNGU5YTA2O3N0cm9rZS13aWR0aDoxLjI2MzE1NzYxO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJNIDE2LDAuNjM2NzE4NzUgQyA5LjgwNzI2NDcsMC42MzY3MTg3NSA0LjgwNzczMjYsNS43MTIzIDQuODA2NjQwNiwxMiBjIDAuMDA0OTgsMi4zODA5IDAuNzQ2MTE5OSw0LjcwMTkxMyAyLjEwOTM3NSw2LjYzMjgxMiBMIDE2LDMwLjk0MzM1OSAyNS4wODU5MzgsMTguNjMyODEyIGMgMS4zNjM1ODksLTEuOTMwOSAyLjEwMzYzMiwtNC4yNTE0NTkgMi4xMDc0MjEsLTYuNjMwODU5IHYgLTAuMDAyIEggMjIuMDkzNzUgdiAwLjAwMiBDIDIyLjA5NDMsMTUuNDE5NzY0IDE5LjM2NjAyMywxOC4xOTA4ODkgMTYsMTguMTkxNDA2IDEyLjYzMzk3NywxOC4xOTA4ODkgOS45MDU3MDAyLDE1LjQxOTc2NCA5LjkwNjI1LDEyLjAwMTk1MyA5LjkwNjc2MjQsOC41ODQ5MDQ1IDEyLjYzNDcyOCw1LjgxNDk3MDIgMTYsNS44MTQ0NTMxIDE4LjIxMTk1Miw1LjgxNjk1NjYgMjAuMjQ4OTM0LDcuMDM2MTU1NCAyMS4zMjIyNjYsOSBMIDI2LjEzODE0OSw3LjExNTg0MzggQyAyNC4zNzM0MDIsMy4yNTk0NjMxIDIxLjE2NzM3NCwwLjYzNjcxODc1IDE2LDAuNjM2NzE4NzUgWiIKICAgICAgIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAsMTAyMC4zNjIyKSIKICAgICAgIGlkPSJwYXRoNDY3MiIKICAgICAgIGlua3NjYXBlOmNvbm5lY3Rvci1jdXJ2YXR1cmU9IjAiCiAgICAgICBzb2RpcG9kaTpub2RldHlwZXM9InNjY2NjY2NjY2NjY2NjcyIgLz4KICA8L2c+Cjwvc3ZnPgo="},function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgoKPHN2ZwogICB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iCiAgIHhtbG5zOmNjPSJodHRwOi8vY3JlYXRpdmVjb21tb25zLm9yZy9ucyMiCiAgIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyIKICAgeG1sbnM6c3ZnPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIKICAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxuczpzb2RpcG9kaT0iaHR0cDovL3NvZGlwb2RpLnNvdXJjZWZvcmdlLm5ldC9EVEQvc29kaXBvZGktMC5kdGQiCiAgIHhtbG5zOmlua3NjYXBlPSJodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy9uYW1lc3BhY2VzL2lua3NjYXBlIgogICB3aWR0aD0iMzIiCiAgIGhlaWdodD0iMzIiCiAgIHZpZXdCb3g9IjAgMCAzMiAzMi4wMDAwMDEiCiAgIGlkPSJzdmc0NTEzIgogICB2ZXJzaW9uPSIxLjEiCiAgIGlua3NjYXBlOnZlcnNpb249IjAuOTIuMyAoMjQwNTU0NiwgMjAxOC0wMy0xMSkiCiAgIHNvZGlwb2RpOmRvY25hbWU9Im1hcmtlci1vcmFuZ2UtbG9ja2VkLnN2ZyI+CiAgPGRlZnMKICAgICBpZD0iZGVmczQ1MTUiIC8+CiAgPHNvZGlwb2RpOm5hbWVkdmlldwogICAgIGlkPSJiYXNlIgogICAgIHBhZ2Vjb2xvcj0iI2ZmZmZmZiIKICAgICBib3JkZXJjb2xvcj0iIzY2NjY2NiIKICAgICBib3JkZXJvcGFjaXR5PSIxLjAiCiAgICAgaW5rc2NhcGU6cGFnZW9wYWNpdHk9IjAuMCIKICAgICBpbmtzY2FwZTpwYWdlc2hhZG93PSIyIgogICAgIGlua3NjYXBlOnpvb209IjQuNTI0MDg3MyIKICAgICBpbmtzY2FwZTpjeD0iLTY3Ljg4NDI4NCIKICAgICBpbmtzY2FwZTpjeT0iLTguNDkxNTU3NSIKICAgICBpbmtzY2FwZTpkb2N1bWVudC11bml0cz0icHgiCiAgICAgaW5rc2NhcGU6Y3VycmVudC1sYXllcj0ibGF5ZXIxIgogICAgIHNob3dncmlkPSJ0cnVlIgogICAgIHVuaXRzPSJweCIKICAgICBpbmtzY2FwZTp3aW5kb3ctd2lkdGg9IjE5MjAiCiAgICAgaW5rc2NhcGU6d2luZG93LWhlaWdodD0iMTEzNyIKICAgICBpbmtzY2FwZTp3aW5kb3cteD0iLTgiCiAgICAgaW5rc2NhcGU6d2luZG93LXk9Ii04IgogICAgIGlua3NjYXBlOndpbmRvdy1tYXhpbWl6ZWQ9IjEiCiAgICAgaW5rc2NhcGU6c25hcC1nbG9iYWw9ImZhbHNlIgogICAgIGlua3NjYXBlOnNuYXAtb3RoZXJzPSJ0cnVlIgogICAgIGlua3NjYXBlOm9iamVjdC1ub2Rlcz0idHJ1ZSIKICAgICBpbmtzY2FwZTpzbmFwLW5vZGVzPSJ0cnVlIgogICAgIGlua3NjYXBlOnNuYXAtcGFnZT0idHJ1ZSIKICAgICBvYmplY3R0b2xlcmFuY2U9IjEwIgogICAgIHNob3dndWlkZXM9InRydWUiCiAgICAgaW5rc2NhcGU6c25hcC1iYm94PSJ0cnVlIgogICAgIGlua3NjYXBlOmJib3gtcGF0aHM9InRydWUiCiAgICAgaW5rc2NhcGU6YmJveC1ub2Rlcz0idHJ1ZSIKICAgICBpbmtzY2FwZTpzbmFwLWJib3gtZWRnZS1taWRwb2ludHM9InRydWUiCiAgICAgaW5rc2NhcGU6c25hcC1iYm94LW1pZHBvaW50cz0idHJ1ZSIKICAgICBpbmtzY2FwZTpvYmplY3QtcGF0aHM9InRydWUiCiAgICAgaW5rc2NhcGU6c25hcC1pbnRlcnNlY3Rpb24tcGF0aHM9InRydWUiCiAgICAgaW5rc2NhcGU6c25hcC1zbW9vdGgtbm9kZXM9InRydWUiCiAgICAgaW5rc2NhcGU6c25hcC1taWRwb2ludHM9InRydWUiCiAgICAgaW5rc2NhcGU6c25hcC1vYmplY3QtbWlkcG9pbnRzPSJ0cnVlIgogICAgIGlua3NjYXBlOnNuYXAtY2VudGVyPSJ0cnVlIgogICAgIGlua3NjYXBlOnNuYXAtdGV4dC1iYXNlbGluZT0idHJ1ZSI+CiAgICA8aW5rc2NhcGU6Z3JpZAogICAgICAgdHlwZT0ieHlncmlkIgogICAgICAgaWQ9ImdyaWQ1MDYxIgogICAgICAgc3BhY2luZ3g9IjEiCiAgICAgICBzcGFjaW5neT0iMSIgLz4KICA8L3NvZGlwb2RpOm5hbWVkdmlldz4KICA8bWV0YWRhdGEKICAgICBpZD0ibWV0YWRhdGE0NTE4Ij4KICAgIDxyZGY6UkRGPgogICAgICA8Y2M6V29yawogICAgICAgICByZGY6YWJvdXQ9IiI+CiAgICAgICAgPGRjOmZvcm1hdD5pbWFnZS9zdmcreG1sPC9kYzpmb3JtYXQ+CiAgICAgICAgPGRjOnR5cGUKICAgICAgICAgICByZGY6cmVzb3VyY2U9Imh0dHA6Ly9wdXJsLm9yZy9kYy9kY21pdHlwZS9TdGlsbEltYWdlIiAvPgogICAgICAgIDxkYzp0aXRsZT48L2RjOnRpdGxlPgogICAgICA8L2NjOldvcms+CiAgICA8L3JkZjpSREY+CiAgPC9tZXRhZGF0YT4KICA8ZwogICAgIGlua3NjYXBlOmxhYmVsPSJMYXllciAxIgogICAgIGlua3NjYXBlOmdyb3VwbW9kZT0ibGF5ZXIiCiAgICAgaWQ9ImxheWVyMSIKICAgICB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwLC0xMDIwLjM2MjIpIgogICAgIHN0eWxlPSJkaXNwbGF5OmlubGluZSI+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6I2RkYjA2MTtmaWxsLW9wYWNpdHk6MTtzdHJva2U6I2FkNzQxYztzdHJva2Utd2lkdGg6MS4yNjMxNTc2MTtzdHJva2Utb3BhY2l0eToxIgogICAgICAgZD0ibSAxNS45OTk5OTgsMTAyMC45OTg5IGMgLTYuMTkyNzM1MywwIC0xMS4xOTIzMTM5LDUuMDc1OSAtMTEuMTkzNDA1OSwxMS4zNjM2IDAuMDA0OTgsMi4zODEgMC43NDU2NzYsNC43MDA5IDIuMTA4OTMxMSw2LjYzMTcgbCA5LjA4NDQ3NDgsMTIuMzEyNCA5LjA4NjQ1OCwtMTIuMzEyNCBjIDEuMzYzNTg5LC0xLjkzMDggMi4xMDMxNTgsLTQuMjUwMiAyLjEwNjk0NywtNi42Mjk2IDAsLTYuMjg4NyAtNC45OTk5OTQsLTExLjM2NTcgLTExLjE5MzQwNSwtMTEuMzY1NyB6IG0gMCw1LjE3NzIgYSA2LjA5NDY3MjQsNi4xODg0NDIyIDAgMCAxIDYuMDk0NjcyLDYuMTg4NSA2LjA5NDY3MjQsNi4xODg0NDIyIDAgMCAxIC02LjA5NDY3Miw2LjE4ODMgNi4wOTQ2NzI0LDYuMTg4NDQyMiAwIDAgMSAtNi4wOTQ2NzMsLTYuMTg4MyA2LjA5NDY3MjQsNi4xODg0NDIyIDAgMCAxIDYuMDk0NjczLC02LjE4ODUgeiIKICAgICAgIGlkPSJwYXRoMzY4MC0zIgogICAgICAgaW5rc2NhcGU6Y29ubmVjdG9yLWN1cnZhdHVyZT0iMCIgLz4KICA8L2c+Cjwvc3ZnPgo="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAUAAAAEACAYAAADCyK/GAAABgmlDQ1BzUkdCIElFQzYxOTY2LTIuMQAAKJF1kc8rRFEUxz/zQ+RHM2JhoUwaVjMa1MTGYsRQWIxRBpuZZ36o+fF6bybJVtlOUWLj14K/gK2yVopISdlZExum5zwzNZI5t3PP537vPad7zwVrOK1kdLsPMtm8FgoGXPORBVf9M3ZacdJFf1TR1enZ8TA17eMOixlvvGat2uf+tabluK6ApUF4RFG1vPCE8NRqXjV5W7hdSUWXhU+FPZpcUPjW1GNlfjE5WeYvk7VwaBSsTmFX8hfHfrGS0jLC8nLcmXRBqdzHfElzPDs3K7FbvBOdEEECuJhkjFH89DMssx8vA/TJihr5vp/8GXKSq8issobGCklS5PGIWpDqcYkJ0eMy0qyZ/f/bVz0xOFCu3hyAuifDeOuB+i0oFQ3j89AwSkdge4SLbDU/dwBD76IXq5p7HxwbcHZZ1WI7cL4JHQ9qVIv+SDZxayIBryfQEoG2a2hcLPesss/xPYTX5auuYHcPeuW8Y+kbih1n9iB8ekUAAAAJcEhZcwAABYkAAAWJAW1onfoAACAASURBVHic7Z3tcuM6DkTp3H3/N55kf9zlLIKggQZFybLTp8olivowRVsnTSqZGUMIIYQQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghhBCvx+PZDRDixXnXe+jr2Q24go9nN0AIIZ7Fu/70EmKVs+6Ju9xru5PdSydFJUAhzucu8hvjXm15OuoM8Vs4+l0/cvzd7rOV1Laa9G6dEO/2wQhxFs8QWHXc2fdfJZ+unK4U5yVIgOJdOEtSK/u+2n21Q5RXyHQ7r/ZBCYFY+S4fFdpR6V6dAI9KameilACFWKD7nWX23zVUvUpsu9gluOw4VnRPEeKrfFBCTHYOWVeTHSu6Z88BTlbEZbezx6++D7vPdiRAcVd2zrddLbq7zRV2xVTVHxVitY3ZvgUJUNyVM4aurAiZ447UdbYfpSO5SmBoPdvvaPo8lf9c8SZCJOxIS92EVyW7rgA7bTtbiF4cj2Z95z1W2oqORe1D27egBCiezdGkx6QuJLzO+kpK7OzHbq/YNayN1rsJkD13VV9tW0YCFFdxVtLrCNCvs/XMMavrVf0qu4ez0bCWFV23Laguq19CQ2BxJ1j5dYe2Wf1ROR5JkVU92m/1qWo2N9dJcw+3ZNvnh792/SlPgSVAcRZHEl+37ojE2H13vJffhtZ3UD2I6Ka3aImExrYtuu7qnFvnBiVA8UxWRcemLCbhselwZ4pE6wi0X1c4nbm6SnyP8V2CWTKs2jWSY05NhxKgOMruub2jSa8SV3cZnTPbj2kvu77K6pycF6AX3Ajq2GTIPOBA6e4R1A23bUmSEqC4Anbua2daOyK+oynyaAJcFSH7pDcTYUeCkQyjZMji0+Ppc4MSoOiyc25vdT6NTX6rIsxk2Fmi43w9Wl9ldV5vljPh+fUsGXqRRfuysHODrfNKgOIMKvmxgovKXZFVgsu2HR0+r4qwqvewv1aCROfXuwL02z/Hd+mtJrpsPnFLOpQARUV1E2bbM5FF++1OdpHQ2HNdIUK0XtV7qqFvVM7ktyK+KNVlSREdE7XX90Mm1FYSlADFWTBDR7udkd6Rcia6IylyZd3WR2W0j4d5sBCVu/LrCNDPAzKyq8jmBg8lQQlQeFYTX5ZqmGR0hfSqVLiSHjvrVXkQ9RFoyBvVdeRny+zrc+GYjhxZCVJJUAIUO0DyW1mibR9un67YdgrwSBKsylldxJ3kV6W/T7N8uGWHbUlQAhSTbhLJbuCu8CJprAqQ2dYR3e4kWNXb7R0qETLD4B3J7+HWo/Oi9mdJ0Iou29ZKghKgWMHLCdWzCa+b3lYEt5IUozbvkiDqQ7+d4dnyi5KfXbdytE+I53t9mP261+wF10qCEuDvpbrB0A2bbWPFt7p+5FWdK2tntn001oerY9Y7IOnZus4wuJP8PsZP2dnhrhUcei/03v4aIun5dSoJSoAigk0rq+LL6qKh7hUC7ArZl1fWbX22zvAM+WXJzy+n/CIZzjKbBCMJ2nPTSIC/h+qmym7MjvhWEpUX4G75rcqxuqbV9ag8iPqMq4fBVfKzSyQ/uy0SYSZDJMFJtu0vEqAYA8uvIz57DCM5u4zkc7UIUTsymaO+6kgwWveg7ejmjoaNtvzl6rvym+KzDzoq8WXy822x9R+Dk2B03SUS4PvTSRlVUsmEN0CZESAjO7TPLlFGbUbX5MvselSO1qt6TyY8v46S3xi8AG36y5Lf3P7p6iM52iQ4lzYRZhKcRDJ8ZOsSoJiwwvNLNkWtCu4qAe6SYLZE+1X4/b2wEEiEWfLz9VX6m+VHsB4lQN+/Xmy+LYwE7bHzfSgkwPejuqmYm5ERnl/vCpAVWrW+Q4TVtbBlpv8iukJEsEkwW1ZD4Sj92aRnJecToBdY9FnMfT7H/0cIkQQzydl+1Byg+Ev3Rs0E6OvQfF5XWCsC3JECfdvRelVvqerRugdt7yTAqLwiwIcp+yGwTX+P8V2GmewQkQSZHxZ0EpQAX5+Vmyf7ElU3PKpjBYjWu+I7KsKorWeJb1WA1Wc7YR6G7BKgf+rrh8BWhFaGzOcR8Tm4Po+u0/Jw2x9jSIDvTiU4vx9z46NXJp+PZL9IgJXcdqRAdF1MP0T92C1ndVk9YlWCs+ylZ8tsEowednRkVzET4XyfjC+zD0yCEuDrUn0BOjdkduOzL1ZalQCR6LrS89uq66n6Ido+wDpTH5V3gmRn6yoJskNhLzxGgKwQ/bmGKzMPPGabfiABvicd4fll9GXNfm2lK75McLvkt0uAvozWh6tj6tH6LnY9ELHlowK0oOuu2o2GxOhcUH5jSICvCPrAmQTSEd+KABnxIRF2ztkRIRJdtY76L1sfG9Z30RXgLHcF+Gn2YwSI+joS8Px87bqt+wyOj4D7SIDvS3azdgRov3C7xLeaEFHbVgXorz3qkxHUR0u/3+r6LnYI0C+RCP3cX/Z0l73erP3+4Up2XnvcDxFKgK8D+oDRDZXJjxVfJcCVxPcByug8rAg74kN9Ee0T9aWvY+oRZwnQ3+zVuh8usgIc5jj/i8/zgcWfEfd9dP6ozH629nwZf69TAnxtKilWN3cmPLSOJNgV3spDkV0CZPvG92d0XLYPWq9YlWJ08/tz+cQXiQgtZ9n+snIkvygJVtfEzlFG+ARanfsvEuD9qSSXled6JTwkQDTnxgitK0BWeJUA0XVGfeH3Zfq1I76qnt3Oksku258VYfU0OZIh6q/sifMY3+f+7H5RX/nPkEmBYwwJ8FVhb1JGDFMqY/APLKzMOsLrDKF3ChD1TdRHqE+jY6N9ovUu1fnQDe7rkSyy80yJ2eXcd74+zHKM73/qZmXI/AvPKPlZAfph8Ic7JvrrE+a9JMAb0kkR6MathNcRIJvwOgJknvrumutjBJj1pS8z6x4kzlU63xGLT1m+XUigPuH51BaduxqOR8nPrnsBRvOC0fkfI37vsC0S4OsS3bBdAVYJDwkuE9/q0HeHAKN+YAWI+nQk6939urBC657Pi40R4mNgEc6HHR8jF6B/z+gJtE+Znc/fX4d/3x/XJQHeh+7NlcmPfSEBHhHeLgGuvFBfoH7z+0T9GoHOhWA/2y6rgqyEl4kEiXAE5ey9UfpjXsz3IPvh8PcaJMDXJEszK+LLZFdtY0TILFcE6K8Z9QXqN7YerXuOCnE3SAb+/dkhsT+HT4gTmwg9kfQe5pjVH3y+XVH7NAd4Q9h0wCSYTHaVAJHEMvFVx64IsPvFzwTo+4fpy6je0xUje567kCVAxByy2mQXCS2b2/PnsC9WjrPd1PSABPhaVCmnkh+b+FYFuCI+RoBj/P/GyYSXSdAufX+i9dV6hivlVwlhtiUSX/ZUtXrPKAHac3rhHUmB8xWlUv9UW3OAN4C9qbKbl33tSnyVING5M+GdIUCm77J6TyWAK2W2StbGlcQXnX8mNXsu9H30w1//8MMnv48RJ8Ex8GdfpkAJ8DVAN/uK+LpyO2vo69s5giX6kmcStEvUf55V8bH73J1MFnabTVHZufyy+o52n/ZGPyDH+Nku295oXlACfALszZYlHEZ6SHiRAI9KsSNA1OYRLDMBMkvfl+x6Vc9wdzFWD0bsPn4bGmbadbv0Q2Gf9LqSi9aj/ZUAX5ws8WTy6w55/wnqjg59H2A9+qJGw1v2y58to76s6phtv4UfiWl8lwvTf+gcu19VO8IkKAE+H5RGouRj15FU2GHqzlckwqh9XQFm11/1mWeX7N5FjOg6smToUx76NRi7Pj93/x67RWffN5JuiAR4T7rJz8tvNfmxSRCdO1oi8WXXNYJytPT9FW1Ddcw28R0rFpSshitHMup8F6rv/nDlFhLgdWQ3rV3vJr9oyFklvtUhL5MA2eSXya4SX1eAzLbOPu+Mv/5IXlkSjOrZFIe2d9JfCwnwXnST3665vn+K7UyqRBIcQX10Tf76s6XvL7TObhM9fKpDIoz2tfuzPxD9saxQqzZ/SYDnU31AbPJDCaszx7c65GWT34oAUR9kS993HiW9fVSJkDk2S/8rbaj29e8B2ywBPgd0I68kv5Uhb3c9E20kPys+dB3+urNlVvZIbNdik9UsR6kvOz5aznK2Hp2nw0MCPA/mg6o+UEZ+D7cepTokuJUE6NvQFWC07vumEmBWt7KP6NOR3K73244EeC1IflXi2538qrnAav4PSS9re3SdUZ9U5axOXMtK4lulOv/S+0uA11ElP0Z6kYQYmXnxrcwF+qSJ2tkV3y7pSYjvh/2XYlaPSY+XAK+HFd+O5BcJD5VXh77Va7hlJDk0FK7qxHNB//hpR1r+HNGx0T+i2n2v8LwS4H6Ym9luQ0KsZNNJfLa+K0CUQrviY5ZR/yAkxOfCiMf/e3+o7gyo95AAn0Mkim4CzORXzf09I/nZJarzfSTuDz3cDPaL/uHTEZSzY1bR3wJvprphs+EeOwyuHmighLciwDOTH+qHDAnxuRxNbIy0IgkywlsWogR4LugmX5Ve9orkVyVDK0M0x7gj+WVl8XpE83BVmmPltrKNfUL8Y55RAjwPf8NnQ71nyHBX8vPXMIKlL2d1zDZxHdlDh06i8+uZzJBgo+Oi/eg0KAGeDxLDylxfNgyOyisPPlaHvF7yR+Qn7g96sFE9+Fh5Vefw7fHvG7V5jCEB7qB7I1fyO5IEV4fBR5Jf1Aco8SrxvQ475/x2CrH7XikS4Dn4ZGTLO4a6UeJ7VvKzS1+O+kS8LuzcH3p9/u91NBEywsuG3n+RAPfD3uhnzP2tJL9IgFEq9W0ewTK6fgnxtchSli130lgkwkqOR2TJtHOMIQGeSZX+ovpVsVVzgIw0qyG5b6+9zqgs3ocsTZ3x6oova29WJwEegE066Ngzkl8lzEp87Jyfv47o+pg6cR92JT9bZobDUfKL9tkxLP6BBHgO3fSXDUmjJMf8qVs3+THy01zf76KaR1uRHBr+RvI7Irhs37/rEuB+KgFEw0i/bUf66wx5V+Snub73YDX5rQxfvRBXXlHSjLZR1y4Bnkt3mIuklCVCZpi7mvzQQw5J7b05mvyQ+NhkuDoH6OvQ9r/XIgFeSyQXW3+n5JcJMCpndeJ+7E5+lfh2Jb9Mjlm7QyTAPaCHA6zwsuTHzAmekfxW5Cdem0wirPAY8UXzftUDj86vyETXFQpRAuyTzX1lw0NmKHxGEkTv58u+jdn1KPm9Hkzis3VsEkQPN65Of935vzGGBLiTSIRIKJkIO/OFlfhQXdU+fz3oOsX7geb87LYs+VWprxJd9pQYbfdtz7Z/QwK8hmoonIluJfFl6a9qiy/b7ejaxH1hk5+Xna2326oUVj3w2JEEu+kPilAC3AuaC7TlrqDQELkzX8i+T3QN4veQJT6/Hs3bZfL6A8qs8FgJVmL8ti4BXkM2l7Zz3m9Frkp+78mu5FcNe1HS+zN6suskv6h+CQnwGGjuDCWqrpSyp8TZPN+q/MR7U0mxmuuL5vw6rz8jToK2Dp2/M+dHS1ECXKcjjO7wtvtUmBEnSqEDbGOToLgH1Q2PHgZ46dly9SBi5/zeSvKryPb7GkMC3AGa92OEw6bAqIz2WUmc4r1h5VclwCyhZfN+UfL7E9RX84lH5v5CJMBzOTLcrX6JGQ2P2eGwb2dUjtbFvWDn+mYdK8Boji+b82Pm/pDwOilwVXrhNglwL5EsjswBMmkvS3LMvJ8E9ztA82e2jBLgavJDaW9FhKwM/TWnSIA8K3N+aN3WsfN3WT2TALvXJzHeGzb5+Qccs8wOd6P5NyQ7JL8d83+dxIeS7o/+kQD3gJIYK71dr6pdSn/vTSXFaNmRX5UAkfyOpr+ODFspUAI8H1Y8bOLLUqM/pmqTXRf3phrOUYlnYGmgp67VkLcz14cehuxKfm0kwONkMkP1bJrbkfyi81TtF69FJb8s8Y2BH3h0El/0ACRLfSt/DbJt7m8iAZ5LJSq0T0eC2fusDHMlxHvBzvXNuq4AWfHNdZTsOsuu8DIRMtcPkQDXeLglqouOY+fljqbE6D19W8X7EN383Tm/SoArw9runN9XUGaSX1t+Y0iAK7DyqIaqXfFVx6FzV22MyuJ5dOb67Homvx3JL3vY0ZHh6hA3m/tj5BceKwGug8RTHdNNf9lxaH9/vqhOwns9KvntGPJmAmTn/Fj5VemPkeHy/N8YEuBZrMhx7sOmvUqKR9oqrqc71+e3odTn1z+Dcvaw44gAj8ovEqHvh25i/oYEuAcm+c1l98FFdUwm2yNiFPckE0ElwCzxIQFGr+rhxpnyq4bDLSTA8+iIpyNB5lzi/uya65tLZt6vM+TNxLVDgNH7s/Jj+otCAtxLJp/qgQMrQebBhRLfa1Pd5Nlcn1/fkfyqoW8n7UWyW5Xf4RQoAT6X1eTHyFHck5W5vmg7k/g6yW9l6FvVZ+I7Ir9oPes7iAR4jGgejkmB0dNZZn31ybN4PdBQdy6PDnmPJL8V8aGh7xnyo5EAz2GHdLq/x3f0OHEOu+f65pJ5HU1+O4a+aI4xameWctG6pyVECfB6fJrL0l82BGbfx9dJfvdhZa5vLo+Iz0upSnBH5vwiASL5oYQ7wPphJMCao8Jg5ufYhxvV+SW3+/CMub5MgJ30xwqP+efsq8SHhr2oD6LtqK5EAnwu1dxfVX/kvcQ92DHX1xXfXGcT3c4hLyO/05PfRAIUYg/VjRmlGl/fHepmAuzO9zEJcDX5ZdI7Kr9DQpQAhTifajicLRnh2fVMRqvCW01+Z8vvMBJgzez41SEk88H5L8Pq+3wNDXWvppIbqsvmuVYSn5fgkVf39/qYub5Z9tfnrx2te7YIUQK8BiS3SnrRMOlIGyTH58EOdf06Iz4093eG8BgBsvN80ff7kuQ3kQDvRzcNKvldSyfx2XpWgCvJrzPcPTrUZcTHCND2BRLeaclvIgEeY4qnI6BuqstunOo436Z5nGR5DZHo0JIRnh/m7hr2XpH8IgF25bcdCfAcrkpk6Cdk9d5KjDzVjei3V0nPL1cSn5cgktPOoW5HfJ/B9Q1XF/VH1IdZ3WEkwL1UCYv9wKP1S34iihbMcDi74TPhjcENNc94WUGiITZKfLPOX1/VF1HfnY4EeB5ZvM/2ydaZ9xF7YOQW1WXy6wx5x8iFV6XAbIh79B8vYIa8/jpHUI/6kKnfggS4B3ZIGX1J/Da0Xh1/tG1ijUh+WdLz61F68kNdW776xbSLFaDvr6cjAfbpCmUlxbFJMNpHsluD+Yyi9UqA3eSHpBcJkJViNfeXnZsVILpe32e3SH4TCXCN+eEclQ36CYnW2QRo2/c1+k+qxXcq+a0mv2yo65dXpr3OUJcV4K2S30QCPIdINswXgE1+frt/SXQ8nQSCks2sywSIEt8YufCqFNhJgKviWxVg1De+L6N+vAwJ8BheNpV8mC+P3zc7doz4C+NTn6TYoxKc3w99JpnsvFiuTH3R+VfFl32HUd1tkADPA31Jsn3Z9eh4W+7OUY7mMa/MSuJD5UyAVdqLBIgEdaYQM/FlAkTXzfTbKOouQwLcB5O2qp+go1ivjovaU9WJmEp4fhl9Ll4g0foVyS9LfFUi7QgQ9Zsv3wYJ8Hw6Q4CV5Hck/f0Gqr6PfnD4+o74GAE+M/kh8VYC9NeL+o5NebcQogR4nG7Sym6a7ItW7Yvea/IwdZoX/BdWfisCrORyZvJjEp9Pf6vfS9SXVf0tkAB55ge5Mr/GpMDOF5E5lmnrO0qwm/hsXZZomB9IlQCfnfyy9LciwKiffJ96biVECXAfPllFcmFvIL9Pdow/t21L1D60/TeA5Idu3u5nUQ15r0x+SKpd8aEfAlE/vRwS4Ll46WQ3kT/Of9GyJOL3s+85xu+QXSdxZD84/JIRXybALPmdKUQk4K4AUb/4vovW2W1PQwLcg099mXjYG8pvj/b35/PvM9vgt/8GISIq4fll1OefZpklviqF7Ux82fzeavIbrhz1ka9/KSTA84lSXpb6mC+lPwfa751/H7C64dANygow639WgOycXpUMu1KMJMwKMOqHAdZ9fzL1t0ICPM5Mfb6M9mVusu5rjJ9f1GwYXLXz1WHltyLAKZIxcOLz4kL1O5Jf9V62nd3vUiW/l0cCXIeRSJXQ0DFHX505QGafO1DdfNH26Eae61HKYfsXCXCX8JDUsn3R0rYzEx4jwKjseSlJSoDHmLKxEvFfgGwe8IyXb5tdt21iBP4qIPlF4vNLRoBoqIukc0RoK8kPtYX9vqDvT1V+eSTAa6i+dOgLyIgOvc9cr9LfXf/jpOpGQ9LLyl3xsQI8U3ToPP79s/Zm4ov6En3Hss/kJcUoAe5nSsUv/T5zufNlzxmlv3f5F2JY+WXLqO/QkDFKVitDXbRfpx699+p3BfWd5yUFVyEB9llJSIywzny9guiqG4yVni0z4lsRYJXUWCGy83pR8usK0F9/1D++HK1X9S+FBLgXn64yWZ4pPKZdr/4vxbDC88vs5QXIJr5V4VXC/ALvxUqvEiDqx1+DBHgdlax2Sg99+av5vmdIsLrpUCJhBYgE0BFgR1i7hRjJtyNA1GfD7ePrEW8lSQlwH1YerEiOSo+Vqv+1mMnd/zaYlR8jwFmHhrlIMEzi6wqPOZ+XYEd6jACRyN5KcBUS4HEYeWQ3JJLWkde8yT9c/R3+MqS6wbJEkiWYqMwKMJpbWxnyViKsjqukp7m+zUiAe5hysdJAacsfd8Yra2fEXdIfkh+6WbMbPvvhgOqyebeVJNed+8va0/nso+9CJr9fiwR4LTvk9jn+FdZc+pRX3Rx3n+PzdVF5RXyVAJnExwquIzyU/LoCjPrH9lvVz51tb4MEeA7+y2MTIfrpfMULPZm2dV/jOkmy8kPis2Vb9xksI6FUiY8VHjo+28+/RyZnRvRRP/nyIOp/FRLgOp1E5fdFX16UWLLEN+vtKxMs02Yrwc512v0729EN2xFfR4BouMkKbYcYI8khAUbX6+ui/vLlaL2qf2skwHOJ0pSXyxWv6Gmv/cJf9TSYlV+2ZH9ojBGLzkto55CXEWomvKjdlfCiH3ZRWQRIgPvJJFLduPMmYOb22P2QCEfSzqzt6HcJq+NQHStARnyVAI8OeTOxHUl+WbvR9fu+G24fX4/41ZKUAM/BysJ/wVafBn+OnuxQOmDblon8CKzw/NJfT5aW0BAXLSuBrQrPiw8l0uqzYwSIRParBVchAe6jk6r8T3w7b2e3zTm9j/H9ZvJ1VRKc7zP3qRJqNiRmb6gonfj6rvhWBdgZou5IgpFouwL015/1ky9H61X9r0QCPJcoYdkvLzsXeCT9RV94VL9rLpCVXyU+W84klwlmp/DQftF2XzdAmxkB+nLUl2IBCfBaooTVfc3Eh5Jg9DQY3VwrT7Cr/aK6SIjVTc70w6r4KpEdHfJGbRmDE2DUb5H8sv6OkCQDJMDzsIKJZOO3X/lCfxs86aY/dDNG4vPLSnpj/BRHtB4Ne3cLL9u/kvIwyxUB+j70SHALSIDH8Qkpkh06JhJSlniixMfMAWY3G3ooM9x25gZDN+qK+BgBZtJbSYCrQ14kvY4AUT9l/RqtV/XCIAGew5SalYz/Qu5Kf0fmB6N22fau/JqMLWfLTIBoyJglvyNzfexxUX3ULlSXXXfUT1lZbEACfC5ZAorm9B6uPno6HL3sTebfb4z6qXDnWvx1VdcZ1VcCzIafVwx5veA6AvTXG/XTcPt52DpRIAFeg/9y7vrXom36Y5LgFIvdD6VA287OkL5asteFRLIytF0VHyPZEbQxe42kjPoz2iY2IAE+Bys/eyMNV4/k4NNf9CTY19nz2nZk8vPtra4nE55f7wqQSXpd0XWGvEjCI9ieiS/qH9SPvj5CQjyABHg+NkHZL2uWAllJZOkvS4Q+CVYwf9qHll4CmTRQ8usOTdGLEWckvWjY6wUYXS8jQNSXvl6cgAS4Dy8zK75q/0p0fk4vSnwo/Y1RzwXadvv2+XJ2LVXSG+O7NCoBRutnDnmz918VIOofu/TlaL2qFwtIgOcyJRhJxm9jUl+W7qpEGN24NgFmN1YnATLXk4mlM+TdIbxKuqjNmeQrAWZlcSES4L1ACc2mPWa+zydCu22Mn6lzuPNH7Vppc1eASFSV4LpiRO8ZrbMC9Nc+giXqswH2Y7eJRSTAa7Ff4uj3BKegPl39jkT4cEuLlV50o2W/DI0kMK8jEwk7xD0qvOq8VbuGWTIC9GXbV1k/iouRAPdjpdY9Zt402S9J22TH/H6gTX1IqFOWw53Hty9qd5R+KgFWQ95qyHp06BslulUBDrC0fZYlQYSEeAES4HV4sXmsnLoJECW+6Jeh/bntcVmbbZ1fr8QXra+Ib1V4nWFu1H6U9DIB+v7qyE9chAR4PpH4sr+/jRKglVb2QunQvobZd4x/5Zed37cZpR1GgOyQd6fwfD2SciVAf62oL+zSl6P1ql6ciAR4DT5JoS+7T3zdJDgFmP3+H5oDtMPgqJ2sALPUh5as0CoxRumyGm4Ps8z61m+P+iIrixsiAd4Lf6NFc4FMykP7DLf0kh3J/lnayQTIiG9VeGzSy2Q8Ri5AX5/1hS9ndcw2cTIS4PV4sXmyByDsyyZBK8NBLqP9bfvZ9iFBVULL0lwmvmiZlZm0l5VHUs7qxE2QAM9jfvGjvwzx29CxjOSqJDhGLkAryTGwAP2NXLXNS/CIALtzfZnsMgGOoOyXXnhKfC+MBHgtVoJzPdpnjHze7zPZPufyphzmuZAAo+1RObrxrRiyYWZ3KLtrrs+3Z5hlJcFsYmAzdwAAAv1JREFUOdz+w9WLF0ECvB8odbApcIyfN3smwK/xrzAj6Q1XZtp1ZK6vm/Q6w9xKgP7asmVW9kiIN0YCvAcoSbAp0IuwI8B5DvtfZiIJslLuio9JjEh6fn2MWIBIeIwA2bJ4MSTA85k3SPYLxexcoBWaF59fHyMX4DzvfFgS7bfyAKQjwI4QM+l1BOjb768rWvpyVsdsEzdBArwH2c3lhZWJcNbN1x9XF73HhykffQKMUlslvkqY2dKLzy4ZCfrr8tfqy1mdeDEkwOtBiRDtZ2/w6Becp/x82kMSs+f38rNJMDo2EyBKabsFWCU/u+yKT4nvlyEB3gt001W/G1glQrv057by83JeEeCK+CJpMg84qqTHDnmzclYnXhwJ8DpQ8vsK6qJjo5u5Kz5/jkewRMf6957rKJl15gCR9KK5PFaAqL126a/Lo8T35kiA98DKMbo5/TIS3zB10dKf82t8f/IbCRC1tRJgV3zREsmOfcCRle21jKAe1Yk3QwJ8HigRov3sMhsSWzn6c4zgODv8zX5X0C9RMmOWkQiZ5DfAthGUo/b6/kBCjJAQ3xAJ8F7YNBZtm8vPYLvHi9X/4rMtz/dlHpzM5VEB7hjmVkPcSHQr8hNvigR4H2wCQ9v9MntFkrSCteXOk2PmfVkBRrJD13FEfJEA0Xp0zeJNkQDvxbzZUAq0+7BJ0B/rf/WFEaAXyBEBIgmOEQvQi64jwKwshAT4BKzkonX2eC8FJEMri+j3/joCzESUPQ2u0t6KAFG77NKXszpmm3gzJMB7YtNZts9cfo7v/7S9Bf3aTSS/MwTIis8uVwWYlbM68UuRAO+HvUG7c4JzaeXinxhn8mN/H5EVIfuAIxMgWo+WvpzVMdvEmyMB3hvm5vQS8OJD//pLJL/OX4D4dVZ67Ct6X18eSTmrE2KMIQE+k3ljsnOB6Ea2f/3h/2/fAZas+KI2VAJkpbgiPrv02307s2sQYowhAd6ZmdJmmdl/zgVOvAjZ5HckAa6kPEaAvh4hwQma/wJH+XI6eesttwAAAABJRU5ErkJggg=="},,,,function(e,t,a){a(589);var n=a(2)(a(360),a(840),null,null);e.exports=n.exports},function(e,t,a){a(590);var n=a(2)(a(363),a(841),"data-v-55eb2da0",null);e.exports=n.exports},function(e,t,a){a(627);var n=a(2)(a(367),a(891),null,null);e.exports=n.exports},function(e,t,a){var n=a(2)(a(371),a(873),null,null);e.exports=n.exports},function(e,t,a){var n=a(2)(a(374),a(882),null,null);e.exports=n.exports},function(e,t,a){a(579);var n=a(2)(a(375),a(824),"data-v-34451c48",null);e.exports=n.exports},function(e,t,a){a(610);var n=a(2)(a(377),a(866),"data-v-79bdd94d",null);e.exports=n.exports},function(e,t,a){a(570);var n=a(2)(a(378),a(813),null,null);e.exports=n.exports},function(e,t,a){a(580);var n=a(2)(a(380),a(826),null,null);e.exports=n.exports},function(e,t,a){a(561);var n=a(2)(a(382),a(799),null,null);e.exports=n.exports},function(e,t,a){a(635);var n=a(2)(a(383),a(902),null,null);e.exports=n.exports},function(e,t,a){a(553);var n=a(2)(a(384),a(789),null,null);e.exports=n.exports},function(e,t,a){a(601);var n=a(2)(a(385),a(855),null,null);e.exports=n.exports},function(e,t,a){a(620);var n=a(2)(a(386),a(881),"data-v-ab3debe6",null);e.exports=n.exports},function(e,t,a){var n=a(2)(a(387),a(811),null,null);e.exports=n.exports},function(e,t,a){var n=a(2)(a(388),a(838),null,null);e.exports=n.exports},function(e,t,a){a(625);var n=a(2)(a(389),a(889),"data-v-c63e97fe",null);e.exports=n.exports},function(e,t,a){var n=a(2)(a(393),a(899),null,null);e.exports=n.exports},function(e,t,a){var n=a(2)(a(394),a(791),null,null);e.exports=n.exports},function(e,t,a){var n=a(2)(a(395),a(831),null,null);e.exports=n.exports},function(e,t,a){var n=a(2)(a(397),a(834),null,null);e.exports=n.exports},function(e,t,a){a(591);var n=a(2)(a(399),a(842),"data-v-56cf3761",null);e.exports=n.exports},function(e,t,a){var n=a(2)(a(401),a(810),null,null);e.exports=n.exports},function(e,t,a){var n=a(2)(a(402),a(832),null,null);e.exports=n.exports},function(e,t,a){var n=a(2)(a(403),a(805),null,null);e.exports=n.exports},function(e,t,a){var n=a(2)(a(406),a(837),null,null);e.exports=n.exports},function(e,t,a){a(612);var n=a(2)(a(407),a(868),null,null);e.exports=n.exports},function(e,t,a){a(575);var n=a(2)(a(411),a(818),"data-v-2d1dc0f0",null);e.exports=n.exports},function(e,t,a){a(634);var n=a(2)(a(422),a(901),null,null);e.exports=n.exports},function(e,t,a){a(586);var n=a(2)(a(423),a(835),"data-v-46163050",null);e.exports=n.exports},function(e,t,a){a(614);var n=a(2)(a(424),a(871),null,null);e.exports=n.exports},function(e,t,a){a(571);var n=a(2)(a(425),a(814),"data-v-2a60c1ec",null);e.exports=n.exports},function(e,t,a){a(552);var n=a(2)(a(426),a(787),"data-v-02253e2f",null);e.exports=n.exports},function(e,t,a){a(588);var n=a(2)(a(427),a(839),"data-v-520803dc",null);e.exports=n.exports},function(e,t,a){a(563);var n=a(2)(a(428),a(801),"data-v-1766102c",null);e.exports=n.exports},function(e,t,a){a(621);var n=a(2)(a(429),a(883),null,null);e.exports=n.exports},function(e,t,a){a(622);var n=a(2)(a(430),a(884),null,null);e.exports=n.exports},function(e,t,a){a(576);var n=a(2)(a(431),a(819),null,null);e.exports=n.exports},function(e,t,a){a(577);var n=a(2)(a(432),a(821),null,null);e.exports=n.exports},function(e,t,a){var n=a(2)(a(433),a(853),null,null);e.exports=n.exports},function(e,t,a){a(598);var n=a(2)(a(434),a(849),null,null);e.exports=n.exports},function(e,t,a){a(619);var n=a(2)(a(435),a(880),"data-v-a7db42f0",null);e.exports=n.exports},function(e,t,a){a(587);var n=a(2)(a(436),a(836),null,null);e.exports=n.exports},function(e,t,a){var n=a(2)(a(437),a(870),null,null);e.exports=n.exports},function(e,t,a){a(573);var n=a(2)(a(439),a(816),null,null);e.exports=n.exports},function(e,t,a){var n=a(2)(a(440),a(825),null,null);e.exports=n.exports},function(e,t,a){a(556);var n=a(2)(a(441),a(794),null,null);e.exports=n.exports},function(e,t,a){a(592);var n=a(2)(a(442),a(843),null,null);e.exports=n.exports},function(e,t,a){a(609);var n=a(2)(a(444),a(865),null,null);e.exports=n.exports},function(e,t,a){var n=a(2)(a(445),a(872),null,null);e.exports=n.exports},function(e,t,a){a(631);var n=a(2)(a(446),a(895),null,null);e.exports=n.exports},function(e,t,a){var n=a(2)(a(447),a(822),null,null);e.exports=n.exports},function(e,t,a){a(630);var n=a(2)(a(448),a(894),"data-v-da47f9f6",null);e.exports=n.exports},function(e,t,a){a(593);var n=a(2)(a(449),a(844),null,null);e.exports=n.exports},function(e,t,a){a(555);var n=a(2)(a(450),a(793),null,null);e.exports=n.exports},function(e,t,a){a(617);var n=a(2)(a(451),a(876),null,null);e.exports=n.exports},function(e,t,a){a(572);var n=a(2)(a(453),a(815),null,null);e.exports=n.exports},function(e,t,a){a(604);var n=a(2)(a(454),a(858),"data-v-69a025ce",null);e.exports=n.exports},function(e,t,a){var n=a(2)(a(455),a(887),null,null);e.exports=n.exports},function(e,t,a){a(583);var n=a(2)(a(456),a(829),"data-v-425d254f",null);e.exports=n.exports},function(e,t,a){a(632);var n=a(2)(a(457),a(897),"data-v-e5a60298",null);e.exports=n.exports},function(e,t,a){a(616);var n=a(2)(a(458),a(875),null,null);e.exports=n.exports},function(e,t,a){var n=a(2)(a(459),a(860),null,null);e.exports=n.exports},function(e,t,a){var n=a(2)(a(460),a(854),null,null);e.exports=n.exports},function(e,t,a){a(607);var n=a(2)(a(461),a(862),null,null);e.exports=n.exports},function(e,t,a){a(629);var n=a(2)(a(462),a(893),null,null);e.exports=n.exports},function(e,t,a){a(626);var n=a(2)(a(464),a(890),null,null);e.exports=n.exports},function(e,t,a){var n=a(2)(a(465),a(877),null,null);e.exports=n.exports},function(e,t,a){var n=a(2)(a(466),a(808),null,null);e.exports=n.exports},function(e,t,a){a(603);var n=a(2)(a(467),a(857),"data-v-66bc6a80",null);e.exports=n.exports},function(e,t,a){a(567);var n=a(2)(a(469),a(807),"data-v-1f0988cd",null);e.exports=n.exports},function(e,t,a){var n=a(2)(a(470),a(850),null,null);e.exports=n.exports},function(e,t,a){a(568);var n=a(2)(a(471),a(809),"data-v-1fb57170",null);e.exports=n.exports},function(e,t,a){var n=a(2)(a(472),a(885),null,null);e.exports=n.exports},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("label",{attrs:{id:e.id,required:e.isRequired}},[e._v(" "+e._s(e.label)+" ")]),e._v(" "),e.help_text?[a("HelpText",{attrs:{help_text:e.help_text}})]:e._e(),e._v(" "),e.help_text_url?[a("HelpTextUrl",{attrs:{help_text_url:e.help_text_url}})]:e._e(),e._v(" "),a("div",{staticClass:"grid-container"},[a("div",e._l(e.headers,function(t){return e.headers?a("label",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.label,expression:"header.label"}],staticClass:"form-control",attrs:{disabled:"disabled"},domProps:{value:t.label},on:{input:function(a){a.target.composing||e.$set(t,"label",a.target.value)}}}),e._v(" "),e._l(e.field_data,function(n,i){return a("div",{staticClass:"grid-item"},e._l(n,function(n,s){return s==t.name?a("div",{key:"f_"+s,attrs:{id:"header.name",name:e.name+"::"+t.name}},["date"===t.type?a("div",[a("input",{staticClass:"form-control",attrs:{type:"text",id:t.name+"::"+i,disabled:t.readonly,name:e.name+"::"+t.name,placeholder:"DD/MM/YYYY","v-model":e.setDateValue(n.value,i,t.name),required:e.isRequired}})]):e._e(),e._v(" "),"string"===t.type?a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:n.value,expression:"title.value"}],staticClass:"form-control",attrs:{disabled:t.readonly,type:"text",id:t.name+"::"+i,name:e.name+"::"+t.name,required:e.isRequired},domProps:{value:n.value},on:{input:function(t){t.target.composing||e.$set(n,"value",t.target.value)}}})]):e._e(),e._v(" "),"number"===t.type?a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:n.value,expression:"title.value"}],staticClass:"form-control",attrs:{disabled:t.readonly,id:t.name+"::"+i,type:"text",name:e.name+"::"+t.name,required:e.isRequired},domProps:{value:n.value},on:{input:function(t){t.target.composing||e.$set(n,"value",t.target.value)}}})]):e._e()]):e._e()}),0)})],2):e._e()}),0)]),e._v(" "),a("div",[a("button",{staticClass:"btn btn-link",on:{click:function(t){return t.preventDefault(),e.addRow()}}},[e._v("Add Row")])])],2)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"col-md-12 conditions-table"},[a("div",{staticClass:"row"},[a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"panel-heading"},[a("h3",{staticClass:"panel-title"},[e._v("Proposed Conditions\n                    "),a("a",{staticClass:"panelClicker",attrs:{href:"#"+e.panelBody,"data-toggle":"collapse","data-parent":"#userInfo",expanded:"false","aria-controls":e.panelBody}},[a("span",{staticClass:"glyphicon glyphicon-chevron-down pull-right "})])])]),e._v(" "),a("div",{staticClass:"panel-body panel-collapse collapse in",attrs:{id:e.panelBody}},[a("form",{staticClass:"form-horizontal",attrs:{action:"index.html",method:"post"}},[a("div",{staticClass:"col-sm-12"},[e.canEditConditons?a("button",{staticClass:"btn btn-primary pull-right",staticStyle:{"margin-bottom":"10px"},on:{click:function(t){return t.preventDefault(),e.addCondition()}}},[e._v("Add Condition")]):e._e()]),e._v(" "),a("datatable",{ref:"conditions_datatable",attrs:{id:"conditions-datatable-"+e._uid,dtOptions:e.condition_options,dtHeaders:e.condition_headers}})],1)])])]),e._v(" "),a("ConditionDetail",{ref:"condition_detail",attrs:{application_id:e.application.id,conditions:e.conditions,licence_activity_tab:e.selected_activity_tab_id,condition:e.viewedCondition}})],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("RendererForm",{attrs:{withSectionsSelector:e.withSectionsSelector,form_width:e.form_width}}),e._v(" "),e._t("default")],2)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"panel-heading"},[a("h3",{staticClass:"panel-title"},[e._v(e._s(e.applicationTitle)+" for\n                        "),e.selected_apply_org_id?a("span",[e._v(e._s(e.selected_apply_org_id_details.name)+" ("+e._s(e.selected_apply_org_id_details.abn)+")")]):e._e(),e._v(" "),e.selected_apply_proxy_id?a("span",[e._v(e._s(e.selected_apply_proxy_id_details.first_name)+" "+e._s(e.selected_apply_proxy_id_details.last_name)+" ("+e._s(e.selected_apply_proxy_id_details.email)+")")]):e._e(),e._v(" "),e.selected_apply_org_id||e.selected_apply_proxy_id?e._e():a("span",[e._v("yourself")]),e._v(" "),a("a",{attrs:{href:"#"+e.pBody,"data-toggle":"collapse","data-parent":"#userInfo",expanded:"true","aria-controls":e.pBody}},[a("span",{staticClass:"glyphicon glyphicon-chevron-up pull-right "})])])]),e._v(" "),a("div",{staticClass:"panel-body collapse in",attrs:{id:e.pBody}},[e.categoryCount?a("form",{staticClass:"form-horizontal",attrs:{name:"personal_form",method:"post"}},[a("div",{staticClass:"col-sm-12"},[a("div",{staticClass:"row"},[a("label",{staticClass:"col-sm-6"},[e._v("\n                                    "+e._s(e.selectionLabel)+":\n                                ")])]),e._v(" "),a("div",{staticClass:"margin-left-20"},e._l(e.visibleLicenceCategories,function(t,n){return a("div",{staticClass:"radio"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-9"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.licence_categories.id,expression:"licence_categories.id"}],attrs:{type:"radio",id:t.id,name:"licence_category"},domProps:{value:t.id,checked:e._q(e.licence_categories.id,t.id)},on:{change:[function(a){return e.$set(e.licence_categories,"id",t.id)},function(t){return e.handleRadioChange(t,n)}]}}),e._v(" "+e._s(t.short_name)+"\n                                         \n                                        "),a("div",{staticClass:"row"},[t.checked?a("div",{staticClass:"col-sm-9"},e._l(t.activity,function(i,s){return""==e.selected_apply_org_id||1!=i.not_for_organisation?a("div",{staticClass:"checkbox margin-left-20"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.activity[s].selected,expression:"category.activity[index1].selected"}],ref:"selected_activity_type",refInFor:!0,attrs:{type:"checkbox",name:"activity",id:i.id},domProps:{value:i.id,checked:Array.isArray(t.activity[s].selected)?e._i(t.activity[s].selected,i.id)>-1:t.activity[s].selected},on:{change:[function(a){var n=t.activity[s].selected,o=a.target,r=!!o.checked;if(Array.isArray(n)){var l=i.id,c=e._i(n,l);o.checked?c<0&&e.$set(t.activity[s],"selected",n.concat([l])):c>-1&&e.$set(t.activity[s],"selected",n.slice(0,c).concat(n.slice(c+1)))}else e.$set(t.activity[s],"selected",r)},function(t){return e.handleActivityCheckboxChange(n,s)}]}}),e._v(" "+e._s(i.short_name)+"\n\n                                                    "),i.selected?a("div",e._l(i.purpose,function(t,s){return a("div",{staticClass:"checkbox purpose-clear-left"},[a("div",{staticClass:"col-sm-12"},[a("input",{directives:[{name:"model",rawName:"v-model",value:i.purpose[s].selected,expression:"type.purpose[index2].selected"}],attrs:{type:"checkbox",id:t.id},domProps:{value:t.id,checked:Array.isArray(i.purpose[s].selected)?e._i(i.purpose[s].selected,t.id)>-1:i.purpose[s].selected},on:{change:[function(a){var n=i.purpose[s].selected,o=a.target,r=!!o.checked;if(Array.isArray(n)){var l=t.id,c=e._i(n,l);o.checked?c<0&&e.$set(i.purpose[s],"selected",n.concat([l])):c>-1&&e.$set(i.purpose[s],"selected",n.slice(0,c).concat(n.slice(c+1)))}else e.$set(i.purpose[s],"selected",r)},function(t){return e.handlePurposeCheckboxChange(n,t)}]}}),e._v("\n                                                                        "+e._s(t.name)+"\n                                                                        "),a("span",[e._v(" ("+e._s(t.base_application_fee)+" + "+e._s(t.base_licence_fee)+")")])])])}),0):e._e()]):e._e()}),0):a("div",{staticClass:"col-sm-4"})])])])])}),0)]),e._v(" "),a("div",{staticClass:"col-sm-12"},[a("button",{staticClass:"btn btn-primary pull-right",staticStyle:{"margin-left":"10px"},on:{click:function(t){return t.preventDefault(),e.submit()}}},[e._v("Continue")]),e._v(" "),a("div",{staticClass:"pull-right",staticStyle:{"font-size":"18px"}},[a("strong",[e._v("Estimated application fee: "+e._s(e._f("toCurrency")(e.application_fee)))]),a("br"),e._v(" "),a("strong",[e._v("Estimated licence fee: "+e._s(e._f("toCurrency")(e.licence_fee)))]),a("br")])])]):a("div",[e._m(0)])])])])])])},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"col-sm-12"},[a("div",{staticClass:"row"},[a("label",[e._v("\n                                    No matching licensed activities found.\n                                ")])])])}]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"panel-heading"},[a("h3",{staticClass:"panel-title"},[e._v(e._s(e.label)+"\n        "),a("a",{staticClass:"panelClicker",attrs:{href:"#"+e.section_id,"data-toggle":"collapse",expanded:"true","aria-controls":e.section_id}},[a("span",{staticClass:"glyphicon glyphicon-chevron-down pull-right "})])])]),e._v(" "),a("div",{staticClass:"panel-body collapse in",attrs:{id:e.section_id}},[e._t("default")],2)])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("form",{attrs:{method:"POST",name:"external_returns_form",enctype:"multipart/form-data"}},[a("div",{staticClass:"container",attrs:{id:"externalReturn"}},[e.isReturnsLoaded?a("Returns",[a("div",{staticClass:"col-md-3"}),e._v(" "),a("div",{staticClass:"col-md-9"},[null==e.returns.lodgement_date&&"sheet"===e.returns.format?a("ReturnSheet"):e._e(),e._v(" "),null==e.returns.lodgement_date&&"question"===e.returns.format?a("ReturnQuestion"):e._e(),e._v(" "),null==e.returns.lodgement_date&&"data"===e.returns.format?a("ReturnData"):e._e(),e._v(" "),null!=e.returns.lodgement_date?a("ReturnSubmit"):e._e(),e._v(" "),a("div",{staticClass:"row",staticStyle:{"margin-bottom":"50px"}},[a("div",{staticClass:"navbar navbar-fixed-bottom",staticStyle:{"background-color":"#f5f5f5"}},[a("div",{staticClass:"navbar-inner"},[a("div",{staticClass:"container"},[a("p",{staticClass:"pull-right",staticStyle:{"margin-top":"5px"}},[a("button",{staticClass:"btn btn-primary btn-md",staticStyle:{width:"150px"},attrs:{name:"save_exit"}},[e._v("Save and Exit")]),e._v(" "),a("button",{staticClass:"btn btn-primary btn-md",staticStyle:{width:"150px"},attrs:{name:"save_continue"},on:{click:function(t){return t.preventDefault(),e.save()}}},[e._v("Save and Continue")]),e._v(" "),e.isSubmittable?a("button",{staticClass:"btn btn-primary btn-md",staticStyle:{width:"150px"},attrs:{name:"submit"},on:{click:function(t){return t.preventDefault(),e.submit()}}},[e._v("Submit")]):e._e()])])])])])],1)]):e._e()],1)])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"panel-heading"},[a("h3",{staticClass:"panel-title"},[e._v(e._s(e.sheetTitle)+"\n            "),a("a",{staticClass:"panelClicker",attrs:{href:"#"+e.pdBody,"data-toggle":"collapse","data-parent":"#userInfo",expanded:"true","aria-controls":e.pdBody}},[a("span",{staticClass:"glyphicon glyphicon-chevron-up pull-right "})])])]),e._v(" "),a("div",{staticClass:"panel-body panel-collapse in",attrs:{id:e.pdBody}},[a("div",{staticClass:"col-sm-12"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:""}},[e._v("Species Available:")]),e._v(" "),a("select",{staticClass:"form-control"},e._l(e.returns.sheet_species_list,function(t){return a("option",{staticClass:"change-species",attrs:{species_id:t},domProps:{value:e.returns.sheet_species}},[e._v(e._s(e.species_list[t]))])}),0)])]),e._v(" "),a("div",{staticClass:"col-md-6"},[e.readonly?e._e():a("div",{staticClass:"form-group"},[a("button",{staticClass:"btn btn-primary pull-right",attrs:{name:"sheet_entry"},on:{click:function(t){return t.preventDefault(),e.addSheetRow()}}},[e._v("New Entry")])])])]),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:""}},[e._v("Activity Type:")]),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.filterActivityType,expression:"filterActivityType"}],staticClass:"form-control",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.filterActivityType=t.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"All"}},[e._v("All")]),e._v(" "),e._l(e.sheet_activity_type,function(t){return a("option",{domProps:{value:t.label}},[e._v(e._s(t.label))])})],2)])])]),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-12"},[a("datatable",{ref:"return_datatable",attrs:{id:e.datatable_id,dtOptions:e.sheet_options,dtHeaders:e.sheet_headers}})],1)])])]),e._v(" "),a("SheetEntry",{ref:"sheet_entry"})],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container",attrs:{id:"internalOffenceDash"}},[a("FormSection",{attrs:{label:"Offence",Index:"0"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-3"},[a("label",{},[e._v("Type:")]),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.filterType,expression:"filterType"}],staticClass:"form-control",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.filterType=t.target.multiple?a:a[0]}}},e._l(e.offence_types,function(t){return a("option",{key:t.id,domProps:{value:t.id}},[e._v("\n                        "+e._s(t.display)+"\n                    ")])}),0)]),e._v(" "),a("div",{staticClass:"col-md-3"},[a("label",{},[e._v("Status:")]),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.filterStatus,expression:"filterStatus"}],staticClass:"form-control",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.filterStatus=t.target.multiple?a:a[0]}}},e._l(e.offence_statuses,function(t){return a("option",{key:t.id,domProps:{value:t.id}},[e._v("\n                        "+e._s(t.display)+"\n                    ")])}),0)])]),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-3"},[a("label",{},[e._v("Date from:")]),e._v(" "),a("div",{ref:"issueDateFromPicker",staticClass:"input-group date"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.filterDateFromPicker,expression:"filterDateFromPicker"}],staticClass:"form-control",attrs:{type:"text",placeholder:"DD/MM/YYYY"},domProps:{value:e.filterDateFromPicker},on:{input:function(t){t.target.composing||(e.filterDateFromPicker=t.target.value)}}}),e._v(" "),a("span",{staticClass:"input-group-addon"},[a("span",{staticClass:"glyphicon glyphicon-calendar"})])])]),e._v(" "),a("div",{staticClass:"col-md-3"},[a("label",{},[e._v("Date to:")]),e._v(" "),a("div",{ref:"issueDateToPicker",staticClass:"input-group date"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.filterDateToPicker,expression:"filterDateToPicker"}],staticClass:"form-control",attrs:{type:"text",placeholder:"DD/MM/YYYY"},domProps:{value:e.filterDateToPicker},on:{input:function(t){t.target.composing||(e.filterDateToPicker=t.target.value)}}}),e._v(" "),a("span",{staticClass:"input-group-addon"},[a("span",{staticClass:"glyphicon glyphicon-calendar"})])])]),e._v(" "),e.visibilityCreateNewButton?a("div",{staticClass:"col-md-3 pull-right"},[a("button",{staticClass:"btn btn-primary pull-right",on:{click:function(t){return t.preventDefault(),e.createOffence(t)}}},[e._v("New Offence")])]):e._e()]),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-12"},[a("datatable",{ref:"offence_table",attrs:{id:"offence-table",dtOptions:e.dtOptions,dtHeaders:e.dtHeaders}})],1)])]),e._v(" "),a("FormSection",{attrs:{label:"Location",Index:"1"}},[a("MapLocations")],1),e._v(" "),e.offenceInitialised?a("div",[a("OffenceModal",{key:e.createOffenceBindId,ref:"add_offence"})],1):e._e()],1)},staticRenderFns:[]}},function(e,t,a){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{},[n("div",{attrs:{id:"map-filter"}},[n("div",[n("label",{},[e._v("Inspection Types")]),e._v(" "),n("select",{directives:[{name:"model",rawName:"v-model",value:e.filterInspectionType,expression:"filterInspectionType"}],staticClass:"form-control",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.filterInspectionType=t.target.multiple?a:a[0]}}},e._l(e.type_choices,function(t){return n("option",{key:t.id,domProps:{value:t.id}},[e._v("\n                    "+e._s(t.inspection_type)+"\n                ")])}),0)]),e._v(" "),n("div",[n("label",{},[e._v("Inspection Status")]),e._v(" "),n("select",{directives:[{name:"model",rawName:"v-model",value:e.filterStatus,expression:"filterStatus"}],staticClass:"form-control",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.filterStatus=t.target.multiple?a:a[0]}}},e._l(e.status_choices,function(t){return n("option",{key:t.id,domProps:{value:t.id}},[e._v("\n                    "+e._s(t.display)+"\n                ")])}),0)]),e._v(" "),n("div",[n("label",{},[e._v("Planned Date From")]),e._v(" "),n("div",{ref:"lodgementDateFromPicker",staticClass:"input-group date"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.filterDateFrom,expression:"filterDateFrom"}],staticClass:"form-control",attrs:{type:"text",placeholder:"DD/MM/YYYY"},domProps:{value:e.filterDateFrom},on:{input:function(t){t.target.composing||(e.filterDateFrom=t.target.value)}}}),e._v(" "),e._m(0)])]),e._v(" "),n("div",[n("label",{},[e._v("Planned Date To")]),e._v(" "),n("div",{ref:"lodgementDateToPicker",staticClass:"input-group date"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.filterDateTo,expression:"filterDateTo"}],staticClass:"form-control",attrs:{type:"text",placeholder:"DD/MM/YYYY"},domProps:{value:e.filterDateTo},on:{input:function(t){t.target.composing||(e.filterDateTo=t.target.value)}}}),e._v(" "),e._m(1)])])]),e._v(" "),n("div",{attrs:{id:"map-wrapper"}},[e._m(2),e._v(" "),n("div",{attrs:{id:"mapLeaf"}}),e._v(" "),n("div",{attrs:{id:"basemap-button"}},[n("img",{attrs:{id:"basemap_sat",src:a(55)},on:{click:function(t){return e.setBaseLayer("sat")}}}),e._v(" "),n("img",{attrs:{id:"basemap_osm",src:a(54)},on:{click:function(t){return e.setBaseLayer("osm")}}})]),e._v(" "),n("div",{attrs:{id:"cursor-location"}},[e.cursor_location?n("div",[n("span",{attrs:{id:"cursor-location-lat"}},[e._v(e._s(e.cursor_location.lat.toFixed(5))+", "+e._s(e.cursor_location.lng.toFixed(5)))])]):e._e()])])])},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{staticClass:"input-group-addon"},[a("span",{staticClass:"glyphicon glyphicon-calendar"})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{staticClass:"input-group-addon"},[a("span",{staticClass:"glyphicon glyphicon-calendar"})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"search-box"}},[a("input",{attrs:{id:"search-input"}})])}]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],attrs:{transition:e.transition}},[a("div",{staticClass:"modal",on:{click:function(t){return t.target!==t.currentTarget?null:e.clickMask(t)}}},[a("div",{staticClass:"modal-dialog",class:e.modalClass,attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[e._t("header",[a("div",{staticClass:"modal-header"},[a("a",{staticClass:"close",attrs:{type:"button"},on:{click:e.cancel}},[e._v("x")]),e._v(" "),a("h4",{staticClass:"modal-title"},[e._t("title",[e._v("\n                                "+e._s(e.title)+"\n                            ")])],2)])]),e._v(" "),a("div",{staticClass:"modal-body"},[e._t("default")],2),e._v(" "),a("div",{staticClass:"modal-footer"},[e._t("footer",[e.showOk?a("button",{class:e.okClass,attrs:{id:"okBtn",type:"button"},on:{click:e.ok}},[e._v(e._s(e.okText))]):e._e(),e._v(" "),a("button",{class:e.cancelClass,attrs:{type:"button"},on:{click:e.cancel}},[e._v(e._s(e.cancelText))])])],2)],2)])]),e._v(" "),a("div",{staticClass:"modal-backdrop in"})])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"form-group"},[a("label",{attrs:{id:e.id,num_files:e.num_documents()}},[e._v(e._s(e.label))]),e._v(" "),e.files?a("div",[e._l(e.documents,function(t){return a("div",[a("p",[e._v("\n                    File: "),a("a",{attrs:{href:t.file,target:"_blank"}},[e._v(e._s(t.name))]),e._v(" \n                    "),e.readonly?e._e():a("span",[a("a",{staticClass:"fa fa-trash-o",staticStyle:{cursor:"pointer",color:"red"},attrs:{title:"Remove file",filename:t.name},on:{click:function(a){return e.delete_document(t)}}})])])])}),e._v(" "),e.show_spinner?a("div",[a("i",{staticClass:"fa fa-2x fa-spinner fa-spin"})]):e._e()],2):e._e(),e._v(" "),e._l(e.repeat,function(t){return e.readonly?e._e():a("div",[e.isRepeatable||!e.isRepeatable&&0==e.num_documents()?a("div",[a("input",{attrs:{name:e.name,type:"file","data-que":t,accept:e.fileTypes},on:{change:e.handleChangeWrapper}})]):e._e()])})],2)])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"form-group"},[a("label",{attrs:{id:e.id}},[e._v(e._s(e.label))]),e._v(" "),e.help_text?[a("HelpText",{attrs:{help_text:e.help_text}})]:e._e(),e._v(" "),e.help_text_url?[a("HelpText",{attrs:{help_text_url:e.help_text_url}})]:e._e(),e._v(" "),a("CommentBlock",{attrs:{label:e.label,name:e.name,field_data:e.field_data}}),e._v(" "),e.readonly?[e.isMultiple?a("select",{ref:"selectB",staticClass:"form-control",staticStyle:{width:"100%"},attrs:{disabled:"",id:e.selectid,multiple:""}},[a("option",{attrs:{value:""}},[e._v("Select...")]),e._v(" "),e._l(e.options,function(t){return a("option",{domProps:{value:t.value,selected:e.multipleSelection(t.value)}},[e._v(e._s(t.label))])})],2):a("select",{ref:"selectB",staticClass:"form-control",staticStyle:{width:"100%"},attrs:{disabled:"",id:e.selectid,name:e.name,"data-conditions":e.cons}},[a("option",{attrs:{value:""}},[e._v("Select...")]),e._v(" "),e._l(e.options,function(t){return a("option",{domProps:{value:t.value,selected:t.value==e.value},on:{change:e.handleChange}},[e._v(e._s(t.label))])})],2),e._v(" "),e.isMultiple?e._l(e.value,function(t){return a("input",{attrs:{input:"",type:"hidden",name:e.name,required:e.isRequired},domProps:{value:t}})}):[a("input",{attrs:{type:"hidden",name:e.name,required:e.isRequired},domProps:{value:e.value}})]]:[e.isMultiple?a("select",{ref:"selectB",staticClass:"form-control",staticStyle:{width:"100%"},attrs:{id:e.selectid,name:e.name,multiple:"",required:e.isRequired}},[a("option",{attrs:{value:""}},[e._v("Select...")]),e._v(" "),e._l(e.options,function(t){return a("option",{domProps:{value:t.value,selected:e.multipleSelection(t.value)}},[e._v(e._s(t.label))])})],2):a("select",{ref:"selectB",staticClass:"form-control",staticStyle:{width:"100%"},attrs:{id:e.selectid,name:e.name,"data-conditions":e.cons,required:e.isRequired}},[a("option",{attrs:{value:""}},[e._v("Select...")]),e._v(" "),e._l(e.options,function(t){return a("option",{domProps:{value:t.value,selected:t.value==e.value},on:{change:e.handleChange}},[e._v(e._s(t.label))])})],2)]],2)])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("form",{attrs:{action:e.application_form_url,method:"post",name:"new_application",enctype:"multipart/form-data"}},[e.missing_fields.length>0?a("div",{staticStyle:{margin:"10px",padding:"5px",color:"red",border:"1px solid red"},attrs:{id:"error"}},[a("b",[e._v("Please answer the following mandatory question(s):")]),e._v(" "),a("ul",e._l(e.missing_fields,function(t){return a("li",[e._v("\n                    "+e._s(t.label)+"\n                ")])}),0)]):e._e(),e._v(" "),e.isApplicationLoaded?a("Application",[a("input",{attrs:{type:"hidden",name:"csrfmiddlewaretoken"},domProps:{value:e.csrf_token}}),e._v(" "),a("input",{attrs:{type:"hidden",name:"schema"},domProps:{value:JSON.stringify(e.application)}}),e._v(" "),a("input",{attrs:{type:"hidden",name:"application_id"},domProps:{value:1}}),e._v(" "),!e.application.readonly&&e.userCanSubmit?a("div",{staticClass:"row",staticStyle:{"margin-bottom":"50px"}},[a("div",{staticClass:"navbar navbar-fixed-bottom",staticStyle:{"background-color":"#f5f5f5"}},[a("div",{staticClass:"navbar-inner"},[a("div",{staticClass:"container"},[a("p",{staticClass:"pull-right",staticStyle:{"margin-top":"5px"}},[e.requiresCheckout?a("span",{staticStyle:{"margin-right":"5px","font-size":"18px",display:"block"}},[a("strong",[e._v("Estimated application fee: "+e._s(e._f("toCurrency")(e.application.application_fee)))]),e._v(" "),a("strong",[e._v("Estimated licence fee: "+e._s(e._f("toCurrency")(e.application.licence_fee)))])]):e._e(),e._v(" "),!e.isProcessing&&e.canDiscardActivity?a("input",{staticClass:"btn btn-danger",attrs:{type:"button",value:"Discard Activity"},on:{click:function(t){return t.preventDefault(),e.discardActivity(t)}}}):e._e(),e._v(" "),e.isProcessing?e._e():a("input",{staticClass:"btn btn-primary",attrs:{type:"button",value:"Save and Exit"},on:{click:function(t){return t.preventDefault(),e.saveExit(t)}}}),e._v(" "),e.isProcessing?e._e():a("input",{staticClass:"btn btn-primary",attrs:{type:"button",value:"Save and Continue"},on:{click:function(t){return t.preventDefault(),e.save(t)}}}),e._v(" "),e.isProcessing||e.requiresCheckout?e._e():a("input",{staticClass:"btn btn-primary",attrs:{type:"button",value:"Submit"},on:{click:function(t){return t.preventDefault(),e.submit(t)}}}),e._v(" "),!e.isProcessing&&e.requiresCheckout?a("input",{staticClass:"btn btn-primary",attrs:{type:"button",value:"Submit and Checkout"},on:{click:function(t){return t.preventDefault(),e.submit(t)}}}):e._e(),e._v(" "),e.isProcessing?a("button",{staticClass:"pull-right btn btn-primary",attrs:{disabled:""}},[a("i",{staticClass:"fa fa-spin fa-spinner"}),e._v("Processing")]):e._e()])])])])]):a("div",{staticClass:"row",staticStyle:{"margin-bottom":"50px"}},[a("div",{staticClass:"navbar navbar-fixed-bottom",staticStyle:{"background-color":"#f5f5f5"}},[a("div",{staticClass:"navbar-inner"},[a("div",{staticClass:"container"},[a("p",{staticClass:"pull-right",staticStyle:{"margin-top":"5px"}},[e.isProcessing?a("button",{staticClass:"pull-right btn btn-primary",attrs:{disabled:""}},[a("i",{staticClass:"fa fa-spin fa-spinner"}),e._v("Processing")]):a("router-link",{staticClass:"btn btn-primary",attrs:{to:{name:"external-applications-dash"}}},[e._v("Back to Dashboard")])],1)])])])])]):e._e()],1)])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],class:{alert:!0,"alert-success":"success"==e.type,"alert-warning":"warning"==e.type,"alert-info":"info"==e.type,"alert-danger":"danger"==e.type,top:"top"===e.placement,"top-right":"top-right"===e.placement},style:{width:e.width},attrs:{transition:"fade",role:"alert"}},[a("button",{directives:[{name:"show",rawName:"v-show",value:e.dismissable,expression:"dismissable"}],staticClass:"close",attrs:{type:"button"},on:{click:function(t){e.show=!1}}},[a("span",[e._v("")])]),e._v(" "),e._t("default")],2)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.isFinalised||e.isPartiallyFinalised?[a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"panel-heading"},[a("h3",{staticClass:"panel-title"},[e._v("Licence Details\n                    "),a("a",{staticClass:"panelClicker",attrs:{href:"#licence_details","data-toggle":"collapse",expanded:"true","aria-controls":"licence_details"}},[a("span",{staticClass:"glyphicon glyphicon-chevron-down pull-right "})])])]),e._v(" "),a("div",{staticClass:"panel-body collapse in",attrs:{id:"licence_details"}},[a("ul",e._l(e.finalisedActivities,function(t,n){return a("li",{key:"licence_row_"+n,attrs:{id:"licence_"+t.id}},["accepted"==t.processing_status.id?a("div",[a("b",[e._v(e._s(t.name)+":")]),e._v(" Issued (valid for "+e._s(e.format(t.start_date))+" - "+e._s(e.format(t.expiry_date))+")\n                        ")]):e._e(),e._v(" "),"declined"==t.processing_status.id?a("div",[a("b",[e._v(e._s(t.name)+":")]),e._v(" Declined\n                        ")]):e._e()])}),0)])])]:e._e()],2)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"panel-heading"},[a("h3",{staticClass:"panel-title"},[e._v("Licences "),e.is_external?a("small",[e._v("View existing licences and amend or renew them")]):e._e(),e._v(" "),a("a",{attrs:{href:"#"+e.pBody,"data-toggle":"collapse","data-parent":"#userInfo",expanded:"true","aria-controls":e.pBody}},[a("span",{staticClass:"glyphicon glyphicon-chevron-up pull-right "})])])]),e._v(" "),a("div",{staticClass:"panel-body collapse in",attrs:{id:e.pBody}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-3"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:""}},[e._v("Licence Category")]),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.filterLicenceType,expression:"filterLicenceType"}],staticClass:"form-control",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.filterLicenceType=t.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"All"}},[e._v("All")]),e._v(" "),e._l(e.licence_categories,function(t){return a("option",{domProps:{value:t}},[e._v(e._s(t))])})],2)])])]),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-3"},[a("label",{attrs:{for:""}},[e._v("Issued From")]),e._v(" "),a("div",{ref:"licenceDateFromPicker",staticClass:"input-group date"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.filterLicenceIssuedFrom,expression:"filterLicenceIssuedFrom"}],staticClass:"form-control",attrs:{type:"text",placeholder:"DD/MM/YYYY"},domProps:{value:e.filterLicenceIssuedFrom},on:{input:function(t){t.target.composing||(e.filterLicenceIssuedFrom=t.target.value)}}}),e._v(" "),e._m(0)])]),e._v(" "),a("div",{staticClass:"col-md-3"},[a("label",{attrs:{for:""}},[e._v("Issued To")]),e._v(" "),a("div",{ref:"licenceDateToPicker",staticClass:"input-group date"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.filterLicenceIssuedTo,expression:"filterLicenceIssuedTo"}],staticClass:"form-control",attrs:{type:"text",placeholder:"DD/MM/YYYY"},domProps:{value:e.filterLicenceIssuedTo},on:{input:function(t){t.target.composing||(e.filterLicenceIssuedTo=t.target.value)}}}),e._v(" "),e._m(1)])]),e._v(" "),a("div",{staticClass:"col-md-3"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:""}},[e._v("Licence Holder")]),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.filterLicenceHolder,expression:"filterLicenceHolder"}],ref:"licence_holder_select",staticClass:"form-control",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.filterLicenceHolder=t.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"All"}},[e._v("All")]),e._v(" "),e._l(e.licence_holders,function(t){return a("option",{key:"licence_holder_"+t.holder_name,domProps:{value:t.holder_name}},[e._v(e._s(t.holder_name))])})],2)])])]),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-12"},[a("datatable",{ref:"licence_datatable",attrs:{id:e.datatable_id,dtOptions:e.licence_options,dtHeaders:e.licence_headers}})],1)])])])]),e._v(" "),a("LicenceActionPurposes",{ref:"licence_action_purposes",attrs:{licence_activity_purposes:e.action_purpose_list,licence_id:e.selected_licence_id,action:e.licence_action},on:{refreshFromResponse:e.refreshFromResponse}})],1)},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{staticClass:"input-group-addon"},[a("span",{staticClass:"glyphicon glyphicon-calendar"})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{staticClass:"input-group-addon"},[a("span",{staticClass:"glyphicon glyphicon-calendar"})])}]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"form-group"},[a("div",{staticClass:"checkbox"},[a("label",{attrs:{id:e.id}}),e._v(" "),a("input",{ref:"Checkbox",class:e.group,attrs:{onclick:e.isClickable,name:e.name,type:"checkbox","data-parsley-required":"","data-conditions":e.options,required:e.isRequired},domProps:{checked:e.isChecked},on:{change:e.handleChange}}),e._v("\n            "+e._s(e.label)+"\n            "),e.help_text?[a("HelpText",{attrs:{help_text:e.help_text}})]:e._e(),e._v(" "),e.help_text_url?[a("HelpTextUrl",{attrs:{help_text_url:e.help_text_url}})]:e._e()],2)])])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"panel-heading"},[a("h3",{staticClass:"panel-title"},[e._v(e._s(e.label)+" \n        "),a("a",{staticClass:"panelClicker",attrs:{href:"#"+e.section_id,"data-toggle":"collapse",expanded:"true","aria-controls":e.section_id}},[a("span",{class:e.panel_chevron_class})])])]),e._v(" "),a("div",{class:e.panel_collapse_class,attrs:{id:e.section_id}},[e._t("default")],2)])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",e._l(e.condition_keys,function(t){return a("div",[a("div",{class:{hidden:!e.isVisible(t)},attrs:{id:"cons_"+e.name+"_"+t}},e._l(e.conditionBlocks(t),function(n,i){return a("renderer-block",{key:"condition_"+t+"_"+i,attrs:{component:n,json_data:e.data,instance:e.instance}})}),1)])}),0)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("ReturnsRendererForm",{attrs:{form_width:e.form_width}}),e._v(" "),e._t("default")],2)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container",attrs:{id:"userInfo"}},[e.showCompletion?a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("div",{staticClass:"well well-sm"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("p",[e._v("\n                            We have detected that this may be the first time you have logged into the system.Please take a moment to provide us with your details\n                            (personal details, address details, contact details, and whether you are managing licences for an organisation).\n                            Once completed, click Continue to start using the system.\n                        ")]),e._v(" "),e.completedProfile?a("button",{staticClass:"btn btn-primary pull-right",on:{click:function(t){return t.preventDefault(),e.userProfileCompleted()}}},[e._v("Continue")]):a("button",{staticClass:"btn btn-primary pull-right",attrs:{disabled:""}},[e._v("Complete profile to continue")])])])])])]):e._e(),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"panel-heading"},[a("h3",{staticClass:"panel-title"},[e._v("Personal Details "),a("small",[e._v("Provide your personal details")]),e._v(" "),a("a",{staticClass:"panelClicker",attrs:{href:"#"+e.pBody,"data-toggle":"collapse","data-parent":"#userInfo",expanded:"true","aria-controls":e.pBody}},[a("span",{staticClass:"glyphicon glyphicon-chevron-up pull-right "})])])]),e._v(" "),a("div",{staticClass:"panel-body collapse in",attrs:{id:e.pBody}},[a("form",{staticClass:"form-horizontal",attrs:{name:"personal_form",method:"post"}},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-3 control-label",attrs:{for:""}},[e._v("Given name(s)")]),e._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.current_user.first_name,expression:"current_user.first_name"}],staticClass:"form-control",attrs:{type:"text",name:"first_name",placeholder:""},domProps:{value:e.current_user.first_name},on:{input:function(t){t.target.composing||e.$set(e.current_user,"first_name",t.target.value)}}})])]),e._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-3 control-label",attrs:{for:""}},[e._v("Surname")]),e._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.current_user.last_name,expression:"current_user.last_name"}],staticClass:"form-control",attrs:{type:"text",name:"last_name",placeholder:""},domProps:{value:e.current_user.last_name},on:{input:function(t){t.target.composing||e.$set(e.current_user,"last_name",t.target.value)}}})])]),e._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-3 control-label",attrs:{for:""}},[e._v("Date of Birth")]),e._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.current_user.dob,expression:"current_user.dob"}],staticClass:"form-control",attrs:{type:"date",name:"dob",placeholder:"",max:"2100-12-31"},domProps:{value:e.current_user.dob},on:{input:function(t){t.target.composing||e.$set(e.current_user,"dob",t.target.value)}}})])]),e._v(" "),a("div",{staticClass:"form-group"},[a("div",{staticClass:"col-sm-12"},[e.updatingPersonal?a("button",{staticClass:"pull-right btn btn-primary",attrs:{disabled:""}},[a("i",{staticClass:"fa fa-spin fa-spinner"}),e._v("Updating")]):a("button",{staticClass:"pull-right btn btn-primary",on:{click:function(t){return t.preventDefault(),e.updatePersonal()}}},[e._v("Update")])])])])])])])]),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"panel-heading"},[a("h3",{staticClass:"panel-title"},[e._v("Identification "),a("small",[e._v("Upload your photo ID")]),e._v(" "),a("a",{staticClass:"panelClicker",attrs:{href:"#"+e.idBody,"data-toggle":"collapse","data-parent":"#userInfo",expanded:"false","aria-controls":e.idBody}},[a("span",{staticClass:"glyphicon glyphicon-chevron-down pull-right "})])])]),e._v(" "),a("div",{staticClass:"panel-body collapse",attrs:{id:e.idBody}},[a("form",{staticClass:"form-horizontal",attrs:{name:"id_form",method:"post"}},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-3 control-label",attrs:{for:""}},[e._v("Identification")]),e._v(" "),a("div",{staticClass:"col-sm-6"},[e.current_user.identification?a("img",{attrs:{width:"100%",name:"identification",src:e.current_user.identification.file}}):e._e()])]),e._v(" "),a("div",{staticClass:"form-group"},[a("div",{staticClass:"col-sm-12"},[e.uploadingID?a("button",{staticClass:"pull-right btn btn-primary",attrs:{disabled:""}},[a("i",{staticClass:"fa fa-spin fa-spinner"}),e._v("Uploading")]):a("button",{staticClass:"pull-right btn btn-primary",on:{click:function(t){return t.preventDefault(),e.uploadID()}}},[e._v("Upload")]),e._v(" "),a("span",{staticClass:"pull-right",staticStyle:{"margin-left":"10px","margin-top":"10px","margin-right":"10px"}},[e._v(e._s(e.uploadedIDFileName))]),e._v(" "),a("span",{staticClass:"btn btn-primary btn-file pull-right"},[e._v("\n                                Select ID to Upload"),a("input",{ref:"uploadedID",attrs:{type:"file"},on:{change:function(t){return e.readFileID()}}})])])])])])])])]),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"panel-heading"},[e.showCompletion&&e.current_user.address_details?a("i",{staticClass:"fa fa-check fa-2x pull-left",staticStyle:{color:"green"}}):e.showCompletion&&!e.current_user.address_details?a("i",{staticClass:"fa fa-times fa-2x pull-left",staticStyle:{color:"red"}}):e._e(),e._v(" "),a("h3",{staticClass:"panel-title"},[e._v("Address Details "),a("small",[e._v("Provide your address details")]),e._v(" "),a("a",{staticClass:"panelClicker",attrs:{href:"#"+e.adBody,"data-toggle":"collapse",expanded:"false","data-parent":"#userInfo","aria-controls":e.adBody}},[a("span",{staticClass:"glyphicon glyphicon-chevron-down pull-right "})])])]),e._v(" "),0==e.loading.length?a("div",{staticClass:"panel-body collapse",attrs:{id:e.adBody}},[a("form",{staticClass:"form-horizontal",attrs:{action:"index.html",method:"post"}},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-3 control-label",attrs:{for:""}},[e._v("Street")]),e._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.current_user.residential_address.line1,expression:"current_user.residential_address.line1"}],staticClass:"form-control",attrs:{type:"text",name:"street",placeholder:""},domProps:{value:e.current_user.residential_address.line1},on:{input:function(t){t.target.composing||e.$set(e.current_user.residential_address,"line1",t.target.value)}}})])]),e._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-3 control-label",attrs:{for:""}},[e._v("Town/Suburb")]),e._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.current_user.residential_address.locality,expression:"current_user.residential_address.locality"}],staticClass:"form-control",attrs:{type:"text",name:"surburb",placeholder:""},domProps:{value:e.current_user.residential_address.locality},on:{input:function(t){t.target.composing||e.$set(e.current_user.residential_address,"locality",t.target.value)}}})])]),e._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-3 control-label",attrs:{for:""}},[e._v("State")]),e._v(" "),a("div",{staticClass:"col-sm-3"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.current_user.residential_address.state,expression:"current_user.residential_address.state"}],staticClass:"form-control",attrs:{type:"text",name:"country",placeholder:""},domProps:{value:e.current_user.residential_address.state},on:{input:function(t){t.target.composing||e.$set(e.current_user.residential_address,"state",t.target.value)}}})]),e._v(" "),a("label",{staticClass:"col-sm-1 control-label",attrs:{for:""}},[e._v("Postcode")]),e._v(" "),a("div",{staticClass:"col-sm-2"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.current_user.residential_address.postcode,expression:"current_user.residential_address.postcode"}],staticClass:"form-control",attrs:{type:"text",name:"postcode",placeholder:""},domProps:{value:e.current_user.residential_address.postcode},on:{input:function(t){t.target.composing||e.$set(e.current_user.residential_address,"postcode",t.target.value)}}})])]),e._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-3 control-label",attrs:{for:""}},[e._v("Country")]),e._v(" "),a("div",{staticClass:"col-sm-4"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.current_user.residential_address.country,expression:"current_user.residential_address.country"}],staticClass:"form-control",attrs:{name:"country"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.current_user.residential_address,"country",t.target.multiple?a:a[0])}}},e._l(e.countries,function(t){return a("option",{domProps:{value:t.alpha2Code}},[e._v(e._s(t.name))])}),0)])]),e._v(" "),a("div",{staticClass:"form-group"},[a("div",{staticClass:"col-sm-12"},[e.updatingAddress?a("button",{staticClass:"pull-right btn btn-primary",attrs:{disabled:""}},[a("i",{staticClass:"fa fa-spin fa-spinner"}),e._v("Updating")]):a("button",{staticClass:"pull-right btn btn-primary",on:{click:function(t){return t.preventDefault(),e.updateAddress()}}},[e._v("Update")])])])])]):e._e()])])]),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"panel-heading"},[e.showCompletion&&e.current_user.contact_details?a("i",{staticClass:"fa fa-check fa-2x pull-left",staticStyle:{color:"green"}}):e.showCompletion&&!e.current_user.contact_details?a("i",{staticClass:"fa fa-times fa-2x pull-left",staticStyle:{color:"red"}}):e._e(),e._v(" "),a("h3",{staticClass:"panel-title"},[e._v("Contact Details "),a("small",[e._v("Provide your contact details")]),e._v(" "),a("a",{staticClass:"panelClicker",attrs:{href:"#"+e.cBody,"data-toggle":"collapse","data-parent":"#userInfo",expanded:"false","aria-controls":e.cBody}},[a("span",{staticClass:"glyphicon glyphicon-chevron-down pull-right "})])])]),e._v(" "),a("div",{staticClass:"panel-body collapse",attrs:{id:e.cBody}},[a("form",{staticClass:"form-horizontal",attrs:{action:"index.html",method:"post"}},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-3 control-label",attrs:{for:""}},[e._v("Phone (work)")]),e._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.current_user.phone_number,expression:"current_user.phone_number"}],staticClass:"form-control",attrs:{type:"text",name:"phone",placeholder:""},domProps:{value:e.current_user.phone_number},on:{input:function(t){t.target.composing||e.$set(e.current_user,"phone_number",t.target.value)}}})])]),e._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-3 control-label",attrs:{for:""}},[e._v("Mobile")]),e._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.current_user.mobile_number,expression:"current_user.mobile_number"}],staticClass:"form-control",attrs:{type:"text",name:"mobile",placeholder:""},domProps:{value:e.current_user.mobile_number},on:{input:function(t){t.target.composing||e.$set(e.current_user,"mobile_number",t.target.value)}}})])]),e._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-3 control-label",attrs:{for:""}},[e._v("Email")]),e._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.current_user.email,expression:"current_user.email"}],staticClass:"form-control",attrs:{disabled:"",type:"email",name:"email",placeholder:""},domProps:{value:e.current_user.email},on:{input:function(t){t.target.composing||e.$set(e.current_user,"email",t.target.value)}}})])]),e._v(" "),a("div",{staticClass:"form-group"},[a("div",{staticClass:"col-sm-12"},[e.updatingContact?a("button",{staticClass:"pull-right btn btn-primary",attrs:{disabled:""}},[a("i",{staticClass:"fa fa-spin fa-spinner"}),e._v("Updating")]):a("button",{staticClass:"pull-right btn btn-primary",on:{click:function(t){return t.preventDefault(),e.updateContact()}}},[e._v("Update")])])])])])])])]),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"panel-heading"},[a("h3",{staticClass:"panel-title"},[e._v("Organisations "),a("small",[e._v("Link to the Organisations you are an employee of and for which you are managing licences")]),e._v(" "),a("a",{staticClass:"panelClicker",attrs:{href:"#"+e.oBody,"data-toggle":"collapse","data-parent":"#userInfo",expanded:"true","aria-controls":e.oBody}},[a("span",{staticClass:"glyphicon glyphicon-chevron-down pull-right "})])])]),e._v(" "),a("div",{staticClass:"panel-body collapse",attrs:{id:e.oBody}},[a("form",{staticClass:"form-horizontal",attrs:{name:"orgForm",method:"post"}},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-5 control-label",attrs:{for:""}},[e._v("Do you manage licences on behalf of an organisation?")]),e._v(" "),a("div",{staticClass:"col-sm-4"},[a("label",{staticClass:"radio-inline"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.managesOrg,expression:"managesOrg"}],attrs:{disabled:e.hasOrgs,type:"radio",name:"behalf_of_org",value:"No"},domProps:{checked:e._q(e.managesOrg,"No")},on:{change:function(t){e.managesOrg="No"}}}),e._v(" No\n                            ")]),e._v(" "),a("label",{staticClass:"radio-inline"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.managesOrg,expression:"managesOrg"}],attrs:{type:"radio",name:"behalf_of_org",value:"Yes"},domProps:{checked:e._q(e.managesOrg,"Yes")},on:{change:function(t){e.managesOrg="Yes"}}}),e._v(" Yes\n                            ")]),e._v(" "),a("label",{staticClass:"radio-inline"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.managesOrg,expression:"managesOrg"}],attrs:{type:"radio",name:"behalf_of_org",value:"Consultant"},domProps:{checked:e._q(e.managesOrg,"Consultant")},on:{change:function(t){e.managesOrg="Consultant"}}}),e._v(" Yes, as a consultant\n                            ")])]),e._v(" "),"Yes"==e.managesOrg?a("div",[a("div",{staticClass:"col-sm-3"},[e.hasOrgs&&!e.addingCompany?a("button",{staticClass:"btn btn-primary",on:{click:function(t){return t.preventDefault(),e.addCompany()}}},[e._v("Add Another Organisation")]):e._e()])]):e._e()]),e._v(" "),e._l(e.current_user.wildlifecompliance_organisations,function(t){return a("div",[a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-2 control-label",attrs:{for:""}},[e._v("Organisation")]),e._v(" "),a("div",{staticClass:"col-sm-3"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"org.name"}],staticClass:"form-control",attrs:{type:"text",disabled:"",name:"organisation",placeholder:""},domProps:{value:t.name},on:{input:function(a){a.target.composing||e.$set(t,"name",a.target.value)}}})]),e._v(" "),a("label",{staticClass:"col-sm-1 control-label",attrs:{for:""}},[e._v("ABN/ACN")]),e._v(" "),a("div",{staticClass:"col-sm-3"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.abn,expression:"org.abn"}],staticClass:"form-control",attrs:{type:"text",disabled:"",name:"organisation",placeholder:""},domProps:{value:t.abn},on:{input:function(a){a.target.composing||e.$set(t,"abn",a.target.value)}}})]),e._v(" "),a("a",{staticStyle:{cursor:"pointer","text-decoration":"none"},on:{click:function(a){return a.preventDefault(),e.unlinkUser(t)}}},[a("i",{staticClass:"fa fa-chain-broken fa-2x"}),e._v("Unlink")])])])}),e._v(" "),e._l(e.orgRequest_pending,function(t){return a("div",[a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-2 control-label",attrs:{for:""}},[e._v("Organisation")]),e._v(" "),a("div",{staticClass:"col-sm-3"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"orgReq.name"}],staticClass:"form-control",attrs:{type:"text",disabled:"",name:"organisation",placeholder:""},domProps:{value:t.name},on:{input:function(a){a.target.composing||e.$set(t,"name",a.target.value)}}})]),e._v(" "),a("label",{staticClass:"col-sm-1 control-label",attrs:{for:""}},[e._v("ABN/ACN")]),e._v(" "),a("div",{staticClass:"col-sm-3"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.abn,expression:"orgReq.abn"}],staticClass:"form-control",attrs:{type:"text",disabled:"",name:"organisation",placeholder:""},domProps:{value:t.abn},on:{input:function(a){a.target.composing||e.$set(t,"abn",a.target.value)}}})]),e._v(" "),e._m(0,!0)])])}),e._v(" "),e._l(e.orgRequest_amendment_requested,function(t){return a("div",[a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-2 control-label",attrs:{for:""}},[e._v("Organisation")]),e._v(" "),a("div",{staticClass:"col-sm-3"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"orgReq.name"}],staticClass:"form-control",attrs:{type:"text",disabled:"",name:"organisation",placeholder:""},domProps:{value:t.name},on:{input:function(a){a.target.composing||e.$set(t,"name",a.target.value)}}})]),e._v(" "),a("label",{staticClass:"col-sm-1 control-label",attrs:{for:""}},[e._v("ABN/ACN")]),e._v(" "),a("div",{staticClass:"col-sm-3"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.abn,expression:"orgReq.abn"}],staticClass:"form-control",attrs:{type:"text",disabled:"",name:"organisation",placeholder:""},domProps:{value:t.abn},on:{input:function(a){a.target.composing||e.$set(t,"abn",a.target.value)}}})]),e._v(" "),a("span",{staticClass:"btn btn-info btn-file pull-left"},[e._v("\n                                    Upload New File "),a("input",{ref:"uploadedFile",refInFor:!0,attrs:{type:"file"},on:{change:function(a){return e.uploadNewFileUpdateOrgRequest(t)}}})]),e._v(" "),a("span",{staticClass:"pull-left",staticStyle:{"margin-left":"10px","margin-top":"10px"}},[e._v(e._s(e.uploadedFileName))])])])}),e._v(" "),"Consultant"==e.managesOrg&&e.addingCompany?a("div",[a("h3",[e._v("New Organisation (as consultant)")]),e._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-2 control-label",attrs:{for:""}},[e._v("Organisation")]),e._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.newOrg.name,expression:"newOrg.name"}],staticClass:"form-control",attrs:{type:"text",name:"organisation",placeholder:""},domProps:{value:e.newOrg.name},on:{input:function(t){t.target.composing||e.$set(e.newOrg,"name",t.target.value)}}})])]),e._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-2 control-label",attrs:{for:""}},[e._v("ABN/ACN")]),e._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.newOrg.abn,expression:"newOrg.abn"}],staticClass:"form-control",attrs:{type:"text",name:"abn",placeholder:""},domProps:{value:e.newOrg.abn},on:{input:function(t){t.target.composing||e.$set(e.newOrg,"abn",t.target.value)}}})]),e._v(" "),a("div",{staticClass:"col-sm-2"},[e.newOrg.detailsChecked?a("button",{staticClass:"btn btn-primary",on:{click:function(t){return t.preventDefault(),e.checkOrganisation()}}},[e._v("Check Details")]):e._e()])]),e._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-12",staticStyle:{"text-align":"left"}},[e._v("\n                                  Please upload a letter on organisation letter head stating that you are a consultant for the organisation.\n                                    "),a("span",{staticClass:"btn btn-info btn-file"},[e._v("\n                                        Atttach File "),a("input",{ref:"uploadedFile",attrs:{type:"file"},on:{change:function(t){return e.readFile()}}})]),e._v(" "),a("span",{staticStyle:{"margin-left":"10px","margin-top":"10px"}},[e._v(e._s(e.uploadedFileName))])]),e._v(" "),a("br"),e._v(" "),a("label",{staticClass:"col-sm-10 control-label",staticStyle:{"text-align":"left"},attrs:{for:""}},[e._v("You will be notified by email once the Department has checked the organisation details.\n                                ")]),e._v(" "),a("div",{staticClass:"col-sm-12"},[e.registeringOrg?a("button",{staticClass:"btn btn-primary pull-right",attrs:{disabled:""}},[a("i",{staticClass:"fa fa-spin fa-spinner"}),e._v("Submitting")]):a("button",{staticClass:"btn btn-primary pull-left",on:{click:function(t){return t.preventDefault(),e.orgConsultRequest()}}},[e._v("Submit")])])])]):e._e(),e._v(" "),"Yes"==e.managesOrg&&e.addingCompany?a("div",{staticStyle:{"margin-top":"15px"}},[a("h3",[e._v("New Organisation")]),e._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-2 control-label",attrs:{for:""}},[e._v("Organisation")]),e._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.newOrg.name,expression:"newOrg.name"}],staticClass:"form-control",attrs:{type:"text",name:"organisation",placeholder:""},domProps:{value:e.newOrg.name},on:{input:function(t){t.target.composing||e.$set(e.newOrg,"name",t.target.value)}}})])]),e._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-2 control-label",attrs:{for:""}},[e._v("ABN/ACN")]),e._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.newOrg.abn,expression:"newOrg.abn"}],staticClass:"form-control",attrs:{type:"text",name:"abn",placeholder:""},domProps:{value:e.newOrg.abn},on:{input:function(t){t.target.composing||e.$set(e.newOrg,"abn",t.target.value)}}})]),e._v(" "),a("div",{staticClass:"col-sm-2"},[a("button",{staticClass:"btn btn-primary",on:{click:function(t){return t.preventDefault(),e.checkOrganisation()}}},[e._v("Check Details")])])]),e._v(" "),e.newOrg.exists&&e.newOrg.detailsChecked?a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-12",staticStyle:{"text-align":"left","margin-bottom":"20px"}},[e._v("\n                                This organisation has already been registered with the system. Please enter the two pin codes below."),a("br"),e._v("\n                                These pin codes can be retrieved from one of the following people:"),a("br"),e._v(" "+e._s(e.newOrg.first_five)+"\n                              ")]),e._v(" "),a("label",{staticClass:"col-sm-2 control-label",attrs:{for:""}},[e._v("Pin 1")]),e._v(" "),a("div",{staticClass:"col-sm-2"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.newOrg.pin1,expression:"newOrg.pin1"}],staticClass:"form-control",attrs:{type:"text",name:"abn",placeholder:""},domProps:{value:e.newOrg.pin1},on:{input:function(t){t.target.composing||e.$set(e.newOrg,"pin1",t.target.value)}}})]),e._v(" "),a("label",{staticClass:"col-sm-2 control-label",attrs:{for:""}},[e._v("Pin 2")]),e._v(" "),a("div",{staticClass:"col-sm-2"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.newOrg.pin2,expression:"newOrg.pin2"}],staticClass:"form-control",attrs:{type:"text",name:"abn",placeholder:""},domProps:{value:e.newOrg.pin2},on:{input:function(t){t.target.composing||e.$set(e.newOrg,"pin2",t.target.value)}}})]),e._v(" "),a("div",{staticClass:"col-sm-2"},[e.validatingPins?a("button",{staticClass:"btn btn-primary pull-left"},[a("i",{staticClass:"fa fa-spin fa-spinner"}),e._v("Validating Pins")]):a("button",{staticClass:"btn btn-primary pull-left",on:{click:function(t){return t.preventDefault(),e.validatePins()}}},[e._v("Validate")])])]):!e.newOrg.exists&&e.newOrg.detailsChecked?a("div",{staticClass:"form-group"},[e._m(1),e._v(" "),a("div",{staticClass:"col-sm-12"},[a("span",{staticClass:"btn btn-info btn-file pull-left"},[e._v("\n                                    Attach File "),a("input",{ref:"uploadedFile",attrs:{type:"file"},on:{change:function(t){return e.readFile()}}})]),e._v(" "),a("span",{staticClass:"pull-left",staticStyle:{"margin-left":"10px","margin-top":"10px"}},[e._v(e._s(e.uploadedFileName))])]),e._v(" "),a("label",{staticClass:"col-sm-10 control-label",staticStyle:{"text-align":"left"},attrs:{for:""}},[e._v("You will be notified by email once the Department has checked the organisation details.")]),e._v(" "),a("div",{staticClass:"col-sm-12"},[e.registeringOrg?a("button",{staticClass:"btn btn-primary pull-right",attrs:{disabled:""}},[a("i",{staticClass:"fa fa-spin fa-spinner"}),e._v("Submitting")]):a("button",{staticClass:"btn btn-primary pull-right",on:{click:function(t){return t.preventDefault(),e.orgRequest()}}},[e._v("Submit")])])]):e.newOrg.exists&&!e.newOrg.detailsChecked?a("div",{staticClass:"form-group"},[e._m(2),e._v(" "),a("div",{staticClass:"col-sm-12"},[a("span",{staticClass:"btn btn-info btn-file pull-left"},[e._v("\n                                    Attach File "),a("input",{ref:"uploadedFile",attrs:{type:"file"},on:{change:function(t){return e.readFile()}}})]),e._v(" "),a("span",{staticClass:"pull-left",staticStyle:{"margin-left":"10px","margin-top":"10px"}},[e._v(e._s(e.uploadedFileName))])]),e._v(" "),a("label",{staticClass:"col-sm-10 control-label",staticStyle:{"text-align":"left"},attrs:{for:""}},[e._v("You will be notified by email once the Department has checked the organisation details.")]),e._v(" "),a("div",{staticClass:"col-sm-12"},[e.registeringOrg?a("button",{staticClass:"btn btn-primary pull-right",attrs:{disabled:""}},[a("i",{staticClass:"fa fa-spin fa-spinner"}),e._v("Submitting")]):a("button",{staticClass:"btn btn-primary pull-right",on:{click:function(t){return t.preventDefault(),e.orgRequest()}}},[e._v("Submit")])])]):e._e()]):e._e()],2)])])])])])},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("label",[a("i",{staticClass:"fa fa-hourglass-o fa-2x"}),e._v(" Pending Approval")])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("label",{staticClass:"col-sm-12",staticStyle:{"text-align":"left"}},[e._v("\n                                This organisation has not yet been registered with this system. Please upload a letter on organisation head stating that you are an employee of this organisation."),a("br")])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("label",{staticClass:"col-sm-12",staticStyle:{"text-align":"left"}},[e._v("\n                                Please upload a letter on organisation head stating that you are an employee of this organisation."),a("br")])}]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container",attrs:{id:"internalDash"}},[a("UserDashTable",{attrs:{level:"internal",url:e.users_url}})],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container",attrs:{id:"profiles"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"panel-heading"},[a("h3",{staticClass:"panel-title"},[e._v("My Profiles "),e.is_external?a("small",[e._v("View profile details")]):e._e(),e._v(" "),a("a",{staticClass:"pull-right btn btn-primary",staticStyle:{color:"#fff"},attrs:{href:"/profiles/create"}},[e._v("Create Profile")])])]),e._v(" "),a("div",{staticClass:"panel-body collapse in",attrs:{id:e.pBody}},[a("div",[e._v("Profiles let you link multiple email addresses with your account, allowing you to log in with any linked email address.")]),a("br"),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-12"},[a("datatable",{ref:"profile_datatable",attrs:{id:e.datatable_id,dtOptions:e.profile_options,dtHeaders:e.profile_headers}})],1)])])])])])])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",e._l(e.condition_keys,function(t){return a("div",[a("div",{class:{hidden:!e.isVisible(t)},attrs:{id:"cons_"+e.name+"_"+t}},e._l(e.conditionBlocks(t),function(n,i){return a("compliance-renderer-block",{key:"condition_"+t+"_"+i,attrs:{component:n,json_data:e.data,instance:e.instance}})}),1)])}),0)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container",attrs:{id:"externalDash"}},[e._m(0),e._v(" "),a("ApplicationDashTable",{attrs:{level:"external",url:e.applications_url}}),e._v(" "),a("div",[a("LicenceDashTable",{attrs:{level:"external",url:e.licences_url}}),e._v(" "),a("ReturnDashTable",{attrs:{level:"external",url:e.returns_url}})],1)],1)},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("div",{staticClass:"well well-sm"},[a("p",[e._v("\n                    Welcome to the Wildlife Licensing online system dashboard."),a("br"),a("br"),e._v(" Here you can access your existing licences, view any applications in progress, lodge new"),a("br"),e._v(" applications or submit information required to comply with conditions listed\n                    on your licence\n                ")])])])])}]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{},[a("div",{staticClass:"col-sm-12 form-group"},[a("div",{staticClass:"row"},[a("label",{staticClass:"col-sm-4"},[e._v(e._s(e.labelTitle))]),e._v(" "),e.personOnly?e._e():a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.searchType,expression:"searchType"}],staticClass:"col-sm-1",attrs:{disabled:!e.isEditable,id:"individual",type:"radio"},domProps:{value:"individual",checked:e._q(e.searchType,"individual")},on:{change:function(t){e.searchType="individual"}}}),e._v(" "),a("label",{staticClass:"col-sm-1",attrs:{for:"individual"}},[e._v("Person")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.searchType,expression:"searchType"}],staticClass:"col-sm-1",attrs:{disabled:!e.isEditable,id:"organisation",type:"radio"},domProps:{value:"organisation",checked:e._q(e.searchType,"organisation")},on:{change:function(t){e.searchType="organisation"}}}),e._v(" "),a("label",{staticClass:"col-sm-1",attrs:{for:"organisation"}},[e._v("Organisation")])])])]),e._v(" "),a("div",{staticClass:"form-group"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("div",{staticClass:"col-sm-8"},[a("input",{ref:"search_person_org",class:e.classNames,attrs:{id:e.elemId,readonly:!e.isEditable}})]),e._v(" "),e.showCreateNewPerson?a("div",{staticClass:"col-sm-2"},[a("input",{staticClass:"btn btn-primary",attrs:{disabled:!e.isEditable,type:"button",value:"Create New Person"},on:{click:function(t){return t.preventDefault(),e.createNewPerson()}}})]):e.showCreateNewOrganisation?a("div",{staticClass:"col-sm-2"},[a("input",{staticClass:"btn btn-primary",attrs:{disabled:!e.isEditable,type:"button",value:"Create New Organisation"},on:{click:function(t){return t.preventDefault(),e.createNewOrganisation(t)}}})]):e._e()])])]),e._v(" "),a("div",{staticClass:"form-group"},[a("div",{staticClass:"row"},[e.displayUpdateCreatePerson?a("div",{staticClass:"col-sm-12"},[a("updateCreatePerson",{key:e.updateCreatePersonBindId,ref:"update_create_person",attrs:{displayComponent:"",isEditable:e.isEditable,personToUpdate:e.entity.id},on:{"person-saved":e.savePerson}})],1):e._e(),e._v(" "),e.displayUpdateCreateOrganisation&&!e.personOnly?a("div",{staticClass:"col-sm-12"},[a("updateCreateOrganisation",{ref:"update_create_organisation",attrs:{displayComponent:""},on:{"organisation-saved":function(e){}}})],1):e._e()])])])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:e.elementId}},[a("div",{staticClass:"col-sm-12"},[a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"panel-heading"},[a("h3",{staticClass:"panel-title"},[e._v("Personal Details\n                    "),a("span",{staticClass:"glyphicon  pull-right",class:e.isPersonalDetailsOpen?"glyphicon-chevron-up":"glyphicon-chevron-down",on:{click:function(t){e.isPersonalDetailsOpen=!e.isPersonalDetailsOpen}}})])]),e._v(" "),a("div",{staticClass:"panel-body in",attrs:{id:e.pdBody}},[e.objectAlert?a("div",{staticClass:"alert alert-danger"},[a("p",[e._v("test alert")])]):e._e(),e._v(" "),a("form",{staticClass:"form-horizontal",attrs:{name:"personal_form",method:"post"}},[a("div",{staticClass:"form-group",class:{"has-error":e.errorGivenName}},[a("label",{staticClass:"col-sm-3 control-label",attrs:{for:""}},[e._v("Given Name(s)")]),e._v(" "),a("div",{staticClass:"col-sm-6"},[e.email_user?a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.email_user.first_name,expression:"email_user.first_name"}],key:e.email_user.id,staticClass:"form-control",attrs:{readonly:e.personalDetailsReadOnly,type:"text",name:"first_name",placeholder:""},domProps:{value:e.email_user.first_name},on:{input:function(t){t.target.composing||e.$set(e.email_user,"first_name",t.target.value)}}})]):e._e()])]),e._v(" "),a("div",{staticClass:"form-group",class:{"has-error":e.errorLastName}},[a("label",{staticClass:"col-sm-3 control-label",attrs:{for:""}},[e._v("Last Name")]),e._v(" "),a("div",{staticClass:"col-sm-6"},[e.email_user?a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.email_user.last_name,expression:"email_user.last_name"}],key:e.email_user.id,staticClass:"form-control",attrs:{readonly:e.personalDetailsReadOnly,type:"text",name:"last_name",placeholder:""},domProps:{value:e.email_user.last_name},on:{input:function(t){t.target.composing||e.$set(e.email_user,"last_name",t.target.value)}}})]):e._e()])]),e._v(" "),e.email_user?a("div",{staticClass:"form-group",class:{"has-error":e.errorDob}},[a("label",{staticClass:"col-sm-3 control-label",attrs:{for:""}},[e._v("Date of Birth")]),e._v(" "),a("div",{staticClass:"col-sm-6"},[a("div",{ref:"dobDatePicker",staticClass:"input-group date"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.email_user.dob,expression:"email_user.dob"}],staticClass:"form-control",attrs:{disabled:e.personalDetailsReadOnly,type:"text",placeholder:"DD/MM/YYYY"},domProps:{value:e.email_user.dob},on:{input:function(t){t.target.composing||e.$set(e.email_user,"dob",t.target.value)}}}),e._v(" "),e._m(0)])])]):e._e()])])]),e._v(" "),a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"panel-heading"},[a("h3",{staticClass:"panel-title"},[e._v("Address Details\n                "),a("span",{staticClass:"glyphicon  pull-right",class:e.isAddressDetailsOpen?"glyphicon-chevron-up":"glyphicon-chevron-down",on:{click:function(t){e.isAddressDetailsOpen=!e.isAddressDetailsOpen}}})])]),e._v(" "),a("div",{staticClass:"panel-body in",attrs:{id:e.adBody}},[a("form",{staticClass:"form-horizontal",attrs:{action:"index.html",method:"post"}},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-3 control-label",attrs:{for:""}},[e._v("Street")]),e._v(" "),a("div",{staticClass:"col-sm-6"},[e.email_user?a("div",[a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.email_user.residential_address.line1,expression:"email_user.residential_address.line1"}],key:e.email_user.residential_address.id,staticClass:"form-control",attrs:{readonly:!e.isEditable,type:"text",name:"street",placeholder:""},domProps:{value:e.email_user.residential_address.line1},on:{input:function(t){t.target.composing||e.$set(e.email_user.residential_address,"line1",t.target.value)}}})])]):e._e()])]),e._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-3 control-label",attrs:{for:""}},[e._v("Town/Suburb")]),e._v(" "),a("div",{staticClass:"col-sm-6"},[e.email_user?a("div",[a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.email_user.residential_address.locality,expression:"email_user.residential_address.locality"}],key:e.email_user.residential_address.id,staticClass:"form-control",attrs:{readonly:!e.isEditable,type:"text",name:"surburb",placeholder:""},domProps:{value:e.email_user.residential_address.locality},on:{input:function(t){t.target.composing||e.$set(e.email_user.residential_address,"locality",t.target.value)}}})])]):e._e()])]),e._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-3 control-label",attrs:{for:""}},[e._v("State")]),e._v(" "),a("div",{staticClass:"col-sm-2"},[e.email_user?a("div",[a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.email_user.residential_address.state,expression:"email_user.residential_address.state"}],key:e.email_user.residential_address.id,staticClass:"form-control",attrs:{readonly:!e.isEditable,type:"text",name:"country",placeholder:""},domProps:{value:e.email_user.residential_address.state},on:{input:function(t){t.target.composing||e.$set(e.email_user.residential_address,"state",t.target.value)}}})])]):e._e()]),e._v(" "),a("label",{staticClass:"col-sm-2 control-label",attrs:{for:""}},[e._v("Postcode")]),e._v(" "),a("div",{staticClass:"col-sm-2"},[e.email_user?a("div",[a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.email_user.residential_address.postcode,expression:"email_user.residential_address.postcode"}],key:e.email_user.residential_address.id,staticClass:"form-control",attrs:{readonly:!e.isEditable,type:"text",name:"postcode",placeholder:""},domProps:{value:e.email_user.residential_address.postcode},on:{input:function(t){t.target.composing||e.$set(e.email_user.residential_address,"postcode",t.target.value)}}})])]):e._e()])]),e._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-3 control-label",attrs:{for:""}},[e._v("Country")]),e._v(" "),a("div",{staticClass:"col-sm-4"},[e.email_user?a("div",[a("div",[a("select",{directives:[{name:"model",rawName:"v-model",value:e.email_user.residential_address.country,expression:"email_user.residential_address.country"}],key:e.email_user.residential_address.id,staticClass:"form-control",attrs:{disabled:!e.isEditable,name:"country"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.email_user.residential_address,"country",t.target.multiple?a:a[0])}}},e._l(e.countries,function(t){return a("option",{domProps:{value:t.alpha2Code}},[e._v(e._s(t.name))])}),0)])]):e._e()])])])])]),e._v(" "),a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"panel-heading"},[a("h3",{staticClass:"panel-title"},[e._v("Contact Details "),a("small"),e._v(" "),a("span",{staticClass:"glyphicon  pull-right",class:e.isContactDetailsOpen?"glyphicon-chevron-up":"glyphicon-chevron-down",on:{click:function(t){e.isContactDetailsOpen=!e.isContactDetailsOpen}}})])]),e._v(" "),a("div",{staticClass:"panel-body collapse in",attrs:{id:e.cdBody}},[a("form",{staticClass:"form-horizontal",attrs:{action:"index.html",method:"post"}},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-3 control-label",attrs:{for:""}},[e._v("Phone (work)")]),e._v(" "),a("div",{staticClass:"col-sm-6"},[e.email_user?a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.email_user.phone_number,expression:"email_user.phone_number"}],key:e.email_user.id,staticClass:"form-control",attrs:{readonly:!e.isEditable,type:"text",name:"phone",placeholder:""},domProps:{value:e.email_user.phone_number},on:{input:function(t){t.target.composing||e.$set(e.email_user,"phone_number",t.target.value)}}})]):e._e()])]),e._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-3 control-label",attrs:{for:""}},[e._v("Mobile")]),e._v(" "),a("div",{staticClass:"col-sm-6"},[e.email_user?a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.email_user.mobile_number,expression:"email_user.mobile_number"}],key:e.email_user.id,staticClass:"form-control",attrs:{readonly:!e.isEditable,type:"text",name:"mobile",placeholder:""},domProps:{value:e.email_user.mobile_number},on:{input:function(t){t.target.composing||e.$set(e.email_user,"mobile_number",t.target.value)}}})]):e._e()])]),e._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-3 control-label",attrs:{for:""}},[e._v("Email")]),e._v(" "),a("div",{staticClass:"col-sm-6"},[e.email_user?a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.email_user.email,expression:"email_user.email"}],key:e.email_user.id,staticClass:"form-control",attrs:{readonly:!e.isEditable,type:"email",name:"email",placeholder:""},domProps:{value:e.email_user.email},on:{input:function(t){t.target.composing||e.$set(e.email_user,"email",t.target.value)}}})]):e._e()])])])])]),e._v(" "),a("input",{staticClass:"pull-right btn btn-primary",attrs:{disabled:!e.saveButtonEnabled,type:"button",value:e.saveButtonText},on:{click:function(t){return t.preventDefault(),e.saveData(t)}}})])])},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{staticClass:"input-group-addon"},[a("span",{staticClass:"glyphicon glyphicon-calendar"})])}]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"row"},[e.isApplicationLoaded&&e.initialiseAssessmentOptions()?[a("modal",{attrs:{transition:"modal fade",showOk:!1,title:"Assessment Record",large:""},on:{cancel:function(t){return e.close()}}},[a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row"},[a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"panel-heading"},[a("h3",{staticClass:"panel-title"},[e._v("Assessment Details\n                                "),a("a",{staticClass:"panelClicker",attrs:{href:"#"+e.panelBody,"data-toggle":"collapse","data-parent":"#userInfo",expanded:"false","aria-controls":e.panelBody}},[a("span",{staticClass:"glyphicon glyphicon-chevron-down pull-right "})])])]),e._v(" "),a("div",{staticClass:"panel-body panel-collapse collapse in",attrs:{id:e.panelBody}},[a("form",{staticClass:"form-horizontal",attrs:{name:"assessment_form",method:"put"}},[a("div",{staticClass:"col-sm-12"},[e.assessment.is_inspection_required?a("div",{staticClass:"form-group"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-xs-3"},[a("label",{staticClass:"control-label pull-left"},[e._v("Inspection Date")])]),e._v(" "),a("div",{staticClass:"col-xs-9"},[a("div",{ref:"inspection_date",staticClass:"input-group date"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.assessment.inspection_date,expression:"assessment.inspection_date"}],staticClass:"form-control",attrs:{type:"text",name:"inspection_date",placeholder:"DD/MM/YYYY"},domProps:{value:e.assessment.inspection_date},on:{input:function(t){t.target.composing||e.$set(e.assessment,"inspection_date",t.target.value)}}}),e._v(" "),a("span",{staticClass:"input-group-addon"},[a("span",{staticClass:"glyphicon glyphicon-calendar"})])])])]),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-3"},[a("label",{staticClass:"control-label pull-left"},[e._v("Inspection Report")])]),e._v(" "),a("div",{staticClass:"col-sm-9",staticStyle:{"margin-bottom":"10px","margin-top":"10px"}},[e.assessment.inspection_report&&!e.inspection_report_file_name?a("div",{staticStyle:{"margin-bottom":"10px"}},[a("a",{attrs:{href:e.assessment.inspection_report,target:"_blank"}},[e._v("Download")])]):e._e(),e._v(" "),e.inspection_report_file_name?a("div",{staticStyle:{"margin-bottom":"10px"}},[e._v(e._s(e.inspection_report_file_name))]):e._e(),e._v(" "),e.canCompleteAssessment?a("span",{staticClass:"btn btn-primary btn-file"},[e._v(" Select Inspection Report to Upload "),a("input",{ref:"inspection_report",attrs:{type:"file"},on:{change:function(t){return e.readFileInspectionReport()}}})]):e._e()])]),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-3"},[a("label",{staticClass:"control-label pull-left"},[e._v("Inspection Comments")])]),e._v(" "),a("div",{staticClass:"col-sm-9"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.assessment.inspection_comment,expression:"assessment.inspection_comment"}],staticClass:"form-control",staticStyle:{width:"100%","max-width":"100%"},attrs:{readonly:!e.canCompleteAssessment},domProps:{value:e.assessment.inspection_comment},on:{input:function(t){t.target.composing||e.$set(e.assessment,"inspection_comment",t.target.value)}}})])])]):e._e(),e._v(" "),a("div",{staticClass:"form-group"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-3"},[a("label",{staticClass:"control-label pull-left"},[e._v("Final Comments")])]),e._v(" "),a("div",{staticClass:"col-sm-9"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.assessment.final_comment,expression:"assessment.final_comment"}],staticClass:"form-control",staticStyle:{width:"100%","max-width":"100%"},attrs:{readonly:!e.canCompleteAssessment},domProps:{value:e.assessment.final_comment},on:{input:function(t){t.target.composing||e.$set(e.assessment,"final_comment",t.target.value)}}})])])]),e._v(" "),e.canCompleteAssessment?a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[e.savingAssessment?e._e():a("button",{staticClass:"btn btn-primary pull-right assessment-button",on:{click:function(t){return t.preventDefault(),e.saveAssessment()}}},[e._v("Save Assessment")]),e._v(" "),e.savingAssessment?a("button",{staticClass:"btn btn-primary pull-right",attrs:{disabled:""}},[a("i",{staticClass:"fa fa-spin fa-spinner"}),e._v("Saving")]):a("button",{staticClass:"btn btn-primary pull-right assessment-button",on:{click:function(t){return t.preventDefault(),e.completeAssessment()}}},[e._v("Mark Complete")])])]):e._e()])])])])])])]),e._v(" "),a("div",[a("ul",{staticClass:"nav nav-tabs",attrs:{id:"tabs-assessor"}},e._l(e.applicationActivities,function(t,n){return a("li",{class:e.setAssessorTab(n),on:{click:function(t){return t.preventDefault(),e.clearSendToAssessorForm()}}},[e.isActivityVisible(t.id)?a("a",{attrs:{"data-toggle":"tab","data-target":"#"+t.id}},[e._v(e._s(t.name))]):e._e()])}),0)]),e._v(" "),a("div",{staticClass:"tab-content"},[e.selectedActivity?a("div",{attrs:{id:""+e.selectedActivity.id}},[a("div",[a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"panel-heading"},[a("h3",{staticClass:"panel-title"},[e._v(e._s(e.canSendToAssessor?"Send to Assessor":"Assessments")+"\n                                "),a("a",{staticClass:"panelClicker",attrs:{href:"#"+e.selectedActivity.id+e.assessorsBody,"data-toggle":"collapse","data-parent":"#userInfo",expanded:"true","aria-controls":e.assessorsBody}},[a("span",{staticClass:"glyphicon glyphicon-chevron-down pull-right "})])])]),e._v(" "),a("div",{staticClass:"panel-body panel-collapse collapse in",attrs:{id:""+e.selectedActivity.id+e.assessorsBody}},[e.canSendToAssessor?a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-10",staticStyle:{"margin-bottom":"10px"}},[a("label",{staticClass:"control-label pull-left",attrs:{for:"Name"}},[e._v("Assessor Group")]),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedAssessor,expression:"selectedAssessor"}],staticClass:"form-control",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.selectedAssessor=t.target.multiple?a:a[0]}}},e._l(e.assessorGroup,function(t,n){return e.isAssessorRelevant(t)?a("option",{attrs:{id:t.id},domProps:{value:t,selected:!e.selectedAssessor}},[e._v(e._s(t.display_name))]):e._e()}),0)]),e._v(" "),a("div",{staticClass:"col-sm-2"},[a("a",{staticClass:"btn btn-primary",staticStyle:{cursor:"pointer","text-decoration":"none"},on:{click:function(t){return t.preventDefault(),e.sendtoAssessor(e.selectedActivity.id)}}},[e._v("Send")])])]):e._e(),e._v(" "),e.optionsLoadedForActivity(e.selectedActivity)?a("div",{key:"assessor_datatable_"+e.selectedActivity.id,staticClass:"row"},[a("datatable",{ref:"assessorDatatable",attrs:{"data-index":e.selectedActivity.id,id:e.selectedActivity.id+"_"+e._uid+"assessor_datatable",dtOptions:e.assessors_options[e.selectedActivity.id],dtHeaders:e.assessors_headers,onMount:e.eventListeners}})],1):e._e()]),e._v(" "),a("div",{staticClass:"tab-pane fade in",attrs:{id:""+e.selectedActivity.id}},[a("Conditions",{key:"assessor_condition_"+e.selected_activity_tab_id,attrs:{final_view_conditions:e.final_view_conditions,activity:e.selectedActivity}})],1)])])]):e._e()])]:e._e(),e._v(" "),a("SendToAssessor",{ref:"send_to_assessor",on:{refreshFromResponse:e.refreshFromResponse}})],2)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("modal",{attrs:{transition:"modal fade",title:e.modalTitle,large:"",force:""},on:{ok:function(t){return e.ok()},cancel:function(t){return e.cancel()}}},[a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row col-sm-12"},[a("div",{staticClass:"form-group"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-3"},[a("label",{staticClass:"control-label pull-left"},[e._v("Reason")])]),e._v(" "),a("div",{staticClass:"col-sm-7"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.workflowDetails,expression:"workflowDetails"}],staticClass:"form-control",attrs:{placeholder:"add reason",id:"reason"},domProps:{value:e.workflowDetails},on:{input:function(t){t.target.composing||(e.workflowDetails=t.target.value)}}})])])]),e._v(" "),a("div",{staticClass:"form-group"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-3"},[a("label",{staticClass:"control-label pull-left",attrs:{for:"Name"}},[e._v("Attachments")])]),e._v(" "),a("div",{staticClass:"col-sm-9"},[a("filefield",{ref:"comms_log_file",attrs:{name:"comms-log-file",isRepeatable:!0,documentActionUrl:e.offence.commsLogsDocumentUrl}})],1)])])])])])],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-3"},[a("h3",[e._v("Inspection: "+e._s(e.inspection.number))])])]),e._v(" "),a("div",{staticClass:"col-md-3"},[a("CommsLogs",{attrs:{comms_url:e.comms_url,logs_url:e.logs_url,comms_add_url:e.comms_add_url,disable_add_entry:!1}}),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"panel-heading"},[e._v("\n                    Workflow \n                ")]),e._v(" "),a("div",{staticClass:"panel-body panel-collapse"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("strong",[e._v("Status")]),a("br"),e._v("\n                            "+e._s(e.statusDisplay)),a("br")])]),e._v(" "),e.inspection.allocated_group?a("div",{staticClass:"form-group"},[e._m(0),e._v(" "),a("div",{staticClass:"row"},["open"===e.statusId?a("div",{staticClass:"col-sm-12"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.inspection.assigned_to_id,expression:"inspection.assigned_to_id"}],staticClass:"form-control",attrs:{disabled:!e.inspection.user_in_group},on:{change:[function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.inspection,"assigned_to_id",t.target.multiple?a:a[0])},function(t){return e.updateAssignedToId()}]}},e._l(e.inspection.inspection_team,function(t){return a("option",{key:t.id,domProps:{value:t.id}},[e._v("\n                              "+e._s(t.full_name)+" \n                            ")])}),0)]):a("div",{staticClass:"col-sm-12"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.inspection.assigned_to_id,expression:"inspection.assigned_to_id"}],staticClass:"form-control",attrs:{disabled:!e.inspection.user_in_group},on:{change:[function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.inspection,"assigned_to_id",t.target.multiple?a:a[0])},function(t){return e.updateAssignedToId()}]}},e._l(e.inspection.allocated_group,function(t){return a("option",{key:t.id,domProps:{value:t.id}},[e._v("\n                              "+e._s(t.full_name)+" \n                            ")])}),0)])])]):e._e(),e._v(" "),e.inspection.user_in_group?a("div",[a("a",{staticClass:"btn pull-right",on:{click:function(t){return e.updateAssignedToId("current_user")}}},[e._v("\n                            Assign to me\n                        ")])]):e._e()])])]),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"panel-heading"},[e._v("\n                    Action \n                ")]),e._v(" "),a("div",{staticClass:"panel-body panel-collapse"},[a("div",{staticClass:"row action-button"},[e.sendToManagerVisibility?a("div",{staticClass:"col-sm-12"},[a("a",{ref:"close",staticClass:"btn btn-primary btn-block",on:{click:function(t){return e.addWorkflow("send_to_manager")}}},[e._v("\n                              Send to Manager\n                            ")])]):e._e()]),e._v(" "),a("div",{staticClass:"row action-button"},[e.endorseVisibility?a("div",{staticClass:"col-sm-12"},[a("a",{ref:"close",staticClass:"btn btn-primary btn-block",on:{click:function(t){return e.addWorkflow("endorse")}}},[e._v("\n                              Endorse\n                            ")])]):e._e()]),e._v(" "),a("div",{staticClass:"row action-button"},[e.requestAmendmentVisibility?a("div",{staticClass:"col-sm-12"},[a("a",{ref:"close",staticClass:"btn btn-primary btn-block",on:{click:function(t){return e.addWorkflow("request_amendment")}}},[e._v("\n                              Request Amendment\n                            ")])]):e._e()]),e._v(" "),a("div",{staticClass:"row action-button"},[e.offenceVisibility?a("div",{staticClass:"col-sm-12"},[a("a",{staticClass:"btn btn-primary btn-block",on:{click:function(t){return e.open_offence()}}},[e._v("\n                              Offence\n                            ")])]):e._e()]),e._v(" "),a("div",{staticClass:"row action-button"},[e.sanctionOutcomeVisibility?a("div",{staticClass:"col-sm-12"},[a("a",{staticClass:"btn btn-primary btn-block",on:{click:function(t){return e.open_sanction_outcome()}}},[e._v("\n                              Sanction Outcome\n                            ")])]):e._e()])])])])],1),e._v(" "),a("div",{staticClass:"col-md-9",attrs:{id:"main-column"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"container-fluid"},[a("ul",{staticClass:"nav nav-pills aho2"},[a("li",{staticClass:"nav-item active"},[a("a",{attrs:{"data-toggle":"tab",href:"#"+e.iTab}},[e._v("Inspection")])]),e._v(" "),a("li",{staticClass:"nav-item"},[a("a",{attrs:{"data-toggle":"tab",href:"#"+e.lTab},on:{click:e.mapTabClicked}},[e._v("Location")])]),e._v(" "),a("li",{staticClass:"nav-item"},[a("a",{attrs:{"data-toggle":"tab",href:"#"+e.cTab}},[e._v("Checklist")])]),e._v(" "),a("li",{staticClass:"nav-item"},[a("a",{attrs:{"data-toggle":"tab",href:"#"+e.oTab}},[e._v("Outcomes")])]),e._v(" "),a("li",{staticClass:"nav-item"},[a("a",{attrs:{"data-toggle":"tab",href:"#"+e.rTab}},[e._v("Related Items")])])]),e._v(" "),a("div",{staticClass:"tab-content"},[a("div",{staticClass:"tab-pane fade in active",attrs:{id:e.iTab}},[a("FormSection",{attrs:{formCollapse:!1,label:"Inspection Details",Index:"0"}},[a("div",{staticClass:"form-group"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-3"},[a("label",[e._v("Inspection Type")])]),e._v(" "),a("div",{staticClass:"col-sm-6"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.inspection.inspection_type_id,expression:"inspection.inspection_type_id"}],staticClass:"form-control",attrs:{disabled:e.readonlyForm},on:{change:[function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.inspection,"inspection_type_id",t.target.multiple?a:a[0])},e.loadSchema]}},e._l(e.inspectionTypes,function(t){return a("option",{key:t.id,domProps:{value:t.id}},[e._v("\n                                  "+e._s(t.inspection_type)+"\n                                ")])}),0)])])]),e._v(" "),a("div",{staticClass:"form-group"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-3"},[a("label",[e._v("Title")])]),e._v(" "),a("div",{staticClass:"col-sm-9"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.inspection.title,expression:"inspection.title"}],staticClass:"form-control",attrs:{readonly:e.readonlyForm},domProps:{value:e.inspection.title},on:{input:function(t){t.target.composing||e.$set(e.inspection,"title",t.target.value)}}})])])]),e._v(" "),a("div",{staticClass:"form-group"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-3"},[a("label",[e._v("Details")])]),e._v(" "),a("div",{staticClass:"col-sm-9"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.inspection.details,expression:"inspection.details"}],staticClass:"form-control",attrs:{readonly:e.readonlyForm},domProps:{value:e.inspection.details},on:{input:function(t){t.target.composing||e.$set(e.inspection,"details",t.target.value)}}})])])]),e._v(" "),a("div",{staticClass:"form-group"},[a("div",{staticClass:"row"},[a("label",{staticClass:"col-sm-3"},[e._v("Planned for (Date)")]),e._v(" "),a("div",{staticClass:"col-sm-3"},[a("div",{ref:"plannedForDatePicker",staticClass:"input-group date"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.inspection.planned_for_date,expression:"inspection.planned_for_date"}],staticClass:"form-control",attrs:{disabled:e.readonlyForm,type:"text",placeholder:"DD/MM/YYYY"},domProps:{value:e.inspection.planned_for_date},on:{input:function(t){t.target.composing||e.$set(e.inspection,"planned_for_date",t.target.value)}}}),e._v(" "),a("span",{staticClass:"input-group-addon"},[a("span",{staticClass:"glyphicon glyphicon-calendar"})])])]),e._v(" "),a("label",{staticClass:"col-sm-3"},[e._v("Planned for (Time)")]),e._v(" "),a("div",{staticClass:"col-sm-3"},[a("div",{staticClass:"input-group date",attrs:{id:"plannedForTimePicker"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.inspection.planned_for_time,expression:"inspection.planned_for_time"}],staticClass:"form-control",attrs:{disabled:e.readonlyForm,type:"text",placeholder:"HH:MM"},domProps:{value:e.inspection.planned_for_time},on:{input:function(t){t.target.composing||e.$set(e.inspection,"planned_for_time",t.target.value)}}}),e._v(" "),a("span",{staticClass:"input-group-addon"},[a("span",{staticClass:"glyphicon glyphicon-calendar"})])])])])]),e._v(" "),a("div",{staticClass:"form-group"},[a("div",{staticClass:"row"},[a("SearchPersonOrganisation",{key:e.updateSearchPersonOrganisationBindId,ref:"search_person_organisation",attrs:{parentEntity:e.inspectedEntity,excludeStaff:!0,isEditable:!e.readonlyForm,classNames:"form-control",initialSearchType:e.inspection.party_inspected,showCreateUpdate:""},on:{"entity-selected":e.entitySelected}})],1)]),e._v(" "),a("div",{staticClass:"form-group"},[a("div",{staticClass:"row"},[a("label",{staticClass:"col-sm-4",attrs:{for:"inspection_inform"}},[e._v("Inform party being inspected")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.inspection.inform_party_being_inspected,expression:"inspection.inform_party_being_inspected"}],attrs:{disabled:e.readonlyForm,type:"checkbox",id:"inspection_inform"},domProps:{checked:Array.isArray(e.inspection.inform_party_being_inspected)?e._i(e.inspection.inform_party_being_inspected,null)>-1:e.inspection.inform_party_being_inspected},on:{change:function(t){var a=e.inspection.inform_party_being_inspected,n=t.target,i=!!n.checked;if(Array.isArray(a)){var s=e._i(a,null);n.checked?s<0&&e.$set(e.inspection,"inform_party_being_inspected",a.concat([null])):s>-1&&e.$set(e.inspection,"inform_party_being_inspected",a.slice(0,s).concat(a.slice(s+1)))}else e.$set(e.inspection,"inform_party_being_inspected",i)}}})])])]),e._v(" "),a("FormSection",{attrs:{formCollapse:!1,label:"Inspection Team",Index:"1"}},[a("div",{staticClass:"form-group"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-6"},[a("select",{ref:"inspectionteam",staticClass:"form-control",attrs:{disabled:e.readonlyForm}},e._l(e.inspection.all_officers,function(t){return a("option",{key:t.id,domProps:{value:t.id}},[e._v("\n                                  "+e._s(t.full_name)+"\n                                ")])}),0)]),e._v(" "),a("div",{staticClass:"col-sm-2"},[a("button",{staticClass:"btn btn-primary",attrs:{disabled:e.readonlyForm},on:{click:function(t){return t.preventDefault(),e.addTeamMember(t)}}},[e._v("Add Member")])])])]),e._v(" "),a("div",{staticClass:"col-sm-12 form-group"},[a("div",{staticClass:"row"},[e.inspection?a("div",[a("datatable",{ref:"inspection_team_table",attrs:{id:"inspection-team-table",dtOptions:e.dtOptionsInspectionTeam,dtHeaders:e.dtHeadersInspectionTeam}})],1):e._e()])])])],1),e._v(" "),a("div",{staticClass:"tab-pane fade in",attrs:{id:e.lTab}},[a("FormSection",{attrs:{formCollapse:!1,label:"Location"}},[e.inspection.location?a("MapLocation",{key:e.lTab,ref:"mapLocationComponent",attrs:{readonly:e.readonlyForm,marker_longitude:e.inspection.location.geometry.coordinates[0],marker_latitude:e.inspection.location.geometry.coordinates[1]},on:{"location-updated":e.locationUpdated}}):e._e(),e._v(" "),e.inspection.location?a("div",{attrs:{id:e.idLocationFieldsAddress}},[a("div",{staticClass:"col-sm-12 form-group"},[a("div",{staticClass:"row"},[a("label",{staticClass:"col-sm-4"},[e._v("Street")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.inspection.location.properties.street,expression:"inspection.location.properties.street"}],staticClass:"form-control",attrs:{readonly:""},domProps:{value:e.inspection.location.properties.street},on:{input:function(t){t.target.composing||e.$set(e.inspection.location.properties,"street",t.target.value)}}})])]),e._v(" "),a("div",{staticClass:"col-sm-12 form-group"},[a("div",{staticClass:"row"},[a("label",{staticClass:"col-sm-4"},[e._v("Town/Suburb")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.inspection.location.properties.town_suburb,expression:"inspection.location.properties.town_suburb"}],staticClass:"form-control",attrs:{readonly:""},domProps:{value:e.inspection.location.properties.town_suburb},on:{input:function(t){t.target.composing||e.$set(e.inspection.location.properties,"town_suburb",t.target.value)}}})])]),e._v(" "),a("div",{staticClass:"col-sm-12 form-group"},[a("div",{staticClass:"row"},[a("label",{staticClass:"col-sm-4"},[e._v("State")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.inspection.location.properties.state,expression:"inspection.location.properties.state"}],staticClass:"form-control",attrs:{readonly:""},domProps:{value:e.inspection.location.properties.state},on:{input:function(t){t.target.composing||e.$set(e.inspection.location.properties,"state",t.target.value)}}})])]),e._v(" "),a("div",{staticClass:"col-sm-12 form-group"},[a("div",{staticClass:"row"},[a("label",{staticClass:"col-sm-4"},[e._v("Postcode")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.inspection.location.properties.postcode,expression:"inspection.location.properties.postcode"}],staticClass:"form-control",attrs:{readonly:""},domProps:{value:e.inspection.location.properties.postcode},on:{input:function(t){t.target.composing||e.$set(e.inspection.location.properties,"postcode",t.target.value)}}})])]),e._v(" "),a("div",{staticClass:"col-sm-12 form-group"},[a("div",{staticClass:"row"},[a("label",{staticClass:"col-sm-4"},[e._v("Country")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.inspection.location.properties.country,expression:"inspection.location.properties.country"}],staticClass:"form-control",attrs:{readonly:""},domProps:{value:e.inspection.location.properties.country},on:{input:function(t){t.target.composing||e.$set(e.inspection.location.properties,"country",t.target.value)}}})])])]):e._e(),e._v(" "),e.inspection.location?a("div",{attrs:{id:e.idLocationFieldsDetails}},[a("div",{staticClass:"col-sm-12 form-group"},[a("div",{staticClass:"row"},[a("label",{staticClass:"col-sm-4"},[e._v("Details")]),e._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.inspection.location.properties.details,expression:"inspection.location.properties.details"}],staticClass:"form-control location_address_field",domProps:{value:e.inspection.location.properties.details},on:{input:function(t){t.target.composing||e.$set(e.inspection.location.properties,"details",t.target.value)}}})])])]):e._e()],1)],1),e._v(" "),a("div",{staticClass:"tab-pane fade in",attrs:{id:e.cTab}},[a("FormSection",{attrs:{formCollapse:!1,label:"Checklist"}},[a("div",{staticClass:"col-sm-12 form-group"},[a("div",{staticClass:"row"},e._l(e.current_schema,function(t,n){return e.rendererVisibility?a("div",[a("compliance-renderer-block",{key:"compliance_renderer_block"+n,attrs:{component:t,readonlyForm:e.readonlyForm}})],1):e._e()}),0)])])],1),e._v(" "),a("div",{staticClass:"tab-pane fade in",attrs:{id:e.oTab}},[a("FormSection",{attrs:{formCollapse:!1,label:"Inspection report"}},[a("div",{staticClass:"form-group"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-3"},[a("label",{staticClass:"control-label pull-left",attrs:{for:"Name"}},[e._v("Inspection Report")])]),e._v(" "),e.inspection.inspectionReportDocumentUrl?a("div",{staticClass:"col-sm-9"},[a("filefield",{ref:"inspection_report_file",attrs:{name:"inspection-report-file",isRepeatable:!1,documentActionUrl:e.inspection.inspectionReportDocumentUrl,readonly:e.readonlyForm},on:{"update-parent":e.loadInspectionReport}})],1):e._e()])])])],1),e._v(" "),a("div",{staticClass:"tab-pane fade in",attrs:{id:e.rTab}},[a("FormSection",{attrs:{formCollapse:!1,label:"Related Items"}},[a("div",{staticClass:"col-sm-12 form-group"},[a("div",{staticClass:"row"},[e.relatedItemsVisibility?a("div",{staticClass:"col-sm-12"},[a("RelatedItems",{key:e.relatedItemsBindId,attrs:{parent_update_related_items:e.setRelatedItems,readonlyForm:!e.canUserAction}})],1):e._e()])])])],1)])])])]),e._v(" "),e.inspection.can_user_action?a("div",{staticClass:"navbar navbar-fixed-bottom",staticStyle:{"background-color":"#f5f5f5"}},[a("div",{staticClass:"navbar-inner"},[a("div",{staticClass:"container"},[a("p",{staticClass:"pull-right",staticStyle:{"margin-top":"5px"}},[a("input",{staticClass:"btn btn-primary",attrs:{type:"button",value:"Save and Exit"},on:{click:function(t){return t.preventDefault(),e.save("exit")}}}),e._v(" "),a("input",{staticClass:"btn btn-primary",attrs:{type:"button",value:"Save and Continue"},on:{click:function(t){return t.preventDefault(),e.save("noexit")}}})])])])]):e._e(),e._v(" "),e.offenceInitialised?a("div",[a("Offence",{key:e.offenceBindId,ref:"offence",attrs:{parent_update_function:e.loadInspection,region_id:e.inspection.region_id,district_id:e.inspection.district_id,allocated_group_id:e.inspection.allocated_group_id}})],1):e._e(),e._v(" "),e.sanctionOutcomeInitialised?a("div",[a("SanctionOutcome",{ref:"sanction_outcome",attrs:{parent_update_function:e.loadInspection}})],1):e._e(),e._v(" "),a("InspectionWorkflow",{key:e.workflowBindId,ref:"inspection_workflow",attrs:{workflow_type:e.workflow_type}})],1)},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12 top-buffer-s"},[a("strong",[e._v("Currently assigned to")]),a("br")])])}]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"DataTable"}},[a("table",{class:e.stylingClass,attrs:{cellspacing:"0",width:"100%",id:e.id}},[a("thead",[a("tr",e._l(e.dtHeaders,function(t,n){return a("th",{attrs:{"data-class":0==n?"expand":null}},[e._v(" "+e._s(t))])}),0)]),e._v(" "),a("tbody")])])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"form-group"},[a("div",{staticClass:"row"},[a("p",{staticClass:"col-md-9",domProps:{innerHTML:e._s(e.help_text)}})])])])])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"proposedIssuanceLicence"}},[a("modal",{attrs:{transition:"modal fade",title:e.title,large:""},on:{ok:function(t){return e.ok()},cancel:function(t){return e.cancel()}}},[a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row"},[a("form",{staticClass:"form-horizontal",attrs:{name:"licenceForm"}},[a("alert",{attrs:{show:e.showError,type:"danger"},on:{"update:show":function(t){e.showError=t}}},[a("strong",[e._v(e._s(e.errorString))])]),e._v(" "),a("div",{staticClass:"col-sm-12"},[a("div",{staticClass:"form-group"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("label",{staticClass:"control-label",attrs:{for:"Name"}},[e._v("Select licensed activities to Propose Issue")]),e._v(" "),e._l(e.visibleLicenceActivities,function(t){return a("div",[a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.propose_issue.activity,expression:"propose_issue.activity"}],attrs:{type:"checkbox",id:t.id},domProps:{value:t.id,checked:Array.isArray(e.propose_issue.activity)?e._i(e.propose_issue.activity,t.id)>-1:e.propose_issue.activity},on:{change:function(a){var n=e.propose_issue.activity,i=a.target,s=!!i.checked;if(Array.isArray(n)){var o=t.id,r=e._i(n,o);i.checked?r<0&&e.$set(e.propose_issue,"activity",n.concat([o])):r>-1&&e.$set(e.propose_issue,"activity",n.slice(0,r).concat(n.slice(r+1)))}else e.$set(e.propose_issue,"activity",s)}}}),e._v(e._s(t.name)+"\n                                        ")])])})],2)])]),e._v(" "),e.canEditLicenceDates?a("div",{staticClass:"form-group"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-3"},[a("label",{staticClass:"control-label pull-left",attrs:{for:"Name"}},[e._v("Proposed Start Date")])]),e._v(" "),a("div",{staticClass:"col-sm-9"},[a("div",{ref:"start_date",staticClass:"input-group date",staticStyle:{width:"70%"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.propose_issue.start_date,expression:"propose_issue.start_date"}],staticClass:"form-control",attrs:{type:"text",name:"start_date",placeholder:"DD/MM/YYYY"},domProps:{value:e.propose_issue.start_date},on:{input:function(t){t.target.composing||e.$set(e.propose_issue,"start_date",t.target.value)}}}),e._v(" "),a("span",{staticClass:"input-group-addon"},[a("span",{staticClass:"glyphicon glyphicon-calendar"})])])])])]):e._e(),e._v(" "),e.canEditLicenceDates?a("div",{staticClass:"form-group"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-3"},[a("label",{staticClass:"control-label pull-left",attrs:{for:"Name"}},[e._v("Proposed Expiry Date")])]),e._v(" "),a("div",{staticClass:"col-sm-9"},[a("div",{ref:"due_date",staticClass:"input-group date",staticStyle:{width:"70%"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.propose_issue.expiry_date,expression:"propose_issue.expiry_date"}],staticClass:"form-control",attrs:{type:"text",name:"due_date",placeholder:"DD/MM/YYYY"},domProps:{value:e.propose_issue.expiry_date},on:{input:function(t){t.target.composing||e.$set(e.propose_issue,"expiry_date",t.target.value)}}}),e._v(" "),a("span",{staticClass:"input-group-addon"},[a("span",{staticClass:"glyphicon glyphicon-calendar"})])])])])]):e._e(),e._v(" "),a("div",{staticClass:"form-group"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-3"},[a("label",{staticClass:"control-label pull-left",attrs:{for:"Name"}},[e._v("Proposed Details")])]),e._v(" "),a("div",{staticClass:"col-sm-9"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.propose_issue.reason,expression:"propose_issue.reason"}],staticClass:"form-control",staticStyle:{width:"70%"},attrs:{name:"licence_details"},domProps:{value:e.propose_issue.reason},on:{input:function(t){t.target.composing||e.$set(e.propose_issue,"reason",t.target.value)}}})])])]),e._v(" "),a("div",{staticClass:"form-group"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-3"},[a("label",{staticClass:"control-label pull-left",attrs:{for:"Name"}},[e._v("Proposed CC email")])]),e._v(" "),a("div",{staticClass:"col-sm-9"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.propose_issue.cc_email,expression:"propose_issue.cc_email"}],staticClass:"form-control",staticStyle:{width:"70%"},attrs:{type:"text",name:"licence_cc"},domProps:{value:e.propose_issue.cc_email},on:{input:function(t){t.target.composing||e.$set(e.propose_issue,"cc_email",t.target.value)}}})])])])])],1)])]),e._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[e.issuingLicence?a("button",{staticClass:"btn btn-default",attrs:{type:"button",disabled:""},on:{click:e.ok}},[a("i",{staticClass:"fa fa-spinner fa-spin"}),e._v("Proposing Issue")]):a("button",{staticClass:"btn btn-success",attrs:{type:"button"},on:{click:e.ok}},[e._v("Propose Issue")]),e._v(" "),a("button",{staticClass:"btn btn-default",attrs:{type:"button"},on:{click:e.cancel}},[e._v("Cancel")])])])],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",["tab"===e.component.type?a("div",e._l(e.component.children,function(t,n){return a("compliance-renderer-block",{key:"subcomponent_"+n,attrs:{component:t,instance:e.instance,readonlyForm:e.readonlyForm}})}),1):e._e(),e._v(" "),"section"===e.component.type?a("FormSection",{attrs:{label:e.component.label,Index:e.component_name,id:e.component_name}},e._l(e.component.children,function(t,n){return a("compliance-renderer-block",{key:"section_"+n,attrs:{component:t,instance:e.instance,readonlyForm:e.readonlyForm}})}),1):e._e(),e._v(" "),"group"===e.component.type?a("Group",{attrs:{label:e.component.label,name:e.component_name,id:e.element_id(),help_text:e.help_text,help_text_url:e.help_text_url,isRemovable:!0}},e._l(e.component.children,function(t,n){return a("compliance-renderer-block",{key:"group_"+n,attrs:{component:t,instance:e.instance,readonlyForm:e.readonlyForm}})}),1):e._e(),e._v(" "),"text"===e.component.type?a("TextField",{attrs:{type:"text",name:e.component_name,field_data:e.value,id:e.element_id(),label:e.component.label,help_text:e.help_text,readonly:e.is_readonly,isRequired:e.component.isRequired,help_text_url:e.help_text_url}}):e._e(),e._v(" "),"string"===e.component.type?a("TextField",{attrs:{type:"string",name:e.component.name,field_data:e.value,id:e.element_id(),label:e.component.label,help_text:e.help_text,readonly:e.is_readonly,isRequired:e.component.isRequired,help_text_url:e.help_text_url}}):e._e(),e._v(" "),"number"===e.component.type?a("TextField",{attrs:{type:"number",name:e.component_name,field_data:e.value,id:e.element_id(),min:e.component.min,max:e.component.max,label:e.component.label,help_text:e.help_text,readonly:e.is_readonly,isRequired:e.component.isRequired,help_text_url:e.help_text_url}}):e._e(),e._v(" "),"email"===e.component.type?a("TextField",{attrs:{type:"email",name:e.component_name,field_data:e.value,id:e.element_id(),label:e.component.label,help_text:e.help_text,readonly:e.is_readonly,isRequired:e.component.isRequired,help_text_url:e.help_text_url}}):e._e(),e._v(" "),"select"===e.component.type?a("div",[a("SelectBlock",{attrs:{readonly:e.is_readonly,name:e.component_name,label:e.component.label,field_data:e.value,id:e.element_id(),options:e.component.options,help_text:e.help_text,handleChange:e.handleComponentChange(e.component,!0),conditions:e.component.conditions,isRequired:e.component.isRequired,help_text_url:e.help_text_url}}),e._v(" "),a("SelectConditions",{attrs:{conditions:e.component.conditions,name:e.component_name,data:e.json_data,id:e.element_id(1),readonly:e.is_readonly,isRequired:e.component.isRequired}})],1):e._e(),e._v(" "),"multi-select"===e.component.type?a("SelectBlock",{attrs:{name:e.component_name,label:e.component.label,field_data:e.value,id:e.element_id(),options:e.component.options,help_text:e.help_text,handleChange:e.handleComponentChange(e.component,!1),readonly:e.is_readonly,isMultiple:!0,isRequired:e.component.isRequired,help_text_url:e.help_text_url}}):e._e(),e._v(" "),"text_area"===e.component.type?a("TextAreaBlock",{attrs:{readonly:e.is_readonly,name:e.component_name,field_data:e.value,id:e.element_id(),label:e.component.label,help_text:e.help_text,isRequired:e.component.isRequired,help_text_url:e.help_text_url}}):e._e(),e._v(" "),"table"===e.component.type?a("TableBlock",{attrs:{headers:e.component.headers,readonly:e.is_readonly,name:e.component_name,field_data:e.value,id:e.element_id(),label:e.component.label,help_text:e.help_text,isRequired:e.component.isRequired,help_text_url:e.help_text_url}}):e._e(),e._v(" "),"expander_table"===e.component.type?a("ExpanderTable",{attrs:{field_data:e.value,readonly:e.is_readonly,name:e.component_name,component:e.component,id:e.element_id(),label:e.component.label,help_text:e.help_text,isRequired:e.component.isRequired,help_text_url:e.help_text_url}}):e._e(),e._v(" "),"label"===e.component.type?a("LabelBlock",{attrs:{value:e.component.label,id:e.element_id()}}):e._e(),e._v(" "),"radiobuttons"===e.component.type?a("div",{staticClass:"form-group"},[a("label",{staticClass:"inline",attrs:{id:e.element_id()}},[e._v(e._s(e.component.label))]),e._v(" "),a("HelpText",{attrs:{help_text:e.help_text}}),e._v(" "),a("HelpTextUrl",{attrs:{help_text_url:e.help_text_url}}),e._v(" "),a("CommentBlock",{attrs:{label:e.component.label,name:e.component_name,field_data:e.value}}),e._v(" "),e._l(e.component.options,function(t,n){return a("Radio",{key:"radio_"+e.component_name+"_"+n,attrs:{name:e.component_name,label:t.label,value:t.value,isRequired:t.isRequired||e.component.isRequired,id:e.element_id(1),savedValue:e.value,handleChange:e.handleComponentChange(e.component),conditions:e.component.conditions,readonly:e.is_readonly}})}),e._v(" "),a("Conditions",{attrs:{conditions:e.component.conditions,name:e.component_name,instance:e.instance,data:e.json_data,id:e.element_id(2),readonly:e.is_readonly}})],2):e._e(),e._v(" "),"checkbox"===e.component.type?a("div",{staticClass:"form-group"},[a("Checkbox",{attrs:{group:e.component.group,name:e.component_name,label:e.component.label,id:e.element_id(1),help_text:e.help_text,help_text_url:e.help_text_url,field_data:e.value,handleChange:e.handleComponentChange(e.component),conditions:e.component.conditions,readonly:e.is_readonly,isRequired:e.component.isRequired}}),e._v(" "),a("Conditions",{attrs:{conditions:e.component.conditions,name:e.component_name,instance:e.instance,data:e.json_data,id:e.element_id(2),isRequired:e.component.isRequired}})],1):e._e(),e._v(" "),"declaration"===e.component.type?a("div",{staticClass:"form-group"},[a("label",[e._v(e._s(e.component.label))]),e._v(" "),a("Checkbox",{attrs:{name:e.component_name,label:e.component.label,field_data:e.value,help_text:e.component.help_text,handleChange:e.handleComponentChange(e.component),conditions:e.component.conditions}}),e._v(" "),a("Conditions",{attrs:{conditions:e.component.conditions,name:e.component_name,instance:e.instance,data:e.value}})],1):e._e(),e._v(" "),"file"===e.component.type&&e.parent_id?a("File",{attrs:{name:e.component_name,label:e.component.label,field_data:e.value,id:e.element_id(),isRepeatable:e.strToBool(e.component.isRepeatable),readonly:e.is_readonly,help_text:e.help_text,docsUrl:e.documents_url,isRequired:e.component.isRequired,documentActionUrl:e.documentActionUrl,help_text_url:e.help_text_url}}):e._e(),e._v(" "),"date"===e.component.type?a("DateField",{attrs:{name:e.component_name,label:e.component.label,field_data:e.value,id:e.element_id(),readonly:e.is_readonly,help_text:e.help_text,isRequired:e.component.isRequired,help_text_url:e.help_text_url}}):e._e(),e._v(" "),"grid"===e.component.type?a("GridBlock",{attrs:{name:e.component.name,headers:e.component.headers,field_data:e.component.data,id:e.element_id(),label:e.component.label,help_text:e.help_text,readonly:e.is_readonly,isRequired:e.component.isRequired,help_text_url:e.help_text_url}}):e._e()],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-3"},[a("h3",[e._v("Call/Email: "+e._s(e.call_email.number))])]),e._v(" "),a("div",{staticClass:"col-md-3 pull-right"},[e.call_email.user_is_volunteer?a("input",{staticClass:"pull-right btn btn-primary",attrs:{type:"button",value:"Create Duplicate Call/Email"},on:{click:function(t){return t.preventDefault(),e.duplicate(t)}}}):e._e()])]),e._v(" "),a("div",{staticClass:"col-md-3"},[a("CommsLogs",{attrs:{comms_url:e.comms_url,logs_url:e.logs_url,comms_add_url:e.comms_add_url,disable_add_entry:!1}}),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"panel-heading"},[e._v("\n                    Workflow \n                ")]),e._v(" "),a("div",{staticClass:"panel-body panel-collapse"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("strong",[e._v("Status")]),a("br"),e._v("\n                            "+e._s(e.statusDisplay)),a("br")])]),e._v(" "),e.call_email.allocated_group&&"closed"!==e.statusId?a("div",{staticClass:"form-group"},[e._m(0),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.call_email.assigned_to_id,expression:"call_email.assigned_to_id"}],staticClass:"form-control",attrs:{disabled:!e.call_email.user_in_group},on:{change:[function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.call_email,"assigned_to_id",t.target.multiple?a:a[0])},function(t){return e.updateAssignedToId()}]}},e._l(e.call_email.allocated_group,function(t){return a("option",{key:t.id,domProps:{value:t.id}},[e._v("\n                              "+e._s(t.full_name)+" \n                            ")])}),0)])])]):e._e(),e._v(" "),e.call_email.user_in_group?a("div",[a("a",{staticClass:"btn pull-right",on:{click:function(t){return e.updateAssignedToId("current_user")}}},[e._v("\n                            Assign to me\n                        ")])]):e._e()])])]),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"panel-heading"},[e._v("\n                    Action \n                ")]),e._v(" "),a("div",{staticClass:"panel-body panel-collapse"},["draft"===e.statusId&&e.canUserAction?a("div",{staticClass:"row action-button"},[a("div",{staticClass:"col-sm-12"},[a("a",{ref:"forwardToWildlifeProtectionBranch",staticClass:"btn btn-primary btn-block",on:{click:function(t){return e.addWorkflow("forward_to_wildlife_protection_branch")}}},[e._v("\n                              Forward to Wildlife Protection Branch\n                            ")])])]):e._e(),e._v(" "),"draft"===e.statusId&&e.canUserAction?a("div",{staticClass:"row action-button"},[a("div",{staticClass:"col-sm-12"},[a("a",{ref:"forwardToRegions",staticClass:"btn btn-primary btn-block",on:{click:function(t){return e.addWorkflow("forward_to_regions")}}},[e._v("\n                              Forward to Regions\n                            ")])])]):e._e(),e._v(" "),"open_followup"===e.statusId&&e.canUserAction?a("div",{staticClass:"row action-button"},[a("div",{staticClass:"col-sm-12"},[a("a",{staticClass:"btn btn-primary btn-block",on:{click:function(t){return e.openOffence()}}},[e._v("\n                              Offence\n                            ")])])]):e._e(),e._v(" "),"open_followup"===e.statusId&&e.canUserAction&&this.offenceExists?a("div",{staticClass:"row action-button"},[a("div",{staticClass:"col-sm-12"},[a("a",{staticClass:"btn btn-primary btn-block",on:{click:function(t){return e.openSanctionOutcome()}}},[e._v("\n                              Sanction Outcome\n                            ")])])]):e._e(),e._v(" "),"open"===e.statusId&&e.canUserAction?a("div",{staticClass:"row action-button"},[a("div",{staticClass:"col-sm-12"},[a("a",{ref:"allocateForFollowUp",staticClass:"btn btn-primary btn-block",on:{click:function(t){return e.addWorkflow("allocate_for_follow_up")}}},[e._v("\n                              Allocate for Follow Up\n                            ")])])]):e._e(),e._v(" "),"open"===e.statusId&&e.canUserAction?a("div",{staticClass:"row action-button"},[a("div",{staticClass:"col-sm-12"},[a("a",{ref:"allocateForInspection",staticClass:"btn btn-primary btn-block",on:{click:function(t){return e.allocateForInspection()}}},[e._v("\n                              Allocate for Inspection\n                            ")])])]):e._e(),e._v(" "),"open"===e.statusId&&e.canUserAction?a("div",{staticClass:"row action-button"},[a("div",{staticClass:"col-sm-12"},[a("a",{ref:"allocateForLegalCase",staticClass:"btn btn-primary btn-block",on:{click:function(t){return e.allocateForLegalCase()}}},[e._v("\n                              Allocate for Case\n                            ")])])]):e._e(),e._v(" "),"closed"!==e.statusId&&e.canUserAction?a("div",{staticClass:"row action-button"},[a("div",{staticClass:"col-sm-12"},[a("a",{ref:"close",staticClass:"btn btn-primary btn-block",on:{click:function(t){return e.addWorkflow("close")}}},[e._v("\n                              Close\n                            ")])])]):e._e()])])])],1),e._v(" "),a("div",{staticClass:"col-md-9",attrs:{id:"main-column"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"container-fluid"},[a("ul",{staticClass:"nav nav-pills aho2"},[a("li",{staticClass:"nav-item active"},[a("a",{attrs:{"data-toggle":"tab",href:"#"+e.cTab}},[e._v("Call/Email")])]),e._v(" "),a("li",{staticClass:"nav-item"},[a("a",{attrs:{"data-toggle":"tab",href:"#"+e.rTab}},[e._v("Related Items")])])]),e._v(" "),a("div",{staticClass:"tab-content"},[a("div",{staticClass:"tab-pane fade in active",attrs:{id:e.cTab}},[a("FormSection",{attrs:{formCollapse:!1,label:"Caller",Index:"0"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-8 form-group"},[a("label",{staticClass:"col-sm-12"},[e._v("Caller name")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.call_email.caller,expression:"call_email.caller"}],staticClass:"form-control",attrs:{readonly:e.readonlyForm},domProps:{value:e.call_email.caller},on:{input:function(t){t.target.composing||e.$set(e.call_email,"caller",t.target.value)}}})])]),e._v(" "),a("div",{staticClass:"col-sm-4 form-group"},[a("div",{staticClass:"row"},[a("label",{staticClass:"col-sm-12"},[e._v("Caller contact number")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.call_email.caller_phone_number,expression:"call_email.caller_phone_number"}],staticClass:"form-control",attrs:{readonly:e.readonlyForm},domProps:{value:e.call_email.caller_phone_number},on:{input:function(t){t.target.composing||e.$set(e.call_email,"caller_phone_number",t.target.value)}}})])]),e._v(" "),a("div",{staticClass:"col-sm-12 form-group"},[a("div",{staticClass:"row"},[a("label",{staticClass:"col-sm-4"},[e._v("Anonymous call?")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.call_email.anonymous_call,expression:"call_email.anonymous_call"}],staticClass:"col-sm-1",attrs:{disabled:e.readonlyForm,id:"yes",type:"radio"},domProps:{value:!0,checked:e._q(e.call_email.anonymous_call,!0)},on:{change:function(t){return e.$set(e.call_email,"anonymous_call",!0)}}}),e._v(" "),a("label",{staticClass:"col-sm-1",attrs:{for:"yes"}},[e._v("Yes")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.call_email.anonymous_call,expression:"call_email.anonymous_call"}],staticClass:"col-sm-1",attrs:{disabled:e.readonlyForm,id:"no",type:"radio"},domProps:{value:!1,checked:e._q(e.call_email.anonymous_call,!1)},on:{change:function(t){return e.$set(e.call_email,"anonymous_call",!1)}}}),e._v(" "),a("label",{staticClass:"col-sm-1",attrs:{for:"no"}},[e._v("No")])])]),e._v(" "),a("div",{staticClass:"col-sm-12 form-group"},[a("div",{staticClass:"row"},[a("label",{staticClass:"col-sm-4"},[e._v("Caller wishes to remain anonymous?")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.call_email.caller_wishes_to_remain_anonymous,expression:"call_email.caller_wishes_to_remain_anonymous"}],staticClass:"col-sm-1",attrs:{disabled:e.readonlyForm,type:"radio"},domProps:{value:!0,checked:e._q(e.call_email.caller_wishes_to_remain_anonymous,!0)},on:{change:function(t){return e.$set(e.call_email,"caller_wishes_to_remain_anonymous",!0)}}}),e._v(" "),a("label",{staticClass:"col-sm-1"},[e._v("Yes")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.call_email.caller_wishes_to_remain_anonymous,expression:"call_email.caller_wishes_to_remain_anonymous"}],staticClass:"col-sm-1",attrs:{disabled:e.readonlyForm,type:"radio"},domProps:{value:!1,checked:e._q(e.call_email.caller_wishes_to_remain_anonymous,!1)},on:{change:function(t){return e.$set(e.call_email,"caller_wishes_to_remain_anonymous",!1)}}}),e._v(" "),a("label",{staticClass:"col-sm-1"},[e._v("No")])])]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:"draft"!==e.statusId,expression:"statusId !=='draft'"}]},[a("SearchPersonOrganisation",{key:e.updateSearchPersonOrganisationBindId,ref:"search_person_organisation",attrs:{parentEntity:e.callerEntity,isEditable:e.personSearchVisibility,classNames:"form-control",initialSearchType:"individual",showCreateUpdate:"",personOnly:""},on:{"entity-selected":e.entitySelected}})],1)]),e._v(" "),a("FormSection",{attrs:{formCollapse:!1,label:"Location",Index:"1"}},[e.call_email.location?a("div",[a("MapLocation",{key:e.call_email.location.id})],1):e._e()]),e._v(" "),a("FormSection",{attrs:{formCollapse:!0,label:"Details",Index:"2"}},[a("div",{staticClass:"col-sm-12 form-group"},[a("div",{staticClass:"row"},[a("label",{staticClass:"col-sm-3"},[e._v("Date of call")]),e._v(" "),a("div",{staticClass:"col-sm-3"},[a("div",{ref:"dateOfCallPicker",staticClass:"input-group date"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.call_email.date_of_call,expression:"call_email.date_of_call"}],staticClass:"form-control",attrs:{disabled:e.readonlyForm,type:"text",placeholder:"DD/MM/YYYY"},domProps:{value:e.call_email.date_of_call},on:{input:function(t){t.target.composing||e.$set(e.call_email,"date_of_call",t.target.value)}}}),e._v(" "),a("span",{staticClass:"input-group-addon"},[a("span",{staticClass:"glyphicon glyphicon-calendar"})])])]),e._v(" "),a("label",{staticClass:"col-sm-3"},[e._v("Time of call")]),e._v(" "),a("div",{staticClass:"col-sm-3"},[a("div",{staticClass:"input-group date",attrs:{id:"timeOfCallPicker"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.call_email.time_of_call,expression:"call_email.time_of_call"}],staticClass:"form-control",attrs:{disabled:e.readonlyForm,type:"text",placeholder:"HH:MM"},domProps:{value:e.call_email.time_of_call},on:{input:function(t){t.target.composing||e.$set(e.call_email,"time_of_call",t.target.value)}}}),e._v(" "),a("span",{staticClass:"input-group-addon"},[a("span",{staticClass:"glyphicon glyphicon-calendar"})])])])])]),e._v(" "),a("div",{staticClass:"col-sm-12 form-group"},[a("div",{staticClass:"row"},[a("label",{staticClass:"col-sm-3"},[e._v("Volunteer")]),e._v(" "),a("div",{staticClass:"col-sm-9"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.call_email.volunteer_id,expression:"call_email.volunteer_id"}],staticClass:"form-control",attrs:{disabled:e.readonlyForm},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.call_email,"volunteer_id",t.target.multiple?a:a[0])}}},e._l(e.call_email.volunteer_list,function(t){return a("option",{key:t.id,domProps:{value:t.id}},[e._v("\n                              "+e._s(t.full_name)+" \n                            ")])}),0)])])]),e._v(" "),a("div",{staticClass:"col-sm-12 form-group"},[a("div",{staticClass:"row"},[a("label",{staticClass:"col-sm-4"},[e._v("Use occurrence from/to")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.call_email.occurrence_from_to,expression:"call_email.occurrence_from_to"}],staticClass:"col-sm-1",attrs:{disabled:e.readonlyForm,type:"radio"},domProps:{value:!0,checked:e._q(e.call_email.occurrence_from_to,!0)},on:{change:function(t){return e.$set(e.call_email,"occurrence_from_to",!0)}}}),e._v(" "),a("label",{staticClass:"col-sm-1"},[e._v("Yes")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.call_email.occurrence_from_to,expression:"call_email.occurrence_from_to"}],staticClass:"col-sm-1",attrs:{disabled:e.readonlyForm,type:"radio"},domProps:{value:!1,checked:e._q(e.call_email.occurrence_from_to,!1)},on:{change:function(t){return e.$set(e.call_email,"occurrence_from_to",!1)}}}),e._v(" "),a("label",{staticClass:"col-sm-1"},[e._v("No")])])]),e._v(" "),a("div",{staticClass:"col-sm-12 form-group"},[a("div",{staticClass:"row"},[a("label",{staticClass:"col-sm-3"},[e._v(e._s(e.occurrenceDateLabel))]),e._v(" "),a("div",{staticClass:"col-sm-4"},[a("div",{ref:"occurrenceDateFromPicker",staticClass:"input-group date"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.call_email.occurrence_date_from,expression:"call_email.occurrence_date_from"}],staticClass:"form-control",attrs:{disabled:e.readonlyForm,type:"text",placeholder:"DD/MM/YYYY"},domProps:{value:e.call_email.occurrence_date_from},on:{input:function(t){t.target.composing||e.$set(e.call_email,"occurrence_date_from",t.target.value)}}}),e._v(" "),a("span",{staticClass:"input-group-addon"},[a("span",{staticClass:"glyphicon glyphicon-calendar"})])])]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.call_email.occurrence_from_to,expression:"call_email.occurrence_from_to"}]},[a("div",{staticClass:"col-sm-4"},[a("div",{ref:"occurrenceDateToPicker",staticClass:"input-group date"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.call_email.occurrence_date_to,expression:"call_email.occurrence_date_to"}],staticClass:"form-control",attrs:{disabled:e.readonlyForm,type:"text",placeholder:"DD/MM/YYYY"},domProps:{value:e.call_email.occurrence_date_to},on:{input:function(t){t.target.composing||e.$set(e.call_email,"occurrence_date_to",t.target.value)}}}),e._v(" "),a("span",{staticClass:"input-group-addon"},[a("span",{staticClass:"glyphicon glyphicon-calendar"})])])])])])]),e._v(" "),a("div",{staticClass:"col-sm-12 form-group"},[a("div",{staticClass:"row"},[a("label",{staticClass:"col-sm-3"},[e._v(e._s(e.occurrenceTimeLabel))]),e._v(" "),a("div",{staticClass:"col-sm-3"},[a("div",{staticClass:"input-group date",attrs:{id:"occurrenceTimeStartPicker"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.call_email.occurrence_time_start,expression:"call_email.occurrence_time_start"}],staticClass:"form-control",attrs:{disabled:e.readonlyForm,type:"text",placeholder:"HH:MM"},domProps:{value:e.call_email.occurrence_time_start},on:{input:function(t){t.target.composing||e.$set(e.call_email,"occurrence_time_start",t.target.value)}}}),e._v(" "),a("span",{staticClass:"input-group-addon"},[a("span",{staticClass:"glyphicon glyphicon-calendar"})])])]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.call_email.occurrence_from_to,expression:"call_email.occurrence_from_to"}]},[a("label",{staticClass:"col-sm-3"},[e._v("Occurrence time to")]),e._v(" "),a("div",{staticClass:"col-sm-3"},[a("div",{staticClass:"input-group date",attrs:{id:"occurrenceTimeEndPicker"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.call_email.occurrence_time_end,expression:"call_email.occurrence_time_end"}],staticClass:"form-control",attrs:{disabled:e.readonlyForm,type:"text",placeholder:"HH:MM"},domProps:{value:e.call_email.occurrence_time_end},on:{input:function(t){t.target.composing||e.$set(e.call_email,"occurrence_time_end",t.target.value)}}}),e._v(" "),a("span",{staticClass:"input-group-addon"},[a("span",{staticClass:"glyphicon glyphicon-calendar"})])])])])])]),e._v(" "),a("div",{staticClass:"col-sm-12 form-group"},[a("div",{staticClass:"row"},[a("label",{staticClass:"col-sm-4"},[e._v("Classification")]),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.call_email.classification_id,expression:"call_email.classification_id"}],staticClass:"form-control",attrs:{disabled:e.readonlyForm},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.call_email,"classification_id",t.target.multiple?a:a[0])}}},e._l(e.classification_types,function(t){return a("option",{key:t.id,domProps:{value:t.id}},[e._v("\n                                  "+e._s(t.name)+" \n                                ")])}),0)])]),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-9 form-group"},[a("label",{staticClass:"col-sm-4"},[e._v("Report Type")]),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.call_email.report_type_id,expression:"call_email.report_type_id"}],staticClass:"form-control",attrs:{disabled:e.readonlyForm},on:{change:[function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.call_email,"report_type_id",t.target.multiple?a:a[0])},function(t){return t.preventDefault(),e.loadSchema(t)}]}},e._l(e.report_types,function(t){return a("option",{key:t.id,domProps:{value:t.id}},[e._v("\n                                        "+e._s(t.report_type)+" \n                                      ")])}),0)]),e._v(" "),a("div",{staticClass:"col-sm-3 form-group"},[a("div",{staticClass:"row"},[a("label",{staticClass:"col-sm-2 advice-url-label"},[e._v("None ")])]),e._v(" "),a("div",{staticClass:"row"},[a("a",{staticClass:"advice-url",attrs:{href:this.reportAdviceUrl,target:"_blank"}},[e._v("Click for advice")])])])]),e._v(" "),e._l(e.current_schema,function(t,n){return e.rendererVisibility?a("div",[a("compliance-renderer-block",{key:"compliance_renderer_block_"+n,attrs:{component:t,readonlyForm:e.readonlyForm}})],1):e._e()})],2),e._v(" "),e.call_email.referrer&&e.call_email.referrer.length>0||e.call_email.advice_details?a("FormSection",{attrs:{formCollapse:!0,label:"Outcome",Index:"3"}},[e.call_email.referrer&&e.call_email.referrer.length>0?a("div",{staticClass:"col-sm-12 form-group"},[a("div",{staticClass:"row"},[a("label",{staticClass:"col-sm-4"},[e._v("Referred To")]),e._v(" "),a("select",{ref:"referrerList",staticClass:"form-control input-sm",staticStyle:{width:"100%"},attrs:{multiple:""}},e._l(e.referrers,function(t){return a("option",{key:t.id,domProps:{value:t.id}},[e._v("\n                                "+e._s(t.name)+" \n                              ")])}),0)])]):e._e(),e._v(" "),e.call_email.advice_details?a("div",{staticClass:"col-sm-12 form-group"},[a("div",{staticClass:"row"},[a("label",{staticClass:"col-sm-4"},[e._v("Advice details")]),e._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.call_email.advice_details,expression:"call_email.advice_details"}],staticClass:"form-control",attrs:{readonly:!0,rows:"5"},domProps:{value:e.call_email.advice_details},on:{input:function(t){t.target.composing||e.$set(e.call_email,"advice_details",t.target.value)}}})])]):e._e()]):e._e()],1),e._v(" "),a("div",{staticClass:"tab-pane fade in",attrs:{id:e.rTab}},[a("FormSection",{attrs:{formCollapse:!1,label:"Related Items"}},[a("div",{staticClass:"col-sm-12 form-group"},[a("div",{staticClass:"row"},[e.relatedItemsVisibility?a("div",{staticClass:"col-sm-12"},[a("RelatedItems",{key:e.relatedItemsBindId,attrs:{parent_update_related_items:e.setRelatedItems,readonlyForm:!e.canUserAction}})],1):e._e()])])])],1)])])])]),e._v(" "),e.call_email.can_user_action?a("div",{staticClass:"navbar navbar-fixed-bottom",staticStyle:{"background-color":"#f5f5f5"}},[a("div",{staticClass:"navbar-inner"},[a("div",{staticClass:"container"},[a("p",{staticClass:"pull-right",staticStyle:{"margin-top":"5px"}},[a("input",{staticClass:"btn btn-primary",attrs:{type:"button",value:"Save and Exit",w:""},on:{click:function(t){return t.preventDefault(),e.save("exit")}}}),e._v(" "),a("input",{staticClass:"btn btn-primary",attrs:{type:"button",value:"Save and Continue"},on:{click:function(t){return t.preventDefault(),e.save("noexit")}}})])])])]):e._e(),e._v(" "),e.workflow_type?a("div",[a("CallWorkflow",{key:e.workflowBindId,ref:"add_workflow",attrs:{workflow_type:e.workflow_type}})],1):e._e(),e._v(" "),a("Offence",{key:e.offenceBindId,ref:"offence",attrs:{parent_update_function:e.loadCallEmail,region_id:e.call_email.region_id,district_id:e.call_email.district_id,allocated_group_id:e.call_email.allocated_group_id}}),e._v(" "),e.sanctionOutcomeInitialised?a("div",[a("SanctionOutcome",{ref:"sanction_outcome",attrs:{parent_update_function:e.loadCallEmail}})],1):e._e(),e._v(" "),e.inspectionInitialised?a("div",[a("Inspection",{ref:"inspection"})],1):e._e(),e._v(" "),e.legalCaseInitialised?a("div",[a("CreateLegalCaseModal",{ref:"legal_case"})],1):e._e()],1)},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12 top-buffer-s"},[a("strong",[e._v("Currently assigned to")]),a("br")])])}]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container",attrs:{id:"internalDash"}},[a("LicenceDashTable",{attrs:{level:"internal",url:e.licences_url}})],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"CreateLegalCase"}},[a("modal",{attrs:{transition:"modal fade",title:"Create New Case",large:"",force:""},on:{ok:function(t){return e.ok()},cancel:function(t){return e.cancel()}}},[a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("div",{staticClass:"form-group"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-3"},[a("label",[e._v("Region")])]),e._v(" "),a("div",{staticClass:"col-sm-9"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.region_id,expression:"region_id"}],staticClass:"form-control col-sm-9",on:{change:[function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.region_id=t.target.multiple?a:a[0]},function(t){return t.preventDefault(),e.updateDistricts()}]}},e._l(e.regions,function(t){return a("option",{key:t.id,domProps:{value:t.id}},[e._v("\n                              "+e._s(t.display_name)+" \n                            ")])}),0)])])]),e._v(" "),a("div",{staticClass:"form-group"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-3"},[a("label",[e._v("District")])]),e._v(" "),a("div",{staticClass:"col-sm-9"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.district_id,expression:"district_id"}],staticClass:"form-control",on:{change:[function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.district_id=t.target.multiple?a:a[0]},function(t){return t.preventDefault(),e.updateAllocatedGroup()}]}},e._l(e.availableDistricts,function(t){return a("option",{key:t.id,domProps:{value:t.id}},[e._v("\n                              "+e._s(t.display_name)+" \n                            ")])}),0)])])]),e._v(" "),a("div",{staticClass:"form-group"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-3"},[a("label",[e._v("Allocate to")])]),e._v(" "),a("div",{staticClass:"col-sm-9"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.assigned_to_id,expression:"assigned_to_id"}],staticClass:"form-control",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.assigned_to_id=t.target.multiple?a:a[0]}}},e._l(e.allocatedGroup,function(t){return a("option",{key:t.id,domProps:{value:t.id}},[e._v("\n                              "+e._s(t.full_name)+" \n                            ")])}),0)])])]),e._v(" "),a("div",{staticClass:"form-group"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-3"},[a("label",[e._v("Case Priority")])]),e._v(" "),a("div",{staticClass:"col-sm-9"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.legal_case_priority_id,expression:"legal_case_priority_id"}],staticClass:"form-control",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.legal_case_priority_id=t.target.multiple?a:a[0]}}},e._l(e.legalCasePriorities,function(t){return a("option",{key:t.id,domProps:{value:t.id}},[e._v("\n                              "+e._s(t.case_priority)+"\n                            ")])}),0)])])]),e._v(" "),a("div",{staticClass:"form-group"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-3"},[a("label",{staticClass:"control-label pull-left",attrs:{for:"details"}},[e._v("Details")])]),e._v(" "),a("div",{staticClass:"col-sm-6"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.legalCaseDetails,expression:"legalCaseDetails"}],staticClass:"form-control",attrs:{placeholder:"add details",id:"details"},domProps:{value:e.legalCaseDetails},on:{input:function(t){t.target.composing||(e.legalCaseDetails=t.target.value)}}})])])]),e._v(" "),a("div",{staticClass:"form-group"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-3"},[a("label",{staticClass:"control-label pull-left",attrs:{for:"Name"}},[e._v("Attachments")])]),e._v(" "),a("div",{staticClass:"col-sm-9"},[a("filefield",{ref:"comms_log_file",attrs:{name:"comms-log-file",isRepeatable:!0,documentActionUrl:"temporary_document"},on:{"update-temp-doc-coll-id":e.setTemporaryDocumentCollectionId}})],1)])])])])]),e._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[e.errorResponse?a("div",{staticClass:"form-group"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("strong",[a("span",{staticStyle:{"white-space":"pre"}},[e._v(e._s(e.errorResponse))])])])])]):e._e(),e._v(" "),a("button",{staticClass:"btn btn-default",attrs:{type:"button"},on:{click:e.ok}},[e._v("Ok")]),e._v(" "),a("button",{staticClass:"btn btn-default",attrs:{type:"button"},on:{click:e.cancel}},[e._v("Cancel")])])])],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"panel-heading"},[a("h3",{staticClass:"panel-title"},[e._v("Sanction Outcomes "),e.is_external?a("small",[e._v("View any sanction outcome issued to you, pay any infringement notice and follow up on any remediation action")]):e._e(),e._v(" "),a("a",{attrs:{href:"#"+e.pBody,"data-toggle":"collapse","data-parent":"#userInfo",expanded:"true","aria-controls":e.pBody}},[a("span",{staticClass:"glyphicon glyphicon-chevron-up pull-right "})])])]),e._v(" "),a("div",{staticClass:"panel-body collapse in",attrs:{id:e.pBody}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-3"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:""}},[e._v("Type")]),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.filterType,expression:"filterType"}],staticClass:"form-control",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.filterType=t.target.multiple?a:a[0]}}},e._l(e.sanction_outcome_types,function(t){return a("option",{key:t.id,domProps:{value:t.id}},[e._v("\n                                    "+e._s(t.display)+"\n                                ")])}),0)])]),e._v(" "),a("div",{staticClass:"col-md-3"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:""}},[e._v("Status")]),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.filterStatus,expression:"filterStatus"}],staticClass:"form-control",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.filterStatus=t.target.multiple?a:a[0]}}},e._l(e.sanction_outcome_statuses,function(t){return a("option",{key:t.id,domProps:{value:t.id}},[e._v("\n                                    "+e._s(t.display)+"\n                                ")])}),0)])]),e._v(" "),a("div",{staticClass:"col-md-3"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:""}},[e._v("Payment status")]),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.filterPaymentStatus,expression:"filterPaymentStatus"}],staticClass:"form-control",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.filterPaymentStatus=t.target.multiple?a:a[0]}}},e._l(e.sanction_outcome_payment_statuses,function(t){return a("option",{key:t.id,domProps:{value:t.id}},[e._v("\n                                    "+e._s(t.display)+"\n                                ")])}),0)])])]),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-3"},[a("label",{attrs:{for:""}},[e._v("Issue date from")]),e._v(" "),a("div",{ref:"issueDateFromPicker",staticClass:"input-group date"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.filterDateFrom,expression:"filterDateFrom"}],staticClass:"form-control",attrs:{type:"text",placeholder:"DD/MM/YYYY"},domProps:{value:e.filterDateFrom},on:{input:function(t){t.target.composing||(e.filterDateFrom=t.target.value)}}}),e._v(" "),e._m(0)])]),e._v(" "),a("div",{staticClass:"col-md-3"},[a("label",{attrs:{for:""}},[e._v("Issue date to")]),e._v(" "),a("div",{ref:"issueDateToPicker",staticClass:"input-group date"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.filterDateTo,expression:"filterDateTo"}],staticClass:"form-control",attrs:{type:"text",placeholder:"DD/MM/YYYY"},domProps:{value:e.filterDateTo},on:{input:function(t){t.target.composing||(e.filterDateTo=t.target.value)}}}),e._v(" "),e._m(1)])])]),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-12"},[a("datatable",{ref:"sanction_outcome_table",attrs:{id:"datatable_id",dtOptions:e.table_options,dtHeaders:e.table_headers}})],1)])])])])])},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{staticClass:"input-group-addon"},[a("span",{staticClass:"glyphicon glyphicon-calendar"})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{staticClass:"input-group-addon"},[a("span",{staticClass:"glyphicon glyphicon-calendar"})])}]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container",attrs:{id:"internalInspectionDash"}},[a("FormSection",{attrs:{label:"Inspection",Index:"0"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-3"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:""}},[e._v("Type")]),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.filterInspectionType,expression:"filterInspectionType"}],staticClass:"form-control",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.filterInspectionType=t.target.multiple?a:a[0]}}},e._l(e.inspectionTypes,function(t){return a("option",{key:t.id,domProps:{value:t.inspection_type}},[e._v("\n                        "+e._s(t.inspection_type)+" \n                    ")])}),0)])]),e._v(" "),a("div",{staticClass:"col-md-3"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:""}},[e._v("Status")]),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.filterStatus,expression:"filterStatus"}],staticClass:"form-control",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.filterStatus=t.target.multiple?a:a[0]}}},e._l(e.statusChoices,function(t){return a("option",{key:t.id,domProps:{value:t.display}},[e._v("\n                        "+e._s(t.display)+"\n                    ")])}),0)])])]),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-3"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:""}},[e._v("Planned From")]),e._v(" "),a("div",{ref:"plannedDateFromPicker",staticClass:"input-group date"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.filterPlannedFrom,expression:"filterPlannedFrom"}],staticClass:"form-control",attrs:{type:"text",placeholder:"DD/MM/YYYY"},domProps:{value:e.filterPlannedFrom},on:{input:function(t){t.target.composing||(e.filterPlannedFrom=t.target.value)}}}),e._v(" "),a("span",{staticClass:"input-group-addon"},[a("span",{staticClass:"glyphicon glyphicon-calendar"})])])])]),e._v(" "),a("div",{staticClass:"col-md-3"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:""}},[e._v("Planned To")]),e._v(" "),a("div",{ref:"plannedDateToPicker",staticClass:"input-group date"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.filterPlannedTo,expression:"filterPlannedTo"}],staticClass:"form-control",attrs:{type:"text",placeholder:"DD/MM/YYYY"},domProps:{value:e.filterPlannedTo},on:{input:function(t){t.target.composing||(e.filterPlannedTo=t.target.value)}}}),e._v(" "),a("span",{staticClass:"input-group-addon"},[a("span",{staticClass:"glyphicon glyphicon-calendar"})])])])]),e._v(" "),a("div",{staticClass:"col-md-3 pull-right"},[a("button",{staticClass:"btn btn-primary pull-right",on:{click:function(t){return t.preventDefault(),e.createInspection(t)}}},[e._v("New Inspection")])])]),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-12"},[a("datatable",{ref:"inspection_table",attrs:{id:"inspection-table",dtOptions:e.dtOptions,dtHeaders:e.dtHeaders}})],1)])]),e._v(" "),a("FormSection",{attrs:{label:"Location",Index:"1"}},[a("MapLocations")],1),e._v(" "),e.inspectionInitialised?a("div",[a("InspectionModal",{key:e.createInspectionBindId,ref:"add_inspection"})],1):e._e()],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"row form-group"},[a("div",{staticClass:"col-sm-4"},[a("label",{attrs:{for:"entity-selector"}},[e._v("Select entity")]),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedEntity,expression:"selectedEntity"}],staticClass:"form-control",attrs:{disabled:e.readonlyForm,id:"entity-selector"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.selectedEntity=t.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"call_email"}},[e._v("Call / Email")]),e._v(" "),a("option",{attrs:{value:"inspection"}},[e._v("Inspection")]),e._v(" "),a("option",{attrs:{value:"offence"}},[e._v("Offence")]),e._v(" "),a("option",{attrs:{value:"sanction_outcome"}},[e._v("Sanction Outcome")]),e._v(" "),a("option",{attrs:{value:"legal_case"}},[e._v("Case")])])]),e._v(" "),a("div",{staticClass:"col-sm-4"},[a("input",{ref:"elemId",staticClass:"form-control no-label",attrs:{id:e.elemId,readonly:e.readonlyForm,placeholder:"Begin typing to search"}})]),e._v(" "),e.readonlyForm?e._e():a("div",{staticClass:"col-sm-3 no-label"},[a("a",{ref:"add_weak_link",staticClass:"btn btn-primary btn-block",on:{click:e.callCreateWeakLink}},[e._v("Add")])])]),e._v(" "),a("div",{staticClass:"row form-group"},[a("div",{staticClass:"col-sm-8"},[a("label",{attrs:{for:"comment"}},[e._v("Add comment")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.comment,expression:"comment"}],ref:"comment",staticClass:"form-control",attrs:{id:"comment",readonly:e.readonlyForm},domProps:{value:e.comment},on:{input:function(t){t.target.composing||(e.comment=t.target.value)}}})])])])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"form-group"},[a("label",{attrs:{id:e.id}},[a("input",{ref:"Checkbox",attrs:{name:e.name,type:"checkbox","data-parsley-required":"",required:e.isRequired},domProps:{checked:e.isChecked},on:{change:e.handleDeclaration}}),e._v("\n        "+e._s(e.label)+"\n    ")]),e._v(" "),e.help_text?[a("p",{staticClass:"help-block"},[e._v(e._s(e.help_text))])]:e._e()],2)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"form-group"},[a("label",{staticClass:"inline",attrs:{id:e.id,for:"label"}},[e._v(e._s(e.label))]),e._v(" "),e.help_text?[a("HelpText",{attrs:{help_text:e.help_text}})]:e._e(),e._v(" "),e.help_text_url?[a("HelpTextUrl",{attrs:{help_text_url:e.help_text_url}})]:e._e(),e._v(" "),a("CommentBlock",{attrs:{label:e.label,name:e.name,field_data:e.field_data}}),e._v(" "),a("textarea",{staticClass:"form-control",staticStyle:{display:"none"},attrs:{readonly:"readonly",rows:"5",name:e.name}},[e._v(e._s(e.field_data.value))]),a("br"),e._v(" "),a("div",{staticClass:"content-editable-table"},[a("table",{staticClass:"table table-striped editable-table"},[e.table.thead.length?a("thead",[a("tr",e._l(e.table.thead,function(t,n){return a("th",[e._v("\n                  "+e._s(e.table.thead[n])+"\n                ")])}),0)]):e._e(),e._v(" "),a("tbody",[e._l(e.table.tbody,function(t){return a("tr",[e._l(t,function(n,i){return a("td",["checkbox"===e.col_types[i]?a("input",{directives:[{name:"model",rawName:"v-model",value:t[i],expression:"row[index]"}],staticClass:"tbl_input",attrs:{readonly:e.readonly,min:"0",required:e.isRequired,onclick:e.isClickable,type:"checkbox"},domProps:{checked:Array.isArray(t[i])?e._i(t[i],null)>-1:t[i]},on:{change:function(a){var n=t[i],s=a.target,o=!!s.checked;if(Array.isArray(n)){var r=e._i(n,null);s.checked?r<0&&e.$set(t,i,n.concat([null])):r>-1&&e.$set(t,i,n.slice(0,r).concat(n.slice(r+1)))}else e.$set(t,i,o)}}}):"radio"===e.col_types[i]?a("input",{directives:[{name:"model",rawName:"v-model",value:t[i],expression:"row[index]"}],staticClass:"tbl_input",attrs:{readonly:e.readonly,min:"0",required:e.isRequired,onclick:e.isClickable,type:"radio"},domProps:{checked:e._q(t[i],null)},on:{change:function(a){return e.$set(t,i,null)}}}):a("input",{directives:[{name:"model",rawName:"v-model",value:t[i],expression:"row[index]"}],staticClass:"tbl_input",attrs:{readonly:e.readonly,min:"0",required:e.isRequired,onclick:e.isClickable,type:e.col_types[i]},domProps:{value:t[i]},on:{input:function(a){a.target.composing||e.$set(t,i,a.target.value)}}})])}),e._v(" "),e.readonly?e._e():a("td",[a("a",{staticClass:"fa fa-trash-o",staticStyle:{cursor:"pointer",color:"red"},attrs:{title:"Delete row"},on:{click:function(a){return e.deleteRow(t)}}})])],2)}),e._v(" "),a("tr",[e.readonly?e._e():a("td",[a("button",{staticClass:"btn btn-primary",attrs:{type:"button",title:"Add Row"},on:{click:function(t){return e.addRow()}}},[e._v("+")])])])],2)])])],2)])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container-fluid",attrs:{id:"internalOrgInfo"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-10 col-md-offset-1"},[a("div",{staticClass:"row"},[a("h3",[e._v(e._s(e.org.name)+" - "+e._s(e.org.abn))]),e._v(" "),a("div",{staticClass:"col-md-3"},[a("CommsLogs",{attrs:{comms_url:e.comms_url,logs_url:e.logs_url,comms_add_url:"test"}})],1),e._v(" "),a("div",{staticClass:"col-md-1"}),e._v(" "),a("div",{staticClass:"col-md-8"},[a("ul",{staticClass:"nav nav-tabs"},[a("li",{staticClass:"active"},[a("a",{attrs:{"data-toggle":"tab",href:"#"+e.dTab}},[e._v("Details")])]),e._v(" "),a("li",[a("a",{attrs:{"data-toggle":"tab",href:"#"+e.oTab}},[e._v("Licensing")])])]),e._v(" "),a("div",{staticClass:"tab-content"},[a("div",{staticClass:"tab-pane fade in active",attrs:{id:e.dTab}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"panel-heading"},[a("h3",{staticClass:"panel-title"},[e._v("Organisation Details\n                                    "),a("a",{staticClass:"panelClicker",attrs:{href:"#"+e.pdBody,"data-toggle":"collapse","data-parent":"#userInfo",expanded:"true","aria-controls":e.pdBody}},[a("span",{staticClass:"glyphicon glyphicon-chevron-up pull-right "})])])]),e._v(" "),a("div",{staticClass:"panel-body collapse in",attrs:{id:e.pdBody}},[a("form",{staticClass:"form-horizontal",attrs:{name:"personal_form",method:"post"}},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-3 control-label",attrs:{for:""}},[e._v("Name")]),e._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.org.name,expression:"org.name"}],staticClass:"form-control",attrs:{type:"text",name:"first_name",placeholder:""},domProps:{value:e.org.name},on:{input:function(t){t.target.composing||e.$set(e.org,"name",t.target.value)}}})])]),e._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-3 control-label",attrs:{for:""}},[e._v("ABN")]),e._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.org.abn,expression:"org.abn"}],staticClass:"form-control",attrs:{type:"text",disabled:"",name:"last_name",placeholder:""},domProps:{value:e.org.abn},on:{input:function(t){t.target.composing||e.$set(e.org,"abn",t.target.value)}}})])]),e._v(" "),a("div",{staticClass:"form-group"},[a("div",{staticClass:"col-sm-12"},[e.updatingDetails?a("button",{staticClass:"pull-right btn btn-primary",attrs:{disabled:""}},[a("i",{staticClass:"fa fa-spin fa-spinner"}),e._v("Updating")]):a("button",{staticClass:"pull-right btn btn-primary",on:{click:function(t){return t.preventDefault(),e.updateDetails()}}},[e._v("Update")])])])])])])])]),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"panel-heading"},[a("h3",{staticClass:"panel-title"},[e._v("Identification"),a("small",[e._v(" Upload organisation ID")]),e._v(" "),a("a",{staticClass:"panelClicker",attrs:{href:"#"+e.idBody,"data-toggle":"collapse","data-parent":"#userInfo",expanded:"false","aria-controls":e.idBody}},[a("span",{staticClass:"glyphicon glyphicon-chevron-down pull-right "})])])]),e._v(" "),a("div",{staticClass:"panel-body collapse",attrs:{id:e.idBody}},[a("form",{staticClass:"form-horizontal",attrs:{name:"id_form",method:"post"}},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-3 control-label",attrs:{for:""}},[e._v("Identification")]),e._v(" "),a("div",{staticClass:"col-sm-6"},[e.org.organisation.identification?a("img",{attrs:{width:"100%",name:"identification",src:e.org.organisation.identification}}):e._e()])]),e._v(" "),a("div",{staticClass:"form-group"},[a("div",{staticClass:"col-sm-12"},[e.uploadingID?a("button",{staticClass:"pull-right btn btn-primary",attrs:{disabled:""}},[a("i",{staticClass:"fa fa-spin fa-spinner"}),e._v("Uploading")]):a("button",{staticClass:"pull-right btn btn-primary",on:{click:function(t){return t.preventDefault(),e.uploadID()}}},[e._v("Upload")]),e._v(" "),a("span",{staticClass:"pull-right",staticStyle:{"margin-left":"10px","margin-top":"10px","margin-right":"10px"}},[e._v(e._s(e.uploadedIDFileName))]),e._v(" "),a("span",{staticClass:"btn btn-primary btn-file pull-right"},[e._v("\n                                                Select ID to Upload"),a("input",{ref:"uploadedID",attrs:{type:"file"},on:{change:function(t){return e.readFileID()}}})])])])])])])])]),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"panel-heading"},[a("h3",{staticClass:"panel-title"},[e._v("Address Details\n                                    "),a("a",{staticClass:"panelClicker",attrs:{href:"#"+e.adBody,"data-toggle":"collapse",expanded:"false","data-parent":"#userInfo","aria-controls":e.adBody}},[a("span",{staticClass:"glyphicon glyphicon-chevron-down pull-right "})])])]),e._v(" "),0==e.loading.length?a("div",{staticClass:"panel-body collapse",attrs:{id:e.adBody}},[a("form",{staticClass:"form-horizontal",attrs:{action:"index.html",method:"post"}},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-3 control-label",attrs:{for:""}},[e._v("Street")]),e._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.org.address.line1,expression:"org.address.line1"}],staticClass:"form-control",attrs:{type:"text",name:"street",placeholder:""},domProps:{value:e.org.address.line1},on:{input:function(t){t.target.composing||e.$set(e.org.address,"line1",t.target.value)}}})])]),e._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-3 control-label",attrs:{for:""}},[e._v("Town/Suburb")]),e._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.org.address.locality,expression:"org.address.locality"}],staticClass:"form-control",attrs:{type:"text",name:"surburb",placeholder:""},domProps:{value:e.org.address.locality},on:{input:function(t){t.target.composing||e.$set(e.org.address,"locality",t.target.value)}}})])]),e._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-3 control-label",attrs:{for:""}},[e._v("State")]),e._v(" "),a("div",{staticClass:"col-sm-2"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.org.address.state,expression:"org.address.state"}],staticClass:"form-control",attrs:{type:"text",name:"country",placeholder:""},domProps:{value:e.org.address.state},on:{input:function(t){t.target.composing||e.$set(e.org.address,"state",t.target.value)}}})]),e._v(" "),a("label",{staticClass:"col-sm-2 control-label",attrs:{for:""}},[e._v("Postcode")]),e._v(" "),a("div",{staticClass:"col-sm-2"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.org.address.postcode,expression:"org.address.postcode"}],staticClass:"form-control",attrs:{type:"text",name:"postcode",placeholder:""},domProps:{value:e.org.address.postcode},on:{input:function(t){t.target.composing||e.$set(e.org.address,"postcode",t.target.value)}}})])]),e._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-3 control-label",attrs:{for:""}},[e._v("Country")]),e._v(" "),a("div",{staticClass:"col-sm-4"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.org.address.country,expression:"org.address.country"}],staticClass:"form-control",attrs:{name:"country"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.org.address,"country",t.target.multiple?a:a[0])}}},e._l(e.countries,function(t){return a("option",{domProps:{value:t.alpha2Code}},[e._v(e._s(t.name))])}),0)])]),e._v(" "),a("div",{staticClass:"form-group"},[a("div",{staticClass:"col-sm-12"},[e.updatingAddress?a("button",{staticClass:"pull-right btn btn-primary",attrs:{disabled:""}},[a("i",{staticClass:"fa fa-spin fa-spinner"}),e._v("Updating")]):a("button",{staticClass:"pull-right btn btn-primary",on:{click:function(t){return t.preventDefault(),e.updateAddress()}}},[e._v("Update")])])])])]):e._e()])])]),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"panel-heading"},[a("h3",{staticClass:"panel-title"},[e._v("Contact Details\n                                    "),a("a",{staticClass:"panelClicker",attrs:{href:"#"+e.cdBody,"data-toggle":"collapse","data-parent":"#userInfo",expanded:"false","aria-controls":e.cdBody}},[a("span",{staticClass:"glyphicon glyphicon-chevron-down pull-right "})])])]),e._v(" "),a("div",{staticClass:"panel-body collapse",attrs:{id:e.cdBody}},[a("form",{staticClass:"form-horizontal",attrs:{action:"index.html",method:"post"}},[a("div",{staticClass:"col-sm-12"},[a("button",{staticClass:"btn btn-primary pull-right",staticStyle:{"margin-bottom":"10px"},on:{click:function(t){return t.preventDefault(),e.addContact()}}},[e._v("Add Contact")])]),e._v(" "),a("datatable",{ref:"contacts_datatable",attrs:{id:"organisation_contacts_datatable",dtOptions:e.contacts_options,dtHeaders:e.contacts_headers}})],1)])])])]),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"panel-heading"},[a("h3",{staticClass:"panel-title"},[e._v("Linked Persons"),a("small",[e._v(" - Manage the user accounts linked to the organisation")]),e._v(" "),a("a",{staticClass:"panelClicker",attrs:{href:"#"+e.oBody,"data-toggle":"collapse","data-parent":"#userInfo",expanded:"true","aria-controls":e.oBody}},[a("span",{staticClass:"glyphicon glyphicon-chevron-down pull-right "})])])]),e._v(" "),a("div",{staticClass:"panel-body collapse",attrs:{id:e.oBody}},[a("div",{staticClass:"row"},[a("form",{staticClass:"form-horizontal",attrs:{action:"index.html",method:"post"}},[a("div",{staticClass:"col-sm-6"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-6 control-label",attrs:{for:""}},[e._v(" Organisation User Pin Code 1:")]),e._v(" "),a("div",{staticClass:"col-sm-6"},[a("label",{staticClass:"control-label"},[e._v(e._s(e.org.pins.three))])])]),e._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-6 control-label",attrs:{for:""}},[e._v("Organisation User Pin Code 2:")]),e._v(" "),a("div",{staticClass:"col-sm-6"},[a("label",{staticClass:"control-label"},[e._v(e._s(e.org.pins.four))])])])]),e._v(" "),a("div",{staticClass:"col-sm-6"},[a("div",{staticClass:"form-group",attrs:{disabled:!e.myorgperms.is_admin}},[a("label",{staticClass:"col-sm-6 control-label",attrs:{for:""}},[e._v(" Organisation Administrator Pin Code 1:")]),e._v(" "),a("div",{staticClass:"col-sm-6"},[a("label",{staticClass:"control-label"},[e._v(e._s(e.org.pins.one))])])]),e._v(" "),a("div",{staticClass:"form-group",attrs:{disabled:!e.myorgperms.is_admin}},[a("label",{staticClass:"col-sm-6 control-label",attrs:{for:""}},[e._v("Organisation Administrator Pin Code 2:")]),e._v(" "),a("div",{staticClass:"col-sm-6"},[a("label",{staticClass:"control-label"},[e._v(e._s(e.org.pins.two))])])])])])]),e._v(" "),e._m(0),e._v(" "),a("div",[a("datatable",{ref:"contacts_datatable_user",attrs:{id:"organisation_contacts_datatable_ref",dtOptions:e.contacts_options_ref,dtHeaders:e.contacts_headers_ref},model:{value:e.filterOrgContactStatus,callback:function(t){e.filterOrgContactStatus=t},expression:"filterOrgContactStatus"}})],1)])])])])]),e._v(" "),a("div",{staticClass:"tab-pane fade",attrs:{id:e.oTab}},[a("ApplicationDashTable",{ref:"applications_table",attrs:{level:"internal",url:e.applications_url}}),e._v(" "),a("LicenceDashTable",{ref:"licences_table",attrs:{level:"internal",url:e.licences_url}}),e._v(" "),a("ReturnDashTable",{ref:"returns_table",attrs:{level:"internal",url:e.returns_url}})],1)])])])])]),e._v(" "),a("AddContact",{ref:"add_contact",attrs:{org_id:e.org.id}})],1)},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-8"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12 top-buffer-s"},[a("strong",[e._v("Persons linked to the organisation are controlled by the organisation. The Department cannot manage this list of people.")])])])])])}]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"form-group"},[a("label",{attrs:{id:e.id}},[e._v(e._s(e.label))]),e._v(" "),e.help_text?[a("HelpText",{attrs:{help_text:e.help_text}})]:e._e(),e._v(" "),e.help_text_url?[a("HelpTextUrl",{attrs:{help_text_url:e.help_text_url}})]:e._e(),e._v(" "),a("CommentBlock",{attrs:{label:e.label,name:e.name,field_data:e.field_data}}),e._v(" "),a("div",{staticClass:"input-group date"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"}],staticClass:"form-control",attrs:{type:"text",readonly:e.readonly,name:e.name,placeholder:"DD/MM/YYYY",required:e.isRequired},domProps:{value:e.value},on:{input:function(t){t.target.composing||(e.value=t.target.value)}}}),e._v(" "),e._m(0)])],2)])},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{staticClass:"input-group-addon"},[a("span",{staticClass:"glyphicon glyphicon-calendar"})])}]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"panel panel-default"},[a("div",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticClass:"panel-heading"},[a("h3",{staticClass:"panel-title"},[e._v("Return\n            "),a("a",{staticClass:"panelClicker",attrs:{href:"#"+e.pdBody,"data-toggle":"collapse","data-parent":"#userInfo",expanded:"true","aria-controls":e.pdBody}},[a("span",{staticClass:"glyphicon glyphicon-chevron-up pull-right "})])])]),e._v(" "),a("div",{staticClass:"panel-body panel-collapse in",attrs:{id:e.pdBody}},[e.isReturnsLoaded?a("div",{staticClass:"col-sm-offset-3 col-sm-6 borderDecoration"},[a("strong",[e._v("Your Return has been submitted successfully.")]),e._v(" "),a("br"),e._v(" "),a("table",[a("tr",[e._m(0),e._v(" "),a("td",[a("strong",[e._v(e._s(e.returns.lodgement_number))])])]),e._v(" "),a("tr",[e._m(1),e._v(" "),a("td",[a("strong",[e._v(" "+e._s(e._f("formatDate")(e.returns.lodgement_date)))])])]),e._v(" "),e._m(2)]),e._v(" "),a("a",{staticClass:"btn btn-primary",staticStyle:{"margin-top":"15px"},attrs:{href:"/"}},[e._v("Back to dashboard")])]):a("div",{staticClass:"col-sm-offset-3 col-sm-6 borderDecoration"},[a("strong",[e._v("Sorry it looks like there isn't any details currently in your session.")]),e._v(" "),a("br"),a("a",{staticClass:"btn btn-primary",staticStyle:{"margin-top":"15px"},attrs:{href:"/"}},[e._v("Back to dashboard")])])]),e._v(" "),a("input",{attrs:{type:"hidden",name:"table_name"},domProps:{value:e.returns.table[0].name}})])},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("td",[a("strong",[e._v("Reference number:")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("td",[a("strong",[e._v("Lodgement date:")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("tr",[a("td",[a("strong",[e._v("Invoice:")])]),e._v(" "),a("td",[e._v("PDF")])])}]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"form-group"},[a("label",{staticClass:"expander-label",attrs:{id:e.id,for:"label"}},[e._v(e._s(e.label))]),e._v(" "),e.help_text?[a("HelpText",{attrs:{help_text:e.help_text}})]:e._e(),e._v(" "),e.help_text_url?[a("HelpTextUrl",{attrs:{help_text_url:e.help_text_url}})]:e._e(),e._v(" "),a("CommentBlock",{attrs:{label:e.label,name:e.name,field_data:e.field_data}}),e._v(" "),a("div",{staticClass:"row header-titles-row"},e._l(e.component.header,function(t,n){return a("div",{key:"expander_header_"+e.component.name+"_"+n,class:"col-xs-"+Math.floor(12/e.component.header.length)},[e._v("\n                "+e._s(t.label)+"\n        ")])}),0),e._v(" "),e._l(e.expanderTables,function(t,n){return a("div",{staticClass:"expander-table"},[a("div",{staticClass:"row header-row"},e._l(e.component.header,function(i,s){return a("div",{key:"expander_header_"+e.component.name+"_"+s,class:"col-xs-"+Math.floor(12/e.component.header.length)},[s?e._e():a("span",{class:"expand-icon "+(e.isExpanded(t)?"collapse":""),on:{click:function(a){return e.toggleTableVisibility(t)}}}),e._v(" "),a("span",{staticClass:"header-contents"},[a("compliance-renderer-block",{key:"expander_header_contents_"+e.component.name+"_"+s,attrs:{component:e.removeLabel(i),json_data:e.value,instance:t,readonlyForm:e.readonly}})],1),e._v(" "),n&&s==e.component.header.length-1&&!e.readonly?a("a",{staticClass:"delete-icon fa fa-trash-o",attrs:{title:"Delete row"},on:{click:function(a){return a.preventDefault(),e.removeTable(t)}}}):e._e()])}),0),e._v(" "),a("div",{class:{hidden:!e.isExpanded(t)}},e._l(e.component.expander,function(n,i){return a("div",{key:"expander_row_"+e.component.name+"_"+i,staticClass:"row expander-row"},[a("div",{staticClass:"col-xs-12"},[a("compliance-renderer-block",{key:"expander_contents_"+e.component.name+"_"+i,attrs:{component:n,json_data:e.value,instance:t,readonlyForm:e.readonly}})],1)])}),0)])}),e._v(" "),e.readonly?e._e():a("div",{staticClass:"row"},[a("input",{staticClass:"btn btn-primary add-new-button",attrs:{type:"button",value:"Add New"},on:{click:function(t){return t.preventDefault(),e.addNewTable(t)}}})])],2)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.help_text?a("span",[e.showingHelpText?a("a",{attrs:{href:""},on:{click:function(t){return t.preventDefault(),e.toggleHelpText(t)}}},[a("i",{staticClass:"fa fa-question-circle",staticStyle:{color:"green"}},[e._v("")])]):[a("a",{attrs:{href:""},on:{click:function(t){return t.preventDefault(),e.toggleHelpText(t)}}},[a("i",{staticClass:"fa fa-question-circle",staticStyle:{color:"green"}},[e._v("")])])],e._v(" "),a("HelpTextDisplay",{directives:[{name:"show",rawName:"v-show",value:e.showingHelpText,expression:"showingHelpText"}],attrs:{help_text:e.help_text}})],2):e._e()},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.isApplicationLoaded&&!e.application_readonly&&e.isVisible?a("div",[e.visibleRequests.length?a("div",{staticClass:"row",staticStyle:{color:"red"}},[a("div",{staticClass:"col-lg-12 pull-right"},[a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"panel-heading"},[a("h3",{staticClass:"panel-title",staticStyle:{color:"red"}},[e._v("An amendment has been requested for this Application\n                    "),a("a",{staticClass:"panelClicker",attrs:{href:"#pBody","data-toggle":"collapse","data-parent":"#userInfo",expanded:"true","aria-controls":"pBody"}},[a("span",{staticClass:"glyphicon glyphicon-chevron-down pull-right "})])])]),e._v(" "),a("div",{staticClass:"panel-body collapse in",attrs:{id:"pBody"}},e._l(e.visibleRequests,function(t){return a("div",[a("p",[a("b",[e._v("Activity:")]),e._v(" "+e._s(t.licence_activity.name))]),e._v(" "),a("p",[a("b",[e._v("Reason:")]),e._v(" "+e._s(t.reason.name))]),e._v(" "),t.text?a("p",[a("b",[e._v("Details:")])]):e._e(),e._l(e.splitText(t.text),function(t){return a("div",[e._v(e._s(t)),a("br")])}),a("p")],2)}),0)])])]):e._e()]):e._e()},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.isApplicationLoaded?a("div",{staticClass:"container",attrs:{id:"internalApplication"}},[a("div",{staticClass:"row",staticStyle:{"padding-bottom":"50px"}},[a("h3",[e._v(e._s(e.headerLabel)+": "+e._s(e.application.lodgement_number))]),e._v(" "),a("div",{staticClass:"col-md-3"},[a("CommsLogs",{attrs:{comms_url:e.comms_url,logs_url:e.logs_url,comms_add_url:e.comms_add_url,disable_add_entry:!1}}),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"panel-heading"},[e._v("\n                       Submission \n                    ")]),e._v(" "),a("div",{staticClass:"panel-body panel-collapse"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("strong",[e._v("Submitted by")]),a("br"),e._v("\n                                "+e._s(e.application.submitter.first_name)+" "+e._s(e.application.submitter.last_name)+"\n                            ")]),e._v(" "),a("div",{staticClass:"col-sm-12 top-buffer-s"},[a("strong",[e._v("Lodged on")]),a("br"),e._v("\n                                "+e._s(e._f("formatDate")(e.application.lodgement_date))+"\n                            ")]),e._v(" "),e._m(0)])])])]),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"panel-heading"},[e._v("\n                        Workflow \n                    ")]),e._v(" "),a("div",{staticClass:"panel-body panel-collapse"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("strong",[e._v("Status")]),a("br"),e._v("\n                                "+e._s(e.application.processing_status.name)),a("br"),e._v(" "),e._l(e.licence_type_data,function(t){return a("div",{staticClass:"col-sm-12"},e._l(t,function(t){return a("div",[t.name?a("div",[a("strong",[e._v(e._s(t.name)+": ")]),e._v(e._s(t.processing_status.name)+"\n                                        ")]):e._e()])}),0)})],2),e._v(" "),a("div",{staticClass:"col-sm-12 top-buffer-s"},[a("strong",[e._v("Assigned Officer")]),a("br"),e._v(" "),a("div",{staticClass:"form-group"},[[a("select",{directives:[{name:"model",rawName:"v-model",value:e.application.assigned_officer,expression:"application.assigned_officer"}],ref:"assigned_officer",staticClass:"form-control",attrs:{disabled:!e.canAssignToOfficer},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.application,"assigned_officer",t.target.multiple?a:a[0])}}},e._l(e.application.licence_officers,function(t){return a("option",{key:t.id,domProps:{value:t.id}},[e._v(e._s(t.first_name)+" "+e._s(t.last_name))])}),0),e._v(" "),e.canAssignToOfficer?a("a",{staticClass:"actionBtn pull-right",on:{click:function(t){return t.preventDefault(),e.assignToMe()}}},[e._v("Assign to me")]):e._e()]],2)]),e._v(" "),e.isFinalised?[a("div",[a("div",{staticClass:"col-sm-12"},[a("strong",[e._v("Application")]),a("br"),e._v(" "),e.showingApplication&&this.unfinishedActivities.length?a("a",{staticClass:"actionBtn",on:{click:function(t){return t.preventDefault(),e.toggleApplication({show:!1})}}},[e._v("Hide Application")]):a("a",{staticClass:"actionBtn",on:{click:function(t){return t.preventDefault(),e.toggleApplication({show:!0,showFinalised:!0})}}},[e._v("Show Application")])]),e._v(" "),e._m(1)])]:e._e(),e._v(" "),e.isFinalised?[e._m(2)]:e._e(),e._v(" "),a("div",{staticClass:"col-sm-12 top-buffer-s"},[e.showingApplication?[e._m(3),e._v(" "),!e.applicationIsDraft&&e.canRequestAmendment?a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("button",{staticClass:"btn btn-primary top-buffer-s col-xs-12",on:{click:function(t){return t.preventDefault(),e.amendmentRequest()}}},[e._v("Request Amendment")]),a("br")])]):e._e(),e._v(" "),e.applicationIsDraft?e._e():a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("button",{staticClass:"btn btn-primary top-buffer-s col-xs-12",on:{click:function(t){return t.preventDefault(),e.togglesendtoAssessor()}}},[e._v("Assessments & Conditions")]),a("br")])]),e._v(" "),e.canProposeIssueOrDecline?a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("button",{staticClass:"btn btn-danger top-buffer-s col-xs-12",on:{click:function(t){return t.preventDefault(),e.proposedDecline()}}},[e._v("Propose Decline")]),e._v(" "),a("button",{staticClass:"btn btn-success top-buffer-s col-xs-12",on:{click:function(t){return t.preventDefault(),e.proposedLicence()}}},[e._v("Propose Issue")])])]):e._e(),e._v(" "),e.canIssueDecline?a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[e.userIsAssignedOfficer?a("button",{staticClass:"btn btn-success top-buffer-s col-xs-12",attrs:{disabled:""}},[e._v("Issue/Decline")]):a("button",{staticClass:"btn btn-success top-buffer-s col-xs-12",on:{click:function(t){return t.preventDefault(),e.toggleIssue()}}},[e._v("Issue/Decline")])])]):e._e()]:[e._m(4),e._v(" "),e.isSendingToAssessor||e.isOfficerConditions||e.isofficerfinalisation?a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("button",{staticClass:"btn btn-primary top-buffer-s col-xs-12",on:{click:function(t){return t.preventDefault(),e.toggleApplication({show:!0})}}},[e._v("Back to Application")]),a("br")])]):e._e()]],2)],2)])])])],1),e._v(" "),a("div",{staticClass:"col-md-1"}),e._v(" "),a("div",{staticClass:"col-md-8"},[a("div",{staticClass:"row"},[e.isFinalised||e.isPartiallyFinalised?[a("LicenceScreen")]:e._e(),e._v(" "),e.canIssueDecline&&e.isofficerfinalisation?[a("IssueLicence",{attrs:{application:e.application,licence_activity_tab:e.selected_activity_tab_id}})]:e._e(),e._v(" "),e.isSendingToAssessor||e.isOfficerConditions?a("ApplicationAssessments"):e._e(),e._v(" "),e.applicationDetailsVisible?[a("div",[a("ul",{staticClass:"nav nav-tabs",attrs:{id:"tabs-main"}},[a("li",[a("a",{ref:"applicantTab",attrs:{"data-toggle":"tab",href:"#"+e.applicantTab}},[e._v("Applicant")])]),e._v(" "),a("li",[a("a",{ref:"applicationTab",attrs:{"data-toggle":"tab",href:"#"+e.applicationTab}},[e._v("Application")])])]),e._v(" "),a("div",{staticClass:"tab-content"},[a("div",{staticClass:"tab-pane fade in active",attrs:{id:e.applicantTab}},[a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"row"},[a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"panel-heading"},[a("h3",{staticClass:"panel-title"},[e._v("Applicant\n                                        "),a("a",{staticClass:"panelClicker",attrs:{href:"#"+e.detailsBody,"data-toggle":"collapse","data-parent":"#userInfo",expanded:"true","aria-controls":e.detailsBody}},[a("span",{staticClass:"glyphicon glyphicon-chevron-up pull-right "})])])]),e._v(" "),"org"==e.applicantType?a("div",{staticClass:"panel-body panel-collapse collapse in",attrs:{id:e.detailsBody}},[a("form",{staticClass:"form-horizontal"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-3 control-label",attrs:{for:""}},[e._v("Name")]),e._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.application.org_applicant.name,expression:"application.org_applicant.name"}],staticClass:"form-control",attrs:{disabled:"",type:"text",name:"applicantName",placeholder:""},domProps:{value:e.application.org_applicant.name},on:{input:function(t){t.target.composing||e.$set(e.application.org_applicant,"name",t.target.value)}}})])]),e._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-3 control-label",attrs:{for:""}},[e._v("ABN/ACN")]),e._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.application.org_applicant.abn,expression:"application.org_applicant.abn"}],staticClass:"form-control",attrs:{disabled:"",type:"text",name:"applicantABN",placeholder:""},domProps:{value:e.application.org_applicant.abn},on:{input:function(t){t.target.composing||e.$set(e.application.org_applicant,"abn",t.target.value)}}})])])])]):e._e(),e._v(" "),"proxy"==e.applicantType?a("div",{staticClass:"panel-body panel-collapse collapse in",attrs:{id:e.detailsBody}},[a("form",{staticClass:"form-horizontal"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-3 control-label",attrs:{for:""}},[e._v("Given Name(s)")]),e._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.application.proxy_applicant.first_name,expression:"application.proxy_applicant.first_name"}],staticClass:"form-control",attrs:{disabled:"",type:"text",name:"applicantName",placeholder:""},domProps:{value:e.application.proxy_applicant.first_name},on:{input:function(t){t.target.composing||e.$set(e.application.proxy_applicant,"first_name",t.target.value)}}})])]),e._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-3 control-label",attrs:{for:""}},[e._v("Surname")]),e._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.application.proxy_applicant.last_name,expression:"application.proxy_applicant.last_name"}],staticClass:"form-control",attrs:{disabled:"",type:"text",name:"applicantName",placeholder:""},domProps:{value:e.application.proxy_applicant.last_name},on:{input:function(t){t.target.composing||e.$set(e.application.proxy_applicant,"last_name",t.target.value)}}})])]),e._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-3 control-label",attrs:{for:""}},[e._v("Date of Birth")]),e._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.application.proxy_applicant.dob,expression:"application.proxy_applicant.dob"}],staticClass:"form-control",attrs:{disabled:"",type:"text",name:"applicantABN",placeholder:""},domProps:{value:e.application.proxy_applicant.dob},on:{input:function(t){t.target.composing||e.$set(e.application.proxy_applicant,"dob",t.target.value)}}})])])])]):e._e(),e._v(" "),"submitter"==e.applicantType?a("div",{staticClass:"panel-body panel-collapse collapse in",attrs:{id:e.detailsBody}},[a("form",{staticClass:"form-horizontal"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-3 control-label",attrs:{for:""}},[e._v("Given Name(s)")]),e._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.application.submitter.first_name,expression:"application.submitter.first_name"}],staticClass:"form-control",attrs:{disabled:"",type:"text",name:"applicantName",placeholder:""},domProps:{value:e.application.submitter.first_name},on:{input:function(t){t.target.composing||e.$set(e.application.submitter,"first_name",t.target.value)}}})])]),e._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-3 control-label",attrs:{for:""}},[e._v("Surname")]),e._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.application.submitter.last_name,expression:"application.submitter.last_name"}],staticClass:"form-control",attrs:{disabled:"",type:"text",name:"applicantName",placeholder:""},domProps:{value:e.application.submitter.last_name},on:{input:function(t){t.target.composing||e.$set(e.application.submitter,"last_name",t.target.value)}}})])]),e._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-3 control-label",attrs:{for:""}},[e._v("Date of Birth")]),e._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.application.submitter.dob,expression:"application.submitter.dob"}],staticClass:"form-control",attrs:{disabled:"",type:"text",name:"applicantABN",placeholder:""},domProps:{value:e.application.submitter.dob},on:{input:function(t){t.target.composing||e.$set(e.application.submitter,"dob",t.target.value)}}})])])])]):e._e()])])]),e._v(" "),a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"row"},[a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"panel-heading"},[a("h3",{staticClass:"panel-title"},[e._v("Identification\n                                        "),a("a",{staticClass:"panelClicker",attrs:{href:"#"+e.identificationBody,"data-toggle":"collapse","data-parent":"#userInfo",expanded:"true","aria-controls":e.identificationBody}},[a("span",{staticClass:"glyphicon glyphicon-chevron-down pull-right "})])])]),e._v(" "),"org"==e.applicantType&&e.application.org_applicant.organisation.identification?a("div",{staticClass:"panel-body panel-collapse collapse",attrs:{id:e.identificationBody}},[a("form",{staticClass:"form-horizontal"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-3 control-label",attrs:{for:""}},[e._v("Identification")]),e._v(" "),a("div",{staticClass:"col-sm-8"},[a("img",{attrs:{width:"100%",name:"applicantIdentification",src:e.application.org_applicant.organisation.identification}})])])])]):e._e(),e._v(" "),"proxy"==e.applicantType&&e.application.proxy_applicant.identification&&e.application.proxy_applicant.identification.file?a("div",{staticClass:"panel-body panel-collapse collapse",attrs:{id:e.identificationBody}},[a("form",{staticClass:"form-horizontal"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-3 control-label",attrs:{for:""}},[e._v("Identification")]),e._v(" "),a("div",{staticClass:"col-sm-8"},[a("img",{attrs:{width:"100%",name:"applicantIdentification",src:e.application.proxy_applicant.identification.file}})])])])]):e._e(),e._v(" "),"submitter"==e.applicantType&&e.application.submitter.identification&&e.application.submitter.identification.file?a("div",{staticClass:"panel-body panel-collapse collapse",attrs:{id:e.identificationBody}},[a("form",{staticClass:"form-horizontal"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-3 control-label",attrs:{for:""}},[e._v("Identification")]),e._v(" "),a("div",{staticClass:"col-sm-8"},[a("img",{attrs:{width:"100%",name:"applicantIdentification",src:e.application.submitter.identification.file}})])])])]):e._e()])])]),e._v(" "),a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"row"},[a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"panel-heading"},[a("h3",{staticClass:"panel-title"},[e._v("Address Details\n                                        "),a("a",{staticClass:"panelClicker",attrs:{href:"#"+e.addressBody,"data-toggle":"collapse","data-parent":"#userInfo",expanded:"false","aria-controls":e.addressBody}},[a("span",{staticClass:"glyphicon glyphicon-chevron-down pull-right "})])])]),e._v(" "),"org"==e.applicantType&&e.application.org_applicant.address?a("div",{staticClass:"panel-body panel-collapse collapse",attrs:{id:e.addressBody}},[a("form",{staticClass:"form-horizontal"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-3 control-label",attrs:{for:""}},[e._v("Street")]),e._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.application.org_applicant.address.line1,expression:"application.org_applicant.address.line1"}],staticClass:"form-control",attrs:{disabled:"",type:"text",name:"street",placeholder:""},domProps:{value:e.application.org_applicant.address.line1},on:{input:function(t){t.target.composing||e.$set(e.application.org_applicant.address,"line1",t.target.value)}}})])]),e._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-3 control-label",attrs:{for:""}},[e._v("Town/Suburb")]),e._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.application.org_applicant.address.locality,expression:"application.org_applicant.address.locality"}],staticClass:"form-control",attrs:{disabled:"",type:"text",name:"surburb",placeholder:""},domProps:{value:e.application.org_applicant.address.locality},on:{input:function(t){t.target.composing||e.$set(e.application.org_applicant.address,"locality",t.target.value)}}})])]),e._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-3 control-label",attrs:{for:""}},[e._v("State")]),e._v(" "),a("div",{staticClass:"col-sm-2"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.application.org_applicant.address.state,expression:"application.org_applicant.address.state"}],staticClass:"form-control",attrs:{disabled:"",type:"text",name:"country",placeholder:""},domProps:{value:e.application.org_applicant.address.state},on:{input:function(t){t.target.composing||e.$set(e.application.org_applicant.address,"state",t.target.value)}}})]),e._v(" "),a("label",{staticClass:"col-sm-2 control-label",attrs:{for:""}},[e._v("Postcode")]),e._v(" "),a("div",{staticClass:"col-sm-2"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.application.org_applicant.address.postcode,expression:"application.org_applicant.address.postcode"}],staticClass:"form-control",attrs:{disabled:"",type:"text",name:"postcode",placeholder:""},domProps:{value:e.application.org_applicant.address.postcode},on:{input:function(t){t.target.composing||e.$set(e.application.org_applicant.address,"postcode",t.target.value)}}})])]),e._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-3 control-label",attrs:{for:""}},[e._v("Country")]),e._v(" "),a("div",{staticClass:"col-sm-4"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.application.org_applicant.address.country,expression:"application.org_applicant.address.country"}],staticClass:"form-control",attrs:{disabled:"",type:"text",name:"country"},domProps:{value:e.application.org_applicant.address.country},on:{input:function(t){t.target.composing||e.$set(e.application.org_applicant.address,"country",t.target.value)}}})])])])]):e._e(),e._v(" "),"proxy"==e.applicantType&&e.application.proxy_applicant.residential_address?a("div",{staticClass:"panel-body panel-collapse collapse",attrs:{id:e.addressBody}},[a("form",{staticClass:"form-horizontal"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-3 control-label",attrs:{for:""}},[e._v("Street")]),e._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.application.proxy_applicant.residential_address.line1,expression:"application.proxy_applicant.residential_address.line1"}],staticClass:"form-control",attrs:{disabled:"",type:"text",name:"street",placeholder:""},domProps:{value:e.application.proxy_applicant.residential_address.line1},on:{input:function(t){t.target.composing||e.$set(e.application.proxy_applicant.residential_address,"line1",t.target.value)}}})])]),e._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-3 control-label",attrs:{for:""}},[e._v("Town/Suburb")]),e._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.application.proxy_applicant.residential_address.locality,expression:"application.proxy_applicant.residential_address.locality"}],staticClass:"form-control",attrs:{disabled:"",type:"text",name:"surburb",placeholder:""},domProps:{value:e.application.proxy_applicant.residential_address.locality},on:{input:function(t){t.target.composing||e.$set(e.application.proxy_applicant.residential_address,"locality",t.target.value)}}})])]),e._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-3 control-label",attrs:{for:""}},[e._v("State")]),e._v(" "),a("div",{staticClass:"col-sm-2"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.application.proxy_applicant.residential_address.state,expression:"application.proxy_applicant.residential_address.state"}],staticClass:"form-control",attrs:{disabled:"",type:"text",name:"country",placeholder:""},domProps:{value:e.application.proxy_applicant.residential_address.state},on:{input:function(t){t.target.composing||e.$set(e.application.proxy_applicant.residential_address,"state",t.target.value)}}})]),e._v(" "),a("label",{staticClass:"col-sm-2 control-label",attrs:{for:""}},[e._v("Postcode")]),e._v(" "),a("div",{staticClass:"col-sm-2"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.application.proxy_applicant.residential_address.postcode,expression:"application.proxy_applicant.residential_address.postcode"}],staticClass:"form-control",attrs:{disabled:"",type:"text",name:"postcode",placeholder:""},domProps:{value:e.application.proxy_applicant.residential_address.postcode},on:{input:function(t){t.target.composing||e.$set(e.application.proxy_applicant.residential_address,"postcode",t.target.value)}}})])]),e._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-3 control-label",attrs:{for:""}},[e._v("Country")]),e._v(" "),a("div",{staticClass:"col-sm-4"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.application.proxy_applicant.residential_address.country,expression:"application.proxy_applicant.residential_address.country"}],staticClass:"form-control",attrs:{disabled:"",type:"text",name:"country"},domProps:{value:e.application.proxy_applicant.residential_address.country},on:{input:function(t){t.target.composing||e.$set(e.application.proxy_applicant.residential_address,"country",t.target.value)}}})])])])]):e._e(),e._v(" "),"submitter"==e.applicantType&&e.application.submitter.residential_address?a("div",{staticClass:"panel-body panel-collapse collapse",attrs:{id:e.addressBody}},[a("form",{staticClass:"form-horizontal"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-3 control-label",attrs:{for:""}},[e._v("Street")]),e._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.application.submitter.residential_address.line1,expression:"application.submitter.residential_address.line1"}],staticClass:"form-control",attrs:{disabled:"",type:"text",name:"street",placeholder:""},domProps:{value:e.application.submitter.residential_address.line1},on:{input:function(t){t.target.composing||e.$set(e.application.submitter.residential_address,"line1",t.target.value)}}})])]),e._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-3 control-label",attrs:{for:""}},[e._v("Town/Suburb")]),e._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.application.submitter.residential_address.locality,expression:"application.submitter.residential_address.locality"}],staticClass:"form-control",attrs:{disabled:"",type:"text",name:"surburb",placeholder:""},domProps:{value:e.application.submitter.residential_address.locality},on:{input:function(t){t.target.composing||e.$set(e.application.submitter.residential_address,"locality",t.target.value)}}})])]),e._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-3 control-label",attrs:{for:""}},[e._v("State")]),e._v(" "),a("div",{staticClass:"col-sm-2"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.application.submitter.residential_address.state,expression:"application.submitter.residential_address.state"}],staticClass:"form-control",attrs:{disabled:"",type:"text",name:"country",placeholder:""},domProps:{value:e.application.submitter.residential_address.state},on:{input:function(t){t.target.composing||e.$set(e.application.submitter.residential_address,"state",t.target.value)}}})]),e._v(" "),a("label",{staticClass:"col-sm-2 control-label",attrs:{for:""}},[e._v("Postcode")]),e._v(" "),a("div",{staticClass:"col-sm-2"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.application.submitter.residential_address.postcode,expression:"application.submitter.residential_address.postcode"}],staticClass:"form-control",attrs:{disabled:"",type:"text",name:"postcode",placeholder:""},domProps:{value:e.application.submitter.residential_address.postcode},on:{input:function(t){t.target.composing||e.$set(e.application.submitter.residential_address,"postcode",t.target.value)}}})])]),e._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-3 control-label",attrs:{for:""}},[e._v("Country")]),e._v(" "),a("div",{staticClass:"col-sm-4"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.application.submitter.residential_address.country,expression:"application.submitter.residential_address.country"}],staticClass:"form-control",attrs:{disabled:"",type:"text",name:"country"},domProps:{value:e.application.submitter.residential_address.country},on:{input:function(t){t.target.composing||e.$set(e.application.submitter.residential_address,"country",t.target.value)}}})])])])]):e._e()])])]),e._v(" "),a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"row"},[a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"panel-heading"},[a("h3",{staticClass:"panel-title"},[e._v("Contact Details\n                                        "),a("a",{staticClass:"panelClicker",attrs:{href:"#"+e.contactsBody,"data-toggle":"collapse","data-parent":"#userInfo",expanded:"false","aria-controls":e.contactsBody}},[a("span",{staticClass:"glyphicon glyphicon-chevron-down pull-right "})])])]),e._v(" "),"org"==e.applicantType?a("div",{staticClass:"panel-body panel-collapse collapse",attrs:{id:e.contactsBody}},[a("table",{ref:"contacts_datatable",staticClass:"hover table table-striped table-bordered dt-responsive",attrs:{id:e.contacts_table_id,cellspacing:"0",width:"100%"}})]):e._e(),e._v(" "),"proxy"==e.applicantType?a("div",{staticClass:"panel-body panel-collapse collapse",attrs:{id:e.contactsBody}},[a("form",{staticClass:"form-horizontal"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-3 control-label",attrs:{for:""}},[e._v("Phone (work)")]),e._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.application.proxy_applicant.phone_number,expression:"application.proxy_applicant.phone_number"}],staticClass:"form-control",attrs:{disabled:"",type:"text",name:"applicantPhoneNumber",placeholder:""},domProps:{value:e.application.proxy_applicant.phone_number},on:{input:function(t){t.target.composing||e.$set(e.application.proxy_applicant,"phone_number",t.target.value)}}})])]),e._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-3 control-label",attrs:{for:""}},[e._v("Mobile")]),e._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.application.proxy_applicant.mobile_number,expression:"application.proxy_applicant.mobile_number"}],staticClass:"form-control",attrs:{disabled:"",type:"text",name:"applicantMobileNumber",placeholder:""},domProps:{value:e.application.proxy_applicant.mobile_number},on:{input:function(t){t.target.composing||e.$set(e.application.proxy_applicant,"mobile_number",t.target.value)}}})])]),e._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-3 control-label",attrs:{for:""}},[e._v("Email")]),e._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.application.proxy_applicant.email,expression:"application.proxy_applicant.email"}],staticClass:"form-control",attrs:{disabled:"",type:"text",name:"applicantEmail",placeholder:""},domProps:{value:e.application.proxy_applicant.email},on:{input:function(t){t.target.composing||e.$set(e.application.proxy_applicant,"email",t.target.value)}}})])])])]):e._e(),e._v(" "),"submitter"==e.applicantType?a("div",{staticClass:"panel-body panel-collapse collapse",attrs:{id:e.contactsBody}},[a("form",{staticClass:"form-horizontal"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-3 control-label",attrs:{for:""}},[e._v("Phone (work)")]),e._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.application.submitter.phone_number,expression:"application.submitter.phone_number"}],staticClass:"form-control",attrs:{disabled:"",type:"text",name:"applicantPhoneNumber",placeholder:""},domProps:{value:e.application.submitter.phone_number},on:{input:function(t){t.target.composing||e.$set(e.application.submitter,"phone_number",t.target.value)}}})])]),e._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-3 control-label",attrs:{for:""}},[e._v("Mobile")]),e._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.application.submitter.mobile_number,expression:"application.submitter.mobile_number"}],staticClass:"form-control",attrs:{disabled:"",type:"text",name:"applicantMobileNumber",placeholder:""},domProps:{value:e.application.submitter.mobile_number},on:{input:function(t){t.target.composing||e.$set(e.application.submitter,"mobile_number",t.target.value)}}})])]),e._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-3 control-label",attrs:{for:""}},[e._v("Email")]),e._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.application.submitter.email,expression:"application.submitter.email"}],staticClass:"form-control",attrs:{disabled:"",type:"text",name:"applicantEmail",placeholder:""},domProps:{value:e.application.submitter.email},on:{input:function(t){t.target.composing||e.$set(e.application.submitter,"email",t.target.value)}}})])])])]):e._e()])])]),e._v(" "),a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"row"},[a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"panel-heading"},[a("h3",{staticClass:"panel-title"},[e._v("Check List\n                                    "),a("a",{staticClass:"panelClicker",attrs:{href:"#"+e.checksBody,"data-toggle":"collapse","data-parent":"#userInfo",expanded:"false","aria-controls":e.checksBody}},[a("span",{staticClass:"glyphicon glyphicon-chevron-down pull-right "})])])]),e._v(" "),a("div",{staticClass:"panel-body panel-collapse collapse",attrs:{id:e.checksBody}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-4"},[e._v("ID Check")]),e._v(" "),a("div",{staticClass:"col-sm-4"},[e.isIdNotChecked||e.isIdCheckUpdated?a("button",{staticClass:"btn btn-primary",on:{click:function(t){return t.preventDefault(),e.acceptIdRequest()}}},[e._v("Accept")]):e._e(),e._v(" "),e.isIdCheckAccepted?a("button",{staticClass:"btn btn-light",attrs:{disabled:""}},[e._v("Accepted")]):e._e(),e._v(" "),e.isIdCheckRequested?a("button",{staticClass:"btn btn-light",attrs:{disabled:""}},[e._v("Awaiting Update")]):e._e()]),e._v(" "),a("div",{staticClass:"col-sm-4"},[e.isIdNotChecked?a("button",{staticClass:"btn btn-primary",attrs:{disabled:e.application.proxy_applicant},on:{click:function(t){return t.preventDefault(),e.updateIdRequest()}}},[e._v("Request Update")]):e._e(),e._v(" "),e.isIdCheckUpdated?a("button",{staticClass:"btn btn-light",attrs:{disabled:""}},[e._v("Request updated")]):e._e(),e._v(" "),e.isIdCheckAccepted||e.isIdCheckRequested?a("button",{staticClass:"btn btn-primary",on:{click:function(t){return t.preventDefault(),e.resetIdRequest()}}},[e._v("Reset")]):e._e()])]),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-4"},[e._v("Character Check")]),e._v(" "),a("div",{staticClass:"col-sm-4"},[e.isCharacterCheckAccepted?e._e():a("button",{staticClass:"btn btn-primary",on:{click:function(t){return t.preventDefault(),e.acceptCharacterRequest()}}},[e._v("Accept")]),e._v(" "),e.isCharacterCheckAccepted?a("button",{staticClass:"btn btn-light",attrs:{disabled:""}},[e._v("Accepted")]):e._e()]),e._v(" "),a("div",{staticClass:"col-sm-4"},[e.isCharacterCheckAccepted?a("button",{staticClass:"btn btn-primary"},[e._v("Reset")]):e._e()])]),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-4"},[e._v("Returns Check")]),e._v(" "),a("div",{staticClass:"col-sm-4"},[e.isCharacterCheckAccepted?a("button",{staticClass:"btn btn-primary"},[e._v("Request Completion")]):e._e()])])])])])])]),e._v(" "),a("div",{staticClass:"tab-pane fade",attrs:{id:e.applicationTab}},[a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"row"},[a("form",{attrs:{action:e.application_form_url,method:"post",name:"new_application",enctype:"multipart/form-data"}},[e.isApplicationLoaded?a("Application",{attrs:{form_width:"inherit",withSectionsSelector:!1}},[a("input",{attrs:{type:"hidden",name:"csrfmiddlewaretoken"},domProps:{value:e.csrf_token}}),e._v(" "),a("input",{attrs:{type:"hidden",name:"schema"},domProps:{value:JSON.stringify(e.application)}}),e._v(" "),a("input",{attrs:{type:"hidden",name:"application_id"},domProps:{value:1}}),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.selected_activity_tab_id,expression:"selected_activity_tab_id"}],attrs:{type:"hidden",id:"selected_activity_tab_id"},domProps:{value:e.selected_activity_tab_id},on:{input:function(t){t.target.composing||(e.selected_activity_tab_id=t.target.value)}}}),e._v(" "),e.showNavBarBottom?a("div",{staticClass:"row",staticStyle:{"margin-bottom":"50px"}},[a("div",{staticClass:"navbar navbar-fixed-bottom",staticStyle:{"background-color":"#f5f5f5"}},[a("div",{staticClass:"navbar-inner"},[a("div",{staticClass:"container"},[a("p",{staticClass:"pull-right",staticStyle:{"margin-top":"5px"}},[e.canReturnToConditions?a("button",{staticClass:"btn btn-primary",on:{click:function(t){return t.preventDefault(),e.returnToOfficerConditions()}}},[e._v("Return to Officer - Conditions")]):e._e(),e._v(" "),!e.applicationIsDraft&&e.canSaveApplication?a("button",{staticClass:"btn btn-primary",on:{click:function(t){return t.preventDefault(),e.save()}}},[e._v("Save Changes")]):e._e()])])])])]):e._e()]):e._e()],1)])])])])])]:e._e()],2)])]),e._v(" "),a("ProposedDecline",{ref:"proposed_decline",on:{refreshFromResponse:e.refreshFromResponse}}),e._v(" "),a("AmendmentRequest",{ref:"amendment_request",on:{refreshFromResponse:e.refreshFromResponse}}),e._v(" "),a("ProposedLicence",{ref:"proposed_licence",on:{refreshFromResponse:e.refreshFromResponse}})],1):e._e()},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"col-sm-12 top-buffer-s"},[a("table",{staticClass:"table small-table"},[a("tr",[a("th",[e._v("Lodgement")]),e._v(" "),a("th",[e._v("Date")]),e._v(" "),a("th",[e._v("Action")])])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"col-sm-12"},[a("div",{staticClass:"separator"})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"col-sm-12"},[a("div",{staticClass:"separator"})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("strong",[e._v("Action")]),a("br")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("strong",[e._v("Action")]),a("br")])])}]}},function(e,t,a){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{},[n("div",{attrs:{id:"map-filter"}},[n("div",[n("label",{},[e._v("Call/Email Status")]),e._v(" "),n("select",{directives:[{name:"model",rawName:"v-model",value:e.filterStatus,expression:"filterStatus"}],staticClass:"form-control",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.filterStatus=t.target.multiple?a:a[0]}}},e._l(e.status_choices,function(t){return n("option",{key:t.id,domProps:{value:t.id}},[e._v("\n                    "+e._s(t.display)+"\n                ")])}),0)]),e._v(" "),n("div",[n("label",{},[e._v("Call/Email Classification")]),e._v(" "),n("select",{directives:[{name:"model",rawName:"v-model",value:e.filterClassification,expression:"filterClassification"}],staticClass:"form-control",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.filterClassification=t.target.multiple?a:a[0]}}},e._l(e.classification_types,function(t){return n("option",{key:t.id,domProps:{value:t.id}},[e._v("\n                    "+e._s(t.name)+" \n                ")])}),0)]),e._v(" "),n("div",[n("label",{},[e._v("Lodged From")]),e._v(" "),n("div",{ref:"lodgementDateFromPicker",staticClass:"input-group date"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.filterLodgedFrom,expression:"filterLodgedFrom"}],staticClass:"form-control",attrs:{type:"text",placeholder:"DD/MM/YYYY"},domProps:{value:e.filterLodgedFrom},on:{input:function(t){t.target.composing||(e.filterLodgedFrom=t.target.value)}}}),e._v(" "),e._m(0)])]),e._v(" "),n("div",[n("label",{},[e._v("Lodged To")]),e._v(" "),n("div",{ref:"lodgementDateToPicker",staticClass:"input-group date"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.filterLodgedTo,expression:"filterLodgedTo"}],staticClass:"form-control",attrs:{type:"text",placeholder:"DD/MM/YYYY"},domProps:{value:e.filterLodgedTo},on:{input:function(t){t.target.composing||(e.filterLodgedTo=t.target.value)}}}),e._v(" "),e._m(1)])])]),e._v(" "),n("div",{attrs:{id:"map-wrapper"}},[e._m(2),e._v(" "),n("div",{attrs:{id:"mapLeaf"}}),e._v(" "),n("div",{attrs:{id:"basemap-button"}},[n("img",{attrs:{id:"basemap_sat",src:a(55)},on:{click:function(t){return e.setBaseLayer("sat")}}}),e._v(" "),n("img",{attrs:{id:"basemap_osm",src:a(54)},on:{click:function(t){return e.setBaseLayer("osm")}}})]),e._v(" "),n("div",{attrs:{id:"cursor-location"}},[e.cursor_location?n("div",[n("span",{attrs:{id:"cursor-location-lat"}},[e._v(e._s(e.cursor_location.lat.toFixed(5))+", "+e._s(e.cursor_location.lng.toFixed(5)))])]):e._e()])])])},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{staticClass:"input-group-addon"},[a("span",{staticClass:"glyphicon glyphicon-calendar"})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{staticClass:"input-group-addon"},[a("span",{staticClass:"glyphicon glyphicon-calendar"})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"search-box"}},[a("input",{attrs:{id:"search-input"}})])}]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"form-group"},[a("label",{staticClass:"expander-label",attrs:{id:e.id,for:"label"}},[e._v(e._s(e.label))]),e._v(" "),e.help_text?[a("HelpText",{attrs:{help_text:e.help_text}})]:e._e(),e._v(" "),e.help_text_url?[a("HelpTextUrl",{attrs:{help_text_url:e.help_text_url}})]:e._e(),e._v(" "),a("CommentBlock",{attrs:{label:e.label,name:e.name,field_data:e.field_data}}),e._v(" "),a("div",{staticClass:"row header-titles-row"},e._l(e.component.header,function(t,n){return a("div",{key:"expander_header_"+e.component.name+"_"+n,class:"col-xs-"+Math.floor(12/e.component.header.length)},[e._v("\n                "+e._s(t.label)+"\n        ")])}),0),e._v(" "),e._l(e.expanderTables,function(t,n){return a("div",{staticClass:"expander-table"},[a("div",{staticClass:"row header-row"},e._l(e.component.header,function(i,s){return a("div",{key:"expander_header_"+e.component.name+"_"+s,class:"col-xs-"+Math.floor(12/e.component.header.length)},[s?e._e():a("span",{class:"expand-icon "+(e.isExpanded(t)?"collapse":""),on:{click:function(a){return e.toggleTableVisibility(t)}}}),e._v(" "),a("span",{staticClass:"header-contents"},[a("renderer-block",{key:"expander_header_contents_"+e.component.name+"_"+s,attrs:{component:e.removeLabel(i),json_data:e.value,instance:t}})],1),e._v(" "),n&&s==e.component.header.length-1&&!e.readonly?a("a",{staticClass:"delete-icon fa fa-trash-o",attrs:{title:"Delete row"},on:{click:function(a){return a.preventDefault(),e.removeTable(t)}}}):e._e()])}),0),e._v(" "),a("div",{class:{hidden:!e.isExpanded(t)}},e._l(e.component.expander,function(n,i){return a("div",{key:"expander_row_"+e.component.name+"_"+i,staticClass:"row expander-row"},[a("div",{staticClass:"col-xs-12"},[a("renderer-block",{key:"expander_contents_"+e.component.name+"_"+i,attrs:{component:n,json_data:e.value,instance:t}})],1)])}),0)])}),e._v(" "),e.readonly?e._e():a("div",{staticClass:"row"},[a("input",{staticClass:"btn btn-primary add-new-button",attrs:{type:"button",value:"Add New"},on:{click:function(t){return t.preventDefault(),e.addNewTable(t)}}})])],2)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container",attrs:{id:"externalDash"}},[a("SanctionOutcomeDashTable",{attrs:{level:"external",url:e.sanction_outcome_url}})],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"col-md-12"},[a("ul",{staticClass:"nav nav-tabs",attrs:{id:"tabs-section","data-tabs":"tabs"}},e._l(e.visibleLicenceActivities,function(t,n){return a("li",{key:"issue_activity_tab_"+n},[a("a",{attrs:{"data-toggle":"tab"},on:{click:function(a){return e.selectTab(t)}}},[e._v(e._s(t.name))])])}),0),e._v(" "),a("div",{staticClass:"tab-content"},e._l(e.selectedActivity,function(t,n){return a("div",{key:"issue_activity_content_"+n,staticClass:"row"},[a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"panel-heading"},[a("h3",{staticClass:"panel-title"},[e._v("Issue/Decline - "+e._s(t.name)+"\n                        "),a("a",{staticClass:"panelClicker",attrs:{href:"#"+e.panelBody,"data-toggle":"collapse","data-parent":"#userInfo",expanded:"false","aria-controls":e.panelBody}},[a("span",{staticClass:"glyphicon glyphicon-chevron-down pull-right "})])])]),e._v(" "),a("div",{staticClass:"panel-body panel-collapse collapse in",attrs:{id:e.panelBody}},[a("form",{staticClass:"form-horizontal",attrs:{action:"index.html",method:"post"}},[a("div",{staticClass:"col-sm-12"},[a("div",{staticClass:"form-group"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-3"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.getActivity(t.id).final_status,expression:"getActivity(item.id).final_status"}],attrs:{type:"radio",id:"issue",name:"licence_category",value:"issued"},domProps:{checked:e._q(e.getActivity(t.id).final_status,"issued")},on:{change:function(a){e.$set(e.getActivity(t.id),"final_status","issued")}}}),e._v(" Issue\n                                    ")]),e._v(" "),a("div",{staticClass:"col-sm-3"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.getActivity(t.id).final_status,expression:"getActivity(item.id).final_status"}],attrs:{type:"radio",id:"decline",name:"licence_category",value:"declined"},domProps:{checked:e._q(e.getActivity(t.id).final_status,"declined")},on:{change:function(a){e.$set(e.getActivity(t.id),"final_status","declined")}}}),e._v(" Decline\n                                    ")])]),e._v(" "),a("div",{staticClass:"row"},[e._m(0,!0),e._v(" "),a("div",{staticClass:"col-sm-9"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.getActivity(t.id).confirmed,expression:"getActivity(item.id).confirmed"}],staticClass:"confirmation-checkbox",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.getActivity(t.id).confirmed)?e._i(e.getActivity(t.id).confirmed,null)>-1:e.getActivity(t.id).confirmed},on:{change:function(a){var n=e.getActivity(t.id).confirmed,i=a.target,s=!!i.checked;if(Array.isArray(n)){var o=e._i(n,null);i.checked?o<0&&e.$set(e.getActivity(t.id),"confirmed",n.concat([null])):o>-1&&e.$set(e.getActivity(t.id),"confirmed",n.slice(0,o).concat(n.slice(o+1)))}else e.$set(e.getActivity(t.id),"confirmed",s)}}})])]),e._v(" "),"issued"===e.finalStatus(t.id)&&e.canEditLicenceDates?a("div",{staticClass:"row"},[e._m(1,!0),e._v(" "),a("div",{staticClass:"col-sm-9"},[a("div",{ref:"start_date",refInFor:!0,staticClass:"input-group date",staticStyle:{width:"70%"},attrs:{"data-init":!1,"data-activity":t.id}},[a("input",{staticClass:"form-control",attrs:{type:"text",name:"start_date",placeholder:"DD/MM/YYYY"}}),e._v(" "),e._m(2,!0)])])]):e._e(),e._v(" "),"issued"===e.finalStatus(t.id)&&e.canEditLicenceDates?a("div",{staticClass:"row"},[e._m(3,!0),e._v(" "),a("div",{staticClass:"col-sm-9"},[a("div",{ref:"end_date",refInFor:!0,staticClass:"input-group date",staticStyle:{width:"70%"},attrs:{"data-activity":t.id}},[a("input",{staticClass:"form-control",attrs:{type:"text",name:"end_date",placeholder:"DD/MM/YYYY"}}),e._v(" "),e._m(4,!0)])])]):e._e()])])])])]),e._v(" "),a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"panel-heading"},[a("h3",{staticClass:"panel-title"},[e._v("Emailing\n                        "),a("a",{staticClass:"panelClicker",attrs:{href:"#"+e.panelBody,"data-toggle":"collapse","data-parent":"#userInfo",expanded:"false","aria-controls":e.panelBody}},[a("span",{staticClass:"glyphicon glyphicon-chevron-down pull-right "})])])]),e._v(" "),a("div",{staticClass:"panel-body panel-collapse collapse in",attrs:{id:e.panelBody}},[a("div",{staticClass:"row"},[e._m(5,!0),e._v(" "),a("div",{staticClass:"col-sm-9"},[a("div",{ref:"details",refInFor:!0,staticClass:"input-group date",staticStyle:{width:"70%"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.getActivity(t.id).reason,expression:"getActivity(item.id).reason"}],staticClass:"form-control",attrs:{type:"text",name:"details"},domProps:{value:e.getActivity(t.id).reason},on:{input:function(a){a.target.composing||e.$set(e.getActivity(t.id),"reason",a.target.value)}}})])])]),e._v(" "),a("div",{staticClass:"row"},[e._m(6,!0),e._v(" "),a("div",{staticClass:"col-sm-9"},[a("div",{ref:"cc_email",refInFor:!0,staticClass:"input-group date",staticStyle:{width:"70%"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.getActivity(t.id).cc_email,expression:"getActivity(item.id).cc_email"}],staticClass:"form-control",attrs:{type:"text",name:"cc_email"},domProps:{value:e.getActivity(t.id).cc_email},on:{input:function(a){a.target.composing||e.$set(e.getActivity(t.id),"cc_email",a.target.value)}}})])])]),e._v(" "),e._m(7,!0)])])])}),0),e._v(" "),e.licence.activity.some(function(e){return"issued"===e.final_status})?a("div",{staticClass:"row"},[a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"panel-heading"},[a("h3",{staticClass:"panel-title"},[e._v("Issue\n                    "),a("a",{staticClass:"panelClicker",attrs:{href:"#"+e.panelBody,"data-toggle":"collapse","data-parent":"#userInfo",expanded:"false","aria-controls":e.panelBody}},[a("span",{staticClass:"glyphicon glyphicon-chevron-down pull-right "})])])]),e._v(" "),a("div",{staticClass:"panel-body panel-collapse collapse in",attrs:{id:e.panelBody}},[a("div",{staticClass:"row"},[e._m(8),e._v(" "),a("div",{staticClass:"col-sm-9"},[a("div",{ref:"details",staticClass:"input-group date",staticStyle:{width:"70%"}},[e.isIdCheckAccepted?a("button",{staticClass:"btn btn-success",attrs:{disabled:""}},[e._v("Accepted")]):e._e(),e._v(" "),e.isIdCheckAwaitingUpdate?a("label",[e._v("Awaiting update. Override to Issue: ")]):e._e(),e._v(" "),e.isIdNotChecked?a("label",[e._v("Has not been accepted. Override to Issue: ")]):e._e(),e._v(" "),e.isIdNotChecked||e.isIdCheckAwaitingUpdate?a("input",{directives:[{name:"model",rawName:"v-model",value:e.licence.id_check,expression:"licence.id_check"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.licence.id_check)?e._i(e.licence.id_check,null)>-1:e.licence.id_check},on:{change:function(t){var a=e.licence.id_check,n=t.target,i=!!n.checked;if(Array.isArray(a)){var s=e._i(a,null);n.checked?s<0&&e.$set(e.licence,"id_check",a.concat([null])):s>-1&&e.$set(e.licence,"id_check",a.slice(0,s).concat(a.slice(s+1)))}else e.$set(e.licence,"id_check",i)}}}):e._e()])])]),e._v(" "),a("div",{staticClass:"row"},[e._m(9),e._v(" "),a("div",{staticClass:"col-sm-9"},[a("div",{ref:"cc_email",staticClass:"input-group date",staticStyle:{width:"70%"}},[e.isCharacterCheckAccepted?a("button",{staticClass:"btn btn-success",attrs:{disabled:""}},[e._v("Accepted")]):e._e(),e._v(" "),e.isCharacterNotChecked?a("label",[e._v("Has not been accepted. Override to Issue: ")]):e._e(),e._v(" "),e.isCharacterNotChecked?a("input",{directives:[{name:"model",rawName:"v-model",value:e.licence.character_check,expression:"licence.character_check"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.licence.character_check)?e._i(e.licence.character_check,null)>-1:e.licence.character_check},on:{change:function(t){var a=e.licence.character_check,n=t.target,i=!!n.checked;if(Array.isArray(a)){var s=e._i(a,null);n.checked?s<0&&e.$set(e.licence,"character_check",a.concat([null])):s>-1&&e.$set(e.licence,"character_check",a.slice(0,s).concat(a.slice(s+1)))}else e.$set(e.licence,"character_check",i)}}}):e._e()])])]),e._v(" "),a("div",{staticClass:"row"},[e._m(10),e._v(" "),a("div",{staticClass:"col-sm-9"},[a("div",{ref:"cc_email",staticClass:"input-group date",staticStyle:{width:"70%"}},[e.isReturnCheckAccepted?a("button",{staticClass:"btn btn-success",attrs:{disabled:""}},[e._v("Accepted")]):e._e(),e._v(" "),e.isReturnCheckAwaitingReturns?a("label",[e._v("Awaiting return. Override to Issue: ")]):e._e(),e._v(" "),e.isReturnNotChecked?a("label",[e._v("Has not been accepted. Override to Issue: ")]):e._e(),e._v(" "),e.isReturnNotChecked||e.isReturnCheckAwaitingReturns?a("input",{directives:[{name:"model",rawName:"v-model",value:e.licence.return_check,expression:"licence.return_check"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.licence.return_check)?e._i(e.licence.return_check,null)>-1:e.licence.return_check},on:{change:function(t){var a=e.licence.return_check,n=t.target,i=!!n.checked;if(Array.isArray(a)){var s=e._i(a,null);n.checked?s<0&&e.$set(e.licence,"return_check",a.concat([null])):s>-1&&e.$set(e.licence,"return_check",a.slice(0,s).concat(a.slice(s+1)))}else e.$set(e.licence,"return_check",i)}}}):e._e()])])])])])]):e._e(),e._v(" "),a("div",{staticClass:"row",staticStyle:{"margin-bottom":"50px"}},[a("div",{staticClass:"navbar navbar-fixed-bottom",staticStyle:{"background-color":"#f5f5f5"}},[a("div",{staticClass:"navbar-inner"},[a("div",{staticClass:"container"},[a("p",{staticClass:"pull-right",staticStyle:{"margin-top":"5px"}},[e.canIssueOrDecline?a("button",{staticClass:"btn btn-primary pull-right",on:{click:function(t){return t.preventDefault(),e.ok()}}},[e._v("Issue/Decline")]):a("button",{staticClass:"btn btn-primary pull-right",attrs:{disabled:""}},[e._v("Issue/Decline")])])])])])])])},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"col-sm-3"},[a("label",{staticClass:"control-label pull-left"},[e._v("Ready for finalisation?")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"col-sm-3"},[a("label",{staticClass:"control-label pull-left"},[e._v("Proposed Start Date")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{staticClass:"input-group-addon"},[a("span",{staticClass:"glyphicon glyphicon-calendar"})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"col-sm-3"},[a("label",{staticClass:"control-label pull-left"},[e._v("Proposed Expiry Date")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{staticClass:"input-group-addon"},[a("span",{staticClass:"glyphicon glyphicon-calendar"})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"col-sm-3"},[a("label",{staticClass:"control-label pull-left",attrs:{for:"details"}},[e._v("Details")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"col-sm-3"},[a("label",{staticClass:"control-label pull-left",attrs:{for:"details"}},[e._v("CC Email")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-3"},[a("label",{staticClass:"control-label pull-left",attrs:{for:"details"}},[e._v("Files to be attached to email")])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"col-sm-3"},[a("label",{staticClass:"control-label pull-left",attrs:{for:"details"}},[e._v("ID Check")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"col-sm-3"},[a("label",{staticClass:"control-label pull-left",attrs:{for:"details"}},[e._v("Character Check")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"col-sm-3"},[a("label",{staticClass:"control-label pull-left",attrs:{for:"details"}},[e._v("Return Check")])])}]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"AddComms"}},[a("modal",{attrs:{transition:"modal fade",title:"Communication log - Add entry",large:""},on:{ok:function(t){return e.ok()},cancel:function(t){return e.cancel()}}},[a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row"},[a("form",{staticClass:"form-horizontal",attrs:{name:"commsForm"}},[a("alert",{attrs:{show:e.showError,type:"danger"},on:{"update:show":function(t){e.showError=t}}},[a("strong",[e._v(e._s(e.errorString))])]),e._v(" "),a("div",{staticClass:"col-sm-12"},[a("div",{staticClass:"form-group"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-3"},[a("label",{staticClass:"control-label pull-left",attrs:{for:"Name"}},[e._v("To")])]),e._v(" "),a("div",{staticClass:"col-sm-4"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.comms.to,expression:"comms.to"}],staticClass:"form-control",attrs:{type:"text",name:"to"},domProps:{value:e.comms.to},on:{input:function(t){t.target.composing||e.$set(e.comms,"to",t.target.value)}}})])])]),e._v(" "),a("div",{staticClass:"form-group"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-3"},[a("label",{staticClass:"control-label pull-left",attrs:{for:"Name"}},[e._v("From")])]),e._v(" "),a("div",{staticClass:"col-sm-4"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.comms.fromm,expression:"comms.fromm"}],staticClass:"form-control",attrs:{type:"text",name:"fromm"},domProps:{value:e.comms.fromm},on:{input:function(t){t.target.composing||e.$set(e.comms,"fromm",t.target.value)}}})])])]),e._v(" "),a("div",{staticClass:"form-group"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-3"},[a("label",{staticClass:"control-label pull-left",attrs:{for:"Name"}},[e._v("Type")])]),e._v(" "),a("div",{staticClass:"col-sm-4"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.comms.log_type,expression:"comms.log_type"}],staticClass:"form-control",attrs:{name:"type"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.comms,"log_type",t.target.multiple?a:a[0])}}},[a("option",{attrs:{value:""}},[e._v("Select Type")]),e._v(" "),a("option",{attrs:{value:"email"}},[e._v("Email")]),e._v(" "),a("option",{attrs:{value:"mail"}},[e._v("Mail")]),e._v(" "),a("option",{attrs:{value:"phone"}},[e._v("Phone")]),e._v(" "),a("option",{attrs:{value:"person"}},[e._v("Person")])])])])]),e._v(" "),a("div",{staticClass:"form-group"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-3"},[a("label",{staticClass:"control-label pull-left",attrs:{for:"Name"}},[e._v("Subject/Description")])]),e._v(" "),a("div",{staticClass:"col-sm-9"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.comms.subject,expression:"comms.subject"}],staticClass:"form-control",staticStyle:{width:"70%"},attrs:{type:"text",name:"subject"},domProps:{value:e.comms.subject},on:{input:function(t){t.target.composing||e.$set(e.comms,"subject",t.target.value)}}})])])]),e._v(" "),a("div",{staticClass:"form-group"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-3"},[a("label",{staticClass:"control-label pull-left",attrs:{for:"Name"}},[e._v("Text")])]),e._v(" "),a("div",{staticClass:"col-sm-9"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.comms.text,expression:"comms.text"}],staticClass:"form-control",staticStyle:{width:"70%"},attrs:{name:"text"},domProps:{value:e.comms.text},on:{input:function(t){t.target.composing||e.$set(e.comms,"text",t.target.value)}}})])])]),e._v(" "),a("div",{staticClass:"form-group"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-3"},[a("label",{staticClass:"control-label pull-left",attrs:{for:"Name"}},[e._v("Attachments")])]),e._v(" "),a("div",{staticClass:"col-sm-9"},[e._l(e.files,function(t,n){return[a("div",{class:"row top-buffer file-row-"+n},[a("div",{staticClass:"col-sm-4"},[null==t.file?a("span",{staticClass:"btn btn-info btn-file pull-left"},[e._v("\n                                                    Atttach File "),a("input",{class:"file-upload-"+n,attrs:{type:"file",name:"file-upload-"+n},on:{change:function(a){return e.uploadFile("file-upload-"+n,t)}}})]):a("span",{staticClass:"btn btn-info btn-file pull-left"},[e._v("\n                                                    Update File "),a("input",{class:"file-upload-"+n,attrs:{type:"file",name:"file-upload-"+n},on:{change:function(a){return e.uploadFile("file-upload-"+n,t)}}})])]),e._v(" "),a("div",{staticClass:"col-sm-4"},[a("span",[e._v(e._s(t.name))])]),e._v(" "),a("div",{staticClass:"col-sm-4"},[a("button",{staticClass:"btn btn-danger",on:{click:function(t){return e.removeFile(n)}}},[e._v("Remove")])])])]}),e._v(" "),a("a",{attrs:{href:""},on:{click:function(t){return t.preventDefault(),e.attachAnother(t)}}},[a("i",{staticClass:"fa fa-lg fa-plus top-buffer-2x"})])],2)])])])],1)])]),e._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[e.addingComms?a("button",{staticClass:"btn btn-default",attrs:{type:"button",disabled:""},on:{click:e.ok}},[a("i",{staticClass:"fa fa-spinner fa-spin"}),e._v(" Adding")]):a("button",{staticClass:"btn btn-default",attrs:{type:"button"},on:{click:e.ok}},[e._v("Add")]),e._v(" "),a("button",{staticClass:"btn btn-default",attrs:{type:"button"},on:{click:e.cancel}},[e._v("Cancel")])])])],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"panel-heading"},[a("h3",{staticClass:"panel-title"},[e._v("Applications requiring assessment\n                    "),a("a",{attrs:{href:"#"+e.pBody,"data-toggle":"collapse","data-parent":"#userInfo",expanded:"true","aria-controls":e.pBody}},[a("span",{staticClass:"glyphicon glyphicon-chevron-up pull-right "})])])]),e._v(" "),a("div",{staticClass:"panel-body collapse in",attrs:{id:e.pBody}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-3"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:""}},[e._v("Licence Type")]),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.filterApplicationLicenceType,expression:"filterApplicationLicenceType"}],staticClass:"form-control",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.filterApplicationLicenceType=t.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"All"}},[e._v("All")]),e._v(" "),e._l(e.application_licence_types,function(t){return a("option",{key:"licence_type_"+t,domProps:{value:t}},[e._v(e._s(t))])})],2)])]),e._v(" "),a("div",{staticClass:"col-md-3"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:""}},[e._v("Status")]),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.filterApplicationStatus,expression:"filterApplicationStatus"}],staticClass:"form-control",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.filterApplicationStatus=t.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"All"}},[e._v("All")]),e._v(" "),e._l(e.application_status,function(t){return a("option",{key:"status_"+t.id,domProps:{value:t}},[e._v(e._s(t.name))])})],2)])])]),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-3"},[a("label",{attrs:{for:""}},[e._v("Lodged From")]),e._v(" "),a("div",{ref:"applicationDateFromPicker",staticClass:"input-group date"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.filterApplicationLodgedFrom,expression:"filterApplicationLodgedFrom"}],staticClass:"form-control",attrs:{type:"text",placeholder:"DD/MM/YYYY"},domProps:{value:e.filterApplicationLodgedFrom},on:{input:function(t){t.target.composing||(e.filterApplicationLodgedFrom=t.target.value)}}}),e._v(" "),e._m(0)])]),e._v(" "),a("div",{staticClass:"col-md-3"},[a("label",{attrs:{for:""}},[e._v("Lodged To")]),e._v(" "),a("div",{ref:"applicationDateToPicker",staticClass:"input-group date"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.filterApplicationLodgedTo,expression:"filterApplicationLodgedTo"}],staticClass:"form-control",attrs:{type:"text",placeholder:"DD/MM/YYYY"},domProps:{value:e.filterApplicationLodgedTo},on:{input:function(t){t.target.composing||(e.filterApplicationLodgedTo=t.target.value)}}}),e._v(" "),e._m(1)])]),e._v(" "),a("div",{staticClass:"col-md-3"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:""}},[e._v("Submitter")]),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.filterApplicationSubmitter,expression:"filterApplicationSubmitter"}],ref:"submitter_select",staticClass:"form-control",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.filterApplicationSubmitter=t.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"All"}},[e._v("All")]),e._v(" "),e._l(e.application_submitters,function(t){return a("option",{domProps:{value:t.email}},[e._v(e._s(t.search_term))])})],2)])])]),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-12"},[a("datatable",{ref:"assessment_datatable",attrs:{id:e.datatable_id,dtOptions:e.assessment_options,dtHeaders:e.assessment_headers}})],1)])])])])])},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{staticClass:"input-group-addon"},[a("span",{staticClass:"glyphicon glyphicon-calendar"})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{staticClass:"input-group-addon"},[a("span",{staticClass:"glyphicon glyphicon-calendar"})])}]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"form-group"},[a("div",{staticClass:"row"},[a("label",{staticClass:"col-md-3",attrs:{id:e.id,for:"label"}},[e._v(e._s(e.labelText))]),e._v(" "),a("div",{staticClass:"col-md-9"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"}],staticClass:"form-control deficiency",attrs:{readonly:e.readonly,"data-question":e.question,name:e.name,required:e.isRequired},domProps:{value:e.value},on:{input:function(t){t.target.composing||(e.value=t.target.value)}}})])])])])])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"InspectionWorkflow"}},[a("modal",{attrs:{transition:"modal fade",title:e.modalTitle,large:"",force:""},on:{ok:function(t){return e.ok()},cancel:function(t){return e.cancel()}}},[a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("div",{staticClass:"form-group"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-3"},[a("label",{staticClass:"control-label pull-left",attrs:{for:"details"}},[e._v("Details")])]),e._v(" "),a("div",{staticClass:"col-sm-6"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.workflowDetails,expression:"workflowDetails"}],staticClass:"form-control",attrs:{placeholder:"add details",id:"details"},domProps:{value:e.workflowDetails},on:{input:function(t){t.target.composing||(e.workflowDetails=t.target.value)}}})])])]),e._v(" "),a("div",{staticClass:"form-group"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-3"},[a("label",{staticClass:"control-label pull-left",attrs:{for:"Name"}},[e._v("Attachments")])]),e._v(" "),a("div",{staticClass:"col-sm-9"},[a("filefield",{ref:"comms_log_file",attrs:{name:"comms-log-file",isRepeatable:!0,documentActionUrl:e.inspection.commsLogsDocumentUrl}})],1)])])])])]),e._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[e.errorResponse?a("div",{staticClass:"form-group"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("strong",[e._v("Error: "+e._s(e.errorResponse))])])])]):e._e(),e._v(" "),a("button",{staticClass:"btn btn-default",attrs:{type:"button"},on:{click:e.ok}},[e._v("Ok")]),e._v(" "),a("button",{staticClass:"btn btn-default",attrs:{type:"button"},on:{click:e.cancel}},[e._v("Cancel")])])])],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-3"},[a("h3",[e._v("Offence: "+e._s(e.displayLodgementNumber))])])]),e._v(" "),a("div",[a("div",{staticClass:"col-md-3"},[a("CommsLogs",{attrs:{comms_url:e.comms_url,logs_url:e.logs_url,comms_add_url:e.comms_add_url,disable_add_entry:!1}}),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"panel-heading"},[e._v("\n                        Workflow \n                    ")]),e._v(" "),a("div",{staticClass:"panel-body panel-collapse"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("strong",[e._v("Status")]),a("br"),e._v("\n                                "+e._s(e.statusDisplay)),a("br")])]),e._v(" "),e.offence.allocated_group?a("div",{staticClass:"form-group"},[e._m(0),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.offence.assigned_to_id,expression:"offence.assigned_to_id"}],staticClass:"form-control",attrs:{disabled:!e.offence.user_in_group},on:{change:[function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.offence,"assigned_to_id",t.target.multiple?a:a[0])},function(t){return e.updateAssignedToId()}]}},e._l(e.offence.allocated_group,function(t){return a("option",{key:t.id,domProps:{value:t.id}},[e._v("\n                                    "+e._s(t.full_name)+" \n                                    ")])}),0)])])]):e._e(),e._v(" "),e.offence.user_in_group?a("div",[a("a",{staticClass:"btn pull-right",on:{click:function(t){return e.updateAssignedToId("current_user")}}},[e._v("\n                                Assign to me\n                            ")])]):e._e()])])]),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"panel-heading"},[e._v("\n                        Action \n                    ")]),e._v(" "),a("div",{staticClass:"panel-body panel-collapse"},[e.visibilitySanctionOutcomeButton?a("div",{staticClass:"row action-button"},[a("div",{staticClass:"col-sm-12"},[a("a",{staticClass:"btn btn-primary btn-block",on:{click:function(t){return e.openSanctionOutcome()}}},[e._v("\n                                    Sanction Outcome\n                                ")])])]):e._e(),e._v(" "),e.visibilityCloseButton?a("div",{staticClass:"row action-button"},[a("div",{staticClass:"col-sm-12"},[a("a",{staticClass:"btn btn-primary btn-block",on:{click:function(t){return e.addWorkflow("close")}}},[e._v("\n                                    Close\n                                ")])])]):e._e()])])])],1),e._v(" "),a("div",{staticClass:"col-md-9",attrs:{id:"main-column"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"container-fluid"},[a("ul",{staticClass:"nav nav-pills aho2"},[a("li",{staticClass:"nav-item active"},[a("a",{attrs:{"data-toggle":"tab",href:"#"+e.offenceTab}},[e._v("Offence")])]),e._v(" "),a("li",{staticClass:"nav-item"},[a("a",{attrs:{"data-toggle":"tab",href:"#"+e.detailsTab}},[e._v("Details")])]),e._v(" "),a("li",{staticClass:"nav-item"},[a("a",{attrs:{"data-toggle":"tab",href:"#"+e.offenderTab}},[e._v("Offender(s)")])]),e._v(" "),a("li",{staticClass:"nav-item"},[a("a",{attrs:{"data-toggle":"tab",href:"#"+e.locationTab},on:{click:e.mapOffenceClicked}},[e._v("Location")])]),e._v(" "),a("li",{staticClass:"nav-item"},[a("a",{attrs:{"data-toggle":"tab",href:"#"+e.relatedItemsTab}},[e._v("Related Items")])])]),e._v(" "),a("div",{staticClass:"tab-content"},[a("div",{staticClass:"tab-pane fade in active",attrs:{id:e.offenceTab}},[a("FormSection",{attrs:{formCollapse:!1,label:"Offence",Index:"0"}},[a("div",{staticClass:"col-sm-12 form-group"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-3"},[a("label",{staticClass:"control-label pull-left",attrs:{for:"offence-identifier"}},[e._v("Identifier")])]),e._v(" "),a("div",{staticClass:"col-sm-6"},[e.offence?a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.offence.identifier,expression:"offence.identifier"}],staticClass:"form-control",attrs:{type:"text",readonly:e.readonlyForm,name:"identifier"},domProps:{value:e.offence.identifier},on:{input:function(t){t.target.composing||e.$set(e.offence,"identifier",t.target.value)}}})]):e._e()])])]),e._v(" "),a("div",{staticClass:"col-sm-12 form-group"},[a("div",{staticClass:"row"},[a("label",{staticClass:"col-sm-3"},[e._v("Use occurrence from/to")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.offence.occurrence_from_to,expression:"offence.occurrence_from_to"}],staticClass:"col-sm-1",attrs:{disabled:e.readonlyForm,id:"occurrence_from_to_true",type:"radio"},domProps:{value:!0,checked:e._q(e.offence.occurrence_from_to,!0)},on:{change:function(t){return e.$set(e.offence,"occurrence_from_to",!0)}}}),e._v(" "),a("label",{staticClass:"col-sm-1 radio-button-label",attrs:{for:"occurrence_from_to_true"}},[e._v("Yes")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.offence.occurrence_from_to,expression:"offence.occurrence_from_to"}],staticClass:"col-sm-1",attrs:{disabled:e.readonlyForm,id:"occurrence_from_to_false",type:"radio"},domProps:{value:!1,checked:e._q(e.offence.occurrence_from_to,!1)},on:{change:function(t){return e.$set(e.offence,"occurrence_from_to",!1)}}}),e._v(" "),a("label",{staticClass:"col-sm-1 radio-button-label",attrs:{for:"occurrence_from_to_false"}},[e._v("No")])])]),e._v(" "),a("div",{staticClass:"col-sm-12 form-group"},[a("div",{staticClass:"row"},[a("label",{staticClass:"col-sm-3"},[e._v(e._s(e.occurrenceDateLabel))]),e._v(" "),a("div",{staticClass:"col-sm-3"},[a("div",{ref:"occurrenceDateFromPicker",staticClass:"input-group date"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.offence.occurrence_date_from,expression:"offence.occurrence_date_from"}],staticClass:"form-control",attrs:{readonly:e.readonlyForm,type:"text",placeholder:"DD/MM/YYYY"},domProps:{value:e.offence.occurrence_date_from},on:{input:function(t){t.target.composing||e.$set(e.offence,"occurrence_date_from",t.target.value)}}}),e._v(" "),a("span",{staticClass:"input-group-addon"},[a("span",{staticClass:"glyphicon glyphicon-calendar"})])])]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.offence.occurrence_from_to,expression:"offence.occurrence_from_to"}]},[a("div",{staticClass:"col-sm-3"},[a("div",{ref:"occurrenceDateToPicker",staticClass:"input-group date"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.offence.occurrence_date_to,expression:"offence.occurrence_date_to"}],staticClass:"form-control",attrs:{readonly:e.readonlyForm,type:"text",placeholder:"DD/MM/YYYY"},domProps:{value:e.offence.occurrence_date_to},on:{input:function(t){t.target.composing||e.$set(e.offence,"occurrence_date_to",t.target.value)}}}),e._v(" "),a("span",{staticClass:"input-group-addon"},[a("span",{staticClass:"glyphicon glyphicon-calendar"})])])])])])]),e._v(" "),a("div",{staticClass:"col-sm-12 form-group"},[a("div",{staticClass:"row"},[a("label",{staticClass:"col-sm-3"},[e._v(e._s(e.occurrenceTimeLabel))]),e._v(" "),a("div",{staticClass:"col-sm-3"},[a("div",{ref:"occurrenceTimeFromPicker",staticClass:"input-group date"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.offence.occurrence_time_from,expression:"offence.occurrence_time_from"}],staticClass:"form-control",attrs:{readonly:e.readonlyForm,type:"text",placeholder:"HH:MM"},domProps:{value:e.offence.occurrence_time_from},on:{input:function(t){t.target.composing||e.$set(e.offence,"occurrence_time_from",t.target.value)}}}),e._v(" "),a("span",{staticClass:"input-group-addon"},[a("span",{staticClass:"glyphicon glyphicon-calendar"})])])]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.offence.occurrence_from_to,expression:"offence.occurrence_from_to"}]},[a("div",{staticClass:"col-sm-3"},[a("div",{ref:"occurrenceTimeToPicker",staticClass:"input-group date"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.offence.occurrence_time_to,expression:"offence.occurrence_time_to"}],staticClass:"form-control",attrs:{readonly:e.readonlyForm,type:"text",placeholder:"HH:MM"},domProps:{value:e.offence.occurrence_time_to},on:{input:function(t){t.target.composing||e.$set(e.offence,"occurrence_time_to",t.target.value)}}}),e._v(" "),a("span",{staticClass:"input-group-addon"},[a("span",{staticClass:"glyphicon glyphicon-calendar"})])])])])])]),e._v(" "),a("div",{staticClass:"col-sm-12 form-group"},[a("div",{staticClass:"row"},[a("label",{staticClass:"col-sm-3"},[e._v("Alleged Offence")]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.readonlyForm,expression:"!readonlyForm"}]},[a("div",{staticClass:"col-sm-6"},[a("input",{staticClass:"form-control",attrs:{id:"alleged-offence"}})]),e._v(" "),a("div",{staticClass:"col-sm-3"},[a("input",{staticClass:"btn btn-primary",attrs:{type:"button",value:"Add"},on:{click:function(t){return t.preventDefault(),e.addAllegedOffenceClicked()}}})])])])]),e._v(" "),a("div",{staticClass:"col-sm-12 form-group"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("datatable",{ref:"alleged_offence_table",attrs:{id:"alleged-offence-table",dtOptions:e.dtOptionsAllegedOffence,dtHeaders:e.dtHeadersAllegedOffence}})],1)])])])],1),e._v(" "),a("div",{staticClass:"tab-pane face in",attrs:{id:e.detailsTab}},[a("FormSection",{attrs:{formCollapse:!1,label:"Details",Index:"1"}},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.offence.details,expression:"offence.details"}],staticClass:"form-control",attrs:{readonly:e.readonlyForm,placeholder:"add details"},domProps:{value:e.offence.details},on:{input:function(t){t.target.composing||e.$set(e.offence,"details",t.target.value)}}})])],1),e._v(" "),a("div",{staticClass:"tab-pane face in",attrs:{id:e.offenderTab}},[a("FormSection",{attrs:{formCollapse:!1,label:"Offender(s)",Index:"2"}},[a("div",{staticClass:"col-sm-12 form-group"},[a("div",{staticClass:"row"},[a("label",{staticClass:"col-sm-2"},[e._v("Offender")]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.readonlyForm,expression:"!readonlyForm"}]},[a("div",[a("SearchPersonOrganisation",{key:e.updateSearchPersonOrganisationBindId,ref:"search_offender",attrs:{excludeStaff:!0,classNames:"form-control",showCreateUpdate:"",domIdHelper:"offender"},on:{"entity-selected":e.personSelected}})],1),e._v(" "),a("div",[a("input",{staticClass:"btn btn-primary",attrs:{type:"button",value:"Add to Offender List"},on:{click:function(t){return t.preventDefault(),e.addOffenderClicked()}}})])])])]),e._v(" "),a("div",{staticClass:"form-group"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("datatable",{ref:"offender_table",attrs:{id:"offender-table",dtOptions:e.dtOptionsOffender,dtHeaders:e.dtHeadersOffender}})],1)])])])],1),e._v(" "),a("div",{staticClass:"tab-pane face in",attrs:{id:e.locationTab}},[a("FormSection",{attrs:{formCollapse:!1,label:"Location",Index:"3"}},[e.offence.location?a("MapLocation",{key:e.locationTab,ref:"mapLocationComponent",attrs:{readonly:e.readonlyForm,marker_longitude:e.offence.location.geometry.coordinates[0],marker_latitude:e.offence.location.geometry.coordinates[1]},on:{"location-updated":e.locationUpdated}}):e._e(),e._v(" "),e.offence.location?a("div",{attrs:{id:e.idLocationFieldsAddress}},[a("div",{staticClass:"col-sm-12 form-group"},[a("div",{staticClass:"row"},[a("label",{staticClass:"col-sm-4"},[e._v("Street")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.offence.location.properties.street,expression:"offence.location.properties.street"}],staticClass:"form-control",attrs:{readonly:""},domProps:{value:e.offence.location.properties.street},on:{input:function(t){t.target.composing||e.$set(e.offence.location.properties,"street",t.target.value)}}})])]),e._v(" "),a("div",{staticClass:"col-sm-12 form-group"},[a("div",{staticClass:"row"},[a("label",{staticClass:"col-sm-4"},[e._v("Town/Suburb")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.offence.location.properties.town_suburb,expression:"offence.location.properties.town_suburb"}],staticClass:"form-control",attrs:{readonly:""},domProps:{value:e.offence.location.properties.town_suburb},on:{input:function(t){t.target.composing||e.$set(e.offence.location.properties,"town_suburb",t.target.value)}}})])]),e._v(" "),a("div",{staticClass:"col-sm-12 form-group"},[a("div",{staticClass:"row"},[a("label",{staticClass:"col-sm-4"},[e._v("State")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.offence.location.properties.state,expression:"offence.location.properties.state"}],staticClass:"form-control",attrs:{readonly:""},domProps:{value:e.offence.location.properties.state},on:{input:function(t){t.target.composing||e.$set(e.offence.location.properties,"state",t.target.value)}}})])]),e._v(" "),a("div",{staticClass:"col-sm-12 form-group"},[a("div",{staticClass:"row"},[a("label",{staticClass:"col-sm-4"},[e._v("Postcode")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.offence.location.properties.postcode,expression:"offence.location.properties.postcode"}],staticClass:"form-control",attrs:{readonly:""},domProps:{value:e.offence.location.properties.postcode},on:{input:function(t){t.target.composing||e.$set(e.offence.location.properties,"postcode",t.target.value)}}})])]),e._v(" "),a("div",{staticClass:"col-sm-12 form-group"},[a("div",{staticClass:"row"},[a("label",{staticClass:"col-sm-4"},[e._v("Country")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.offence.location.properties.country,expression:"offence.location.properties.country"}],staticClass:"form-control",attrs:{readonly:""},domProps:{value:e.offence.location.properties.country},on:{input:function(t){t.target.composing||e.$set(e.offence.location.properties,"country",t.target.value)}}})])])]):e._e(),e._v(" "),e.offence.location?a("div",{attrs:{id:e.idLocationFieldsDetails}},[a("div",{staticClass:"col-sm-12 form-group"},[a("div",{staticClass:"row"},[a("label",{staticClass:"col-sm-4"},[e._v("Details")]),e._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.offence.location.properties.details,expression:"offence.location.properties.details"}],staticClass:"form-control location_address_field",domProps:{value:e.offence.location.properties.details},on:{input:function(t){t.target.composing||e.$set(e.offence.location.properties,"details",t.target.value)}}})])])]):e._e()],1)],1),e._v(" "),a("div",{staticClass:"tab-pane face in",attrs:{id:e.relatedItemsTab}},[a("FormSection",{attrs:{formCollapse:!1,label:"Related Items",Index:"4"}},[a("div",{staticClass:"col-sm-12 form-group"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("RelatedItems",{key:e.relatedItemsBindId,attrs:{parent_update_related_items:e.setRelatedItems,readonlyForm:e.readonlyForm}})],1)])])])],1)])])])])]),e._v(" "),e.visibilitySaveButton?a("div",{staticClass:"navbar navbar-fixed-bottom",staticStyle:{"background-color":"#f5f5f5"}},[a("div",{staticClass:"navbar-inner"},[a("div",{staticClass:"container"},[a("p",{staticClass:"pull-right",staticStyle:{"margin-top":"5px"}},[a("input",{staticClass:"btn btn-primary",attrs:{type:"button",value:"Save and Exit"},on:{click:function(t){return t.preventDefault(),e.saveExit(t)}}}),e._v(" "),a("input",{staticClass:"btn btn-primary",attrs:{type:"button",value:"Save and Continue"},on:{click:function(t){return t.preventDefault(),e.save(t)}}})])])])]):e._e(),e._v(" "),e.workflow_type?a("div",[a("OffenceWorkflow",{key:e.workflowBindId,ref:"add_workflow",attrs:{workflow_type:e.workflow_type}})],1):e._e(),e._v(" "),e.sanctionOutcomeInitialised?a("div",[a("SanctionOutcome",{ref:"sanction_outcome",attrs:{parent_update_function:e.constructOffenceDedicatedPage}})],1):e._e()])},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12 top-buffer-s"},[a("strong",[e._v("Currently assigned to")]),a("br")])])}]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"col-md-12"},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.box_view,expression:"box_view"}],staticClass:"form-group"},[a("div",{staticClass:"row"},[a("label",{staticClass:"col-md-3",attrs:{id:e.id,for:"label"}},[e._v(e._s(e.label))]),e._v(" "),a("div",{staticClass:"col-md-9"},[a("textarea",{staticClass:"form-control",attrs:{readonly:e.readonly,type:e.type,name:e.name},domProps:{value:e.value}})])])])])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"panel-heading"},[a("h3",{staticClass:"panel-title"},[e._v("People "),e.is_external?a("small",[e._v("View people details")]):e._e(),e._v(" "),a("a",{attrs:{href:"#"+e.pBody,"data-toggle":"collapse","data-parent":"#peopleInfo",expanded:"true","aria-controls":e.pBody}},[a("span",{staticClass:"glyphicon glyphicon-chevron-up pull-right "})])])]),e._v(" "),a("div",{staticClass:"panel-body collapse in",attrs:{id:e.pBody}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-3"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:""}},[e._v("Character Flagged")]),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.filterCharacterFlagged,expression:"filterCharacterFlagged"}],staticClass:"form-control",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.filterCharacterFlagged=t.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"All"}},[e._v("All")]),e._v(" "),e._l(e.character_flagged_options,function(t){return a("option",{domProps:{value:t}},[e._v(e._s(t))])})],2)])]),e._v(" "),a("div",{staticClass:"col-md-3"},[a("label",{attrs:{for:""}},[e._v("Date of Birth")]),e._v(" "),a("div",{ref:"filterDateOfBirthPicker",staticClass:"input-group date"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.filterDateOfBirth,expression:"filterDateOfBirth"}],staticClass:"form-control",attrs:{type:"text",placeholder:"DD/MM/YYYY"},domProps:{value:e.filterDateOfBirth},on:{input:function(t){t.target.composing||(e.filterDateOfBirth=t.target.value)}}}),e._v(" "),e._m(0)])])]),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-12"},[a("datatable",{ref:"user_datatable",attrs:{id:e.datatable_id,dtOptions:e.user_options,dtHeaders:e.user_headers}})],1)])])])])])},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{staticClass:"input-group-addon"},[a("span",{staticClass:"glyphicon glyphicon-calendar"})])}]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"panel-heading"},[a("h3",{staticClass:"panel-title"},[e._v("Returns "),e.is_external?a("small",[e._v("View submitted returns and submit new ones")]):e._e(),e._v(" "),a("a",{attrs:{href:"#"+e.pBody,"data-toggle":"collapse","data-parent":"#userInfo",expanded:"true","aria-controls":e.pBody}},[a("span",{staticClass:"glyphicon glyphicon-chevron-up pull-right "})])])]),e._v(" "),a("div",{staticClass:"panel-body collapse in",attrs:{id:e.pBody}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-3"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:""}},[e._v("Status")]),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.filterReturnStatus,expression:"filterReturnStatus"}],staticClass:"form-control",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.filterReturnStatus=t.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"All"}},[e._v("All")]),e._v(" "),e._l(e.return_statusTitles,function(t){return a("option",{domProps:{value:t}},[e._v(e._s(t))])})],2)])])]),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-3"},[a("label",{attrs:{for:""}},[e._v("Due Date From")]),e._v(" "),a("div",{ref:"dueDateFromPicker",staticClass:"input-group date"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.filterDueDateFrom,expression:"filterDueDateFrom"}],staticClass:"form-control",attrs:{type:"text",placeholder:"DD/MM/YYYY"},domProps:{value:e.filterDueDateFrom},on:{input:function(t){t.target.composing||(e.filterDueDateFrom=t.target.value)}}}),e._v(" "),e._m(0)])]),e._v(" "),a("div",{staticClass:"col-md-3"},[a("label",{attrs:{for:""}},[e._v("Due Date To")]),e._v(" "),a("div",{ref:"dueDateToPicker",staticClass:"input-group date"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.filterDueDateTo,expression:"filterDueDateTo"}],staticClass:"form-control",attrs:{type:"text",placeholder:"DD/MM/YYYY"},domProps:{value:e.filterDueDateTo},on:{input:function(t){t.target.composing||(e.filterDueDateTo=t.target.value)}}}),e._v(" "),e._m(1)])])]),a("br"),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-12"},[a("datatable",{ref:"return_datatable",attrs:{id:e.datatable_id,dtOptions:e.table_options,dtHeaders:e.table_headers}})],1)])])])])])},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{staticClass:"input-group-addon"},[a("span",{staticClass:"glyphicon glyphicon-calendar"})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{staticClass:"input-group-addon"},[a("span",{staticClass:"glyphicon glyphicon-calendar"})])}]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"top-buffer bottom-buffer"},[a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"panel-body"},[a("label",{staticClass:"inline",attrs:{id:e.id}},[e._v(e._s(e.label))]),e._v(" "),e.help_text?[a("HelpText",{attrs:{help_text:e.help_text}})]:e._e(),e._v(" "),e.help_text_url?[a("HelpTextUrl",{attrs:{help_text_url:e.help_text_url}})]:e._e(),e._v(" "),a("a",{staticClass:"collapse-link-top pull-right",on:{click:function(t){return t.preventDefault(),e.expand(t)}}},[a("span",{staticClass:"glyphicon glyphicon-chevron-down"})]),e._v(" "),a("div",{staticClass:"children-anchor-point collapse in",staticStyle:{"padding-left":"0px"}}),e._v(" "),e.isPreviewMode?a("span",{class:{hidden:e.isRemovable}},[a("a",{attrs:{id:"remove_"+e.name}},[e._v("Remove "+e._s(e.label))])]):e._e(),e._v(" "),a("a",{staticClass:"collapse-link-bottom pull-right",on:{click:function(t){return t.preventDefault(),e.minimize(t)}}},[a("span",{staticClass:"glyphicon glyphicon-chevron-up"})]),e._v(" "),a("div",{class:{row:!0,collapse:!0,in:e.isExpanded},staticStyle:{"margin-top":"10px"}},[a("div",{staticClass:"col-sm-12"},[e._t("default")],2)])],2)])])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"CallWorkflow"}},[a("modal",{attrs:{transition:"modal fade",title:e.modalTitle,large:"",force:""},on:{ok:function(t){return e.ok()},cancel:function(t){return e.cancel()}}},[a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[e.regionVisibility?a("div",{staticClass:"form-group"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-3"},[a("label",[e._v("Region")])]),e._v(" "),a("div",{staticClass:"col-sm-9"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.region_id,expression:"region_id"}],staticClass:"form-control col-sm-9",on:{change:[function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.region_id=t.target.multiple?a:a[0]},function(t){return t.preventDefault(),e.updateDistricts()}]}},e._l(e.regions,function(t){return a("option",{key:t.id,domProps:{value:t.id}},[e._v("\n                                  "+e._s(t.display_name)+" \n                                ")])}),0)])])]):e._e(),e._v(" "),e.regionVisibility?a("div",{staticClass:"form-group"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-3"},[a("label",[e._v("District")])]),e._v(" "),a("div",{staticClass:"col-sm-9"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.district_id,expression:"district_id"}],staticClass:"form-control",on:{change:[function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.district_id=t.target.multiple?a:a[0]},function(t){return t.preventDefault(),e.updateAllocatedGroup()}]}},e._l(e.availableDistricts,function(t){return a("option",{key:t.id,domProps:{value:t.id}},[e._v("\n                                  "+e._s(t.display_name)+" \n                                ")])}),0)])])]):e._e(),e._v(" "),e.allocateToVisibility?a("div",{staticClass:"form-group"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-3"},[a("label",[e._v("Allocate to")])]),e._v(" "),a("div",{staticClass:"col-sm-9"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.assigned_to_id,expression:"assigned_to_id"}],staticClass:"form-control",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.assigned_to_id=t.target.multiple?a:a[0]}}},e._l(e.allocatedGroup,function(t){return a("option",{key:t.id,domProps:{value:t.id}},[e._v("\n                                  "+e._s(t.full_name)+" \n                                ")])}),0)])])]):e._e(),e._v(" "),"allocate_for_inspection"===e.workflow_type?a("div",{staticClass:"form-group"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-3"},[a("label",[e._v("Inspection Type")])]),e._v(" "),a("div",{staticClass:"col-sm-9"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.inspection_type_id,expression:"inspection_type_id"}],staticClass:"form-control",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.inspection_type_id=t.target.multiple?a:a[0]}}},e._l(e.inspectionTypes,function(t){return a("option",{key:t.id,domProps:{value:t.id}},[e._v("\n                                  "+e._s(t.description)+"\n                                ")])}),0)])])]):e._e(),e._v(" "),"allocate_for_case"===e.workflow_type?a("div",{staticClass:"form-group"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-3"},[a("label",[e._v("Priority")])]),e._v(" "),a("div",{staticClass:"col-sm-9"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.case_priority_id,expression:"case_priority_id"}],staticClass:"form-control",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.case_priority_id=t.target.multiple?a:a[0]}}},e._l(e.casePriorities,function(t){return a("option",{key:t.id,domProps:{value:t.id}},[e._v("\n                                  "+e._s(t.description)+" \n                                ")])}),0)])])]):e._e(),e._v(" "),"close"===e.workflow_type?a("div",{staticClass:"form-group"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-3"},[a("label",[e._v("Referred To")])]),e._v(" "),a("div",{staticClass:"col-sm-9"},[a("select",{ref:"referrerList",staticClass:"form-control input-sm",staticStyle:{width:"100%"},attrs:{multiple:""}},e._l(e.referrers,function(t){return a("option",{key:t.id,domProps:{value:t.id}},[e._v("\n                                        "+e._s(t.name)+" \n                                    ")])}),0)])])]):e._e(),e._v(" "),a("div",{staticClass:"form-group"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-3"},[a("label",{staticClass:"control-label pull-left",attrs:{for:"details"}},[e._v("Details")])]),e._v(" "),a("div",{staticClass:"col-sm-6"},["close"===e.workflow_type?a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.advice_details,expression:"advice_details"}],staticClass:"form-control",attrs:{placeholder:"add details",id:"details"},domProps:{value:e.advice_details},on:{input:function(t){t.target.composing||(e.advice_details=t.target.value)}}}):a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.workflowDetails,expression:"workflowDetails"}],staticClass:"form-control",attrs:{placeholder:"add details",id:"details"},domProps:{value:e.workflowDetails},on:{input:function(t){t.target.composing||(e.workflowDetails=t.target.value)}}})])])]),e._v(" "),a("div",{staticClass:"form-group"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-3"},[a("label",{staticClass:"control-label pull-left",attrs:{for:"Name"}},[e._v("Attachments")])]),e._v(" "),a("div",{staticClass:"col-sm-9"},[a("filefield",{ref:"comms_log_file",attrs:{name:"comms-log-file",isRepeatable:!0,documentActionUrl:e.call_email.commsLogsDocumentUrl}})],1)])])])])]),e._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[e.errorResponse?a("div",{staticClass:"form-group"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("strong",[a("span",{staticStyle:{"white-space":"pre"}},[e._v(e._s(e.errorResponse))])])])])]):e._e(),e._v(" "),a("button",{staticClass:"btn btn-default",attrs:{type:"button"},on:{click:e.ok}},[e._v("Ok")]),e._v(" "),a("button",{staticClass:"btn btn-default",attrs:{type:"button"},on:{click:e.cancel}},[e._v("Cancel")])])])],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("div",{staticClass:"panel panel-default"},[e._m(0),e._v(" "),a("div",{staticClass:"panel-body collapse in",attrs:{id:e.pBody}},[a("form",{staticClass:"form-horizontal",attrs:{name:"profile_form",method:"post"}},[a("div",[a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-3 control-label",attrs:{for:""}},[e._v("Profile Name")]),e._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.profile.name,expression:"profile.name"}],staticClass:"form-control",attrs:{type:"text",name:"name",placeholder:""},domProps:{value:e.profile.name},on:{input:function(t){t.target.composing||e.$set(e.profile,"name",t.target.value)}}})])]),e._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-3 control-label",attrs:{for:""}},[e._v("Email")]),e._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.profile.email,expression:"profile.email"}],staticClass:"form-control",attrs:{type:"email",name:"email",placeholder:""},domProps:{value:e.profile.email},on:{input:function(t){t.target.composing||e.$set(e.profile,"email",t.target.value)}}})])]),e._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-3 control-label",attrs:{for:""}},[e._v("Institution")]),e._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.profile.institution,expression:"profile.institution"}],staticClass:"form-control",attrs:{type:"text",name:"institution",placeholder:""},domProps:{value:e.profile.institution},on:{input:function(t){t.target.composing||e.$set(e.profile,"institution",t.target.value)}}})])])]),e._v(" "),a("div",[a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-3 control-label",attrs:{for:""}},[e._v("Line 1")]),e._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.profile.postal_address.line1,expression:"profile.postal_address.line1"}],staticClass:"form-control",attrs:{type:"text",name:"line1",placeholder:""},domProps:{value:e.profile.postal_address.line1},on:{input:function(t){t.target.composing||e.$set(e.profile.postal_address,"line1",t.target.value)}}})])]),e._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-3 control-label",attrs:{for:""}},[e._v("Line 2")]),e._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.profile.postal_address.line2,expression:"profile.postal_address.line2"}],staticClass:"form-control",attrs:{type:"text",name:"line2",placeholder:""},domProps:{value:e.profile.postal_address.line2},on:{input:function(t){t.target.composing||e.$set(e.profile.postal_address,"line2",t.target.value)}}})])]),e._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-3 control-label",attrs:{for:""}},[e._v("Line 3")]),e._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.profile.postal_address.line3,expression:"profile.postal_address.line3"}],staticClass:"form-control",attrs:{type:"text",name:"line3",placeholder:""},domProps:{value:e.profile.postal_address.line3},on:{input:function(t){t.target.composing||e.$set(e.profile.postal_address,"line3",t.target.value)}}})])]),e._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-3 control-label",attrs:{for:""}},[e._v("Suburb/Town (Locality)")]),e._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.profile.postal_address.locality,expression:"profile.postal_address.locality"}],staticClass:"form-control",attrs:{type:"text",name:"locality",placeholder:""},domProps:{value:e.profile.postal_address.locality},on:{input:function(t){t.target.composing||e.$set(e.profile.postal_address,"locality",t.target.value)}}})])]),e._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-3 control-label",attrs:{for:""}},[e._v("State")]),e._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.profile.postal_address.state,expression:"profile.postal_address.state"}],staticClass:"form-control",attrs:{type:"text",name:"state",placeholder:""},domProps:{value:e.profile.postal_address.state},on:{input:function(t){t.target.composing||e.$set(e.profile.postal_address,"state",t.target.value)}}})])]),e._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-3 control-label",attrs:{for:""}},[e._v("Country")]),e._v(" "),a("div",{staticClass:"col-sm-4"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.profile.postal_address.country,expression:"profile.postal_address.country"}],staticClass:"form-control",attrs:{name:"country",placeholder:""},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.profile.postal_address,"country",t.target.multiple?a:a[0])}}},e._l(e.countries,function(t){return a("option",{domProps:{value:t.alpha2Code}},[e._v(e._s(t.name))])}),0)])]),e._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-3 control-label",attrs:{for:""}},[e._v("Postcode")]),e._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.profile.postal_address.postcode,expression:"profile.postal_address.postcode"}],staticClass:"form-control",attrs:{type:"text",name:"postcode",placeholder:""},domProps:{value:e.profile.postal_address.postcode},on:{input:function(t){t.target.composing||e.$set(e.profile.postal_address,"postcode",t.target.value)}}})])])]),e._v(" "),a("div",{staticClass:"form-group"},[a("div",{staticClass:"col-sm-12"},[e.creatingProfile?a("button",{staticClass:"pull-right btn btn-primary",attrs:{disabled:""}},[a("i",{staticClass:"fa fa-spin fa-spinner"}),e._v("Creating")]):a("button",{staticClass:"pull-right btn btn-primary",on:{click:function(t){return t.preventDefault(),e.createProfile()}}},[e._v("Create")])])])])])])])])])},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"panel-heading"},[a("h3",{staticClass:"panel-title"},[e._v("Create Profile\n                ")])])}]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"row"},[a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"panel-heading"},[e._v("\n            Logs\n        ")]),e._v(" "),a("div",{staticClass:"panel-body panel-collapse"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("strong",[e._v("Communications")]),a("br"),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-5"},[a("a",{ref:"showCommsBtn",staticClass:"actionBtn"},[e._v("Show")])]),e._v(" "),e.disable_add_entry?e._e():[e._m(0),e._v(" "),a("div",{staticClass:"col-sm-5"},[a("a",{ref:"addCommsBtn",staticClass:"actionBtn pull-right",on:{click:function(t){return e.addComm()}}},[e._v("Add Entry")])])]],2)]),e._v(" "),a("div",{staticClass:"col-sm-12 top-buffer-s"},[a("strong",[e._v("Actions")]),a("br"),e._v(" "),a("a",{ref:"showActionBtn",staticClass:"actionBtn",attrs:{tabindex:"2"}},[e._v("Show")])])])])]),e._v(" "),a("AddCommLog",{ref:"add_comm",attrs:{url:e.comms_add_url}})],1)},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"col-sm-1"},[a("span",[e._v("|")])])}]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"panel-heading"},[a("h3",{staticClass:"panel-title"},[e._v("Applications "),e.is_external?a("small",[e._v("View existing applications and lodge new ones")]):e._e(),e._v(" "),a("a",{attrs:{href:"#"+e.pBody,"data-toggle":"collapse","data-parent":"#userInfo",expanded:"true","aria-controls":e.pBody}},[a("span",{staticClass:"glyphicon glyphicon-chevron-up pull-right "})])])]),e._v(" "),a("div",{staticClass:"panel-body collapse in",attrs:{id:e.pBody}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-3"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:""}},[e._v("Licence Category")]),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.filterApplicationLicenceType,expression:"filterApplicationLicenceType"}],staticClass:"form-control",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.filterApplicationLicenceType=t.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"All"}},[e._v("All")]),e._v(" "),e._l(e.application_licence_types,function(t){return a("option",{key:"licence_type_"+t,domProps:{value:t}},[e._v(e._s(t))])})],2)])]),e._v(" "),a("div",{staticClass:"col-md-3"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:""}},[e._v("Status")]),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.filterApplicationStatus,expression:"filterApplicationStatus"}],staticClass:"form-control",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.filterApplicationStatus=t.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"All"}},[e._v("All")]),e._v(" "),e._l(e.application_status,function(t){return a("option",{key:"status_"+t.id,domProps:{value:t}},[e._v(e._s(t.name))])})],2)])]),e._v(" "),e.is_external?a("div",{staticClass:"col-md-3"},[a("router-link",{staticClass:"btn btn-primary pull-right",staticStyle:{"margin-top":"25px"},attrs:{to:{name:"apply_application_organisation"}}},[e._v("New Application")])],1):e._e()]),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-3"},[a("label",{attrs:{for:""}},[e._v("Lodged From")]),e._v(" "),a("div",{ref:"applicationDateFromPicker",staticClass:"input-group date"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.filterApplicationLodgedFrom,expression:"filterApplicationLodgedFrom"}],staticClass:"form-control",attrs:{type:"text",placeholder:"DD/MM/YYYY"},domProps:{value:e.filterApplicationLodgedFrom},on:{input:function(t){t.target.composing||(e.filterApplicationLodgedFrom=t.target.value)}}}),e._v(" "),e._m(0)])]),e._v(" "),a("div",{staticClass:"col-md-3"},[a("label",{attrs:{for:""}},[e._v("Lodged To")]),e._v(" "),a("div",{ref:"applicationDateToPicker",staticClass:"input-group date"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.filterApplicationLodgedTo,expression:"filterApplicationLodgedTo"}],staticClass:"form-control",attrs:{type:"text",placeholder:"DD/MM/YYYY"},domProps:{value:e.filterApplicationLodgedTo},on:{input:function(t){t.target.composing||(e.filterApplicationLodgedTo=t.target.value)}}}),e._v(" "),e._m(1)])]),e._v(" "),a("div",{staticClass:"col-md-3"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:""}},[e._v("Submitter")]),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.filterApplicationSubmitter,expression:"filterApplicationSubmitter"}],ref:"submitter_select",staticClass:"form-control",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.filterApplicationSubmitter=t.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"All"}},[e._v("All")]),e._v(" "),e._l(e.application_submitters,function(t){return a("option",{key:"submitter_"+t.email,domProps:{value:t.email}},[e._v(e._s(t.search_term))])})],2)])])]),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-12"},["external"==e.level?a("datatable",{ref:"external_application_datatable",attrs:{id:e.datatable_id,dtOptions:e.application_ex_options,dtHeaders:e.application_ex_headers}}):a("datatable",{ref:"application_datatable",attrs:{id:e.datatable_id,dtOptions:e.application_options,dtHeaders:e.application_headers}})],1)])])])])])},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{staticClass:"input-group-addon"},[a("span",{staticClass:"glyphicon glyphicon-calendar"})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{staticClass:"input-group-addon"},[a("span",{staticClass:"glyphicon glyphicon-calendar"})])}]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container",attrs:{id:"internalCallEmailDash"}},[a("FormSection",{attrs:{label:"Call/Emails",Index:"0"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-3"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:""}},[e._v("Call/Email Status")]),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.filterStatus,expression:"filterStatus"}],staticClass:"form-control",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.filterStatus=t.target.multiple?a:a[0]}}},e._l(e.status_choices,function(t){return a("option",{key:t.id,domProps:{value:t.display}},[e._v("\n                        "+e._s(t.display)+"\n                    ")])}),0)])]),e._v(" "),a("div",{staticClass:"col-md-3"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:""}},[e._v("Call/Email Classification")]),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.filterClassification,expression:"filterClassification"}],staticClass:"form-control",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.filterClassification=t.target.multiple?a:a[0]}}},e._l(e.classification_types,function(t){return a("option",{key:t.id,domProps:{value:t.name}},[e._v("\n                        "+e._s(t.name)+" \n                    ")])}),0)])])]),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-3"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:""}},[e._v("Lodged From")]),e._v(" "),a("div",{ref:"lodgementDateFromPicker",staticClass:"input-group date"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.filterLodgedFrom,expression:"filterLodgedFrom"}],staticClass:"form-control",attrs:{type:"text",placeholder:"DD/MM/YYYY"},domProps:{value:e.filterLodgedFrom},on:{input:function(t){t.target.composing||(e.filterLodgedFrom=t.target.value)}}}),e._v(" "),a("span",{staticClass:"input-group-addon"},[a("span",{staticClass:"glyphicon glyphicon-calendar"})])])])]),e._v(" "),a("div",{staticClass:"col-md-3"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:""}},[e._v("Lodged To")]),e._v(" "),a("div",{ref:"lodgementDateToPicker",staticClass:"input-group date"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.filterLodgedTo,expression:"filterLodgedTo"}],staticClass:"form-control",attrs:{type:"text",placeholder:"DD/MM/YYYY"},domProps:{value:e.filterLodgedTo},on:{input:function(t){t.target.composing||(e.filterLodgedTo=t.target.value)}}}),e._v(" "),a("span",{staticClass:"input-group-addon"},[a("span",{staticClass:"glyphicon glyphicon-calendar"})])])])]),e._v(" "),e.current_user&&e.current_user.is_volunteer?a("div",{staticClass:"col-md-3 pull-right"},[a("button",{staticClass:"btn btn-primary pull-right",on:{click:function(t){return t.preventDefault(),e.createCallEmailUrl(t)}}},[e._v("New Call/Email")])]):e._e()]),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-12"},[a("datatable",{ref:"call_email_table",attrs:{id:"call-email-table",dtOptions:e.dtOptions,dtHeaders:e.dtHeaders}})],1)])]),e._v(" "),a("FormSection",{attrs:{label:"Location",Index:"1"}},[a("MapLocations")],1)],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("form",{attrs:{method:"POST",name:"internal_returns_form",enctype:"multipart/form-data"}},[a("div",{staticClass:"container",attrs:{id:"internalReturn"}},[e.isReturnsLoaded?a("Returns",[a("div",{staticClass:"col-md-3"}),e._v(" "),a("div",{staticClass:"col-md-9"},[[a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"panel-heading"},[a("h3",{staticClass:"panel-title"},[e._v("Condition Details\n                    "),a("a",{staticClass:"panelClicker",attrs:{href:"#"+e.pdBody,"data-toggle":"collapse","data-parent":"#userInfo",expanded:"true","aria-controls":e.pdBody}},[a("span",{staticClass:"glyphicon glyphicon-chevron-up pull-right "})])])]),e._v(" "),a("div",{staticClass:"panel-body panel-collapse in",attrs:{id:e.pdBody}},[a("div",{staticClass:"col-sm-12"},[a("form",{staticClass:"form-horizontal",attrs:{name:"return_form"}},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-3 control-label",attrs:{for:""}},[e._v("Condition")]),e._v(" "),a("div",{staticClass:"col-sm-6"},[e._v("\n                                "+e._s(e.returns.condition)+"\n                            ")])]),e._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-3 control-label",attrs:{for:""}},[e._v("Details")]),e._v(" "),a("div",{staticClass:"col-sm-6"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.returns.text,expression:"returns.text"}],staticClass:"form-control",attrs:{disabled:"",name:"details",placeholder:""},domProps:{value:e.returns.text},on:{input:function(t){t.target.composing||e.$set(e.returns,"text",t.target.value)}}})])]),e._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-3 control-label",attrs:{for:""}},[e._v("Documents")]),e._v(" "),a("div",{staticClass:"col-sm-6"},e._l(e.returns.documents,function(t){return a("div",{staticClass:"row"},[a("a",{staticClass:"control-label pull-left",attrs:{href:t[1],target:"_blank"}},[e._v(e._s(t[0]))])])}),0)])])])])])],e._v(" "),a("div",{staticClass:"row",staticStyle:{"margin-bottom":"50px"}},[a("div",{staticClass:"navbar navbar-fixed-bottom",staticStyle:{"background-color":"#f5f5f5"}},[a("div",{staticClass:"navbar-inner"},[a("div",{staticClass:"container"},[a("p",{staticClass:"pull-right",staticStyle:{"margin-top":"5px"}},[e._e()])])])])]),e._v(" "),"sheet"===e.returns.format?a("ReturnSheet"):e._e(),e._v(" "),"question"===e.returns.format?a("ReturnQuestion"):e._e(),e._v(" "),"data"===e.returns.format?a("ReturnData"):e._e()],2)]):e._e()],1)])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"panel-heading"},[a("h3",{staticClass:"panel-title"},[e._v("Apply on behalf of\n                        "),e.org?a("span",[e._v(e._s(e.org))]):a("span",[e._v("yourself")]),e._v(" "),a("a",{attrs:{href:"#"+e.pBody,"data-toggle":"collapse","data-parent":"#userInfo",expanded:"true","aria-controls":e.pBody}},[a("span",{staticClass:"glyphicon glyphicon-chevron-up pull-right "})])])]),e._v(" "),a("div",{staticClass:"panel-body collapse in",attrs:{id:e.pBody}},[a("form",{staticClass:"form-horizontal",attrs:{name:"personal_form",method:"post"}},[a("div",{staticClass:"col-sm-12"},[e._m(0),e._v(" "),a("div",{staticClass:"radio"},[a("label",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.org_applicant,expression:"org_applicant"}],attrs:{type:"radio",name:"behalf_of_org",value:""},domProps:{checked:e._q(e.org_applicant,"")},on:{change:function(t){e.org_applicant=""}}}),e._v(" On behalf of yourself\n                                    ")])]),e._v(" "),e._l(e.current_user.wildlifecompliance_organisations,function(t){return a("div",{staticClass:"radio"},[t.is_consultant?e._e():a("label",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.org_applicant,expression:"org_applicant"}],attrs:{type:"radio",name:"behalf_of_org"},domProps:{value:t.id,checked:e._q(e.org_applicant,t.id)},on:{change:function(a){e.org_applicant=t.id}}}),e._v(" On behalf of "+e._s(t.name)+"\n                                    ")]),e._v(" "),t.is_consultant?a("label",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.org_applicant,expression:"org_applicant"}],attrs:{type:"radio",name:"behalf_of_org"},domProps:{value:t.id,checked:e._q(e.org_applicant,t.id)},on:{change:function(a){e.org_applicant=t.id}}}),e._v(" On behalf of "+e._s(t.name)+" (as a Consultant)\n                                    ")]):e._e()])})],2),e._v(" "),a("div",{staticClass:"col-sm-12"},[a("button",{staticClass:"btn btn-primary pull-right",attrs:{disabled:null===e.org_applicant},on:{click:function(t){return t.preventDefault(),e.submit()}}},[e._v("Continue")])])])])])])])])},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("p",[a("strong",[e._v("Note: If you are applying for a Taking licence, it cannot be applied for on behalf of an organisation.")])])}]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.help_text_url?a("span",[a("a",{attrs:{href:e.help_text_url,target:"_blank"}},[a("i",{staticClass:"fa fa-question-circle",staticStyle:{color:"green"}},[e._v("")])])]):e._e()},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container-fluid",attrs:{id:"internalUserInfo"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-10 col-md-offset-1"},[a("div",{staticClass:"row"},[a("h3",[e._v(e._s(e.user.first_name)+" "+e._s(e.user.last_name)+" - "+e._s(e.user.dob)+" ("+e._s(e.user.email)+")")]),e._v(" "),a("div",{staticClass:"col-md-3"},[a("CommsLogs",{attrs:{comms_url:e.comms_url,logs_url:e.logs_url,comms_add_url:"test"}})],1),e._v(" "),a("div",{staticClass:"col-md-9"},[a("ul",{staticClass:"nav nav-tabs"},[a("li",{staticClass:"active"},[a("a",{attrs:{"data-toggle":"tab",href:"#"+e.dTab}},[e._v("Details")])]),e._v(" "),a("li",[a("a",{attrs:{"data-toggle":"tab",href:"#"+e.oTab}},[e._v("Licensing")])])]),e._v(" "),a("div",{staticClass:"tab-content"},[a("div",{staticClass:"tab-pane fade in active",attrs:{id:e.dTab}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"panel-heading"},[a("h3",{staticClass:"panel-title"},[e._v("Personal Details\n                                    "),a("a",{staticClass:"panelClicker",attrs:{href:"#"+e.pdBody,"data-toggle":"collapse","data-parent":"#userInfo",expanded:"true","aria-controls":e.pdBody}},[a("span",{staticClass:"glyphicon glyphicon-chevron-up pull-right "})])])]),e._v(" "),a("div",{staticClass:"panel-body collapse in",attrs:{id:e.pdBody}},[a("form",{staticClass:"form-horizontal",attrs:{name:"personal_form",method:"post"}},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-3 control-label",attrs:{for:""}},[e._v("Given Name(s)")]),e._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.user.first_name,expression:"user.first_name"}],staticClass:"form-control",attrs:{type:"text",name:"first_name",placeholder:""},domProps:{value:e.user.first_name},on:{input:function(t){t.target.composing||e.$set(e.user,"first_name",t.target.value)}}})])]),e._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-3 control-label",attrs:{for:""}},[e._v("Last Name")]),e._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.user.last_name,expression:"user.last_name"}],staticClass:"form-control",attrs:{type:"text",name:"last_name",placeholder:""},domProps:{value:e.user.last_name},on:{input:function(t){t.target.composing||e.$set(e.user,"last_name",t.target.value)}}})])]),e._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-3 control-label",attrs:{for:""}},[e._v("Date of Birth")]),e._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.user.dob,expression:"user.dob"}],staticClass:"form-control",attrs:{type:"date",name:"dob",placeholder:""},domProps:{value:e.user.dob},on:{input:function(t){t.target.composing||e.$set(e.user,"dob",t.target.value)}}})])]),e._v(" "),a("div",{staticClass:"form-group"},[a("div",{staticClass:"col-sm-12"},[e.updatingPersonal?a("button",{staticClass:"pull-right btn btn-primary",attrs:{disabled:""}},[a("i",{staticClass:"fa fa-spin fa-spinner"}),e._v("Updating")]):a("button",{staticClass:"pull-right btn btn-primary",on:{click:function(t){return t.preventDefault(),e.updatePersonal()}}},[e._v("Update")])])])])])])])]),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"panel-heading"},[a("h3",{staticClass:"panel-title"},[e._v("Identification\n                                    "),a("a",{staticClass:"panelClicker",attrs:{href:"#"+e.idBody,"data-toggle":"collapse","data-parent":"#userInfo",expanded:"false","aria-controls":e.idBody}},[a("span",{staticClass:"glyphicon glyphicon-chevron-up pull-right "})])])]),e._v(" "),a("div",{staticClass:"panel-body collapse in",attrs:{id:e.idBody}},[a("form",{staticClass:"form-horizontal",attrs:{name:"id_form",method:"post"}},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-3 control-label",attrs:{for:""}},[e._v("Identification")]),e._v(" "),a("div",{staticClass:"col-sm-6"},[e.user.identification?a("img",{attrs:{width:"100%",name:"identification",src:e.user.identification.file}}):e._e()])]),e._v(" "),a("div",{staticClass:"form-group"},[a("div",{staticClass:"col-sm-12"},[e.uploadingID?a("button",{staticClass:"pull-right btn btn-primary",attrs:{disabled:""}},[a("i",{staticClass:"fa fa-spin fa-spinner"}),e._v("Uploading")]):a("button",{staticClass:"pull-right btn btn-primary",on:{click:function(t){return t.preventDefault(),e.uploadID()}}},[e._v("Upload")]),e._v(" "),a("span",{staticClass:"pull-right",staticStyle:{"margin-left":"10px","margin-top":"10px","margin-right":"10px"}},[e._v(e._s(e.uploadedIDFileName))]),e._v(" "),a("span",{staticClass:"btn btn-primary btn-file pull-right"},[e._v("\n                                                Select ID to Upload"),a("input",{ref:"uploadedID",attrs:{type:"file"},on:{change:function(t){return e.readFileID()}}})])])])])])])])]),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"panel-heading"},[a("h3",{staticClass:"panel-title"},[e._v("Address Details\n                                    "),a("a",{staticClass:"panelClicker",attrs:{href:"#"+e.adBody,"data-toggle":"collapse",expanded:"false","data-parent":"#userInfo","aria-controls":e.adBody}},[a("span",{staticClass:"glyphicon glyphicon-chevron-up pull-right "})])])]),e._v(" "),0==e.loading.length?a("div",{staticClass:"panel-body collapse in",attrs:{id:e.adBody}},[a("form",{staticClass:"form-horizontal",attrs:{action:"index.html",method:"post"}},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-3 control-label",attrs:{for:""}},[e._v("Street")]),e._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.user.residential_address.line1,expression:"user.residential_address.line1"}],staticClass:"form-control",attrs:{type:"text",name:"street",placeholder:""},domProps:{value:e.user.residential_address.line1},on:{input:function(t){t.target.composing||e.$set(e.user.residential_address,"line1",t.target.value)}}})])]),e._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-3 control-label",attrs:{for:""}},[e._v("Town/Suburb")]),e._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.user.residential_address.locality,expression:"user.residential_address.locality"}],staticClass:"form-control",attrs:{type:"text",name:"surburb",placeholder:""},domProps:{value:e.user.residential_address.locality},on:{input:function(t){t.target.composing||e.$set(e.user.residential_address,"locality",t.target.value)}}})])]),e._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-3 control-label",attrs:{for:""}},[e._v("State")]),e._v(" "),a("div",{staticClass:"col-sm-2"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.user.residential_address.state,expression:"user.residential_address.state"}],staticClass:"form-control",attrs:{type:"text",name:"country",placeholder:""},domProps:{value:e.user.residential_address.state},on:{input:function(t){t.target.composing||e.$set(e.user.residential_address,"state",t.target.value)}}})]),e._v(" "),a("label",{staticClass:"col-sm-2 control-label",attrs:{for:""}},[e._v("Postcode")]),e._v(" "),a("div",{staticClass:"col-sm-2"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.user.residential_address.postcode,expression:"user.residential_address.postcode"}],staticClass:"form-control",attrs:{type:"text",name:"postcode",placeholder:""},domProps:{value:e.user.residential_address.postcode},on:{input:function(t){t.target.composing||e.$set(e.user.residential_address,"postcode",t.target.value)}}})])]),e._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-3 control-label",attrs:{for:""}},[e._v("Country")]),e._v(" "),a("div",{staticClass:"col-sm-4"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.user.residential_address.country,expression:"user.residential_address.country"}],staticClass:"form-control",attrs:{name:"country"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.user.residential_address,"country",t.target.multiple?a:a[0])}}},e._l(e.countries,function(t){return a("option",{domProps:{value:t.alpha2Code}},[e._v(e._s(t.name))])}),0)])]),e._v(" "),a("div",{staticClass:"form-group"},[a("div",{staticClass:"col-sm-12"},[e.updatingAddress?a("button",{staticClass:"pull-right btn btn-primary",attrs:{disabled:""}},[a("i",{staticClass:"fa fa-spin fa-spinner"}),e._v("Updating")]):a("button",{staticClass:"pull-right btn btn-primary",on:{click:function(t){return t.preventDefault(),e.updateAddress()}}},[e._v("Update")])])])])]):e._e()])])]),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"panel-heading"},[a("h3",{staticClass:"panel-title"},[e._v("Contact Details "),a("small"),e._v(" "),a("a",{staticClass:"panelClicker",attrs:{href:"#"+e.cdBody,"data-toggle":"collapse","data-parent":"#userInfo",expanded:"false","aria-controls":e.cdBody}},[a("span",{staticClass:"glyphicon glyphicon-chevron-up pull-right "})])])]),e._v(" "),a("div",{staticClass:"panel-body collapse in",attrs:{id:e.cdBody}},[a("form",{staticClass:"form-horizontal",attrs:{action:"index.html",method:"post"}},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-3 control-label",attrs:{for:""}},[e._v("Phone (work)")]),e._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.user.phone_number,expression:"user.phone_number"}],staticClass:"form-control",attrs:{type:"text",name:"phone",placeholder:""},domProps:{value:e.user.phone_number},on:{input:function(t){t.target.composing||e.$set(e.user,"phone_number",t.target.value)}}})])]),e._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-3 control-label",attrs:{for:""}},[e._v("Mobile")]),e._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.user.mobile_number,expression:"user.mobile_number"}],staticClass:"form-control",attrs:{type:"text",name:"mobile",placeholder:""},domProps:{value:e.user.mobile_number},on:{input:function(t){t.target.composing||e.$set(e.user,"mobile_number",t.target.value)}}})])]),e._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-3 control-label",attrs:{for:""}},[e._v("Email")]),e._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.user.email,expression:"user.email"}],staticClass:"form-control",attrs:{type:"email",disabled:"disabled",name:"email",placeholder:""},domProps:{value:e.user.email},on:{input:function(t){t.target.composing||e.$set(e.user,"email",t.target.value)}}})])]),e._v(" "),a("div",{staticClass:"form-group"},[a("div",{staticClass:"col-sm-12"},[e.updatingContact?a("button",{staticClass:"pull-right btn btn-primary",attrs:{disabled:""}},[a("i",{staticClass:"fa fa-spin fa-spinner"}),e._v("Updating")]):a("button",{staticClass:"pull-right btn btn-primary",on:{click:function(t){return t.preventDefault(),e.updateContact()}}},[e._v("Update")])])])])])])])]),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"panel-heading"},[a("h3",{staticClass:"panel-title"},[e._v("Organisations "),a("small"),e._v(" "),a("a",{staticClass:"panelClicker",attrs:{href:"#"+e.odBody,"data-toggle":"collapse","data-parent":"#userInfo",expanded:"false","aria-controls":e.odBody}},[a("span",{staticClass:"glyphicon glyphicon-chevron-up pull-right "})])])]),e._v(" "),a("div",{staticClass:"panel-body collapse in",attrs:{id:e.odBody}},[e._l(e.user.wildlifecompliance_organisations,function(t){return a("div",[a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-2 control-label",attrs:{for:""}},[e._v("Organisation")]),e._v(" "),a("div",{staticClass:"col-sm-3"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"org.name"}],staticClass:"form-control",attrs:{type:"text",disabled:"",name:"organisation",placeholder:""},domProps:{value:t.name},on:{input:function(a){a.target.composing||e.$set(t,"name",a.target.value)}}})]),e._v(" "),a("label",{staticClass:"col-sm-2 control-label",attrs:{for:""}},[e._v("ABN/ACN")]),e._v(" "),a("div",{staticClass:"col-sm-3"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.abn,expression:"org.abn"}],staticClass:"form-control",attrs:{type:"text",disabled:"",name:"organisation",placeholder:""},domProps:{value:t.abn},on:{input:function(a){a.target.composing||e.$set(t,"abn",a.target.value)}}})]),e._v(" "),a("a",{staticStyle:{cursor:"pointer","text-decoration":"none"},on:{click:function(a){return a.preventDefault(),e.unlinkUser(t)}}},[a("i",{staticClass:"fa fa-chain-broken fa-2x"}),e._v("Unlink")])])])}),e._v(" "),e._l(e.orgRequest_pending,function(t){return a("div",[a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-2 control-label",attrs:{for:""}},[e._v("Organisation")]),e._v(" "),a("div",{staticClass:"col-sm-3"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"orgReq.name"}],staticClass:"form-control",attrs:{type:"text",disabled:"",name:"organisation",placeholder:""},domProps:{value:t.name},on:{input:function(a){a.target.composing||e.$set(t,"name",a.target.value)}}})]),e._v(" "),a("label",{staticClass:"col-sm-2 control-label",attrs:{for:""}},[e._v("ABN/ACN")]),e._v(" "),a("div",{staticClass:"col-sm-3"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.abn,expression:"orgReq.abn"}],staticClass:"form-control",attrs:{type:"text",disabled:"",name:"organisation",placeholder:""},domProps:{value:t.abn},on:{input:function(a){a.target.composing||e.$set(t,"abn",a.target.value)}}})]),e._v(" "),a("label",[e._v("Pending for Approval (#"+e._s(t.id)+")")])])])})],2)])])])]),e._v(" "),a("div",{staticClass:"tab-pane fade",attrs:{id:e.oTab}},[a("ApplicationDashTable",{ref:"applications_table",attrs:{level:"internal",url:e.applications_url}}),e._v(" "),a("LicenceDashTable",{ref:"licences_table",attrs:{level:"internal",url:e.licences_url}}),e._v(" "),a("ReturnDashTable",{ref:"returns_table",attrs:{level:"internal",url:e.returns_url}})],1)])])])])])])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container",attrs:{id:"internalOrgAccess"}},[a("div",{staticClass:"row"},[a("h3",[e._v("Organisation Access Request "+e._s(e.access.id))]),e._v(" "),a("div",{staticClass:"col-md-3"},[a("CommsLogs",{attrs:{comms_url:e.comms_url,logs_url:e.logs_url,comms_add_url:"test"}}),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"panel-heading"},[e._v("\n                       Submission \n                    ")]),e._v(" "),a("div",{staticClass:"panel-body panel-collapse"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("strong",[e._v("Submitted by")]),a("br"),e._v("\n                                "+e._s(e.access.requester.full_name)+"\n                            ")]),e._v(" "),a("div",{staticClass:"col-sm-12 top-buffer-s"},[a("strong",[e._v("Lodged on")]),a("br"),e._v("\n                                "+e._s(e._f("formatDate")(e.access.lodgement_date))+"\n                            ")]),e._v(" "),e._m(0)])])])]),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"panel-heading"},[e._v("\n                        Workflow \n                    ")]),e._v(" "),a("div",{staticClass:"panel-body panel-collapse"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("strong",[e._v("Status")]),a("br"),e._v("\n                                "+e._s(e.access.status.name)+"\n                            ")]),e._v(" "),a("div",{staticClass:"col-sm-12 top-buffer-s"},[a("strong",[e._v("Assigned Officer")]),a("br"),e._v(" "),a("div",{staticClass:"form-group"},[[a("select",{directives:[{name:"model",rawName:"v-model",value:e.access.assigned_officer,expression:"access.assigned_officer"}],ref:"assigned_officer",staticClass:"form-control",attrs:{disabled:!e.officerCanProcess},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.access,"assigned_officer",t.target.multiple?a:a[0])}}},e._l(e.organisation_access_group_members,function(t){return a("option",{key:t.id,domProps:{value:t.id}},[e._v(e._s(t.name))])}),0),e._v(" "),e.officerCanProcess?a("a",{staticClass:"actionBtn pull-right",on:{click:function(t){return t.preventDefault(),e.assignToMe()}}},[e._v("Assign to me")]):e._e()]],2)]),e._v(" "),e.officerCanProcess?a("div",{staticClass:"col-sm-12 top-buffer-s"},[a("strong",[e._v("Action")]),a("br"),e._v(" "),e.isAmendmentRequested?e._e():a("button",{staticClass:"btn btn-primary",on:{click:function(t){return t.preventDefault(),e.acceptRequest()}}},[e._v("Accept")]),e._v(" "),e.isAmendmentRequested?a("button",{staticClass:"btn btn-primary",attrs:{disabled:""}},[e._v("Accept")]):e._e(),a("br"),e._v(" "),e.isAmendmentRequested?e._e():a("button",{staticClass:"btn btn-primary top-buffer-s",on:{click:function(t){return t.preventDefault(),e.amendmentRequest()}}},[e._v("Request Amendment")]),e._v(" "),e.isAmendmentRequested?a("button",{staticClass:"btn btn-primary top-buffer-s",attrs:{disabled:""}},[e._v("Amendment Requested")]):e._e(),a("br"),e._v(" "),a("button",{staticClass:"btn btn-primary top-buffer-s",on:{click:function(t){return t.preventDefault(),e.declineRequest()}}},[e._v("Decline")])]):e._e()])])])])],1),e._v(" "),a("div",{staticClass:"col-md-1"}),e._v(" "),a("div",{staticClass:"col-md-8"},[a("div",{staticClass:"row"},[a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"panel-heading"},[a("h3",[e._v("Organisation Access Request "+e._s(e.requestType))])]),e._v(" "),a("div",{staticClass:"panel-body panel-collapse"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("form",{staticClass:"form-horizontal",attrs:{name:"access_form"}},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-3 control-label",attrs:{for:""}},[e._v("Organisation")]),e._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.access.name,expression:"access.name"}],staticClass:"form-control",attrs:{type:"text",disabled:"",name:"name",placeholder:""},domProps:{value:e.access.name},on:{input:function(t){t.target.composing||e.$set(e.access,"name",t.target.value)}}})])]),e._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-3 control-label",attrs:{for:""}},[e._v("ABN")]),e._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.access.abn,expression:"access.abn"}],staticClass:"form-control",attrs:{type:"text",disabled:"",name:"abn",placeholder:""},domProps:{value:e.access.abn},on:{input:function(t){t.target.composing||e.$set(e.access,"abn",t.target.value)}}})])]),e._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-3 control-label",attrs:{for:""}},[e._v("Letter")]),e._v(" "),a("div",{staticClass:"col-sm-6"},[a("a",{attrs:{target:"_blank",href:e.access.identification}},[a("i",{staticClass:"fa fa-file-pdf-o"}),e._v("Organisation Proof Document")])])]),e._v(" "),a("div",{staticClass:"form-group",staticStyle:{"margin-top":"50px"}},[a("label",{staticClass:"col-sm-3 control-label",attrs:{for:""}},[e._v("Phone")]),e._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.access.requester.phone_number,expression:"access.requester.phone_number"}],staticClass:"form-control",attrs:{type:"text",disabled:"",name:"phone",placeholder:""},domProps:{value:e.access.requester.phone_number},on:{input:function(t){t.target.composing||e.$set(e.access.requester,"phone_number",t.target.value)}}})])]),e._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-3 control-label",attrs:{for:""}},[e._v("Mobile")]),e._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.access.requester.mobile_number,expression:"access.requester.mobile_number"}],staticClass:"form-control",attrs:{type:"text",disabled:"",name:"mobile",placeholder:""},domProps:{value:e.access.requester.mobile_number},on:{input:function(t){t.target.composing||e.$set(e.access.requester,"mobile_number",t.target.value)}}})])]),e._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-3 control-label",attrs:{for:""}},[e._v("Email")]),e._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.access.requester.email,expression:"access.requester.email"}],staticClass:"form-control",attrs:{type:"text",disabled:"",name:"email",placeholder:""},domProps:{value:e.access.requester.email},on:{input:function(t){t.target.composing||e.$set(e.access.requester,"email",t.target.value)}}})])])])])])])])])])])])},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"col-sm-12 top-buffer-s"},[a("table",{staticClass:"table small-table"},[a("tr",[a("th",[e._v("Lodgment")]),e._v(" "),a("th",[e._v("Date")]),e._v(" "),a("th",[e._v("Action")])])])])}]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"col-sm-12 form-group"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("datatable",{ref:"related_items_table",attrs:{parentStyle:" ",id:"related-items-table",dtOptions:e.dtOptionsRelatedItems,dtHeaders:e.dtHeadersRelatedItems}})],1)])]),e._v(" "),a("div",{staticClass:"col-sm-12 form-group"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("WeakLinks",{ref:"weak_links_lookup",attrs:{readonlyForm:e.readonlyForm,displayedEntityType:e.displayedEntityType,displayedEntityId:e.displayedEntityId}})],1)])])])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container",attrs:{id:"internalDash"}},[a("ReturnDashTable",{attrs:{level:"internal",url:e.returns_url}})],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"panel-heading"},[a("h3",{staticClass:"panel-title"},[e._v(e._s(e.label)+"\n        "),a("a",{staticClass:"panelClicker",attrs:{href:"#"+e.section_id,"data-toggle":"collapse",expanded:"true","aria-controls":e.section_id}},[a("span",{staticClass:"glyphicon glyphicon-chevron-down pull-right "})])])]),e._v(" "),a("div",{staticClass:"panel-body collapse in",attrs:{id:e.section_id}},[e._t("default")],2)])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-3"},[a("h3",[e._v("Sanction Outcome: "+e._s(e.displayLodgementNumber))])])]),e._v(" "),a("div",[a("div",{staticClass:"col-md-3"},[a("CommsLogs",{attrs:{comms_url:e.comms_url,logs_url:e.logs_url,comms_add_url:e.comms_add_url,disable_add_entry:!1}}),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"panel-heading"},[e._v("\n                            Workflow \n                        ")]),e._v(" "),a("div",{staticClass:"panel-body panel-collapse"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("strong",[e._v("Status")]),a("br"),e._v("\n                                    "+e._s(e.statusDisplay)),a("br")])]),e._v(" "),e.sanction_outcome.allocated_group?a("div",{staticClass:"form-group"},[e._m(0),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.sanction_outcome.assigned_to_id,expression:"sanction_outcome.assigned_to_id"}],staticClass:"form-control",attrs:{disabled:!e.sanction_outcome.user_in_group},on:{change:[function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.sanction_outcome,"assigned_to_id",t.target.multiple?a:a[0])},function(t){return e.updateAssignedToId()}]}},e._l(e.sanction_outcome.allocated_group,function(t){return a("option",{key:t.id,domProps:{value:t.id}},[e._v("\n                                        "+e._s(t.full_name)+" \n                                        ")])}),0)])])]):e._e(),e._v(" "),e.sanction_outcome.user_in_group?a("div",[a("a",{staticClass:"btn pull-right",on:{click:function(t){return e.updateAssignedToId("current_user")}}},[e._v("\n                                    Assign to me\n                                ")])]):e._e()])])]),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"panel-heading"},[e._v("\n                            Action \n                        ")]),e._v(" "),a("div",{staticClass:"panel-body panel-collapse"},[e.visibilityWithdrawButtonForInc?a("div",{staticClass:"row action-button"},[a("div",{staticClass:"col-sm-12"},[a("a",{staticClass:"btn btn-primary btn-block",on:{click:function(t){return e.addWorkflow("withdraw_by_inc")}}},[e._v("\n                                        Withdraw\n                                    ")])])]):e._e(),e._v(" "),e.visibilityWithdrawButtonForManager?a("div",{staticClass:"row action-button"},[a("div",{staticClass:"col-sm-12"},[a("a",{staticClass:"btn btn-primary btn-block",on:{click:function(t){return e.addWorkflow("withdraw_by_manager")}}},[e._v("\n                                        Withdraw\n                                    ")])])]):e._e(),e._v(" "),e.visibilitySendToManagerButton?a("div",{staticClass:"row action-button"},[a("div",{staticClass:"col-sm-12"},[a("a",{staticClass:"btn btn-primary btn-block",on:{click:function(t){return e.addWorkflow("send_to_manager")}}},[e._v("\n                                        Send to Manager\n                                    ")])])]):e._e(),e._v(" "),e.visibilityEndorseButton?a("div",{staticClass:"row action-button"},[a("div",{staticClass:"col-sm-12"},[a("a",{staticClass:"btn btn-primary btn-block",on:{click:function(t){return e.addWorkflow("endorse")}}},[e._v("\n                                        Endorse\n                                    ")])])]):e._e(),e._v(" "),e.visibilityDeclineButton?a("div",{staticClass:"row action-button"},[a("div",{staticClass:"col-sm-12"},[a("a",{staticClass:"btn btn-primary btn-block",on:{click:function(t){return e.addWorkflow("decline")}}},[e._v("\n                                        Decline\n                                    ")])])]):e._e(),e._v(" "),e.visibilityReturnToOfficerButton?a("div",{staticClass:"row action-button"},[a("div",{staticClass:"col-sm-12"},[a("a",{staticClass:"btn btn-primary btn-block",on:{click:function(t){return e.addWorkflow("return_to_officer")}}},[e._v("\n                                        Return to Officer\n                                    ")])])]):e._e()])])])],1),e._v(" "),a("div",{staticClass:"col-md-9",attrs:{id:"main-column"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"container-fluid"},[a("ul",{staticClass:"nav nav-pills aho2"},[a("li",{staticClass:"nav-item active"},[a("a",{attrs:{"data-toggle":"tab",href:"#"+e.soTab}},[e._v(e._s(e.typeDisplay))])]),e._v(" "),a("li",{staticClass:"nav-item"},[a("a",{attrs:{"data-toggle":"tab",href:"#"+e.deTab}},[e._v("Details")])]),e._v(" "),a("li",{staticClass:"nav-item"},[a("a",{attrs:{"data-toggle":"tab",href:"#"+e.reTab}},[e._v("Related Items")])])]),e._v(" "),a("div",{staticClass:"tab-content"},[a("div",{staticClass:"tab-pane fade in active",attrs:{id:e.soTab}},[a("FormSection",{attrs:{formCollapse:!1,label:e.typeDisplay}},[a("div",{staticClass:"form-group"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-3"},[a("label",[e._v("Identifier")])]),e._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.sanction_outcome.identifier,expression:"sanction_outcome.identifier"}],staticClass:"form-control",attrs:{readonly:e.readonlyForm},domProps:{value:e.sanction_outcome.identifier},on:{input:function(t){t.target.composing||e.$set(e.sanction_outcome,"identifier",t.target.value)}}})])])]),e._v(" "),a("div",{staticClass:"form-group"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-3"},[a("label",[e._v("Offence")])]),e._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.displayOffence,expression:"displayOffence"}],staticClass:"form-control",attrs:{readonly:"true"},domProps:{value:e.displayOffence},on:{input:function(t){t.target.composing||(e.displayOffence=t.target.value)}}})])])]),e._v(" "),a("div",{staticClass:"form-group"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-3"},[a("label",[e._v("Offender")])]),e._v(" "),a("div",{staticClass:"col-sm-6"},[e.sanction_outcome&&e.sanction_outcome.offence&&e.sanction_outcome.offence.offenders?a("div",[a("select",{directives:[{name:"model",rawName:"v-model",value:e.sanction_outcome.offender,expression:"sanction_outcome.offender"}],staticClass:"form-control",attrs:{disabled:e.readonlyForm},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.sanction_outcome,"offender",t.target.multiple?a:a[0])}}},[a("option",{attrs:{value:""}}),e._v(" "),e._l(e.sanction_outcome.offence.offenders,function(t){return a("option",{key:t.id,domProps:{value:t}},[t.person?a("span",[e._v("\n                                                            "+e._s(t.person.first_name+" "+t.person.last_name+", DOB:"+t.person.dob)+" \n                                                        ")]):t.organisation?a("span",[e._v("\n                                                            "+e._s(t.organisation.name+", ABN: "+t.organisation.abn)+" \n                                                        ")]):e._e()])})],2)]):e._e()])])]),e._v(" "),a("div",{staticClass:"form-group"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-5"},[a("label",[e._v("Alleged committed offence")])]),e._v(" "),a("div",{staticClass:"col-sm-12 form-group"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("datatable",{ref:"alleged_committed_offence_table",attrs:{id:"alleged-committed-offence-table",dtOptions:e.dtOptionsAllegedOffence,dtHeaders:e.dtHeadersAllegedOffence}})],1)])])])]),e._v(" "),a("div",{staticClass:"form-group"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-3"},[a("label",[e._v("Issued on paper?")])]),e._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.sanction_outcome.issued_on_paper,expression:"sanction_outcome.issued_on_paper"}],staticClass:"col-sm-1",attrs:{disabled:e.readonlyForm,id:"issued_on_paper_yes",type:"radio"},domProps:{value:!0,checked:e._q(e.sanction_outcome.issued_on_paper,!0)},on:{change:function(t){return e.$set(e.sanction_outcome,"issued_on_paper",!0)}}}),e._v(" "),a("label",{staticClass:"col-sm-1 radio-button-label",attrs:{for:"issued_on_paper_yes"}},[e._v("Yes")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.sanction_outcome.issued_on_paper,expression:"sanction_outcome.issued_on_paper"}],staticClass:"col-sm-1",attrs:{disabled:e.readonlyForm,id:"issued_on_paper_no",type:"radio"},domProps:{value:!1,checked:e._q(e.sanction_outcome.issued_on_paper,!1)},on:{change:function(t){return e.$set(e.sanction_outcome,"issued_on_paper",!1)}}}),e._v(" "),a("label",{staticClass:"col-sm-1 radio-button-label",attrs:{for:"issued_on_paper_no"}},[e._v("No")])])])]),e._v(" "),a("div",{staticClass:"col-sm-12 form-group"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-3"},[a("label",{staticClass:"control-label pull-left"},[e._v("Paper ID")])]),e._v(" "),a("div",{staticClass:"col-sm-7"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.sanction_outcome.paper_id,expression:"sanction_outcome.paper_id"}],staticClass:"form-control",attrs:{type:"text",readonly:e.readonlyForm,name:"paper_id",placeholder:"",disabled:!e.sanction_outcome.issued_on_paper},domProps:{value:e.sanction_outcome.paper_id},on:{input:function(t){t.target.composing||e.$set(e.sanction_outcome,"paper_id",t.target.value)}}})])])]),e._v(" "),a("div",{staticClass:"col-sm-12 form-group"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-3"},[a("label",{staticClass:"control-label pull-left"},[e._v("Paper notice")])]),e._v(" "),a("div",{attrs:{id:"paper_id_notice"}},[e.sanction_outcome.issued_on_paper?a("div",{staticClass:"col-sm-7"},[a("filefield",{ref:"sanction_outcome_file",attrs:{name:"sanction-outcome-file",documentActionUrl:e.sanction_outcome.sanctionOutcomeDocumentUrl,isRepeatable:!0,readonly:e.readonlyForm},on:{"update-parent":e.sanctionOutcomeDocumentUploaded}})],1):e._e()])])])])],1),e._v(" "),a("div",{staticClass:"tab-pane fade in",attrs:{id:e.deTab}},[a("FormSection",{attrs:{formCollapse:!1,label:"Details"}},[a("div",{staticClass:"form-group"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-3"},[a("label",[e._v("Description")])]),e._v(" "),a("div",{staticClass:"col-sm-6"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.sanction_outcome.description,expression:"sanction_outcome.description"}],staticClass:"form-control",attrs:{disabled:e.readonlyForm,placeholder:"add description",id:"sanction-outcome-description"},domProps:{value:e.sanction_outcome.description},on:{input:function(t){t.target.composing||e.$set(e.sanction_outcome,"description",t.target.value)}}})])])]),e._v(" "),a("div",{staticClass:"form-group"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-3"},[a("label",[e._v("Date of Issue")])]),e._v(" "),a("div",{staticClass:"col-sm-3"},[a("div",{ref:"dateOfIssuePicker",staticClass:"input-group date"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.sanction_outcome.date_of_issue,expression:"sanction_outcome.date_of_issue"}],staticClass:"form-control",attrs:{type:"text",placeholder:"DD/MM/YYYY",disabled:!e.sanction_outcome.issued_on_paper},domProps:{value:e.sanction_outcome.date_of_issue},on:{input:function(t){t.target.composing||e.$set(e.sanction_outcome,"date_of_issue",t.target.value)}}}),e._v(" "),a("span",{staticClass:"input-group-addon"},[a("span",{staticClass:"glyphicon glyphicon-calendar"})])])])])]),e._v(" "),a("div",{staticClass:"form-group"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-3"},[a("label",[e._v("Time of Issue")])]),e._v(" "),a("div",{staticClass:"col-sm-3"},[a("div",{ref:"timeOfIssuePicker",staticClass:"input-group date"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.sanction_outcome.time_of_issue,expression:"sanction_outcome.time_of_issue"}],staticClass:"form-control",attrs:{type:"text",placeholder:"HH:MM",disabled:!e.sanction_outcome.issued_on_paper},domProps:{value:e.sanction_outcome.time_of_issue},on:{input:function(t){t.target.composing||e.$set(e.sanction_outcome,"time_of_issue",t.target.value)}}}),e._v(" "),a("span",{staticClass:"input-group-addon"},[a("span",{staticClass:"glyphicon glyphicon-calendar"})])])])])])])],1),e._v(" "),a("div",{staticClass:"tab-pane fade in",attrs:{id:e.reTab}},[a("FormSection",{attrs:{formCollapse:!1,label:"Related Items",Index:"4"}},[a("div",{staticClass:"col-sm-12 form-group"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("RelatedItems",{key:e.relatedItemsBindId,attrs:{parent_update_related_items:e.setRelatedItems,readonlyForm:e.readonlyForm}})],1)])])])],1)])])])])]),e._v(" "),e.visibilitySaveButton?a("div",{staticClass:"navbar navbar-fixed-bottom",staticStyle:{"background-color":"#f5f5f5"}},[a("div",{staticClass:"navbar-inner"},[a("div",{staticClass:"container"},[a("p",{staticClass:"pull-right",staticStyle:{"margin-top":"5px"}},[a("input",{staticClass:"btn btn-primary",attrs:{type:"button",value:"Save and Exit"},on:{click:function(t){return t.preventDefault(),e.saveExit(t)}}}),e._v(" "),a("input",{staticClass:"btn btn-primary",attrs:{type:"button",value:"Save and Continue"},on:{click:function(t){return t.preventDefault(),e.save(t)}}})])])])]):e._e(),e._v(" "),e.workflow_type?a("div",[a("SanctionOutcomeWorkflow",{key:e.workflowBindId,ref:"add_workflow",attrs:{workflow_type:e.workflow_type}})],1):e._e()])},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12 top-buffer-s"},[a("strong",[e._v("Currently assigned to")]),a("br")])])}]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"panel-heading"},[a("h3",{staticClass:"panel-title"},[e._v("Return\n            "),a("a",{staticClass:"panelClicker",attrs:{href:"#"+e.pdBody,"data-toggle":"collapse","data-parent":"#userInfo",expanded:"true","aria-controls":e.pdBody}},[a("span",{staticClass:"glyphicon glyphicon-chevron-up pull-right "})])])]),e._v(" "),a("div",{staticClass:"panel-body panel-collapse in",attrs:{id:e.pdBody}},[a("div",{staticClass:"col-sm-16"},[a("div",e._l(e.returns.table,function(t,n){return a("div",e._l(t.headers,function(e,t){return a("renderer-block",{key:"q_"+t,attrs:{component:e}})}),1)}),0)])]),e._v(" "),a("input",{attrs:{type:"hidden",name:"table_name"},domProps:{value:e.returns.table[0].name}})])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("modal",{attrs:{transition:"modal fade",title:e.modalTitle,large:"",force:""},on:{ok:function(t){return e.ok()},cancel:function(t){return e.cancel()}}},[a("div",{staticClass:"container-fluid"},[a("ul",{staticClass:"nav nav-pills"},[a("li",{staticClass:"nav-item active"},[a("a",{attrs:{"data-toggle":"tab",href:"#"+e.oTab}},[e._v("Offence")])]),e._v(" "),a("li",{staticClass:"nav-item"},[a("a",{attrs:{"data-toggle":"tab",href:"#"+e.dTab}},[e._v("Details")])]),e._v(" "),a("li",{staticClass:"nav-item"},[a("a",{attrs:{"data-toggle":"tab",href:"#"+e.pTab}},[e._v("Offender(s)")])]),e._v(" "),a("li",{staticClass:"nav-item"},[a("a",{attrs:{"data-toggle":"tab",href:"#"+e.lTab},on:{click:e.mapOffenceClicked}},[e._v("Location")])])]),e._v(" "),a("div",{staticClass:"tab-content"},[a("div",{staticClass:"tab-pane fade in active",attrs:{id:e.oTab}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12 form-group"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-3"},[a("label",{staticClass:"control-label pull-left",attrs:{for:"offence-identifier"}},[e._v("Identifier")])]),e._v(" "),a("div",{staticClass:"col-sm-6"},[e.offence?a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.offence.identifier,expression:"offence.identifier"}],key:e.offence.id,staticClass:"form-control",attrs:{type:"text",name:"identifier",placeholder:""},domProps:{value:e.offence.identifier},on:{input:function(t){t.target.composing||e.$set(e.offence,"identifier",t.target.value)}}})]):e._e()])])]),e._v(" "),a("div",{staticClass:"col-sm-12 form-group"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-3"},[a("label",{staticClass:"control-label pull-left"},[e._v("Region")])]),e._v(" "),a("div",{staticClass:"col-sm-7"},[a("select",{staticClass:"form-control col-sm-9",domProps:{value:e.offence.region_id},on:{change:function(t){t.preventDefault(),e.offence.region_id=t.target.value,e.updateDistricts("updatefromUI")}}},e._l(e.regions,function(t){return a("option",{key:t.id,domProps:{value:t.id}},[e._v("\n                                  "+e._s(t.display_name)+" \n                                ")])}),0)])])]),e._v(" "),a("div",{staticClass:"col-sm-12 form-group"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-3"},[a("label",{staticClass:"control-label pull-left"},[e._v("District")])]),e._v(" "),a("div",{staticClass:"col-sm-7"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.offence.district_id,expression:"offence.district_id"}],staticClass:"form-control",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.offence,"district_id",t.target.multiple?a:a[0])}}},e._l(e.availableDistricts,function(t){return a("option",{key:t.id,domProps:{value:t.id}},[e._v("\n                                  "+e._s(t.display_name)+" \n                                ")])}),0)])])]),e._v(" "),a("div",{staticClass:"col-sm-12 form-group"},[a("div",{staticClass:"row"},[a("label",{staticClass:"col-sm-3"},[e._v("Use occurrence from/to")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.offence.occurrence_from_to,expression:"offence.occurrence_from_to"}],staticClass:"col-sm-1",attrs:{id:"occurrence_from_to_true",type:"radio"},domProps:{value:!0,checked:e._q(e.offence.occurrence_from_to,!0)},on:{change:function(t){return e.$set(e.offence,"occurrence_from_to",!0)}}}),e._v(" "),a("label",{staticClass:"col-sm-1 radio-button-label",attrs:{for:"occurrence_from_to_true"}},[e._v("Yes")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.offence.occurrence_from_to,expression:"offence.occurrence_from_to"}],staticClass:"col-sm-1",attrs:{id:"occurrence_from_to_false",type:"radio"},domProps:{value:!1,checked:e._q(e.offence.occurrence_from_to,!1)},on:{change:function(t){return e.$set(e.offence,"occurrence_from_to",!1)}}}),e._v(" "),a("label",{staticClass:"col-sm-1 radio-button-label",attrs:{for:"occurrence_from_to_false"}},[e._v("No")])])]),e._v(" "),a("div",{staticClass:"col-sm-12 form-group"},[a("div",{staticClass:"row"},[a("label",{staticClass:"col-sm-3"},[e._v(e._s(e.occurrenceDateLabel))]),e._v(" "),a("div",{staticClass:"col-sm-3"},[a("div",{ref:"occurrenceDateFromPicker",staticClass:"input-group date"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.offence.occurrence_date_from,expression:"offence.occurrence_date_from"}],staticClass:"form-control",attrs:{type:"text",placeholder:"DD/MM/YYYY"},domProps:{value:e.offence.occurrence_date_from},on:{input:function(t){t.target.composing||e.$set(e.offence,"occurrence_date_from",t.target.value)}}}),e._v(" "),a("span",{staticClass:"input-group-addon"},[a("span",{staticClass:"glyphicon glyphicon-calendar"})])])]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.offence.occurrence_from_to,expression:"offence.occurrence_from_to"}]},[a("div",{staticClass:"col-sm-3"},[a("div",{ref:"occurrenceDateToPicker",staticClass:"input-group date"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.offence.occurrence_date_to,expression:"offence.occurrence_date_to"}],staticClass:"form-control",attrs:{type:"text",placeholder:"DD/MM/YYYY"},domProps:{value:e.offence.occurrence_date_to},on:{input:function(t){t.target.composing||e.$set(e.offence,"occurrence_date_to",t.target.value)}}}),e._v(" "),a("span",{staticClass:"input-group-addon"},[a("span",{staticClass:"glyphicon glyphicon-calendar"})])])])])])]),e._v(" "),a("div",{staticClass:"col-sm-12 form-group"},[a("div",{staticClass:"row"},[a("label",{staticClass:"col-sm-3"},[e._v(e._s(e.occurrenceTimeLabel))]),e._v(" "),a("div",{staticClass:"col-sm-3"},[a("div",{ref:"occurrenceTimeFromPicker",staticClass:"input-group date"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.offence.occurrence_time_from,expression:"offence.occurrence_time_from"}],staticClass:"form-control",attrs:{type:"text",placeholder:"HH:MM"},domProps:{value:e.offence.occurrence_time_from},on:{input:function(t){t.target.composing||e.$set(e.offence,"occurrence_time_from",t.target.value)}}}),e._v(" "),a("span",{staticClass:"input-group-addon"},[a("span",{staticClass:"glyphicon glyphicon-calendar"})])])]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.offence.occurrence_from_to,expression:"offence.occurrence_from_to"}]},[a("div",{staticClass:"col-sm-3"},[a("div",{ref:"occurrenceTimeToPicker",staticClass:"input-group date"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.offence.occurrence_time_to,expression:"offence.occurrence_time_to"}],staticClass:"form-control",attrs:{type:"text",placeholder:"HH:MM"},domProps:{value:e.offence.occurrence_time_to},on:{input:function(t){t.target.composing||e.$set(e.offence,"occurrence_time_to",t.target.value)}}}),e._v(" "),a("span",{staticClass:"input-group-addon"},[a("span",{staticClass:"glyphicon glyphicon-calendar"})])])])])])]),e._v(" "),a("div",{staticClass:"col-sm-12 form-group"},[a("div",{staticClass:"row"},[a("label",{staticClass:"col-sm-3"},[e._v("Alleged Offence")]),e._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{staticClass:"form-control",attrs:{id:"alleged-offence"}})]),e._v(" "),a("div",{staticClass:"col-sm-3"},[a("input",{staticClass:"btn btn-primary",attrs:{type:"button",value:"Add"},on:{click:function(t){return t.preventDefault(),e.addAllegedOffenceClicked()}}})])])]),e._v(" "),a("div",{staticClass:"col-sm-12 form-group"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("datatable",{ref:"alleged_offence_table",attrs:{id:"alleged-offence-table",dtOptions:e.dtOptionsAllegedOffence,dtHeaders:e.dtHeadersAllegedOffence}})],1)])])])]),e._v(" "),a("div",{staticClass:"tab-pane fade in",attrs:{id:e.dTab}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("div",{staticClass:"form-group"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-3"},[a("label",{staticClass:"control-label pull-left",attrs:{for:"offence-details"}},[e._v("Details")])]),e._v(" "),a("div",{staticClass:"col-sm-6"},[e.offence?a("div",[a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.offence.details,expression:"offence.details"}],key:e.offence.id,staticClass:"form-control",attrs:{placeholder:"add details",id:"offence-details"},domProps:{value:e.offence.details},on:{input:function(t){t.target.composing||e.$set(e.offence,"details",t.target.value)}}})]):e._e()])])])])])]),e._v(" "),a("div",{staticClass:"tab-pane fade in",attrs:{id:e.pTab}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("div",{staticClass:"form-group"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("strong",[a("label",[e._v("Offender")])])]),e._v(" "),a("div",[a("SearchPersonOrganisation",{key:e.updateSearchPersonOrganisationBindId,ref:"search_offender",attrs:{excludeStaff:!0,classNames:"form-control",showCreateUpdate:"",domIdHelper:"offender"},on:{"entity-selected":e.personSelected}})],1)])]),e._v(" "),a("div",{staticClass:"form-group"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("input",{staticClass:"btn btn-primary",attrs:{type:"button",value:"Add to Offender List"},on:{click:function(t){return t.preventDefault(),e.addOffenderClicked()}}})])])]),e._v(" "),a("div",{staticClass:"form-group"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("datatable",{ref:"offender_table",attrs:{id:"offender-table",dtOptions:e.dtOptionsOffender,dtHeaders:e.dtHeadersOffender}})],1)])])])])]),e._v(" "),a("div",{staticClass:"tab-pane fade in",attrs:{id:e.lTab}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12 form-group"},[e.offence.location?a("div",[a("MapLocationOffence",{key:e.lTab,ref:"mapOffenceComponent",attrs:{id:e.lTab}})],1):e._e()])])])])]),e._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[e.errorResponse?a("div",{staticClass:"form-group"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("strong",[a("span",{staticStyle:{"white-space":"pre"},domProps:{innerHTML:e._s(e.errorResponse)}})])])])]):e._e(),e._v(" "),e.processingDetails?a("button",{staticClass:"btn btn-default",attrs:{type:"button",disabled:""},on:{click:e.ok}},[a("i",{staticClass:"fa fa-spinner fa-spin"}),e._v(" Adding")]):a("button",{staticClass:"btn btn-default",attrs:{type:"button"},on:{click:e.ok}},[e._v("Ok")]),e._v(" "),a("button",{staticClass:"btn btn-default",attrs:{type:"button"},on:{click:e.cancel}},[e._v("Cancel")])])])],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-3"},[a("h3",[e._v("Case: "+e._s(e.legal_case.number))])])]),e._v(" "),a("div",{staticClass:"col-md-3"},[a("CommsLogs",{attrs:{comms_url:e.comms_url,logs_url:e.logs_url,comms_add_url:e.comms_add_url,disable_add_entry:!1}}),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"panel-heading"},[e._v("\n                    Workflow\n                ")]),e._v(" "),a("div",{staticClass:"panel-body panel-collapse"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("strong",[e._v("Status")]),a("br"),e._v("\n                            "+e._s(e.statusDisplay)),a("br")])]),e._v(" "),e.legal_case.allocated_group?a("div",{staticClass:"form-group"},[e._m(0),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.legal_case.assigned_to_id,expression:"legal_case.assigned_to_id"}],staticClass:"form-control",attrs:{disabled:!e.legal_case.user_in_group},on:{change:[function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.legal_case,"assigned_to_id",t.target.multiple?a:a[0])},function(t){return e.updateAssignedToId()}]}},e._l(e.legal_case.allocated_group,function(t){return a("option",{key:t.id,domProps:{value:t.id}},[e._v("\n                              "+e._s(t.full_name)+" \n                            ")])}),0)])])]):e._e(),e._v(" "),e.legal_case.user_in_group?a("div",[a("a",{staticClass:"btn pull-right",on:{click:function(t){return e.updateAssignedToId("current_user")}}},[e._v("\n                            Assign to me\n                        ")])]):e._e()])])]),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"panel-heading"},[e._v("\n                    Action \n                ")]),e._v(" "),a("div",{staticClass:"panel-body panel-collapse"},[a("div",{staticClass:"row action-button"},[a("div",{staticClass:"col-sm-12"},[a("a",{staticClass:"btn btn-primary btn-block",on:{click:function(t){return e.openInspection()}}},[e._v("\n                                Inspection\n                              ")])])]),e._v(" "),a("div",{staticClass:"row action-button"},[a("div",{staticClass:"col-sm-12"},[a("a",{staticClass:"btn btn-primary btn-block",on:{click:function(t){return e.addWorkflow("endorse")}}},[e._v("\n                              Witness Statement\n                            ")])])]),e._v(" "),a("div",{staticClass:"row action-button"},[e.offenceVisibility?a("div",{staticClass:"col-sm-12"},[a("a",{staticClass:"btn btn-primary btn-block",on:{click:function(t){return e.openOffence()}}},[e._v("\n                              Offence\n                            ")])]):e._e()]),e._v(" "),a("div",{staticClass:"row action-button"},[a("div",{staticClass:"col-sm-12"},[a("a",{staticClass:"btn btn-primary btn-block",on:{click:function(t){return e.addWorkflow("request_amendment")}}},[e._v("\n                              Interview\n                            ")])])]),e._v(" "),a("div",{staticClass:"row action-button"},[a("div",{staticClass:"col-sm-12"},[a("input",{staticClass:"btn btn-primary btn-block",attrs:{disabled:!e.sanctionOutcomeVisibility,type:"button",value:"Sanction Outcome"},on:{click:function(t){return t.preventDefault(),e.openSanctionOutcome()}}})])]),e._v(" "),a("div",{staticClass:"row action-button"},[a("div",{staticClass:"col-sm-12"},[a("a",{staticClass:"btn btn-primary btn-block",on:{click:function(t){return e.open_sanction_outcome()}}},[e._v("\n                              Brief of Evidence\n                            ")])])]),e._v(" "),a("div",{staticClass:"row action-button",attrs:{id:"close-button"}},[e.readonlyForm?e._e():a("div",{staticClass:"col-sm-12"},[a("a",{staticClass:"btn btn-primary btn-block",on:{click:function(t){return e.addWorkflow("close")}}},[e._v("\n                              Close\n                            ")])])])])])])],1),e._v(" "),a("div",{staticClass:"col-md-9",attrs:{id:"main-column"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"container-fluid"},[a("ul",{staticClass:"nav nav-pills aho2"},[a("li",{staticClass:"nav-item active"},[a("a",{attrs:{"data-toggle":"tab",href:"#"+e.runTab}},[e._v("Running Sheet")])]),e._v(" "),a("li",{staticClass:"nav-item"},[a("a",{attrs:{"data-toggle":"tab",href:"#"+e.cTab}},[e._v("Case Details")])]),e._v(" "),a("li",{staticClass:"nav-item"},[a("a",{attrs:{"data-toggle":"tab",href:"#"+e.rTab}},[e._v("Related Items")])])]),e._v(" "),a("div",{staticClass:"tab-content"},[a("div",{staticClass:"tab-pane fade in active",attrs:{id:e.runTab}},[a("FormSection",{attrs:{formCollapse:!1,label:"Running Sheet",Index:"0"}},[a("div",{staticClass:"col-sm-12 form-group"},[a("div",{staticClass:"row"},[a("div",[a("label",{staticClass:"col-sm-10"},[e._v("Type !! to open Inspection or @@ to open Offence")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.magicValue,expression:"magicValue"}],staticClass:"form-control",attrs:{id:"test1",type:"text"},domProps:{value:e.magicValue},on:{input:function(t){t.target.composing||(e.magicValue=t.target.value)}}})])])])])],1),e._v(" "),a("div",{staticClass:"tab-pane fade in",attrs:{id:e.cTab}},[a("FormSection",{attrs:{formCollapse:!1,label:"Case Details"}},[a("div",{staticClass:"col-sm-12 form-group"},[a("div",{staticClass:"row"},[a("label",{staticClass:"col-sm-10"},[e._v("Title\n                                    "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.legal_case.title,expression:"legal_case.title"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:e.legal_case.title},on:{input:function(t){t.target.composing||e.$set(e.legal_case,"title",t.target.value)}}})])])]),e._v(" "),a("div",{staticClass:"col-sm-12 form-group"},[a("div",{staticClass:"row"},[a("label",{staticClass:"col-sm-10"},[e._v("Details\n                                    "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.legal_case.details,expression:"legal_case.details"}],staticClass:"form-control location_address_field",domProps:{value:e.legal_case.details},on:{input:function(t){t.target.composing||e.$set(e.legal_case,"details",t.target.value)}}})])])]),e._v(" "),a("div",{staticClass:"col-sm-12 form-group"},[a("div",{staticClass:"row"},[e.legal_case.defaultDocumentUrl?a("div",[a("label",{staticClass:"col-sm-10"},[e._v("Documents\n                                        "),a("filefield",{ref:"legal_case_documents",attrs:{name:"legal-case-documents",isRepeatable:!0,documentActionUrl:e.legal_case.defaultDocumentUrl,readonly:e.readonlyForm}})],1)]):e._e()])])])],1),e._v(" "),a("div",{staticClass:"tab-pane fade in",attrs:{id:e.rTab}},[a("FormSection",{attrs:{formCollapse:!1,label:"Related Items"}},[a("div",{staticClass:"col-sm-12 form-group"},[a("div",{staticClass:"row"},[e.relatedItemsVisibility?a("div",{staticClass:"col-sm-12"},[a("RelatedItems",{key:e.relatedItemsBindId,attrs:{parent_update_related_items:e.setRelatedItems,readonlyForm:!e.canUserAction}})],1):e._e()])])])],1)])])])]),e._v(" "),e.legal_case.can_user_action?a("div",{staticClass:"navbar navbar-fixed-bottom",staticStyle:{"background-color":"#f5f5f5"}},[a("div",{staticClass:"navbar-inner"},[a("div",{staticClass:"container"},[a("p",{staticClass:"pull-right",staticStyle:{"margin-top":"5px"}},[a("input",{staticClass:"btn btn-primary",attrs:{type:"button",value:"Save and Exit"},on:{click:function(t){return t.preventDefault(),e.save("exit")}}}),e._v(" "),a("input",{staticClass:"btn btn-primary",attrs:{type:"button",value:"Save and Continue"},on:{click:function(t){return t.preventDefault(),e.save("noexit")}}})])])])]):e._e(),e._v(" "),e.offenceInitialised?a("div",[a("Offence",{key:e.offenceBindId,ref:"offence",attrs:{parent_update_function:e.loadLegalCase,region_id:e.legal_case.region_id,district_id:e.legal_case.district_id,allocated_group_id:e.legal_case.allocated_group_id}})],1):e._e(),e._v(" "),e.sanctionOutcomeInitialised?a("div",[a("SanctionOutcome",{key:e.sanctionOutcomeBindId,ref:"sanction_outcome",attrs:{parent_update_function:e.loadLegalCase}})],1):e._e(),e._v(" "),e.inspectionInitialised?a("div",[a("Inspection",{key:e.inspectionBindId,ref:"inspection",attrs:{parent_update_function:e.loadLegalCase}})],1):e._e(),e._v(" "),a("Magic",{ref:"magic"})],1)},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12 top-buffer-s"},[a("strong",[e._v("Currently assigned to")]),a("br")])])}]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container-fluid",attrs:{id:"internalOrgInfo"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"panel-heading"},[a("h3",{staticClass:"panel-title"},[e._v("Organisation Details\n                     "),a("a",{staticClass:"panelClicker",attrs:{href:"#"+e.pdBody,"data-toggle":"collapse","data-parent":"#userInfo",expanded:"true","aria-controls":e.pdBody}},[a("span",{staticClass:"glyphicon glyphicon-chevron-up pull-right "})])])]),e._v(" "),a("div",{staticClass:"panel-body collapse in",attrs:{id:e.pdBody}},[a("div",{staticClass:"form-horizontal"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-3 control-label",attrs:{for:""}},[e._v("Name")]),e._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.organisation.name,expression:"organisation.name"}],staticClass:"form-control",attrs:{type:"text",name:"first_name",placeholder:""},domProps:{value:e.organisation.name},on:{input:function(t){t.target.composing||e.$set(e.organisation,"name",t.target.value)}}})])]),e._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-3 control-label",attrs:{for:""}},[e._v("ABN")]),e._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.organisation.abn,expression:"organisation.abn"}],staticClass:"form-control",attrs:{type:"text",name:"last_name",placeholder:""},domProps:{value:e.organisation.abn},on:{input:function(t){t.target.composing||e.$set(e.organisation,"abn",t.target.value)}}})])])])])])])]),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"panel-heading"},[a("h3",{staticClass:"panel-title"},[e._v("Address Details\n                     "),a("a",{staticClass:"panelClicker",attrs:{href:"#"+e.adBody,"data-toggle":"collapse",expanded:"false","data-parent":"#userInfo","aria-controls":e.adBody}},[a("span",{staticClass:"glyphicon glyphicon-chevron-down pull-right "})])])]),e._v(" "),a("div",{staticClass:"panel-body collapse ",attrs:{id:e.adBody}},[a("div",{staticClass:"form-horizontal"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-3 control-label",attrs:{for:""}},[e._v("Street")]),e._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.organisation.address.line1,expression:"organisation.address.line1"}],staticClass:"form-control",attrs:{type:"text",name:"street",placeholder:""},domProps:{value:e.organisation.address.line1},on:{input:function(t){t.target.composing||e.$set(e.organisation.address,"line1",t.target.value)}}})])]),e._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-3 control-label",attrs:{for:""}},[e._v("Town/Suburb")]),e._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.organisation.address.locality,expression:"organisation.address.locality"}],staticClass:"form-control",attrs:{type:"text",name:"surburb",placeholder:""},domProps:{value:e.organisation.address.locality},on:{input:function(t){t.target.composing||e.$set(e.organisation.address,"locality",t.target.value)}}})])]),e._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-3 control-label",attrs:{for:""}},[e._v("State")]),e._v(" "),a("div",{staticClass:"col-sm-2"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.organisation.address.state,expression:"organisation.address.state"}],staticClass:"form-control",attrs:{type:"text",name:"country",placeholder:""},domProps:{value:e.organisation.address.state},on:{input:function(t){t.target.composing||e.$set(e.organisation.address,"state",t.target.value)}}})]),e._v(" "),a("label",{staticClass:"col-sm-2 control-label",attrs:{for:""}},[e._v("Postcode")]),e._v(" "),a("div",{staticClass:"col-sm-2"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.organisation.address.postcode,expression:"organisation.address.postcode"}],staticClass:"form-control",attrs:{type:"text",name:"postcode",placeholder:""},domProps:{value:e.organisation.address.postcode},on:{input:function(t){t.target.composing||e.$set(e.organisation.address,"postcode",t.target.value)}}})])]),e._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-3 control-label",attrs:{for:""}},[e._v("Country")]),e._v(" "),a("div",{staticClass:"col-sm-4"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.organisation.address.country,expression:"organisation.address.country"}],staticClass:"form-control",attrs:{name:"country"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.organisation.address,"country",t.target.multiple?a:a[0])}}},e._l(e.countries,function(t){return a("option",{domProps:{value:t.alpha2Code}},[e._v(e._s(t.name))])}),0)])])])])])])]),e._v(" "),a("div",{staticClass:"form-group"},[a("div",{staticClass:"col-sm-12"},[e.show_spinner?a("div",[a("i",{staticClass:"fa fa-2x fa-spinner fa-spin pull-right"})]):a("div",[a("button",{staticClass:"pull-right btn btn-primary",on:{click:function(t){return t.preventDefault(),e.save()}}},[e._v("Save Organisation")])])])])])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"change-contact"}},[a("modal",{attrs:{title:"Add Contact",large:""},on:{ok:function(t){return e.ok()},cancel:function(t){return e.cancel()}}},[a("form",{staticClass:"form-horizontal",attrs:{name:"addContactForm"}},[a("div",{staticClass:"row"},[a("alert",{attrs:{show:e.showError,type:"danger"},on:{"update:show":function(t){e.showError=t}}},[a("strong",[e._v(e._s(e.errorString))])]),e._v(" "),a("div",{staticClass:"col-lg-12"},[a("div",{staticClass:"row"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-md-2 control-label pull-left",attrs:{for:"Name"}},[e._v("Given Name(s): ")]),e._v(" "),a("div",{staticClass:"col-md-4"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.contact.first_name,expression:"contact.first_name"}],staticClass:"form-control",attrs:{type:"text",name:"name"},domProps:{value:e.contact.first_name},on:{input:function(t){t.target.composing||e.$set(e.contact,"first_name",t.target.value)}}})])])]),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-md-2 control-label pull-left",attrs:{for:"Name"}},[e._v("Surname: ")]),e._v(" "),a("div",{staticClass:"col-md-4"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.contact.last_name,expression:"contact.last_name"}],staticClass:"form-control",attrs:{type:"text",name:"name"},domProps:{value:e.contact.last_name},on:{input:function(t){t.target.composing||e.$set(e.contact,"last_name",t.target.value)}}})])])]),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-md-2 control-label pull-left",attrs:{for:"Phone"}},[e._v("Phone: ")]),e._v(" "),a("div",{staticClass:"col-md-4"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.contact.phone_number,expression:"contact.phone_number"}],staticClass:"form-control",attrs:{type:"text",name:"phone"},domProps:{value:e.contact.phone_number},on:{input:function(t){t.target.composing||e.$set(e.contact,"phone_number",t.target.value)}}})])])]),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-md-2 control-label pull-left",attrs:{for:"Mobile"}},[e._v("Mobile: ")]),e._v(" "),a("div",{staticClass:"col-md-4"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.contact.mobile_number,expression:"contact.mobile_number"}],staticClass:"form-control",attrs:{type:"text",name:"mobile"},domProps:{value:e.contact.mobile_number},on:{input:function(t){t.target.composing||e.$set(e.contact,"mobile_number",t.target.value)}}})])])]),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-md-2 control-label pull-left",attrs:{for:"Fax"}},[e._v("Fax: ")]),e._v(" "),a("div",{staticClass:"col-md-4"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.contact.fax_number,expression:"contact.fax_number"}],staticClass:"form-control",attrs:{type:"text",name:"fax"},domProps:{value:e.contact.fax_number},on:{input:function(t){t.target.composing||e.$set(e.contact,"fax_number",t.target.value)}}})])])]),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-md-2 control-label pull-left",attrs:{for:"Email"}},[e._v("Email: ")]),e._v(" "),a("div",{staticClass:"col-md-4"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.contact.email,expression:"contact.email"}],staticClass:"form-control",attrs:{type:"text",name:"email"},domProps:{value:e.contact.email},on:{input:function(t){t.target.composing||e.$set(e.contact,"email",t.target.value)}}})])])])])],1)])])],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"form-group"},[a("label",{attrs:{id:e.id,num_files:e.num_documents()}},[e._v(e._s(e.label))]),e._v(" "),e.help_text?[a("HelpText",{attrs:{help_text:e.help_text}})]:e._e(),e._v(" "),e.help_text_url?[a("HelpTextUrl",{attrs:{help_text_url:e.help_text_url}})]:e._e(),e._v(" "),a("CommentBlock",{attrs:{label:e.label,name:e.name,field_data:e.field_data}}),e._v(" "),e.files?a("div",[e._l(e.documents,function(t){return a("div",[a("p",[e._v("\n                    File: "),a("a",{attrs:{href:t.file,target:"_blank"}},[e._v(e._s(t.name))]),e._v(" \n                    "),!e.readonly&&t.can_delete?a("span",[a("a",{staticClass:"fa fa-trash-o",staticStyle:{cursor:"pointer",color:"red"},attrs:{title:"Remove file",filename:t.name},on:{click:function(a){return e.delete_document(t)}}})]):a("span",[a("i",{staticClass:"fa fa-info-circle",staticStyle:{cursor:"pointer"},attrs:{"aria-hidden":"true",title:"Previously submitted documents cannot be deleted"}})])])])}),e._v(" "),e.show_spinner?a("span",[a("i",{staticClass:"fa fa-2x fa-spinner fa-spin"})]):e._e()],2):e._e(),e._v(" "),e._l(e.repeat,function(t){return e.readonly?e._e():a("div",[e.isRepeatable||!e.isRepeatable&&0==e.num_documents()?a("div",[a("input",{staticClass:"form-control",attrs:{name:e.name,type:"file","data-que":t,accept:e.fileTypes,required:e.isRequired},on:{change:e.handleChange}})]):e._e()])})],2)])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.readonly?a("div",[a("div",{staticClass:"radio"},[a("label",{attrs:{id:e.id}},[a("input",{ref:"radioB",attrs:{name:e.name,disabled:"",type:"radio",required:e.isRequired,"data-conditions":e.options},domProps:{value:e.value,checked:e.isChecked},on:{change:e.handleChange}}),e._v(e._s(e.label)+"\n        ")])]),e._v(" "),a("input",{attrs:{type:"hidden",name:e.name},domProps:{value:e.savedValue.value}})]):a("div",[a("div",{staticClass:"radio"},[a("label",{attrs:{id:e.id}},[a("input",{ref:"radioB",attrs:{name:e.name,type:"radio",required:e.isRequired,"data-conditions":e.options},domProps:{value:e.value,checked:e.isChecked},on:{change:e.handleChange}}),e._v(e._s(e.label)+"\n        ")])])])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container",attrs:{id:"internalDash"}},[a("ApplicationDashTable",{attrs:{level:"internal",url:e.applications_url}}),e._v(" "),a("AssessmentDashTable"),e._v(" "),a("ReturnDashTable",{attrs:{level:"internal",url:e.returns_url}})],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"applicationConditionDetail"}},[a("modal",{attrs:{transition:"modal fade",title:"Condition",large:""},on:{ok:function(t){return e.ok()},cancel:function(t){return e.cancel()}}},[a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row"},[a("form",{staticClass:"form-horizontal",attrs:{name:"conditionForm"}},[a("alert",{attrs:{show:e.showError,type:"danger"},on:{"update:show":function(t){e.showError=t}}},[a("strong",[e._v(e._s(e.errorString))])]),e._v(" "),a("div",{staticClass:"col-sm-12"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"radio-inline control-label"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.condition.standard,expression:"condition.standard"}],attrs:{type:"radio",name:"conditionType"},domProps:{value:!0,checked:e._q(e.condition.standard,!0)},on:{change:function(t){return e.$set(e.condition,"standard",!0)}}}),e._v("Standard Condition")]),e._v(" "),a("label",{staticClass:"radio-inline"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.condition.standard,expression:"condition.standard"}],attrs:{type:"radio",name:"conditionType"},domProps:{value:!1,checked:e._q(e.condition.standard,!1)},on:{change:function(t){return e.$set(e.condition,"standard",!1)}}}),e._v("Free Text Condition")])])]),e._v(" "),a("div",{staticClass:"col-sm-12"},[a("div",{staticClass:"form-group"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-3"},[a("label",{staticClass:"control-label pull-left",attrs:{for:"Name"}},[e._v("Condition")])]),e._v(" "),e.condition.standard?a("div",{staticClass:"col-sm-9"},[a("div",{staticStyle:{width:"70% !important"}},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.condition.standard_condition,expression:"condition.standard_condition"}],ref:"standard_req",staticClass:"form-control",attrs:{name:"standard_condition"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.condition,"standard_condition",t.target.multiple?a:a[0])}}},e._l(e.conditions,function(t){return a("option",{domProps:{value:t.id}},[e._v(e._s(t.code)+" "+e._s(t.text))])}),0)])]):a("div",{staticClass:"col-sm-9"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.condition.free_condition,expression:"condition.free_condition"}],staticClass:"form-control",staticStyle:{width:"70%"},attrs:{name:"free_condition"},domProps:{value:e.condition.free_condition},on:{input:function(t){t.target.composing||e.$set(e.condition,"free_condition",t.target.value)}}})])])]),e._v(" "),e.condition.standard?e._e():a("div",{staticClass:"form-group"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-3"},[a("label",{staticClass:"control-label pull-left",attrs:{for:"Name"}},[e._v("Return Type")])]),e._v(" "),a("div",{staticClass:"col-sm-9"},[a("div",{staticStyle:{width:"70% !important"}},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.condition.return_type,expression:"condition.return_type"}],ref:"return_types_select",staticClass:"form-control",attrs:{name:"return_type"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.condition,"return_type",t.target.multiple?a:a[0])}}},e._l(e.return_types,function(t){return a("option",{domProps:{value:t.id}},[e._v(e._s(t.name))])}),0)])])])]),e._v(" "),a("div",{staticClass:"form-group"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-3"},[a("label",{staticClass:"control-label pull-left",attrs:{for:"Name"}},[e._v("Due Date")])]),e._v(" "),a("div",{staticClass:"col-sm-9"},[a("div",{ref:"due_date",staticClass:"input-group date",staticStyle:{width:"70%"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.condition.due_date,expression:"condition.due_date"}],staticClass:"form-control",attrs:{type:"text",name:"due_date",placeholder:"DD/MM/YYYY"},domProps:{value:e.condition.due_date},on:{input:function(t){t.target.composing||e.$set(e.condition,"due_date",t.target.value)}}}),e._v(" "),a("span",{staticClass:"input-group-addon"},[a("span",{staticClass:"glyphicon glyphicon-calendar"})])])])])]),e._v(" "),e.validDate?[a("div",{staticClass:"form-group"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-3"},[a("label",{staticClass:"control-label pull-left",attrs:{for:"Name"}},[e._v("Recurrence")])]),e._v(" "),a("div",{staticClass:"col-sm-9"},[a("label",{staticClass:"checkbox-inline"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.condition.recurrence,expression:"condition.recurrence"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.condition.recurrence)?e._i(e.condition.recurrence,null)>-1:e.condition.recurrence},on:{change:function(t){var a=e.condition.recurrence,n=t.target,i=!!n.checked;if(Array.isArray(a)){var s=e._i(a,null);n.checked?s<0&&e.$set(e.condition,"recurrence",a.concat([null])):s>-1&&e.$set(e.condition,"recurrence",a.slice(0,s).concat(a.slice(s+1)))}else e.$set(e.condition,"recurrence",i)}}})])])])]),e._v(" "),e.condition.recurrence?[a("div",{staticClass:"form-group"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-3"},[a("label",{staticClass:"control-label pull-left",attrs:{for:"Name"}},[e._v("Recurrence pattern")])]),e._v(" "),a("div",{staticClass:"col-sm-9"},[a("label",{staticClass:"radio-inline control-label"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.condition.recurrence_pattern,expression:"condition.recurrence_pattern"}],attrs:{type:"radio",name:"recurrenceSchedule",value:"weekly"},domProps:{checked:e._q(e.condition.recurrence_pattern,"weekly")},on:{change:function(t){return e.$set(e.condition,"recurrence_pattern","weekly")}}}),e._v("Weekly")]),e._v(" "),a("label",{staticClass:"radio-inline control-label"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.condition.recurrence_pattern,expression:"condition.recurrence_pattern"}],attrs:{type:"radio",name:"recurrenceSchedule",value:"monthly"},domProps:{checked:e._q(e.condition.recurrence_pattern,"monthly")},on:{change:function(t){return e.$set(e.condition,"recurrence_pattern","monthly")}}}),e._v("Monthly")]),e._v(" "),a("label",{staticClass:"radio-inline control-label"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.condition.recurrence_pattern,expression:"condition.recurrence_pattern"}],attrs:{type:"radio",name:"recurrenceSchedule",value:"yearly"},domProps:{checked:e._q(e.condition.recurrence_pattern,"yearly")},on:{change:function(t){return e.$set(e.condition,"recurrence_pattern","yearly")}}}),e._v("Yearly")])])])]),e._v(" "),a("div",{staticClass:"form-group"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("label",{staticClass:"control-label",attrs:{for:"Name"}},[a("strong",{staticClass:"pull-left"},[e._v("Recur every")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.condition.recurrence_schedule,expression:"condition.recurrence_schedule"}],staticClass:"pull-left",staticStyle:{width:"10%","margin-left":"10px"},attrs:{type:"number",name:"schedule"},domProps:{value:e.condition.recurrence_schedule},on:{input:function(t){t.target.composing||e.$set(e.condition,"recurrence_schedule",t.target.value)}}}),e._v(" "),"weekly"==e.condition.recurrence_pattern?a("strong",{staticClass:"pull-left",staticStyle:{"margin-left":"10px"}},[e._v("week(s)")]):"monthly"==e.condition.recurrence_pattern?a("strong",{staticClass:"pull-left",staticStyle:{"margin-left":"10px"}},[e._v("month(s)")]):"yearly"==e.condition.recurrence_pattern?a("strong",{staticClass:"pull-left",staticStyle:{"margin-left":"10px"}},[e._v("year(s)")]):e._e()])])])])]:e._e()]:e._e()],2)],1)])]),e._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[e.condition.id?[e.updatingCondition?a("button",{staticClass:"btn btn-default",attrs:{type:"button",disabled:""},on:{click:e.ok}},[a("i",{staticClass:"fa fa-spinnner fa-spin"}),e._v(" Updating")]):a("button",{staticClass:"btn btn-default",attrs:{type:"button"},on:{click:e.ok}},[e._v("Update")])]:[e.addingCondition?a("button",{staticClass:"btn btn-default",attrs:{type:"button",disabled:""},on:{click:e.ok}},[a("i",{staticClass:"fa fa-spinner fa-spin"}),e._v(" Adding")]):a("button",{staticClass:"btn btn-default",attrs:{type:"button"},on:{click:e.ok}},[e._v("Add")])],e._v(" "),a("button",{staticClass:"btn btn-default",attrs:{type:"button"},on:{click:e.cancel}},[e._v("Cancel")])],2)])],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container",attrs:{id:"internalInspectionDash"}},[a("FormSection",{attrs:{label:"Case",Index:"0"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-3"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:""}},[e._v("Status")]),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.filterStatus,expression:"filterStatus"}],staticClass:"form-control",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.filterStatus=t.target.multiple?a:a[0]}}},e._l(e.statusChoices,function(t){return a("option",{key:t.id,domProps:{value:t.display}},[e._v("\n                        "+e._s(t.display)+"\n                    ")])}),0)])])]),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-3"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:""}},[e._v("Planned From")]),e._v(" "),a("div",{ref:"caseCreatedDateFromPicker",staticClass:"input-group date"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.filterCaseCreatedFrom,expression:"filterCaseCreatedFrom"}],staticClass:"form-control",attrs:{type:"text",placeholder:"DD/MM/YYYY"},domProps:{value:e.filterCaseCreatedFrom},on:{input:function(t){t.target.composing||(e.filterCaseCreatedFrom=t.target.value)}}}),e._v(" "),a("span",{staticClass:"input-group-addon"},[a("span",{staticClass:"glyphicon glyphicon-calendar"})])])])]),e._v(" "),a("div",{staticClass:"col-md-3"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:""}},[e._v("Planned To")]),e._v(" "),a("div",{ref:"caseCreatedDateToPicker",staticClass:"input-group date"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.filterCaseCreatedTo,expression:"filterCaseCreatedTo"}],staticClass:"form-control",attrs:{type:"text",placeholder:"DD/MM/YYYY"},domProps:{value:e.filterCaseCreatedTo},on:{input:function(t){t.target.composing||(e.filterCaseCreatedTo=t.target.value)}}}),e._v(" "),a("span",{staticClass:"input-group-addon"},[a("span",{staticClass:"glyphicon glyphicon-calendar"})])])])]),e._v(" "),a("div",{staticClass:"col-md-3 pull-right"},[a("button",{staticClass:"btn btn-primary pull-right",on:{click:function(t){return t.preventDefault(),e.createLegalCase(t)}}},[e._v("New Case")])])]),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-12"},[a("datatable",{ref:"legal_case_table",attrs:{id:"legal-case-table",dtOptions:e.dtOptions,dtHeaders:e.dtHeaders}})],1)])]),e._v(" "),e.legalCaseInitialised?a("div",[a("CreateLegalCaseModal",{key:e.createLegalCaseBindId,ref:"add_legal_case"})],1):e._e()],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.withSectionsSelector?a("div",{staticClass:"col-lg-12"},[a("h3",[e._v("Application "+e._s(e.application.id)+": "+e._s(e.application.licence_type_short_name))])]):e._e(),e._v(" "),e.withSectionsSelector?a("div",{staticClass:"col-md-3 sections-dropdown"},[a("affix",{staticClass:"sections-menu",attrs:{"relative-element-selector":"#tabs"}},[a("div",{staticClass:"panel panel-default fixed"},[a("div",{staticClass:"panel-heading"},[a("div",{staticClass:"dropdown"},[a("ul",{staticClass:"list-unstyled"},[a("li",{staticClass:"open"},[a("h5",[e._v("Sections")]),e._v(" "),a("ul",{staticClass:"dropdown-menu dropdown-panel"},e._l(e.renderer_tabs,function(t,n){return a("li",{staticClass:"dropdown-submenu"},[a("a",{staticClass:"section-menu",attrs:{tabindex:"-1"},on:{click:function(a){return e.sectionClick(t)}}},[e._v("\n                                        "+e._s(t.name)+"\n                                        "),a("span",{class:"fa fa-caret-"+(t.id==e.section_tab_id?"up":"down")})]),e._v(" "),a("div",{staticClass:"dropdown-menu-right section-list",attrs:{id:"section-submenu"}},e._l(e.getSections(t.id),function(n,i){return a("div",{directives:[{name:"scroll-to",rawName:"v-scroll-to",value:"#"+n.name,expression:"`#${section.name}`"}],staticClass:"menu-row",on:{click:function(a){return e.selectTab(t)}}},[a("div",[a("i",{staticClass:"fa fa-circle"}),e._v(" "),a("span",[e._v(e._s(n.label))])])])}),0)])}),0)])])])]),e._v(" "),a("div",{staticClass:"panel-body",staticStyle:{padding:"0"}})])])],1):e._e(),e._v(" "),a("div",{class:""+(e.form_width?e.form_width:"col-md-9"),attrs:{id:"tabs"}},[a("ul",{staticClass:"nav nav-tabs",attrs:{id:"tabs-section","data-tabs":"tabs"}},e._l(e.listVisibleActivities,function(t,n){return a("li",[a("a",{class:{"nav-link amendment-highlight":e.application.has_amendment},attrs:{"data-toggle":"tab"},on:{click:function(a){return e.selectTab(t)}}},[e._v(e._s(t.label))])])}),0),e._v(" "),a("div",{staticClass:"tab-content"},[e._l(e.listVisibleActivities,function(t,n){return a("div",[a("AmendmentRequestDetails",{attrs:{activity_id:t.id}}),e._v(" "),t.id==e.selected_activity_tab_id?a("renderer-block",{key:"renderer_block_"+n,attrs:{component:t}}):e._e()],1)}),e._v("\n            "+e._s(this.$slots.default)+"\n        ")],2)])])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"form-group"},[a("label",{staticClass:"inline",attrs:{id:e.id,for:"label"}},[e._v(e._s(e.label))]),e._v(" "),e.help_text?[a("HelpText",{attrs:{help_text:e.help_text}})]:e._e(),e._v(" "),e.help_text_url?[a("HelpTextUrl",{attrs:{help_text_url:e.help_text_url}})]:e._e(),e._v(" "),a("CommentBlock",{attrs:{label:e.label,name:e.name,field_data:e.field_data}}),e._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.field_data.value,expression:"field_data.value"}],staticClass:"form-control",attrs:{readonly:e.readonly,rows:"5",name:e.name,required:e.isRequired},domProps:{value:e.field_data.value},on:{input:function(t){t.target.composing||e.$set(e.field_data,"value",t.target.value)}}}),a("br")],2)])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"internal-return-amend"}},[a("modal",{attrs:{transition:"modal fade",title:"Amendment Request",large:""},on:{ok:function(t){return e.ok()},cancel:function(t){return e.cancel()}}},[a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row"},[a("form",{staticClass:"form-horizontal",attrs:{name:"amendForm"}},[a("alert",{attrs:{show:e.showError,type:"danger"},on:{"update:show":function(t){e.showError=t}}},[a("strong",[e._v(e._s(e.errorString))])]),e._v(" "),a("div",{staticClass:"col-sm-12"},[a("div",{staticClass:"row"},[a("label",{staticClass:"control-label"},[e._v("Request Amendment for the Return")])]),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-offset-2 col-sm-8"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"control-label pull-left"},[e._v("Reason")]),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.amendment.reason,expression:"amendment.reason"}],ref:"reason",staticClass:"form-control",attrs:{name:"reason"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.amendment,"reason",t.target.multiple?a:a[0])}}},e._l(e.reason_choices,function(t){return a("option",{domProps:{value:t.key}},[e._v(e._s(t.value))])}),0)])])]),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-offset-2 col-sm-8"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"control-label pull-left"},[e._v("Comments to User")]),e._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.amendment.text,expression:"amendment.text"}],staticClass:"form-control",attrs:{name:"text"},domProps:{value:e.amendment.text},on:{input:function(t){t.target.composing||e.$set(e.amendment,"text",t.target.value)}}})])])])])],1)])])])],1)},staticRenderFns:[]}},function(e,t,a){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{},[n("div",{attrs:{id:"map-filter"}},[n("div",[n("label",{},[e._v("Sanction Outcome Types")]),e._v(" "),n("select",{directives:[{name:"model",rawName:"v-model",value:e.filterSanctionOutcomeType,expression:"filterSanctionOutcomeType"}],staticClass:"form-control",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.filterSanctionOutcomeType=t.target.multiple?a:a[0]}}},e._l(e.sanction_outcome_type_choices,function(t){return n("option",{key:t.id,domProps:{value:t.id}},[e._v("\n                    "+e._s(t.display)+"\n                ")])}),0)]),e._v(" "),n("div",[n("label",{},[e._v("Offence Status")]),e._v(" "),n("select",{directives:[{name:"model",rawName:"v-model",value:e.filterStatus,expression:"filterStatus"}],staticClass:"form-control",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.filterStatus=t.target.multiple?a:a[0]}}},e._l(e.status_choices,function(t){return n("option",{key:t.id,domProps:{value:t.id}},[e._v("\n                    "+e._s(t.display)+"\n                ")])}),0)]),e._v(" "),n("div",[n("label",{},[e._v("Date From")]),e._v(" "),n("div",{ref:"lodgementDateFromPicker",staticClass:"input-group date"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.filterDateFrom,expression:"filterDateFrom"}],staticClass:"form-control",attrs:{type:"text",placeholder:"DD/MM/YYYY"},domProps:{value:e.filterDateFrom},on:{input:function(t){t.target.composing||(e.filterDateFrom=t.target.value)}}}),e._v(" "),e._m(0)])]),e._v(" "),n("div",[n("label",{},[e._v("Date To")]),e._v(" "),n("div",{ref:"lodgementDateToPicker",staticClass:"input-group date"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.filterDateTo,expression:"filterDateTo"}],staticClass:"form-control",attrs:{type:"text",placeholder:"DD/MM/YYYY"},domProps:{value:e.filterDateTo},on:{input:function(t){t.target.composing||(e.filterDateTo=t.target.value)}}}),e._v(" "),e._m(1)])])]),e._v(" "),n("div",{attrs:{id:"map-wrapper"}},[e._m(2),e._v(" "),n("div",{attrs:{id:"mapLeaf"}}),e._v(" "),n("div",{attrs:{id:"basemap-button"}},[n("img",{attrs:{id:"basemap_sat",src:a(55)},on:{click:function(t){return e.setBaseLayer("sat")}}}),e._v(" "),n("img",{attrs:{id:"basemap_osm",src:a(54)},on:{click:function(t){return e.setBaseLayer("osm")}}})]),e._v(" "),n("div",{attrs:{id:"cursor-location"}},[e.cursor_location?n("div",[n("span",{attrs:{id:"cursor-location-lat"}},[e._v(e._s(e.cursor_location.lat.toFixed(5))+", "+e._s(e.cursor_location.lng.toFixed(5)))])]):e._e()])])])},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{staticClass:"input-group-addon"},[a("span",{staticClass:"glyphicon glyphicon-calendar"})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{staticClass:"input-group-addon"},[a("span",{staticClass:"glyphicon glyphicon-calendar"})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"search-box"}},[a("input",{attrs:{id:"search-input"}})])}]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container",attrs:{id:"internalSearch"}},[a("UserDashTable",{attrs:{level:"internal",url:e.users_url}}),e._v(" "),a("OrganisationDashTable"),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"panel-heading"},[a("h3",{staticClass:"panel-title"},[e._v("Keywords\n                        "),a("a",{attrs:{href:"#"+e.kBody,"data-toggle":"collapse","data-parent":"#keywordInfo",expanded:"true","aria-controls":e.kBody}},[a("span",{staticClass:"glyphicon glyphicon-chevron-up pull-right "})])])]),e._v(" "),a("div",{staticClass:"panel-body collapse in",attrs:{id:e.kBody}},[a("div",{staticClass:"row"},[a("div",[a("div",{staticClass:"form-group"},[a("label",{staticClass:"control-label col-lg-12",attrs:{for:""}},[e._v("Filter")]),e._v(" "),a("div",{staticClass:"form-check form-check-inline col-md-3"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.searchApplication,expression:"searchApplication"}],ref:"searchApplication",staticClass:"form-check-input",attrs:{id:"searchApplication",name:"searchApplication",type:"checkbox"},domProps:{checked:Array.isArray(e.searchApplication)?e._i(e.searchApplication,null)>-1:e.searchApplication},on:{change:function(t){var a=e.searchApplication,n=t.target,i=!!n.checked;if(Array.isArray(a)){var s=e._i(a,null);n.checked?s<0&&(e.searchApplication=a.concat([null])):s>-1&&(e.searchApplication=a.slice(0,s).concat(a.slice(s+1)))}else e.searchApplication=i}}}),e._v(" "),a("label",{staticClass:"form-check-label",attrs:{for:"searchApplication"}},[e._v("Application")])]),e._v(" "),a("div",{staticClass:"form-check form-check-inline col-md-3"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.searchLicence,expression:"searchLicence"}],ref:"searchLicence",staticClass:"form-check-input",attrs:{id:"searchLicence",name:"searchLicence",type:"checkbox"},domProps:{checked:Array.isArray(e.searchLicence)?e._i(e.searchLicence,null)>-1:e.searchLicence},on:{change:function(t){var a=e.searchLicence,n=t.target,i=!!n.checked;if(Array.isArray(a)){var s=e._i(a,null);n.checked?s<0&&(e.searchLicence=a.concat([null])):s>-1&&(e.searchLicence=a.slice(0,s).concat(a.slice(s+1)))}else e.searchLicence=i}}}),e._v(" "),a("label",{staticClass:"form-check-label",attrs:{for:"searchLicence"}},[e._v("Licence")])]),e._v(" "),a("div",{staticClass:"form-check form-check-inline col-md-3"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.searchReturn,expression:"searchReturn"}],ref:"searchReturn",staticClass:"form-check-input",attrs:{id:"searchReturn",name:"searchReturn",type:"checkbox"},domProps:{checked:Array.isArray(e.searchReturn)?e._i(e.searchReturn,null)>-1:e.searchReturn},on:{change:function(t){var a=e.searchReturn,n=t.target,i=!!n.checked;if(Array.isArray(a)){var s=e._i(a,null);n.checked?s<0&&(e.searchReturn=a.concat([null])):s>-1&&(e.searchReturn=a.slice(0,s).concat(a.slice(s+1)))}else e.searchReturn=i}}}),e._v(" "),a("label",{staticClass:"form-check-label",attrs:{for:"searchReturn"}},[e._v("Return with requirements")])]),e._v(" "),a("label",{staticClass:"control-label col-lg-12",attrs:{for:""}},[e._v("Keyword")]),e._v(" "),a("div",{staticClass:"col-md-8"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.keyWord,expression:"keyWord"}],staticClass:"form-control input-sm",attrs:{type:"search",name:"details",placeholder:""},domProps:{value:e.keyWord},on:{input:function(t){t.target.composing||(e.keyWord=t.target.value)}}})]),e._v(" "),a("div",{staticClass:"col-md-1"}),e._v(" "),a("div",{staticClass:"col-md-3"},[a("input",{staticClass:"btn btn-primary",attrs:{type:"button",value:"Add"},on:{click:function(t){return t.preventDefault(),e.addKeyword(t)}}})])])])]),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-12"},[a("ul",{staticClass:"list-inline",staticStyle:{display:"inline",width:"auto"}},e._l(e.searchKeywords,function(t,n){return a("li",{staticClass:"list-inline-item"},[a("button",{staticClass:"btn btn-light",staticStyle:{"margin-top":"5px","margin-bottom":"5px"},on:{click:function(e){e.preventDefault()}}},[e._v(e._s(t))]),a("a",{attrs:{href:""},on:{click:function(t){return t.preventDefault(),e.removeKeyword(n)}}},[a("span",{staticClass:"glyphicon glyphicon-remove "})])])}),0)])]),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-12"},[a("div",[a("input",{staticClass:"btn btn-primary",staticStyle:{"margin-bottom":"5px"},attrs:{disabled:!e.hasSearchKeywords,type:"button",value:"Search"},on:{click:function(t){return t.preventDefault(),e.searchKeyword(t)}}}),e._v(" "),a("input",{staticClass:"btn btn-primary",staticStyle:{"margin-bottom":"5px"},attrs:{type:"reset",value:"Clear"},on:{click:function(t){return t.preventDefault(),e.clearKeywordSearch(t)}}})])])]),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-12"},[a("datatable",{ref:"keyword_search_datatable",attrs:{id:e.datatable_id,dtOptions:e.keyword_search_options,dtHeaders:e.keyword_search_headers}})],1)])])])])]),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"panel-heading"},[a("h3",{staticClass:"panel-title"},[e._v("Reference Number\n                        "),a("a",{attrs:{href:"#"+e.rBody,"data-toggle":"collapse","data-parent":"#referenceNumberInfo",expanded:"true","aria-controls":e.rBody}},[a("span",{staticClass:"glyphicon glyphicon-chevron-up pull-right "})])])]),e._v(" "),a("div",{staticClass:"panel-body collapse in",attrs:{id:e.rBody}},[e._m(0),e._v(" "),a("div",{staticClass:"row"},[a("label",{staticClass:"control-label col-lg-12",attrs:{for:""}},[e._v("Reference Number")]),e._v(" "),a("div",{staticClass:"col-md-8"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.referenceWord,expression:"referenceWord"}],staticClass:"form-control input-sm",attrs:{type:"search",name:"referenceWord",placeholder:""},domProps:{value:e.referenceWord},on:{input:function(t){t.target.composing||(e.referenceWord=t.target.value)}}})]),e._v(" "),a("div",[a("input",{staticClass:"btn btn-primary",staticStyle:{"margin-bottom":"5px"},attrs:{type:"button",value:"Search"},on:{click:function(t){return t.preventDefault(),e.search_reference(t)}}})]),e._v(" "),a("alert",{attrs:{show:e.showError,type:"danger"},on:{"update:show":function(t){e.showError=t}}},[a("strong",[e._v(e._s(e.errorString))])])],1)])])])])],1)},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"row col-lg-12"},[a("span",[e._v("Search on the following items via Reference Number:")]),e._v(" "),a("ul",[a("li",[e._v("Applications (e.g. A000001)")]),e._v(" "),a("li",[e._v("Licences (e.g. L000001)")]),e._v(" "),a("li",[e._v("Returns (e.g. R000001)")]),e._v(" "),a("li",[e._v("Tag Purchases (e.g. T000001)")]),e._v(" "),a("li",[e._v("Organisation Access Requests (e.g. OAR000001)")]),e._v(" "),a("li",[e._v("Advices to CEO (e.g. AD000001)")]),e._v(" "),a("li",[e._v("Endorsement Applications (e.g. E000001)")]),e._v(" "),a("li",[e._v("Lawful Authority Applications (e.g. LAA000001)")]),e._v(" "),a("li",[e._v("Lawful Authorities (e.g. LA000001)")])])])}]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"form-group"},[a("label",{staticClass:"inline",attrs:{id:e.id,for:"label"}},[e._v(e._s(e.label))]),e._v(" "),e.help_text?[a("HelpText",{attrs:{help_text:e.help_text}})]:e._e(),e._v(" "),e.help_text_url?[a("HelpTextUrl",{attrs:{help_text_url:e.help_text_url}})]:e._e(),e._v(" "),a("CommentBlock",{attrs:{label:e.label,name:e.name,field_data:e.field_data}}),e._v(" "),""!=e.min||""!=e.max?a("span",["checkbox"===e.type?a("input",{directives:[{name:"model",rawName:"v-model",value:e.field_data.value,expression:"field_data.value"}],staticClass:"form-control",attrs:{readonly:e.readonly,min:e.min,max:e.max,name:e.name,required:e.isRequired,type:"checkbox"},domProps:{checked:Array.isArray(e.field_data.value)?e._i(e.field_data.value,null)>-1:e.field_data.value},on:{change:function(t){var a=e.field_data.value,n=t.target,i=!!n.checked;if(Array.isArray(a)){var s=e._i(a,null);n.checked?s<0&&e.$set(e.field_data,"value",a.concat([null])):s>-1&&e.$set(e.field_data,"value",a.slice(0,s).concat(a.slice(s+1)))}else e.$set(e.field_data,"value",i)}}}):"radio"===e.type?a("input",{directives:[{name:"model",rawName:"v-model",value:e.field_data.value,expression:"field_data.value"}],staticClass:"form-control",attrs:{readonly:e.readonly,min:e.min,max:e.max,name:e.name,required:e.isRequired,type:"radio"},domProps:{checked:e._q(e.field_data.value,null)},on:{change:function(t){return e.$set(e.field_data,"value",null)}}}):a("input",{directives:[{name:"model",rawName:"v-model",value:e.field_data.value,expression:"field_data.value"}],staticClass:"form-control",attrs:{readonly:e.readonly,min:e.min,max:e.max,name:e.name,required:e.isRequired,type:e.type},domProps:{value:e.field_data.value},on:{input:function(t){t.target.composing||e.$set(e.field_data,"value",t.target.value)}}})]):a("span",["checkbox"===e.type?a("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"}],staticClass:"form-control",attrs:{readonly:e.readonly,name:e.name,required:e.isRequired,type:"checkbox"},domProps:{checked:Array.isArray(e.value)?e._i(e.value,null)>-1:e.value},on:{change:function(t){var a=e.value,n=t.target,i=!!n.checked;if(Array.isArray(a)){var s=e._i(a,null);n.checked?s<0&&(e.value=a.concat([null])):s>-1&&(e.value=a.slice(0,s).concat(a.slice(s+1)))}else e.value=i}}}):"radio"===e.type?a("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"}],staticClass:"form-control",attrs:{readonly:e.readonly,name:e.name,required:e.isRequired,type:"radio"},domProps:{checked:e._q(e.value,null)},on:{change:function(t){e.value=null}}}):a("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"}],staticClass:"form-control",attrs:{readonly:e.readonly,name:e.name,required:e.isRequired,type:e.type},domProps:{value:e.value},on:{input:function(t){t.target.composing||(e.value=t.target.value)}}})])],2)])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"panel-heading"},[a("h3",{staticClass:"panel-title"},[e._v("Return\n            "),a("a",{staticClass:"panelClicker",attrs:{href:"#"+e.pdBody,"data-toggle":"collapse","data-parent":"#userInfo",expanded:"true","aria-controls":e.pdBody}},[a("span",{staticClass:"glyphicon glyphicon-chevron-up pull-right "})])])]),e._v(" "),a("div",{staticClass:"panel-body panel-collapse in",attrs:{id:e.pdBody}},[a("div",{staticClass:"col-sm-12"},[a("div",{staticClass:"row"},[a("label",{staticClass:"col-sm-4",staticStyle:{width:"70%"}},[e._v("Do you want to Lodge a nil Return?")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.nilReturn,expression:"nilReturn"}],attrs:{type:"radio",id:"nilYes",name:"nilYes",value:"yes",disabled:e.isReadOnly},domProps:{checked:e._q(e.nilReturn,"yes")},on:{change:function(t){e.nilReturn="yes"}}}),e._v(" "),a("label",{staticStyle:{width:"10%"},attrs:{for:"nilYes"}},[e._v("Yes")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.nilReturn,expression:"nilReturn"}],attrs:{type:"radio",id:"nilNo",name:"nilNo",value:"no",disabled:e.isReadOnly},domProps:{checked:e._q(e.nilReturn,"no")},on:{change:function(t){e.nilReturn="no"}}}),e._v(" "),a("label",{staticStyle:{width:"10%"},attrs:{for:"nilNo"}},[e._v("No")])]),e._v(" "),"yes"===e.nilReturn?a("div",{staticClass:"row"},[a("label",{staticClass:"col-sm-4",staticStyle:{width:"70%"}},[e._v("Reason for providing a Nil return.")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.returns.nilReason,expression:"returns.nilReason"}],attrs:{type:"textarea",name:"nilReason"},domProps:{value:e.returns.nilReason},on:{input:function(t){t.target.composing||e.$set(e.returns,"nilReason",t.target.value)}}})]):e._e(),e._v(" "),"no"===e.nilReturn?a("div",{staticClass:"row"},[a("label",{staticClass:"col-sm-4",staticStyle:{width:"70%"}},[e._v("Do you want to upload spreadsheet with Return data?"),a("br"),e._v("(Download "),a("a",{attrs:{href:e.returns.template}},[e._v("spreadsheet template")]),e._v(")")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.spreadsheetReturn,expression:"spreadsheetReturn"}],attrs:{type:"radio",name:"SpreadsheetYes",value:"yes",disabled:e.isReadOnly},domProps:{checked:e._q(e.spreadsheetReturn,"yes")},on:{change:function(t){e.spreadsheetReturn="yes"}}}),e._v(" "),a("label",{staticStyle:{width:"10%"},attrs:{for:"SpreadsheetYes"}},[e._v("Yes")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.spreadsheetReturn,expression:"spreadsheetReturn"}],attrs:{type:"radio",name:"SpreadsheetNo",value:"no",disabled:e.isReadOnly},domProps:{checked:e._q(e.spreadsheetReturn,"no")},on:{change:function(t){e.spreadsheetReturn="no"}}}),e._v(" "),a("label",{staticStyle:{width:"10%"},attrs:{for:"SpreadsheetNo"}},[e._v("No")])]):e._e(),e._v(" "),"no"===e.nilReturn&&"yes"===e.spreadsheetReturn?a("div",{staticClass:"row"},[a("label",{staticClass:"col-sm-4",staticStyle:{width:"70%"}},[e._v("Do you want to add to existing data or replace existing data?")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.replaceReturn,expression:"replaceReturn"}],attrs:{type:"radio",name:"ReplaceYes",value:"yes",disabled:e.isReadOnly},domProps:{checked:e._q(e.replaceReturn,"yes")},on:{change:function(t){e.replaceReturn="yes"}}}),e._v(" "),a("label",{staticStyle:{width:"10%"},attrs:{for:"ReplaceYes"}},[e._v("Replace")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.replaceReturn,expression:"replaceReturn"}],attrs:{type:"radio",name:"ReplaceNo",value:"no",disabled:e.isReadOnly},domProps:{checked:e._q(e.replaceReturn,"no")},on:{change:function(t){e.replaceReturn="no"}}}),e._v(" "),a("label",{staticStyle:{width:"10%"},attrs:{for:"ReplaceNo"}},[e._v("Add to")])]):e._e(),e._v(" "),"no"===e.nilReturn&&"yes"===e.spreadsheetReturn?a("div",{staticClass:"row"},[a("span",{staticClass:"btn btn-primary btn-file pull-left"},[e._v("Upload File\n                    "),a("input",{ref:"spreadsheet",attrs:{type:"file"},on:{change:function(t){return e.uploadFile()}}})]),e._v(" "),a("span",{staticClass:"pull-left",staticStyle:{"margin-left":"10px","margin-top":"10px"}},[e._v(e._s(e.uploadedFileName))])]):e._e(),e._v(" "),a("div",{staticClass:"row"}),e._v(" "),"no"===e.nilReturn?a("div",{staticClass:"row"},e._l(e.returns.table,function(t,n){return a("renderer-block",{key:e.returns-e.grid-t,attrs:{component:t}})}),1):e._e(),e._v(" "),a("div",{staticClass:"margin-left-20"})])]),e._v(" "),a("input",{attrs:{type:"hidden",name:"table_name"},domProps:{value:e.returns.table[0].name}})])},staticRenderFns:[]}},function(e,t,a){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"map-wrapper"},[n("div",{staticClass:"search-box"},[n("input",{staticClass:"search-input",attrs:{id:e.idSearchInput}})]),e._v(" "),n("div",{staticClass:"mapLeaf",attrs:{id:e.idMap}}),e._v(" "),n("div",{staticClass:"basemap-button"},[n("img",{staticClass:"basemap-button-img",attrs:{id:e.idBasemapSat,src:a(55)},on:{click:function(t){return t.stopPropagation(),e.setBaseLayer("sat")}}}),e._v(" "),n("img",{staticClass:"basemap-button-img",attrs:{id:e.idBasemapOsm,src:a(54)},on:{click:function(t){return t.stopPropagation(),e.setBaseLayer("osm")}}})]),e._v(" "),n("div",{staticClass:"cursor-location"},[e.cursor_location?n("div",[n("span",[e._v(e._s(e.cursor_location.lat.toFixed(5))+", "+e._s(e.cursor_location.lng.toFixed(5)))])]):e._e()]),e._v(" "),n("div",{staticClass:"centre_marker",on:{click:function(t){return t.stopPropagation(),e.setMarkerCentre()}}},[e._v("\n            CenterMarker\n        ")])]),e._v(" "),n("div",{staticClass:"col-sm-4 form-group"},[n("div",{staticClass:"row"},[n("label",{staticClass:"col-sm-4"},[e._v("Latitude:")]),e._v(" "),e.call_email.location?n("div",[n("input",{directives:[{name:"model",rawName:"v-model.number",value:e.call_email.location.geometry.coordinates[1],expression:"call_email.location.geometry.coordinates[1]",modifiers:{number:!0}}],staticClass:"form-control",attrs:{readonly:e.isReadonly,type:"number",min:"-90",max:"90"},domProps:{value:e.call_email.location.geometry.coordinates[1]},on:{input:function(t){t.target.composing||e.$set(e.call_email.location.geometry.coordinates,1,e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})]):e._e()])]),e._v(" "),n("div",{staticClass:"col-sm-4 form-group"},[n("div",{staticClass:"row"},[n("label",{staticClass:"col-sm-4"},[e._v("Longitude:")]),e._v(" "),e.call_email.location?n("div",[n("input",{directives:[{name:"model",rawName:"v-model.number",value:e.call_email.location.geometry.coordinates[0],expression:"call_email.location.geometry.coordinates[0]",modifiers:{number:!0}}],staticClass:"form-control",attrs:{readonly:e.isReadonly,type:"number",min:"-180",max:"180"},domProps:{value:e.call_email.location.geometry.coordinates[0]},on:{input:function(t){t.target.composing||e.$set(e.call_email.location.geometry.coordinates,0,e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})]):e._e()])]),e._v(" "),n("div",{attrs:{id:e.idLocationFieldsAddress}},[n("div",{staticClass:"col-sm-12 form-group"},[n("div",{staticClass:"row"},[n("label",{staticClass:"col-sm-4"},[e._v("Street")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.call_email.location.properties.street,expression:"call_email.location.properties.street"}],staticClass:"form-control",attrs:{readonly:e.isReadonly,readonly:""},domProps:{value:e.call_email.location.properties.street},on:{input:function(t){t.target.composing||e.$set(e.call_email.location.properties,"street",t.target.value)}}})])]),e._v(" "),n("div",{staticClass:"col-sm-12 form-group"},[n("div",{staticClass:"row"},[n("label",{staticClass:"col-sm-4"},[e._v("Town/Suburb")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.call_email.location.properties.town_suburb,expression:"call_email.location.properties.town_suburb"}],staticClass:"form-control",attrs:{readonly:e.isReadonly,readonly:""},domProps:{value:e.call_email.location.properties.town_suburb},on:{input:function(t){t.target.composing||e.$set(e.call_email.location.properties,"town_suburb",t.target.value)}}})])]),e._v(" "),n("div",{staticClass:"col-sm-12 form-group"},[n("div",{staticClass:"row"},[n("label",{staticClass:"col-sm-4"},[e._v("State")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.call_email.location.properties.state,expression:"call_email.location.properties.state"}],staticClass:"form-control",attrs:{readonly:e.isReadonly,readonly:""},domProps:{value:e.call_email.location.properties.state},on:{input:function(t){t.target.composing||e.$set(e.call_email.location.properties,"state",t.target.value)}}})])]),e._v(" "),n("div",{staticClass:"col-sm-12 form-group"},[n("div",{staticClass:"row"},[n("label",{staticClass:"col-sm-4"},[e._v("Postcode")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.call_email.location.properties.postcode,expression:"call_email.location.properties.postcode"}],staticClass:"form-control",attrs:{readonly:e.isReadonly,readonly:""},domProps:{value:e.call_email.location.properties.postcode},on:{input:function(t){t.target.composing||e.$set(e.call_email.location.properties,"postcode",t.target.value)}}})])]),e._v(" "),n("div",{staticClass:"col-sm-12 form-group"},[n("div",{staticClass:"row"},[n("label",{staticClass:"col-sm-4"},[e._v("Country")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.call_email.location.properties.country,expression:"call_email.location.properties.country"}],staticClass:"form-control",attrs:{readonly:e.isReadonly,readonly:""},domProps:{value:e.call_email.location.properties.country},on:{input:function(t){t.target.composing||e.$set(e.call_email.location.properties,"country",t.target.value)}}})])])]),e._v(" "),n("div",{attrs:{id:e.idLocationFieldsDetails}},[n("div",{staticClass:"col-sm-12 form-group"},[n("div",{staticClass:"row"},[n("label",{staticClass:"col-sm-4"},[e._v("Details")]),e._v(" "),n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.call_email.location.properties.details,expression:"call_email.location.properties.details"}],staticClass:"form-control location_address_field",domProps:{value:e.call_email.location.properties.details},on:{input:function(t){t.target.composing||e.$set(e.call_email.location.properties,"details",t.target.value)}}})])])])])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("div",{staticClass:"row"},[e.application&&e.application.id?a("div",{staticClass:"col-sm-offset-3 col-sm-6 borderDecoration"},[a("strong",[e._v("Your application has been successfully submitted.")]),e._v(" "),a("br"),e._v(" "),a("table",[a("tr",[e._m(0),e._v(" "),a("td",[a("strong",[e._v(e._s(e.application.lodgement_number))])])]),e._v(" "),a("tr",[e._m(1),e._v(" "),a("td",[a("strong",[e._v(" "+e._s(e._f("formatDate")(e.application.lodgement_date)))])])])]),e._v(" "),a("a",{staticClass:"btn btn-primary",staticStyle:{"margin-top":"15px"},attrs:{href:"/"}},[e._v("Back to dashboard")])]):a("div",{staticClass:"col-sm-offset-3 col-sm-6 borderDecoration"},[a("strong",[e._v("Sorry it looks like there isn't any application currently in your session.")]),e._v(" "),a("br"),a("a",{staticClass:"btn btn-primary",staticStyle:{"margin-top":"15px"},attrs:{href:"/"}},[e._v("Back to dashboard")])])])])])])},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("td",[a("strong",[e._v("Application:")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("td",[a("strong",[e._v("Date:")])])}]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"col-md-3"},[a("h3",[e._v(e._s(e.displayable_number))]),e._v(" "),e.is_external?e._e():a("div",[a("CommsLogs",{attrs:{comms_url:e.comms_url,logs_url:e.logs_url,comms_add_url:e.comms_add_url,disable_add_entry:!1}}),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"panel-heading"},[e._v("\n                      Submission\n                    ")]),e._v(" "),a("div",{staticClass:"panel-body panel-collapse"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("strong",[e._v("Submitted by")]),a("br"),e._v("\n                                "+e._s(e.returns.submitter.first_name)+" "+e._s(e.returns.submitter.last_name)+"\n                            ")]),e._v(" "),a("div",{staticClass:"col-sm-12 top-buffer-s"},[a("strong",[e._v("Lodged on")]),a("br"),e._v("\n                                "+e._s(e._f("formatDate")(e.returns.lodgement_date))+"\n                            ")]),e._v(" "),e._m(0)])])])]),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"panel-heading"},[e._v("Workflow")]),e._v(" "),a("div",{staticClass:"panel-body panel-collapse"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("strong",[e._v("Status")]),a("br"),e._v("\n                                "+e._s(e.returns.processing_status)+"\n                            ")]),e._v(" "),a("div",{staticClass:"col-sm-12 top-buffer-s"},[a("strong",[e._v("Currently assigned to")]),a("br"),e._v(" "),a("div",{staticClass:"form-group"},[a("select",{directives:[{name:"show",rawName:"v-show",value:e.isLoading,expression:"isLoading"}],staticClass:"form-control"},[a("option",{attrs:{value:""}},[e._v("Loading...")])]),e._v(" "),e.isLoading?e._e():a("select",{staticClass:"form-control",on:{change:e.assignTo}},[a("option",{attrs:{value:"null"}},[e._v("Unassigned")])])])]),e._v(" "),a("div",{staticClass:"col-sm-12 top-buffer-s"},[a("strong",[e._v("Action")]),a("br"),a("br"),e._v(" "),a("button",{staticClass:"btn btn-primary btn-md",staticStyle:{width:"255px"},on:{click:function(t){return t.preventDefault(),e.acceptReturn()}}},[e._v("Accept")]),a("br"),a("br"),e._v(" "),a("button",{staticClass:"btn btn-primary btn-md",staticStyle:{width:"255px"},on:{click:function(t){return t.preventDefault(),e.amendmentRequest()}}},[e._v("Request Amendment")]),e._v(" "),a("br"),a("br")])])])])])],1)]),e._v(" "),a("div",{staticClass:"col-md-9"},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.displayable_tabs,expression:"displayable_tabs"}],attrs:{id:"tabs"}},[a("ul",{staticClass:"nav nav-tabs",attrs:{id:"tabs-section","data-tabs":"tabs"}},[e._m(1),e._v(" "),e.returns.has_payment?a("li",[a("a",{attrs:{id:"1"}},[e._v("2. Confirmation")])]):e._e()])]),e._v("\n        "+e._s(this.$slots.default)+"\n    ")]),e._v(" "),a("AmendmentRequest",{ref:"amendment_request"})],1)},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"col-sm-12 top-buffer-s"},[a("table",{staticClass:"table small-table"},[a("tr",[a("th",[e._v("Lodgement")]),e._v(" "),a("th",[e._v("Date")]),e._v(" "),a("th",[e._v("Action")])])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"active"},[a("a",{attrs:{id:"0"}},[e._v("1. Return")])])}]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"change-contact"}},[a("modal",{attrs:{transition:"modal fade",title:e.title,large:""},on:{ok:function(t){return e.ok()},cancel:function(t){return e.cancel()}}},[a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row"},[a("form",{staticClass:"form-horizontal",attrs:{name:"declineForm"}},[a("alert",{attrs:{show:e.showError,type:"danger"},on:{"update:show":function(t){e.showError=t}}},[a("strong",[e._v(e._s(e.errorString))])]),e._v(" "),a("div",{staticClass:"col-sm-12"},[a("div",{staticClass:"form-group"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("label",{staticClass:"control-label",attrs:{for:"Name"}},[e._v("Select licensed activities to Propose Decline")]),e._v(" "),e._l(e.visibleLicenceActivities,function(t){return a("div",[a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.propose_decline.activity,expression:"propose_decline.activity"}],attrs:{type:"checkbox",id:t.id},domProps:{value:t.id,checked:Array.isArray(e.propose_decline.activity)?e._i(e.propose_decline.activity,t.id)>-1:e.propose_decline.activity},on:{change:function(a){var n=e.propose_decline.activity,i=a.target,s=!!i.checked;if(Array.isArray(n)){var o=t.id,r=e._i(n,o);i.checked?r<0&&e.$set(e.propose_decline,"activity",n.concat([o])):r>-1&&e.$set(e.propose_decline,"activity",n.slice(0,r).concat(n.slice(r+1)))}else e.$set(e.propose_decline,"activity",s)}}}),e._v(e._s(t.name)+"\n                                        ")])])})],2)])]),e._v(" "),a("div",{staticClass:"form-group"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("label",{staticClass:"control-label",attrs:{for:"Name"}},[e._v("Provide Reason for the proposed decline ")]),e._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.propose_decline.reason,expression:"propose_decline.reason"}],staticClass:"form-control",staticStyle:{width:"70%"},attrs:{name:"reason"},domProps:{value:e.propose_decline.reason},on:{input:function(t){t.target.composing||e.$set(e.propose_decline,"reason",t.target.value)}}})])])]),e._v(" "),a("div",{staticClass:"form-group"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("label",{staticClass:"control-label",attrs:{for:"Name"}},[e._v("Proposed CC email")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.propose_decline.cc_email,expression:"propose_decline.cc_email"}],staticClass:"form-control",staticStyle:{width:"70%"},attrs:{type:"text",name:"cc_email"},domProps:{value:e.propose_decline.cc_email},on:{input:function(t){t.target.composing||e.$set(e.propose_decline,"cc_email",t.target.value)}}})])])])])],1)])]),e._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[e.decliningApplication?a("button",{staticClass:"btn btn-default",attrs:{type:"button",disabled:""},on:{click:e.ok}},[a("i",{staticClass:"fa fa-spinner fa-spin"}),e._v("Proposing Decline")]):a("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:e.ok}},[e._v("Propose Decline")]),e._v(" "),a("button",{staticClass:"btn btn-default",attrs:{type:"button"},on:{click:e.cancel}},[e._v("Cancel")])])])],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"internal-application-sendAssessor"}},[a("modal",{attrs:{transition:"modal fade",title:"Send to Assessor",large:""},on:{ok:function(t){return e.ok()},cancel:function(t){return e.cancel()}}},[a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row"},[a("form",{staticClass:"form-horizontal",attrs:{name:"assessorForm"}},[a("alert",{attrs:{show:e.showError,type:"danger"},on:{"update:show":function(t){e.showError=t}}},[a("strong",[e._v(e._s(e.errorString))])]),e._v(" "),a("div",{staticClass:"col-sm-12"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-offset-2 col-sm-8"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"control-label pull-left",attrs:{for:"Name"}},[e._v("To")]),e._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.assessment.assessor_group_name,expression:"assessment.assessor_group_name"}],staticClass:"form-control",attrs:{readonly:""},domProps:{value:e.assessment.assessor_group_name},on:{input:function(t){t.target.composing||e.$set(e.assessment,"assessor_group_name",t.target.value)}}})])])]),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-offset-2 col-sm-8"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"control-label pull-left",attrs:{for:"Name"}},[e._v("Details")]),e._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.assessment.text,expression:"assessment.text"}],staticClass:"form-control",attrs:{name:"name"},domProps:{value:e.assessment.text},on:{input:function(t){t.target.composing||e.$set(e.assessment,"text",t.target.value)}}})])])])])],1)])])])],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container",attrs:{id:"userInfo"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("div",{staticClass:"panel panel-default"},[e._m(0),e._v(" "),a("div",{staticClass:"panel-body collapse in",attrs:{id:e.pBody}},[a("form",{staticClass:"form-horizontal",attrs:{name:"profile_form",method:"post"}},[a("div",[a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-3 control-label",attrs:{for:""}},[e._v("Profile Name")]),e._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.profile.name,expression:"profile.name"}],staticClass:"form-control",attrs:{type:"text",name:"name",placeholder:""},domProps:{value:e.profile.name},on:{input:function(t){t.target.composing||e.$set(e.profile,"name",t.target.value)}}})])]),e._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-3 control-label",attrs:{for:""}},[e._v("Email")]),e._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.profile.email,expression:"profile.email"}],staticClass:"form-control",attrs:{type:"email",name:"email",placeholder:""},domProps:{value:e.profile.email},on:{input:function(t){t.target.composing||e.$set(e.profile,"email",t.target.value)}}})])]),e._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-3 control-label",attrs:{for:""}},[e._v("Institution")]),e._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.profile.institution,expression:"profile.institution"}],staticClass:"form-control",attrs:{type:"text",name:"institution",placeholder:""},domProps:{value:e.profile.institution},on:{input:function(t){t.target.composing||e.$set(e.profile,"institution",t.target.value)}}})])])]),e._v(" "),a("div",[a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-3 control-label",attrs:{for:""}},[e._v("Line 1")]),e._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.profile.postal_address.line1,expression:"profile.postal_address.line1"}],staticClass:"form-control",attrs:{type:"text",name:"line1",placeholder:""},domProps:{value:e.profile.postal_address.line1},on:{input:function(t){t.target.composing||e.$set(e.profile.postal_address,"line1",t.target.value)}}})])]),e._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-3 control-label",attrs:{for:""}},[e._v("Line 2")]),e._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.profile.postal_address.line2,expression:"profile.postal_address.line2"}],staticClass:"form-control",attrs:{type:"text",name:"line2",placeholder:""},domProps:{value:e.profile.postal_address.line2},on:{input:function(t){t.target.composing||e.$set(e.profile.postal_address,"line2",t.target.value)}}})])]),e._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-3 control-label",attrs:{for:""}},[e._v("Line 3")]),e._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.profile.postal_address.line3,expression:"profile.postal_address.line3"}],staticClass:"form-control",attrs:{type:"text",name:"line3",placeholder:""},domProps:{value:e.profile.postal_address.line3},on:{input:function(t){t.target.composing||e.$set(e.profile.postal_address,"line3",t.target.value)}}})])]),e._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-3 control-label",attrs:{for:""}},[e._v("Suburb/Town (Locality)")]),e._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.profile.postal_address.locality,expression:"profile.postal_address.locality"}],staticClass:"form-control",attrs:{type:"text",name:"locality",placeholder:""},domProps:{value:e.profile.postal_address.locality},on:{input:function(t){t.target.composing||e.$set(e.profile.postal_address,"locality",t.target.value)}}})])]),e._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-3 control-label",attrs:{for:""}},[e._v("State")]),e._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.profile.postal_address.state,expression:"profile.postal_address.state"}],staticClass:"form-control",attrs:{type:"text",name:"state",placeholder:""},domProps:{value:e.profile.postal_address.state},on:{input:function(t){t.target.composing||e.$set(e.profile.postal_address,"state",t.target.value)}}})])]),e._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-3 control-label",attrs:{for:""}},[e._v("Country")]),e._v(" "),a("div",{staticClass:"col-sm-4"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.profile.postal_address.country,expression:"profile.postal_address.country"}],staticClass:"form-control",attrs:{name:"country",placeholder:""},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.profile.postal_address,"country",t.target.multiple?a:a[0])}}},e._l(e.countries,function(t){return a("option",{domProps:{value:t.alpha2Code}},[e._v(e._s(t.name))])}),0)])]),e._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-3 control-label",attrs:{for:""}},[e._v("Postcode")]),e._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.profile.postal_address.postcode,expression:"profile.postal_address.postcode"}],staticClass:"form-control",attrs:{type:"text",name:"postcode",placeholder:""},domProps:{value:e.profile.postal_address.postcode},on:{input:function(t){t.target.composing||e.$set(e.profile.postal_address,"postcode",t.target.value)}}})])])]),e._v(" "),a("div",{staticClass:"form-group"},[a("div",{staticClass:"col-sm-12"},[e.updatingProfile?a("button",{staticClass:"pull-right btn btn-primary",attrs:{disabled:""}},[a("i",{staticClass:"fa fa-spin fa-spinner"}),e._v("Updating")]):a("button",{staticClass:"pull-right btn btn-primary",on:{click:function(t){return t.preventDefault(),e.updateProfile()}}},[e._v("Update")])])])])])])])])])},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"panel-heading"},[a("h3",{staticClass:"panel-title"},[e._v("Edit Profile\n                ")])])}]}},function(e,t,a){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"map-wrapper"},[n("div",{staticClass:"search-box"},[n("input",{staticClass:"search-input",attrs:{id:e.idSearchInput}})]),e._v(" "),n("div",{staticClass:"mapLeaf",attrs:{id:e.idMap}}),e._v(" "),n("div",{staticClass:"basemap-button"},[n("img",{staticClass:"basemap-button-img",attrs:{id:e.idBasemapSat,src:a(55)},on:{click:function(t){return t.stopPropagation(),e.setBaseLayer("sat")}}}),e._v(" "),n("img",{staticClass:"basemap-button-img",attrs:{id:e.idBasemapOsm,src:a(54)},on:{click:function(t){return t.stopPropagation(),e.setBaseLayer("osm")}}})]),e._v(" "),n("div",{staticClass:"cursor-location"},[e.cursor_location?n("div",[n("span",[e._v(e._s(e.cursor_location.lat.toFixed(5))+", "+e._s(e.cursor_location.lng.toFixed(5)))])]):e._e()]),e._v(" "),n("div",{staticClass:"centre_marker",on:{click:function(t){return t.stopPropagation(),e.setMarkerCentre()}}},[e._v("\n            CenterMarker\n        ")])]),e._v(" "),n("div",{staticClass:"col-sm-4 form-group"},[n("div",{staticClass:"row"},[n("label",{staticClass:"col-sm-4"},[e._v("Latitude:")]),e._v(" "),e.marker_lat?n("div",[n("input",{directives:[{name:"model",rawName:"v-model.number",value:e.marker_lat,expression:"marker_lat",modifiers:{number:!0}}],staticClass:"form-control",attrs:{readonly:e.readonly,type:"number",min:"-90",max:"90"},domProps:{value:e.marker_lat},on:{input:function(t){t.target.composing||(e.marker_lat=e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})]):e._e()])]),e._v(" "),n("div",{staticClass:"col-sm-4 form-group"},[n("div",{staticClass:"row"},[n("label",{staticClass:"col-sm-4"},[e._v("Longitude:")]),e._v(" "),e.marker_lng?n("div",[n("input",{directives:[{name:"model",rawName:"v-model.number",value:e.marker_lng,expression:"marker_lng",modifiers:{number:!0}}],staticClass:"form-control",attrs:{readonly:e.readonly,type:"number",min:"-180",max:"180"},domProps:{value:e.marker_lng},on:{input:function(t){t.target.composing||(e.marker_lng=e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})]):e._e()])])])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container",attrs:{id:"internalOrgAccessDash"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-3"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:""}},[e._v("Organisation")]),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.filterOrganisation,expression:"filterOrganisation"}],staticClass:"form-control",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.filterOrganisation=t.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"All"}},[e._v("All")]),e._v(" "),e._l(e.organisationChoices,function(t){return a("option",{domProps:{value:t}},[e._v(e._s(t))])})],2)])]),e._v(" "),a("div",{staticClass:"col-md-3"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:""}},[e._v("Applicant")]),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.filterApplicant,expression:"filterApplicant"}],staticClass:"form-control",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.filterApplicant=t.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"All"}},[e._v("All")]),e._v(" "),e._l(e.applicantChoices,function(t){return a("option",{domProps:{value:t}},[e._v(e._s(t))])})],2)])]),e._v(" "),a("div",{staticClass:"col-md-3"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:""}},[e._v("Role")]),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.filterRole,expression:"filterRole"}],staticClass:"form-control",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.filterRole=t.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"All"}},[e._v("All")]),e._v(" "),e._l(e.roleChoices,function(t){return a("option",{domProps:{value:t}},[e._v(e._s(t))])})],2)])]),e._v(" "),a("div",{staticClass:"col-md-3"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:""}},[e._v("Status")]),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.filterStatus,expression:"filterStatus"}],staticClass:"form-control",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.filterStatus=t.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"All"}},[e._v("All")]),e._v(" "),e._l(e.statusChoices,function(t){return a("option",{domProps:{value:t}},[e._v(e._s(t))])})],2)])])]),e._v(" "),a("datatable",{ref:"org_access_table",attrs:{id:"org-access-table",dtOptions:e.org_access_request_options,dtHeaders:e.org_access_request_headers}})],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"CreateInspection"}},[a("modal",{attrs:{transition:"modal fade",title:"Create New Inspection",large:"",force:""},on:{ok:function(t){return e.ok()},cancel:function(t){return e.cancel()}}},[a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("div",{staticClass:"form-group"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-3"},[a("label",[e._v("Region")])]),e._v(" "),a("div",{staticClass:"col-sm-9"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.region_id,expression:"region_id"}],staticClass:"form-control col-sm-9",on:{change:[function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.region_id=t.target.multiple?a:a[0]},function(t){return t.preventDefault(),e.updateDistricts()}]}},e._l(e.regions,function(t){return a("option",{key:t.id,domProps:{value:t.id}},[e._v("\n                              "+e._s(t.display_name)+" \n                            ")])}),0)])])]),e._v(" "),a("div",{staticClass:"form-group"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-3"},[a("label",[e._v("District")])]),e._v(" "),a("div",{staticClass:"col-sm-9"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.district_id,expression:"district_id"}],staticClass:"form-control",on:{change:[function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.district_id=t.target.multiple?a:a[0]},function(t){return t.preventDefault(),e.updateAllocatedGroup()}]}},e._l(e.availableDistricts,function(t){return a("option",{key:t.id,domProps:{value:t.id}},[e._v("\n                              "+e._s(t.display_name)+" \n                            ")])}),0)])])]),e._v(" "),a("div",{staticClass:"form-group"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-3"},[a("label",[e._v("Allocate to")])]),e._v(" "),a("div",{staticClass:"col-sm-9"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.assigned_to_id,expression:"assigned_to_id"}],staticClass:"form-control",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.assigned_to_id=t.target.multiple?a:a[0]}}},e._l(e.allocatedGroup,function(t){return a("option",{key:t.id,domProps:{value:t.id}},[e._v("\n                              "+e._s(t.full_name)+" \n                            ")])}),0)])])]),e._v(" "),a("div",{staticClass:"form-group"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-3"},[a("label",[e._v("Inspection Type")])]),e._v(" "),a("div",{staticClass:"col-sm-9"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.inspection_type_id,expression:"inspection_type_id"}],staticClass:"form-control",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.inspection_type_id=t.target.multiple?a:a[0]}}},e._l(e.inspectionTypes,function(t){return a("option",{key:t.id,domProps:{value:t.id}},[e._v("\n                              "+e._s(t.inspection_type)+"\n                            ")])}),0)])])]),e._v(" "),a("div",{staticClass:"form-group"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-3"},[a("label",{staticClass:"control-label pull-left",attrs:{for:"details"}},[e._v("Details")])]),e._v(" "),a("div",{staticClass:"col-sm-6"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.inspectionDetails,expression:"inspectionDetails"}],staticClass:"form-control",attrs:{placeholder:"add details",id:"details"},domProps:{value:e.inspectionDetails},on:{input:function(t){t.target.composing||(e.inspectionDetails=t.target.value)}}})])])]),e._v(" "),a("div",{staticClass:"form-group"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-3"},[a("label",{staticClass:"control-label pull-left",attrs:{for:"Name"}},[e._v("Attachments")])]),e._v(" "),a("div",{staticClass:"col-sm-9"},[a("filefield",{ref:"comms_log_file",attrs:{name:"comms-log-file",isRepeatable:!0,documentActionUrl:"temporary_document"},on:{"update-temp-doc-coll-id":e.setTemporaryDocumentCollectionId}})],1)])])])])]),e._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[e.errorResponse?a("div",{staticClass:"form-group"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("strong",[a("span",{staticStyle:{"white-space":"pre"}},[e._v(e._s(e.errorResponse))])])])])]):e._e(),e._v(" "),a("button",{staticClass:"btn btn-default",attrs:{type:"button"},on:{click:e.ok}},[e._v("Ok")]),e._v(" "),a("button",{staticClass:"btn btn-default",attrs:{type:"button"},on:{click:e.cancel}},[e._v("Cancel")])])])],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.org?a("div",{staticClass:"container",attrs:{id:"userInfo"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"panel-heading"},[a("h3",{staticClass:"panel-title"},[e._v("Organisation Details"),a("small",[e._v(" View and update the organisation's details")]),e._v(" "),a("a",{staticClass:"panelClicker",attrs:{href:"#"+e.pBody,"data-toggle":"collapse","data-parent":"#userInfo",expanded:"true","aria-controls":e.pBody}},[a("span",{staticClass:"glyphicon glyphicon-chevron-up pull-right "})])])]),e._v(" "),a("div",{staticClass:"panel-body collapse in",attrs:{id:e.pBody}},[a("form",{staticClass:"form-horizontal",attrs:{name:"personal_form",method:"post"}},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-3 control-label",attrs:{for:""}},[e._v("Name")]),e._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.org.name,expression:"org.name"}],staticClass:"form-control",attrs:{type:"text",disabled:!e.myorgperms.is_admin,name:"first_name",placeholder:""},domProps:{value:e.org.name},on:{input:function(t){t.target.composing||e.$set(e.org,"name",t.target.value)}}})])]),e._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-3 control-label",attrs:{for:""}},[e._v("ABN")]),e._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.org.abn,expression:"org.abn"}],staticClass:"form-control",attrs:{type:"text",disabled:"",name:"last_name",placeholder:""},domProps:{value:e.org.abn},on:{input:function(t){t.target.composing||e.$set(e.org,"abn",t.target.value)}}})])]),e._v(" "),a("div",{staticClass:"form-group"},[a("div",{staticClass:"col-sm-12"},[e.updatingDetails?a("button",{staticClass:"pull-right btn btn-primary",attrs:{disabled:""}},[a("i",{staticClass:"fa fa-spin fa-spinner"}),e._v("Updating")]):a("button",{staticClass:"pull-right btn btn-primary",on:{click:function(t){return t.preventDefault(),e.updateDetails()}}},[e._v("Update")])])])])])])])]),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"panel-heading"},[a("h3",{staticClass:"panel-title"},[e._v("Identification"),a("small",[e._v(" Upload organisation ID")]),e._v(" "),a("a",{staticClass:"panelClicker",attrs:{href:"#"+e.idBody,"data-toggle":"collapse","data-parent":"#userInfo",expanded:"false","aria-controls":e.idBody}},[a("span",{staticClass:"glyphicon glyphicon-chevron-down pull-right "})])])]),e._v(" "),a("div",{staticClass:"panel-body collapse",attrs:{id:e.idBody}},[a("form",{staticClass:"form-horizontal",attrs:{name:"id_form",method:"post"}},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-3 control-label",attrs:{for:""}},[e._v("Identification")]),e._v(" "),a("div",{staticClass:"col-sm-6"},[e.org.organisation.identification?a("img",{attrs:{width:"100%",name:"identification",src:e.org.organisation.identification}}):e._e()])]),e._v(" "),a("div",{staticClass:"form-group"},[a("div",{staticClass:"col-sm-12"},[e.uploadingID?a("button",{staticClass:"pull-right btn btn-primary",attrs:{disabled:""}},[a("i",{staticClass:"fa fa-spin fa-spinner"}),e._v("Uploading")]):a("button",{staticClass:"pull-right btn btn-primary",on:{click:function(t){return t.preventDefault(),e.uploadID()}}},[e._v("Upload")]),e._v(" "),a("span",{staticClass:"pull-right",staticStyle:{"margin-left":"10px","margin-top":"10px","margin-right":"10px"}},[e._v(e._s(e.uploadedIDFileName))]),e._v(" "),a("span",{staticClass:"btn btn-primary btn-file pull-right"},[e._v("\n                                Select ID to Upload"),a("input",{ref:"uploadedID",attrs:{type:"file"},on:{change:function(t){return e.readFileID()}}})])])])])])])])]),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"panel-heading"},[a("h3",{staticClass:"panel-title"},[e._v("Address Details"),a("small",[e._v(" View and update the organisation's address details")]),e._v(" "),a("a",{staticClass:"panelClicker",attrs:{href:"#"+e.adBody,"data-toggle":"collapse",expanded:"false","data-parent":"#userInfo","aria-controls":e.adBody}},[a("span",{staticClass:"glyphicon glyphicon-chevron-down pull-right "})])])]),e._v(" "),0==e.loading.length?a("div",{staticClass:"panel-body collapse",attrs:{id:e.adBody}},[a("form",{staticClass:"form-horizontal",attrs:{action:"index.html",method:"post"}},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-3 control-label",attrs:{for:""}},[e._v("Street")]),e._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.org.address.line1,expression:"org.address.line1"}],staticClass:"form-control",attrs:{type:"text",name:"street",placeholder:""},domProps:{value:e.org.address.line1},on:{input:function(t){t.target.composing||e.$set(e.org.address,"line1",t.target.value)}}})])]),e._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-3 control-label",attrs:{for:""}},[e._v("Town/Suburb")]),e._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.org.address.locality,expression:"org.address.locality"}],staticClass:"form-control",attrs:{type:"text",name:"surburb",placeholder:""},domProps:{value:e.org.address.locality},on:{input:function(t){t.target.composing||e.$set(e.org.address,"locality",t.target.value)}}})])]),e._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-3 control-label",attrs:{for:""}},[e._v("State")]),e._v(" "),a("div",{staticClass:"col-sm-3"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.org.address.state,expression:"org.address.state"}],staticClass:"form-control",attrs:{type:"text",name:"country",placeholder:""},domProps:{value:e.org.address.state},on:{input:function(t){t.target.composing||e.$set(e.org.address,"state",t.target.value)}}})]),e._v(" "),a("label",{staticClass:"col-sm-1 control-label",attrs:{for:""}},[e._v("Postcode")]),e._v(" "),a("div",{staticClass:"col-sm-2"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.org.address.postcode,expression:"org.address.postcode"}],staticClass:"form-control",attrs:{type:"text",name:"postcode",placeholder:""},domProps:{value:e.org.address.postcode},on:{input:function(t){t.target.composing||e.$set(e.org.address,"postcode",t.target.value)}}})])]),e._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-3 control-label",attrs:{for:""}},[e._v("Country")]),e._v(" "),a("div",{staticClass:"col-sm-4"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.org.address.country,expression:"org.address.country"}],staticClass:"form-control",attrs:{name:"country"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.org.address,"country",t.target.multiple?a:a[0])}}},e._l(e.countries,function(t){return a("option",{domProps:{value:t.alpha2Code}},[e._v(e._s(t.name))])}),0)])]),e._v(" "),a("div",{staticClass:"form-group"},[a("div",{staticClass:"col-sm-12"},[e.updatingAddress?a("button",{staticClass:"pull-right btn btn-primary",attrs:{disabled:""}},[a("i",{staticClass:"fa fa-spin fa-spinner"}),e._v("Updating")]):a("button",{staticClass:"pull-right btn btn-primary",on:{click:function(t){return t.preventDefault(),e.updateAddress()}}},[e._v("Update")])])])])]):e._e()])])]),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"panel-heading"},[a("h3",{staticClass:"panel-title"},[e._v("Contact Details"),a("small",[e._v(" View and update the organisation's contact details")]),e._v(" "),a("a",{staticClass:"panelClicker",attrs:{href:"#"+e.cBody,"data-toggle":"collapse","data-parent":"#userInfo",expanded:"false","aria-controls":e.cBody}},[a("span",{staticClass:"glyphicon glyphicon-chevron-down pull-right "})])])]),e._v(" "),a("div",{staticClass:"panel-body collapse",attrs:{id:e.cBody}},[a("form",{staticClass:"form-horizontal",attrs:{action:"index.html",method:"post"}},[a("div",{staticClass:"col-sm-12"},[a("button",{staticClass:"btn btn-primary pull-right",staticStyle:{"margin-bottom":"10px"},on:{click:function(t){return t.preventDefault(),e.addContact()}}},[e._v("Add Contact")])]),e._v(" "),a("datatable",{ref:"contacts_datatable",attrs:{id:"organisation_contacts_datatable",dtOptions:e.contacts_options,dtHeaders:e.contacts_headers}})],1)])])])]),e._v(" "),e.myorgperms.is_admin?a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"panel-heading"},[a("h3",{staticClass:"panel-title"},[e._v("Linked Persons"),a("small",[e._v(" Manage the user accounts linked to the organisation")]),e._v(" "),a("a",{staticClass:"panelClicker",attrs:{href:"#"+e.oBody,"data-toggle":"collapse","data-parent":"#userInfo",expanded:"true","aria-controls":e.oBody}},[a("span",{staticClass:"glyphicon glyphicon-chevron-down pull-right "})])])]),e._v(" "),a("div",{staticClass:"panel-body collapse",attrs:{id:e.oBody}},[e._m(0),e._v(" "),a("form",{staticClass:"form-horizontal",attrs:{action:"index.html",method:"post"}},[a("div",{staticClass:"col-sm-6 row"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-6 control-label",attrs:{for:""}},[e._v(" Organisation User Pin Code 1:")]),e._v(" "),a("div",{staticClass:"col-sm-6"},[a("label",{staticClass:"control-label"},[e._v(e._s(e.org.pins.three))])])]),e._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-6 control-label",attrs:{for:""}},[e._v("Organisation User Pin Code 2:")]),e._v(" "),a("div",{staticClass:"col-sm-6"},[a("label",{staticClass:"control-label"},[e._v(e._s(e.org.pins.four))])])])]),e._v(" "),a("div",{staticClass:"col-sm-6 row"},[a("div",{staticClass:"form-group",attrs:{disabled:!e.myorgperms.is_admin}},[a("label",{staticClass:"col-sm-6 control-label",attrs:{for:""}},[e._v(" Organisation Administrator Pin Code 1:")]),e._v(" "),a("div",{staticClass:"col-sm-6"},[a("label",{staticClass:"control-label"},[e._v(e._s(e.org.pins.one))])])]),e._v(" "),a("div",{staticClass:"form-group",attrs:{disabled:!e.myorgperms.is_admin}},[a("label",{staticClass:"col-sm-6 control-label",attrs:{for:""}},[e._v("Organisation Administrator Pin Code 2:")]),e._v(" "),a("div",{staticClass:"col-sm-6"},[a("label",{staticClass:"control-label"},[e._v(e._s(e.org.pins.two))])])])])]),e._v(" "),e._m(1),e._v(" "),a("div",[a("datatable",{ref:"contacts_datatable_user",attrs:{id:"organisation_contacts_datatable_ref",dtOptions:e.contacts_options_ref,dtHeaders:e.contacts_headers_ref},model:{value:e.filterOrgContactStatus,callback:function(t){e.filterOrgContactStatus=t},expression:"filterOrgContactStatus"}})],1)])])])]):e._e(),e._v(" "),a("AddContact",{ref:"add_contact",attrs:{org_id:e.org.id}})],1):e._e()},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"col-sm-12 row"},[a("h6",[e._v("Use the Organisation Administrator pin codes if you want the new user to be linked as organisation administrator."),a("br"),e._v(" Use the Organisation User pin codes if you want the new user to be linked as organisation user.")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"col-sm-12 row"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12 top-buffer-s"},[a("strong",[e._v("Persons linked to the organisation are controlled by the organisation. The Department cannot manage this list of people.")])])])])])}]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("modal",{attrs:{transition:"modal fade",title:e.modalTitle,large:"",force:""},on:{ok:function(t){return e.ok()},cancel:function(t){return e.cancel()}}},[a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row col-sm-12"},[a("div",{staticClass:"form-group"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-3"},[a("label",{staticClass:"control-label pull-left"},[e._v("Reason")])]),e._v(" "),a("div",{staticClass:"col-sm-7"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.workflowDetails,expression:"workflowDetails"}],staticClass:"form-control",attrs:{placeholder:"add reason",id:"reason"},domProps:{value:e.workflowDetails},on:{input:function(t){t.target.composing||(e.workflowDetails=t.target.value)}}})])])]),e._v(" "),a("div",{staticClass:"form-group"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-3"},[a("label",{staticClass:"control-label pull-left",attrs:{for:"Name"}},[e._v("Attachments")])]),e._v(" "),a("div",{staticClass:"col-sm-9"},[a("filefield",{ref:"comms_log_file",attrs:{name:"comms-log-file",isRepeatable:!0,documentActionUrl:e.sanction_outcome.commsLogsDocumentUrl}})],1)])])])]),e._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[e.errorResponse?a("div",{staticClass:"form-group"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("strong",[a("span",{staticStyle:{"white-space":"pre"},domProps:{innerHTML:e._s(e.errorResponse)}})])])])]):e._e(),e._v(" "),e.processingDetails?a("button",{staticClass:"btn btn-default",attrs:{type:"button",disabled:""},on:{click:e.ok}},[a("i",{staticClass:"fa fa-spinner fa-spin"}),e._v(" Adding")]):a("button",{staticClass:"btn btn-default",attrs:{type:"button"},on:{click:e.ok}},[e._v("Ok")]),e._v(" "),a("button",{staticClass:"btn btn-default",attrs:{type:"button"},on:{click:e.cancel}},[e._v("Cancel")])])])],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"actionLicencePurpose"}},[a("modal",{attrs:{transition:"modal fade",title:e.title,large:""},on:{ok:function(t){return e.ok()},cancel:function(t){return e.cancel()}}},[a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row"},[a("form",{staticClass:"form-horizontal",attrs:{name:"actionPurposeForm"}},[a("alert",{attrs:{show:e.showError,type:"danger"},on:{"update:show":function(t){e.showError=t}}},[a("strong",[e._v(e._s(e.errorString))])]),e._v(" "),a("div",{staticClass:"col-sm-12"},[a("div",{staticClass:"form-group"},[a("div",{staticClass:"row"},[e.hasActionableLicencePurposes?a("div",{staticClass:"col-sm-12"},e._l(e.actionableLicencePurposes,function(t){return a("div",[a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.action_licence.purpose_ids_list,expression:"action_licence.purpose_ids_list"}],attrs:{type:"checkbox",id:t.id},domProps:{value:t.id,checked:Array.isArray(e.action_licence.purpose_ids_list)?e._i(e.action_licence.purpose_ids_list,t.id)>-1:e.action_licence.purpose_ids_list},on:{change:function(a){var n=e.action_licence.purpose_ids_list,i=a.target,s=!!i.checked;if(Array.isArray(n)){var o=t.id,r=e._i(n,o);i.checked?r<0&&e.$set(e.action_licence,"purpose_ids_list",n.concat([o])):r>-1&&e.$set(e.action_licence,"purpose_ids_list",n.slice(0,r).concat(n.slice(r+1)))}else e.$set(e.action_licence,"purpose_ids_list",s)}}}),e._v(" "+e._s(t.name)+"\n                                        ")])])}),0):a("div",{staticClass:"col-sm-12"},[a("span",[e._v("You cannot apply this action to any purposes. This may be due to open applications that have yet to be processed.")])])])])])],1)])]),e._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[e.actioningPurposes?a("button",{staticClass:"btn btn-default",attrs:{type:"button",disabled:""},on:{click:e.ok}},[a("i",{staticClass:"fa fa-spinner fa-spin"}),e._v(e._s(e.actioning_text)+" Purpose(s)")]):e._e(),e._v(" "),e.hasActionableLicencePurposes&&!e.actioningPurposes?a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:e.ok}},[e._v(e._s(e.action_text)+" Purpose(s)")]):e._e(),e._v(" "),a("button",{staticClass:"btn btn-default",attrs:{type:"button"},on:{click:e.cancel}},[e._v("Close")])])])],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"form-group"},[a("label",{attrs:{id:e.id,for:"label"},domProps:{innerHTML:e._s(e.value)}})])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container",attrs:{id:"internalSanctionOutcomeDash"}},[a("FormSection",{attrs:{label:"Sanction Outcome",Index:"0"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-3"},[a("label",{},[e._v("Type:")]),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.filterType,expression:"filterType"}],staticClass:"form-control",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.filterType=t.target.multiple?a:a[0]}}},e._l(e.sanction_outcome_types,function(t){return a("option",{key:t.id,domProps:{value:t.id}},[e._v("\n                    "+e._s(t.display)+"\n                ")])}),0)]),e._v(" "),a("div",{staticClass:"col-md-3"},[a("label",{},[e._v("Status:")]),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.filterStatus,expression:"filterStatus"}],staticClass:"form-control",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.filterStatus=t.target.multiple?a:a[0]}}},e._l(e.sanction_outcome_statuses,function(t){return a("option",{key:t.id,domProps:{value:t.id}},[e._v("\n                    "+e._s(t.display)+"\n                ")])}),0)]),e._v(" "),a("div",{staticClass:"col-md-3"},[a("label",{},[e._v("Payment status:")]),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.filterPaymentStatus,expression:"filterPaymentStatus"}],staticClass:"form-control",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.filterPaymentStatus=t.target.multiple?a:a[0]}}},e._l(e.sanction_outcome_payment_statuses,function(t){return a("option",{key:t.id,domProps:{value:t.id}},[e._v("\n                    "+e._s(t.display)+"\n                ")])}),0)])]),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-3"},[a("label",{},[e._v("Issue date from:")]),e._v(" "),a("div",{ref:"issueDateFromPicker",staticClass:"input-group date"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.filterDateFromPicker,expression:"filterDateFromPicker"}],staticClass:"form-control",attrs:{type:"text",placeholder:"DD/MM/YYYY"},domProps:{value:e.filterDateFromPicker},on:{input:function(t){t.target.composing||(e.filterDateFromPicker=t.target.value)}}}),e._v(" "),a("span",{staticClass:"input-group-addon"},[a("span",{staticClass:"glyphicon glyphicon-calendar"})])])]),e._v(" "),a("div",{staticClass:"col-md-3"},[a("label",{},[e._v("Issue date to:")]),e._v(" "),a("div",{ref:"issueDateToPicker",staticClass:"input-group date"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.filterDateToPicker,expression:"filterDateToPicker"}],staticClass:"form-control",attrs:{type:"text",placeholder:"DD/MM/YYYY"},domProps:{value:e.filterDateToPicker},on:{input:function(t){t.target.composing||(e.filterDateToPicker=t.target.value)}}}),e._v(" "),a("span",{staticClass:"input-group-addon"},[a("span",{staticClass:"glyphicon glyphicon-calendar"})])])])]),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-3"},[a("label",{},[e._v("Region:")]),e._v(" "),a("select",{staticClass:"form-control",domProps:{value:e.filterRegionId},on:{change:function(t){t.preventDefault(),e.filterRegionId=t.target.value,e.updateDistricts("updatefromUI")}}},e._l(e.sanction_outcome_regions,function(t){return a("option",{key:t.id,domProps:{value:t.id}},[e._v("\n                    "+e._s(t.display_name)+"\n                ")])}),0)]),e._v(" "),a("div",{staticClass:"col-md-3"},[a("label",{},[e._v("District:")]),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.filterDistrictId,expression:"filterDistrictId"}],staticClass:"form-control",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.filterDistrictId=t.target.multiple?a:a[0]}}},e._l(e.sanction_outcome_availableDistricts,function(t){return a("option",{key:t.id,domProps:{value:t.id}},[e._v("\n                    "+e._s(t.display_name)+"\n                ")])}),0)])]),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-12"},[a("datatable",{ref:"sanction_outcome_table",attrs:{id:"sanction_outcome-table",dtOptions:e.dtOptions,dtHeaders:e.dtHeaders}})],1)])])],1)},staticRenderFns:[]}},function(e,t,a){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"map-wrapper"},[n("div",{staticClass:"search-box"},[n("input",{staticClass:"search-input",attrs:{id:e.idSearchInput}})]),e._v(" "),n("div",{staticClass:"mapLeaf",attrs:{id:e.idMap}}),e._v(" "),n("div",{staticClass:"basemap-button"},[n("img",{staticClass:"basemap-button-img",attrs:{id:e.idBasemapSat,src:a(55)},on:{click:function(t){return t.stopPropagation(),e.setBaseLayer("sat")}}}),e._v(" "),n("img",{staticClass:"basemap-button-img",attrs:{id:e.idBasemapOsm,src:a(54)},on:{click:function(t){return t.stopPropagation(),e.setBaseLayer("osm")}}})]),e._v(" "),n("div",{staticClass:"cursor-location"},[e.cursor_location?n("div",[n("span",[e._v(e._s(e.cursor_location.lat.toFixed(5))+", "+e._s(e.cursor_location.lng.toFixed(5)))])]):e._e()]),e._v(" "),n("div",{staticClass:"centre_marker",on:{click:function(t){return t.stopPropagation(),e.setMarkerCentre()}}},[e._v("\n            CenterMarker\n        ")])]),e._v(" "),n("div",{staticClass:"col-sm-4 form-group"},[n("div",{staticClass:"row"},[n("label",{staticClass:"col-sm-4"},[e._v("Latitude:")]),e._v(" "),e.offence.location?n("div",[n("input",{directives:[{name:"model",rawName:"v-model.number",value:e.offence.location.geometry.coordinates[1],expression:"offence.location.geometry.coordinates[1]",modifiers:{number:!0}}],staticClass:"form-control",attrs:{type:"number",min:"-90",max:"90"},domProps:{value:e.offence.location.geometry.coordinates[1]},on:{input:function(t){t.target.composing||e.$set(e.offence.location.geometry.coordinates,1,e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})]):e._e()])]),e._v(" "),n("div",{staticClass:"col-sm-4 form-group"},[n("div",{staticClass:"row"},[n("label",{staticClass:"col-sm-4"},[e._v("Longitude:")]),e._v(" "),e.offence.location?n("div",[n("input",{directives:[{name:"model",rawName:"v-model.number",value:e.offence.location.geometry.coordinates[0],expression:"offence.location.geometry.coordinates[0]",modifiers:{number:!0}}],staticClass:"form-control",attrs:{type:"number",min:"-180",max:"180"},domProps:{value:e.offence.location.geometry.coordinates[0]},on:{input:function(t){t.target.composing||e.$set(e.offence.location.geometry.coordinates,0,e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})]):e._e()])]),e._v(" "),n("div",{attrs:{id:e.idLocationFieldsAddress}},[n("div",{staticClass:"col-sm-12 form-group"},[n("div",{staticClass:"row"},[n("label",{staticClass:"col-sm-4"},[e._v("Street")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.offence.location.properties.street,expression:"offence.location.properties.street"}],staticClass:"form-control",attrs:{readonly:""},domProps:{value:e.offence.location.properties.street},on:{input:function(t){t.target.composing||e.$set(e.offence.location.properties,"street",t.target.value)}}})])]),e._v(" "),n("div",{staticClass:"col-sm-12 form-group"},[n("div",{staticClass:"row"},[n("label",{staticClass:"col-sm-4"},[e._v("Town/Suburb")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.offence.location.properties.town_suburb,expression:"offence.location.properties.town_suburb"}],staticClass:"form-control",attrs:{readonly:""},domProps:{value:e.offence.location.properties.town_suburb},on:{input:function(t){t.target.composing||e.$set(e.offence.location.properties,"town_suburb",t.target.value)}}})])]),e._v(" "),n("div",{staticClass:"col-sm-12 form-group"},[n("div",{staticClass:"row"},[n("label",{staticClass:"col-sm-4"},[e._v("State")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.offence.location.properties.state,expression:"offence.location.properties.state"}],staticClass:"form-control",attrs:{readonly:""},domProps:{value:e.offence.location.properties.state},on:{input:function(t){t.target.composing||e.$set(e.offence.location.properties,"state",t.target.value)}}})])]),e._v(" "),n("div",{staticClass:"col-sm-12 form-group"},[n("div",{staticClass:"row"},[n("label",{staticClass:"col-sm-4"},[e._v("Postcode")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.offence.location.properties.postcode,expression:"offence.location.properties.postcode"}],staticClass:"form-control",attrs:{readonly:""},domProps:{value:e.offence.location.properties.postcode},on:{input:function(t){t.target.composing||e.$set(e.offence.location.properties,"postcode",t.target.value)}}})])]),e._v(" "),n("div",{staticClass:"col-sm-12 form-group"},[n("div",{staticClass:"row"},[n("label",{staticClass:"col-sm-4"},[e._v("Country")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.offence.location.properties.country,expression:"offence.location.properties.country"}],staticClass:"form-control",attrs:{readonly:""},domProps:{value:e.offence.location.properties.country},on:{input:function(t){t.target.composing||e.$set(e.offence.location.properties,"country",t.target.value)}}})])])]),e._v(" "),n("div",{attrs:{id:e.idLocationFieldsDetails}},[n("div",{staticClass:"col-sm-12 form-group"},[n("div",{staticClass:"row"},[n("label",{staticClass:"col-sm-4"},[e._v("Details")]),e._v(" "),n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.offence.location.properties.details,expression:"offence.location.properties.details"}],staticClass:"form-control location_address_field",domProps:{value:e.offence.location.properties.details},on:{input:function(t){t.target.composing||e.$set(e.offence.location.properties,"details",t.target.value)}}})])])])])},staticRenderFns:[]}},function(e,t,a){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"CreateInspection"}},[n("modal",{attrs:{transition:"modal fade",title:"Shibaken",large:"",force:""},on:{ok:function(t){return e.ok()},cancel:function(t){return e.cancel()}}},[n("div",[n("img",{staticClass:"modal-content",attrs:{src:a(316)}})])])],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",["tab"===e.component.type?a("div",e._l(e.component.children,function(t,n){return a("renderer-block",{key:"subcomponent_"+n,attrs:{component:t,instance:e.instance}})}),1):e._e(),e._v(" "),"section"===e.component.type?a("FormSection",{attrs:{label:e.component.label,Index:e.component_name,id:e.component_name}},e._l(e.component.children,function(t,n){return a("renderer-block",{key:"section_"+n,attrs:{component:t,instance:e.instance}})}),1):e._e(),e._v(" "),"group"===e.component.type?a("Group",{attrs:{label:e.component.label,name:e.component_name,id:e.element_id(),help_text:e.help_text,help_text_url:e.help_text_url,isRemovable:!0}},e._l(e.component.children,function(t,n){return a("renderer-block",{key:"group_"+n,attrs:{component:t,instance:e.instance}})}),1):e._e(),e._v(" "),"text"===e.component.type?a("TextField",{attrs:{type:"text",name:e.component_name,field_data:e.value,id:e.element_id(),label:e.component.label,help_text:e.help_text,readonly:e.is_readonly,isRequired:e.component.isRequired,help_text_url:e.help_text_url}}):e._e(),e._v(" "),"string"===e.component.type?a("TextField",{attrs:{type:"string",name:e.component.name,field_data:e.value,id:e.element_id(),label:e.component.label,help_text:e.help_text,readonly:e.is_readonly,isRequired:e.component.isRequired,help_text_url:e.help_text_url}}):e._e(),e._v(" "),"number"===e.component.type?a("TextField",{attrs:{type:"number",name:e.component_name,field_data:e.value,id:e.element_id(),min:e.component.min,max:e.component.max,label:e.component.label,help_text:e.help_text,readonly:e.is_readonly,isRequired:e.component.isRequired,help_text_url:e.help_text_url}}):e._e(),e._v(" "),"email"===e.component.type?a("TextField",{attrs:{type:"email",name:e.component_name,field_data:e.value,id:e.element_id(),label:e.component.label,help_text:e.help_text,readonly:e.is_readonly,isRequired:e.component.isRequired,help_text_url:e.help_text_url}}):e._e(),e._v(" "),"select"===e.component.type?a("div",[a("SelectBlock",{attrs:{readonly:e.is_readonly,name:e.component_name,label:e.component.label,field_data:e.value,id:e.element_id(),options:e.component.options,help_text:e.help_text,handleChange:e.handleComponentChange(e.component,!0),conditions:e.component.conditions,isRequired:e.component.isRequired,help_text_url:e.help_text_url}}),e._v(" "),a("Conditions",{attrs:{conditions:e.component.conditions,name:e.component_name,instance:e.instance,data:e.json_data,id:e.element_id(1),readonly:e.is_readonly}})],1):e._e(),e._v(" "),"multi-select"===e.component.type?a("SelectBlock",{attrs:{name:e.component_name,label:e.component.label,field_data:e.value,id:e.element_id(),options:e.component.options,help_text:e.help_text,handleChange:e.handleComponentChange(e.component,!1),readonly:e.is_readonly,isMultiple:!0,isRequired:e.component.isRequired,help_text_url:e.help_text_url}}):e._e(),e._v(" "),"text_area"===e.component.type?a("TextAreaBlock",{attrs:{readonly:e.is_readonly,name:e.component_name,field_data:e.value,id:e.element_id(),label:e.component.label,help_text:e.help_text,isRequired:e.component.isRequired,help_text_url:e.help_text_url}}):e._e(),e._v(" "),"table"===e.component.type?a("TableBlock",{attrs:{headers:e.component.headers,readonly:e.is_readonly,name:e.component_name,field_data:e.value,id:e.element_id(),label:e.component.label,help_text:e.help_text,isRequired:e.component.isRequired,help_text_url:e.help_text_url}}):e._e(),e._v(" "),"expander_table"===e.component.type?a("ExpanderTable",{attrs:{field_data:e.value,readonly:e.is_readonly,name:e.component_name,component:e.component,id:e.element_id(),label:e.component.label,help_text:e.help_text,isRequired:e.component.isRequired,help_text_url:e.help_text_url}}):e._e(),e._v(" "),"label"===e.component.type?a("LabelBlock",{attrs:{value:e.component.label,id:e.element_id()}}):e._e(),e._v(" "),"radiobuttons"===e.component.type?a("div",{staticClass:"form-group"},[a("label",{staticClass:"inline",attrs:{id:e.element_id()}},[e._v(e._s(e.component.label))]),e._v(" "),a("HelpText",{attrs:{help_text:e.help_text}}),e._v(" "),a("HelpTextUrl",{attrs:{help_text_url:e.help_text_url}}),e._v(" "),a("CommentBlock",{attrs:{label:e.component.label,name:e.component_name,field_data:e.value}}),e._v(" "),e._l(e.component.options,function(t,n){return a("Radio",{key:"radio_"+e.component_name+"_"+n,attrs:{name:e.component_name,label:t.label,value:t.value,isRequired:t.isRequired||e.component.isRequired,id:e.element_id(1),savedValue:e.value,handleChange:e.handleComponentChange(e.component),conditions:e.component.conditions,readonly:e.is_readonly}})}),e._v(" "),a("Conditions",{attrs:{conditions:e.component.conditions,name:e.component_name,instance:e.instance,data:e.json_data,id:e.element_id(2),readonly:e.is_readonly}})],2):e._e(),e._v(" "),"checkbox"===e.component.type?a("div",{staticClass:"form-group"},[a("Checkbox",{attrs:{group:e.component.group,name:e.component_name,label:e.component.label,id:e.element_id(1),help_text:e.help_text,help_text_url:e.help_text_url,field_data:e.value,handleChange:e.handleComponentChange(e.component),conditions:e.component.conditions,readonly:e.is_readonly,isRequired:e.component.isRequired}}),e._v(" "),a("Conditions",{attrs:{conditions:e.component.conditions,name:e.component_name,instance:e.instance,data:e.json_data,id:e.element_id(2),isRequired:e.component.isRequired}})],1):e._e(),e._v(" "),"declaration"===e.component.type?a("div",{staticClass:"form-group"},[a("label",[e._v(e._s(e.component.label))]),e._v(" "),a("Checkbox",{attrs:{name:e.component_name,label:e.component.label,field_data:e.value,help_text:e.component.help_text,handleChange:e.handleComponentChange(e.component),conditions:e.component.conditions}}),e._v(" "),a("Conditions",{attrs:{conditions:e.component.conditions,name:e.component_name,instance:e.instance,data:e.value}})],1):e._e(),e._v(" "),"file"===e.component.type?a("File",{attrs:{name:e.component_name,label:e.component.label,field_data:e.value,id:e.element_id(),isRepeatable:e.strToBool(e.component.isRepeatable),readonly:e.is_readonly,help_text:e.help_text,docsUrl:e.documents_url,application_id:e.application_id,isRequired:e.component.isRequired,help_text_url:e.help_text_url}}):e._e(),e._v(" "),"date"===e.component.type?a("DateField",{attrs:{name:e.component_name,label:e.component.label,field_data:e.value,id:e.element_id(),readonly:e.is_readonly,help_text:e.help_text,isRequired:e.component.isRequired,help_text_url:e.help_text_url}}):e._e(),e._v(" "),"grid"===e.component.type?a("GridBlock",{attrs:{name:e.component.name,headers:e.component.headers,field_data:e.component.data,id:e.element_id(),label:e.component.label,help_text:e.help_text,readonly:e.is_readonly,isRequired:e.component.isRequired,help_text_url:e.help_text_url}}):e._e()],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"panel-heading"},[a("h3",{staticClass:"panel-title"},[e._v("Organisations\n                    "),a("a",{attrs:{href:"#"+e.oBody,"data-toggle":"collapse","data-parent":"#userInfo",expanded:"true","aria-controls":e.oBody}},[a("span",{staticClass:"glyphicon glyphicon-chevron-up pull-right "})])])]),e._v(" "),a("div",{staticClass:"panel-body collapse in",attrs:{id:e.oBody}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-12"},[a("datatable",{ref:"organisation_datatable",attrs:{id:e.datatable_id,dtOptions:e.organisation_options,dtHeaders:e.organisation_headers}})],1)])])])])])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.canViewComments?a("div",{staticClass:"inline-block"},[e.showingComment(e.COMMENT_TYPE_OFFICER)?a("a",{attrs:{href:""},on:{click:function(t){return t.preventDefault(),e.toggleComment(e.COMMENT_TYPE_OFFICER)}}},[a("i",{staticClass:"fa fa-ban"},[e._v("")])]):a("div",[e.field_data.officer_comment?a("a",{attrs:{href:"",title:"Officer Comments"},on:{click:function(t){return t.preventDefault(),e.toggleComment(e.COMMENT_TYPE_OFFICER)}}},[a("i",{staticClass:"fa fa-comment-o",staticStyle:{color:"red"}},[e._v("")])]):a("a",{attrs:{href:"",title:"Officer Comments"},on:{click:function(t){return t.preventDefault(),e.toggleComment(e.COMMENT_TYPE_OFFICER)}}},[a("i",{staticClass:"fa fa-comment-o"},[e._v("")])])])]):e._e(),e._v(" "),e.canViewComments?a("div",{staticClass:"inline-block"},[e.showingComment(e.COMMENT_TYPE_ASSESSOR)?a("a",{attrs:{href:""},on:{click:function(t){return t.preventDefault(),e.toggleComment(e.COMMENT_TYPE_ASSESSOR)}}},[a("i",{staticClass:"fa fa-ban"},[e._v("")])]):a("div",[e.field_data.assessor_comment?a("a",{attrs:{href:""},on:{click:function(t){return t.preventDefault(),e.toggleComment(e.COMMENT_TYPE_ASSESSOR)}}},[a("i",{staticClass:"fa fa-clipboard",staticStyle:{color:"red"},attrs:{title:"Assessor Comments"}},[e._v("")])]):a("a",{attrs:{href:"",title:"Assessor Comments"},on:{click:function(t){return t.preventDefault(),e.toggleComment(e.COMMENT_TYPE_ASSESSOR)}}},[a("i",{staticClass:"fa fa-clipboard"},[e._v("")])])])]):e._e(),e._v(" "),e.canViewDeficiencies?a("div",{staticClass:"inline-block"},[e.canEditDeficiencies?a("div",[e.showingComment(e.COMMENT_TYPE_DEFICIENCY)?a("a",{attrs:{href:""},on:{click:function(t){return t.preventDefault(),e.toggleDeficiencies(t)}}},[a("i",{staticClass:"fa fa-ban"},[e._v("")])]):a("div",[e.field_data.deficiency_value?a("a",{attrs:{href:""},on:{click:function(t){return t.preventDefault(),e.toggleDeficiencies(t)}}},[a("i",{staticClass:"fa fa-exclamation-triangle",staticStyle:{color:"red"},attrs:{title:"Deficiencies"}},[e._v("")])]):a("a",{attrs:{href:"",title:"Deficiencies"},on:{click:function(t){return t.preventDefault(),e.toggleDeficiencies(t)}}},[a("i",{staticClass:"fa fa-exclamation-triangle"},[e._v("")])])])]):e.field_data.deficiency_value?a("div",{staticStyle:{color:"red"}},[a("i",{staticClass:"fa fa-exclamation-triangle"},[e._v("")]),e._v(" "),a("span",[e._v(e._s(e.field_data.deficiency_value))])]):e._e()]):e._e(),e._v(" "),a("Comment",{directives:[{name:"show",rawName:"v-show",value:e.showingComment(e.COMMENT_TYPE_OFFICER),expression:"showingComment(COMMENT_TYPE_OFFICER)"}],attrs:{question:e.label?e.label:e.name,name:e.name+"-officer-comment-field",field_data:e.field_data,commentType:e.COMMENT_TYPE_OFFICER}}),e._v(" "),a("Comment",{directives:[{name:"show",rawName:"v-show",value:e.showingComment(e.COMMENT_TYPE_ASSESSOR),expression:"showingComment(COMMENT_TYPE_ASSESSOR)"}],attrs:{question:e.label?e.label:e.name,name:e.name+"-assessor-comment-field",field_data:e.field_data,commentType:e.COMMENT_TYPE_ASSESSOR}}),e._v(" "),a("Comment",{directives:[{name:"show",rawName:"v-show",value:e.showingComment(e.COMMENT_TYPE_DEFICIENCY),expression:"showingComment(COMMENT_TYPE_DEFICIENCY)"}],attrs:{question:e.label?e.label:e.name,name:e.name+"-deficiency-field",field_data:e.field_data,commentType:e.COMMENT_TYPE_DEFICIENCY}})],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"externalReturnSheetEntry"}},[a("modal",{attrs:{transition:"modal fade",title:e.title,large:""}},[a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row"},[a("form",{staticClass:"form-horizontal",attrs:{name:"sheetEntryForm"}},[a("alert",{attrs:{show:e.showError,type:"danger"},on:{"update:show":function(t){e.showError=t}}},[a("strong",[e._v(e._s(e.errorString))])]),e._v(" "),a("div",{staticClass:"col-sm-12"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-3"},[a("label",{staticClass:"control-label pull-left"},[e._v("Activity:")])]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.isAddEntry,expression:"isAddEntry"}],staticClass:"col-md-6"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.entryActivity,expression:"entryActivity"}],staticClass:"form-control",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.entryActivity=t.target.multiple?a:a[0]}}},e._l(e.activityList,function(t,n){return"false"==t.auto?a("option",{domProps:{value:n}},[e._v(e._s(t.label))]):e._e()}),0)]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.isChangeEntry,expression:"isChangeEntry"}],staticClass:"col-md-3"},[a("label",[e._v(e._s(e.activityList[e.entryActivity].label)+" ")])])]),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-3"},[a("label",{staticClass:"control-label pull-left"},[e._v("Quantity:")])]),e._v(" "),a("div",{staticClass:"col-md-3"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.entryQty,expression:"entryQty"}],attrs:{type:"text"},domProps:{value:e.entryQty},on:{input:function(t){t.target.composing||(e.entryQty=t.target.value)}}})])]),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-3"},[a("label",{staticClass:"control-label pull-left"},[e._v("Total Number:")])]),e._v(" "),a("div",{staticClass:"col-md-3"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.entryTotal,expression:"entryTotal"}],attrs:{type:"text",disabled:"true"},domProps:{value:e.entryTotal},on:{input:function(t){t.target.composing||(e.entryTotal=t.target.value)}}})])]),e._v(" "),e.isLicenceRequired?a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-3"},[a("label",{staticClass:"control-label pull-left"},[e._v("Receiving licence:")])]),e._v(" "),a("div",{staticClass:"col-md-3"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.entryLicence,expression:"entryLicence"}],attrs:{type:"text"},domProps:{value:e.entryLicence},on:{input:function(t){t.target.composing||(e.entryLicence=t.target.value)}}})])]):e._e(),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-3"},[a("label",{staticClass:"control-label pull-left"},[e._v("Comments:")])]),e._v(" "),a("div",{staticClass:"col-md-9"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.entryComment,expression:"entryComment"}],staticClass:"form-control",staticStyle:{width:"95%"},attrs:{name:"entry_comments"},domProps:{value:e.entryComment},on:{input:function(t){t.target.composing||(e.entryComment=t.target.value)}}})])])])],1)])]),e._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("button",{directives:[{name:"show",rawName:"v-show",value:!e.isPayable,expression:"!isPayable"}],staticClass:"btn btn-primary",staticStyle:{width:"150px"},on:{click:function(t){return t.preventDefault(),e.update()}}},[e._v("Update")]),e._v(" "),a("button",{directives:[{name:"show",rawName:"v-show",value:e.isPayable,expression:"isPayable"}],staticClass:"btn btn-primary",staticStyle:{width:"150px"}},[e._v("Pay")]),e._v(" "),a("button",{staticClass:"btn btn-primary",staticStyle:{width:"150px"},on:{click:function(t){return t.preventDefault(),e.cancel()}}},[e._v("Cancel")])])])],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("modal",{attrs:{transition:"modal fade",title:e.modalTitle,large:"",force:""},on:{ok:function(t){return e.ok()},cancel:function(t){return e.cancel()}}},[a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"col-sm-12 form-group"},[a("div",{staticClass:"row"},[a("label",{staticClass:"col-sm-1"},[e._v("Type")]),e._v(" "),a("div",{staticClass:"col-sm-4"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.sanction_outcome.type,expression:"sanction_outcome.type"}],staticClass:"form-control",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.sanction_outcome,"type",t.target.multiple?a:a[0])}}},e._l(e.options_for_types,function(t){return a("option",{key:t.id,domProps:{value:t.id}},[e._v("\n                            "+e._s(t.display)+" \n                        ")])}),0)])])]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.displayTabs,expression:"displayTabs"}]},[a("ul",{staticClass:"nav nav-pills"},[a("li",{staticClass:"nav-item active"},[a("a",{attrs:{"data-toggle":"tab",href:"#"+e.nTab}},[e._v(e._s(e.firstTabTitle))])]),e._v(" "),a("li",{directives:[{name:"show",rawName:"v-show",value:e.displayRemediationActions,expression:"displayRemediationActions"}],staticClass:"nav-item"},[a("a",{attrs:{"data-toggle":"tab",href:"#"+e.aTab}},[e._v("Remediation Actions")])]),e._v(" "),a("li",{staticClass:"nav-item"},[a("a",{attrs:{"data-toggle":"tab",href:"#"+e.dTab}},[e._v("Details")])])]),e._v(" "),a("div",{staticClass:"tab-content"},[a("div",{staticClass:"tab-pane fade in active",attrs:{id:e.nTab}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12 form-group"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-3"},[a("label",{staticClass:"control-label pull-left"},[e._v("Region")])]),e._v(" "),a("div",{staticClass:"col-sm-7"},[a("select",{staticClass:"form-control col-sm-9",domProps:{value:e.sanction_outcome.region_id},on:{change:function(t){t.preventDefault(),e.sanction_outcome.region_id=t.target.value,e.updateDistricts("updatefromUI")}}},e._l(e.regions,function(t){return a("option",{key:t.id,domProps:{value:t.id}},[e._v("\n                                  "+e._s(t.display_name)+" \n                                ")])}),0)])])]),e._v(" "),a("div",{staticClass:"col-sm-12 form-group"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-3"},[a("label",{staticClass:"control-label pull-left"},[e._v("District")])]),e._v(" "),a("div",{staticClass:"col-sm-7"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.sanction_outcome.district_id,expression:"sanction_outcome.district_id"}],staticClass:"form-control",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.sanction_outcome,"district_id",t.target.multiple?a:a[0])}}},e._l(e.availableDistricts,function(t){return a("option",{key:t.id,domProps:{value:t.id}},[e._v("\n                                  "+e._s(t.display_name)+" \n                                ")])}),0)])])]),e._v(" "),a("div",{staticClass:"col-sm-12 form-group"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-3"},[a("label",{staticClass:"control-label pull-left",attrs:{for:"identifier"}},[e._v("Identifier")])]),e._v(" "),a("div",{staticClass:"col-sm-7"},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.sanction_outcome,expression:"sanction_outcome"}]},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.sanction_outcome.identifier,expression:"sanction_outcome.identifier"}],staticClass:"form-control",attrs:{type:"text",name:"identifier",placeholder:""},domProps:{value:e.sanction_outcome.identifier},on:{input:function(t){t.target.composing||e.$set(e.sanction_outcome,"identifier",t.target.value)}}})])])])]),e._v(" "),a("div",{staticClass:"col-sm-12 form-group"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-3"},[a("label",{staticClass:"control-label pull-left"},[e._v("Offence")])]),e._v(" "),a("div",{staticClass:"col-sm-7"},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.sanction_outcome,expression:"sanction_outcome"}]},[a("select",{staticClass:"form-control",attrs:{disabled:e.offenceReadonly},domProps:{value:e.sanction_outcome.current_offence.id},on:{change:function(t){return e.offenceSelected(t)}}},[a("option",{attrs:{value:""}}),e._v(" "),e._l(e.options_for_offences,function(t){return a("option",{key:t.id,domProps:{value:t.id}},[e._v("\n                                            "+e._s(t.lodgement_number+": "+t.identifier)+" \n                                        ")])})],2)])])])]),e._v(" "),a("div",{staticClass:"col-sm-12 form-group"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-3"},[a("label",{staticClass:"control-label pull-left"},[e._v("Offender")])]),e._v(" "),a("div",{staticClass:"col-sm-7"},[e.sanction_outcome&&e.sanction_outcome.current_offence&&e.sanction_outcome.current_offence.offenders?a("div",[a("select",{staticClass:"form-control",domProps:{value:e.sanction_outcome.current_offender.id},on:{change:function(t){return e.offenderSelected(t)}}},[a("option",{attrs:{value:""}}),e._v(" "),e._l(e.sanction_outcome.current_offence.offenders,function(t){return a("option",{key:t.id,domProps:{value:t.id}},[t.person?a("span",[e._v("\n                                                "+e._s(t.person.first_name+" "+t.person.last_name+", DOB:"+t.person.dob)+" \n                                            ")]):t.organisation?a("span",[e._v("\n                                                "+e._s(t.organisation.name+", ABN: "+t.organisation.abn)+" \n                                            ")]):e._e()])})],2)]):e._e()])])]),e._v(" "),a("div",{staticClass:"col-sm-12 form-group"},[a("div",{staticClass:"row col-sm-12"},[a("label",{staticClass:"control-label pull-left"},[e._v("Alleged committed offences")])]),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("datatable",{ref:"tbl_alleged_offence",attrs:{id:"tbl_alleged_offence",dtOptions:e.dtOptionsAllegedOffence,dtHeaders:e.dtHeadersAllegedOffence}})],1)])]),e._v(" "),a("div",{staticClass:"col-sm-12 form-group"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-3"},[a("label",{staticClass:"control-label pull-left"},[e._v("Issued on paper?")])]),e._v(" "),a("div",{staticClass:"col-sm-7"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.sanction_outcome.issued_on_paper,expression:"sanction_outcome.issued_on_paper"}],staticClass:"col-sm-1",attrs:{id:"issued_on_paper_yes",type:"radio"},domProps:{value:!0,checked:e._q(e.sanction_outcome.issued_on_paper,!0)},on:{change:function(t){return e.$set(e.sanction_outcome,"issued_on_paper",!0)}}}),e._v(" "),a("label",{staticClass:"col-sm-1 radio-button-label",attrs:{for:"issued_on_paper_yes"}},[e._v("Yes")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.sanction_outcome.issued_on_paper,expression:"sanction_outcome.issued_on_paper"}],staticClass:"col-sm-1",attrs:{id:"issued_on_paper_no",type:"radio"},domProps:{value:!1,checked:e._q(e.sanction_outcome.issued_on_paper,!1)},on:{change:function(t){return e.$set(e.sanction_outcome,"issued_on_paper",!1)}}}),e._v(" "),a("label",{staticClass:"col-sm-1 radio-button-label",attrs:{for:"issued_on_paper_no"}},[e._v("No")])])])]),e._v(" "),a("div",{staticClass:"col-sm-12 form-group"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-3"},[a("label",{staticClass:"control-label pull-left"},[e._v("Paper ID")])]),e._v(" "),a("div",{staticClass:"col-sm-7"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.sanction_outcome.paper_id,expression:"sanction_outcome.paper_id"}],staticClass:"form-control",attrs:{type:"text",name:"paper_id",placeholder:"",disabled:!e.sanction_outcome.issued_on_paper},domProps:{value:e.sanction_outcome.paper_id},on:{input:function(t){t.target.composing||e.$set(e.sanction_outcome,"paper_id",t.target.value)}}})])])]),e._v(" "),a("div",{staticClass:"col-sm-12 form-group"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-3"},[a("label",{staticClass:"control-label pull-left"},[e._v("Paper notice")])]),e._v(" "),a("div",{attrs:{id:"paper_id_notice"}},[e.sanction_outcome.issued_on_paper?a("div",{staticClass:"col-sm-7"},[a("filefield",{ref:"sanction_outcome_file",attrs:{name:"sanction-outcome-file",documentActionUrl:"temporary_document",isRepeatable:!0,disabled:!e.sanction_outcome.issued_on_paper},on:{"update-temp-doc-coll-id":e.setTemporaryDocumentCollectionId}})],1):e._e()])])])])]),e._v(" "),a("div",{staticClass:"tab-pane fade in",attrs:{id:e.aTab}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12 form-group"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-3"},[a("label",{staticClass:"control-label pull-left"},[e._v("Action")])]),e._v(" "),a("div",{staticClass:"col-sm-7"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.current_remediation_action.action,expression:"current_remediation_action.action"}],staticClass:"form-control",attrs:{placeholder:"add description",id:"sanction-outcome-description"},domProps:{value:e.current_remediation_action.action},on:{input:function(t){t.target.composing||e.$set(e.current_remediation_action,"action",t.target.value)}}})])])]),e._v(" "),a("div",{staticClass:"col-sm-12 form-group"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-3"},[a("label",{staticClass:"control-label pull-left"},[e._v("Due Date")])]),e._v(" "),a("div",{staticClass:"col-sm-3"},[a("div",{ref:"dueDatePicker",staticClass:"input-group date"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.current_remediation_action.due_date,expression:"current_remediation_action.due_date"}],staticClass:"form-control",attrs:{type:"text",placeholder:"DD/MM/YYYY"},domProps:{value:e.current_remediation_action.due_date},on:{input:function(t){t.target.composing||e.$set(e.current_remediation_action,"due_date",t.target.value)}}}),e._v(" "),a("span",{staticClass:"input-group-addon"},[a("span",{staticClass:"glyphicon glyphicon-calendar"})])])])])]),e._v(" "),a("div",{staticClass:"col-sm-12 form-group"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("input",{staticClass:"btn btn-primary pull-right",attrs:{type:"button",value:"Add"},on:{click:function(t){return t.preventDefault(),e.addRemediationActionClicked()}}})])])]),e._v(" "),a("div",{staticClass:"col-sm-12 form-group"},[a("div",{staticClass:"row col-sm-12"},[a("label",{staticClass:"control-label pull-left"},[e._v("Remediation Actions")])]),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("datatable",{ref:"tbl_remediation_actions",attrs:{id:"tbl_remediation_actions",dtOptions:e.dtOptionsRemediationActions,dtHeaders:e.dtHeadersRemediationActions}})],1)])])])]),e._v(" "),a("div",{staticClass:"tab-pane fade in",attrs:{id:e.dTab}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12 form-group"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-3"},[a("label",{staticClass:"control-label pull-left"},[e._v("Description")])]),e._v(" "),a("div",{staticClass:"col-sm-7"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.sanction_outcome.description,expression:"sanction_outcome.description"}],staticClass:"form-control",attrs:{placeholder:"add description",id:"sanction-outcome-description"},domProps:{value:e.sanction_outcome.description},on:{input:function(t){t.target.composing||e.$set(e.sanction_outcome,"description",t.target.value)}}})])])]),e._v(" "),a("div",{staticClass:"col-sm-12 form-group"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-3"},[a("label",{staticClass:"control-label pull-left"},[e._v("Date of Issue")])]),e._v(" "),a("div",{staticClass:"col-sm-3"},[a("div",{ref:"dateOfIssuePicker",staticClass:"input-group date"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.sanction_outcome.date_of_issue,expression:"sanction_outcome.date_of_issue"}],staticClass:"form-control",attrs:{type:"text",placeholder:"DD/MM/YYYY",disabled:!e.sanction_outcome.issued_on_paper},domProps:{value:e.sanction_outcome.date_of_issue},on:{input:function(t){t.target.composing||e.$set(e.sanction_outcome,"date_of_issue",t.target.value)}}}),e._v(" "),a("span",{staticClass:"input-group-addon"},[a("span",{staticClass:"glyphicon glyphicon-calendar"})])])])])]),e._v(" "),a("div",{staticClass:"col-sm-12 form-group"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-3"},[a("label",{staticClass:"control-label pull-left"},[e._v("Time of Issue")])]),e._v(" "),a("div",{staticClass:"col-sm-3"},[a("div",{ref:"timeOfIssuePicker",staticClass:"input-group date"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.sanction_outcome.time_of_issue,expression:"sanction_outcome.time_of_issue"}],staticClass:"form-control",attrs:{type:"text",placeholder:"HH:MM",disabled:!e.sanction_outcome.issued_on_paper},domProps:{value:e.sanction_outcome.time_of_issue},on:{input:function(t){t.target.composing||e.$set(e.sanction_outcome,"time_of_issue",t.target.value)}}}),e._v(" "),a("span",{staticClass:"input-group-addon"},[a("span",{staticClass:"glyphicon glyphicon-calendar"})])])])])])])])])])]),e._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[e.errorResponse?a("div",{staticClass:"form-group"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("strong",[a("span",{staticStyle:{"white-space":"pre"},domProps:{innerHTML:e._s(e.errorResponse)}})])])])]):e._e(),e._v(" "),e.processingDetails?a("button",{staticClass:"btn btn-default",attrs:{type:"button",disabled:""},on:{click:e.ok}},[a("i",{staticClass:"fa fa-spinner fa-spin"}),e._v(" Adding")]):a("button",{staticClass:"btn btn-default",attrs:{type:"button",disabled:!e.displaySendToManagerButton},on:{click:e.ok}},[e._v("Send to Manager")]),e._v(" "),a("button",{staticClass:"btn btn-default",attrs:{type:"button"},on:{click:e.cancel}},[e._v("Cancel")])])])],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"internal-application-amend"}},[a("modal",{attrs:{transition:"modal fade",title:"Amendment Request",large:""},on:{ok:function(t){return e.ok()},cancel:function(t){return e.cancel()}}},[a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row"},[a("form",{staticClass:"form-horizontal",attrs:{name:"amendForm"}},[a("alert",{attrs:{show:e.showError,type:"danger"},on:{"update:show":function(t){e.showError=t}}},[a("strong",[e._v(e._s(e.errorString))])]),e._v(" "),a("div",{staticClass:"col-sm-12"},[a("div",{staticClass:"row"},[a("label",{staticClass:"control-label"},[e._v("Request Amendment for the application")])]),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"form-group"},[a("div",{staticClass:"col-sm-offset-2 col-sm-8"},[a("label",{staticClass:"control-label",attrs:{for:"Name"}},[e._v("Select licensed activities to amend")]),e._v(" "),e._l(e.amendableActivities,function(t){return a("div",[a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.amendment.activity_list,expression:"amendment.activity_list"}],attrs:{type:"checkbox",name:t.name,id:t.id},domProps:{value:t.id,checked:Array.isArray(e.amendment.activity_list)?e._i(e.amendment.activity_list,t.id)>-1:e.amendment.activity_list},on:{change:function(a){var n=e.amendment.activity_list,i=a.target,s=!!i.checked;if(Array.isArray(n)){var o=t.id,r=e._i(n,o);i.checked?r<0&&e.$set(e.amendment,"activity_list",n.concat([o])):r>-1&&e.$set(e.amendment,"activity_list",n.slice(0,r).concat(n.slice(r+1)))}else e.$set(e.amendment,"activity_list",s)}}}),e._v(e._s(t.name)+"\n                                        ")])])})],2)])]),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-offset-2 col-sm-8"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"control-label pull-left",attrs:{for:"Name"}},[e._v("Reason")]),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.amendment.reason,expression:"amendment.reason"}],ref:"reason",staticClass:"form-control",attrs:{name:"reason"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.amendment,"reason",t.target.multiple?a:a[0])}}},e._l(e.reason_choices,function(t){return a("option",{domProps:{value:t.key}},[e._v(e._s(t.value))])}),0)])])]),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-offset-2 col-sm-8"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"control-label pull-left",attrs:{for:"Name"}},[e._v("Additional Comments to User")]),e._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.amendment.text,expression:"amendment.text"}],staticClass:"form-control",attrs:{name:"name"},domProps:{value:e.amendment.text},on:{input:function(t){t.target.composing||e.$set(e.amendment,"text",t.target.value)}}},[e._v(e._s(e.amendment.text))])])])])])],1)])])])],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.application?a("div",{staticClass:"container"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"panel-heading"},[a("h3",{staticClass:"panel-title"},[e._v("New Application for\n                        "),e.selected_apply_org_id?a("span",[e._v(e._s(e.selected_apply_org_id_details.name)+" ("+e._s(e.selected_apply_org_id_details.abn)+")")]):e._e(),e._v(" "),e.selected_apply_proxy_id?a("span",[e._v(e._s(e.selected_apply_proxy_id_details.first_name)+" "+e._s(e.selected_apply_proxy_id_details.last_name)+" ("+e._s(e.selected_apply_proxy_id_details.email)+")")]):e._e(),e._v(" "),e.selected_apply_org_id||e.selected_apply_proxy_id?e._e():a("span",[e._v("yourself")]),e._v(" "),a("a",{attrs:{href:"#"+e.pBody,"data-toggle":"collapse","data-parent":"#userInfo",expanded:"true","aria-controls":e.pBody}},[a("span",{staticClass:"glyphicon glyphicon-chevron-up pull-right "})])])]),e._v(" "),a("div",{staticClass:"panel-body collapse in",attrs:{id:e.pBody}},[a("form",{staticClass:"form-horizontal",attrs:{name:"orgForm",method:"post"}},[a("div",{staticClass:"col-sm-12"},[e._m(0),e._v(" "),a("div",{staticClass:"radio"},[a("label",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.licence_select,expression:"licence_select"}],attrs:{type:"radio",name:"select_licence",value:"new_licence"},domProps:{checked:e._q(e.licence_select,"new_licence")},on:{change:function(t){e.licence_select="new_licence"}}}),e._v(" apply for a new licence?\n                                ")])]),e._v(" "),a("div",{staticClass:"radio"},[a("label",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.licence_select,expression:"licence_select"}],attrs:{type:"radio",name:"select_licence",value:"new_activity"},domProps:{checked:e._q(e.licence_select,"new_activity")},on:{change:function(t){e.licence_select="new_activity"}}}),e._v(" apply for a new licensed activity on your licence?\n                                ")])]),e._v(" "),a("div",{staticClass:"radio"},[a("label",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.licence_select,expression:"licence_select"}],attrs:{type:"radio",name:"select_licence",value:"amend_activity"},domProps:{checked:e._q(e.licence_select,"amend_activity")},on:{change:function(t){e.licence_select="amend_activity"}}}),e._v(" amend one or more licensed activities on your licence?\n                                ")])]),e._v(" "),a("div",{staticClass:"radio"},[a("label",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.licence_select,expression:"licence_select"}],attrs:{type:"radio",name:"select_licence",value:"renew_activity"},domProps:{checked:e._q(e.licence_select,"renew_activity")},on:{change:function(t){e.licence_select="renew_activity"}}}),e._v(" renew one or more licensed activities on your licence?\n                                ")])])]),e._v(" "),a("div",{staticClass:"col-sm-12"},[a("button",{staticClass:"btn btn-primary pull-right",on:{click:function(t){return t.preventDefault(),e.submit()}}},[e._v("Continue")])])])])])])])]):e._e()},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"row"},[a("label",{staticClass:"col-sm-4"},[e._v("Do you want to:")])])}]}},,function(e,t,a){var n=a(545);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);a(100)("6799dfb9",n,!0)},,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){},function(e,t){},function(e,t){}],[478]);
//# sourceMappingURL=app.js.map